<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE MudletPackage>
<MudletPackage version="1.001">
	<TriggerPackage>
		<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
			<name>MS</name>
			<script></script>
			<triggerType>0</triggerType>
			<conditonLineDelta>0</conditonLineDelta>
			<mStayOpen>0</mStayOpen>
			<mCommand></mCommand>
			<packageName>Mathiaus</packageName>
			<mFgColor>#ff0000</mFgColor>
			<mBgColor>#ffff00</mBgColor>
			<mSoundFile></mSoundFile>
			<colorTriggerFgColor>#000000</colorTriggerFgColor>
			<colorTriggerBgColor>#000000</colorTriggerBgColor>
			<regexCodeList />
			<regexCodePropertyList />
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Misc</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shardfall</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shards</name>
						<script>if (shardfall or sharding) and (ebal and bbal) and not harvest_queued then 
	send("queue eqbal harvest shard")
  harvest_queued = true
  tempRegexTrigger("^You start unearthing", [[harvest_queued = false]], 1)
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>There are \d+ partially buried (?:red|blue|yellow|green) shards here.</string>
							<string>A (?:blue|red|yellow|green) shard is protruding from the ground here, glowing faintly.</string>
							<string>A red shard is protruding from the ground here, illuminating the ground with an eerie glow.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>No shard</name>
						<script>if shardfall or sharding then send("path find shard"..s.."path go") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>There is no shard here.</string>
							<string>There is no suitable shard here.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Person harvesting</name>
						<script>if shardfall or sharding then 
  harvest_queued = false
  tempTimer(4, [[send("path find shard"..s.."path go")]]) 
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) is already harvesting a shard here.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Ruined</name>
						<script>if shardfall or sharding then tempTimer(3, [[send("harvest shard")]]) end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>Your concentration ruined, you stop unearthing the shard.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Area Cleared</name>
						<script>if shardfall or sharding then 
	sys("Shardfall") cecho("&lt;red&gt;[&lt;cyan&gt;AREA CLEARED&lt;red&gt;]")
	if ms.class["Summoner"] then
		expandAlias("fuk")
  elseif gmcp.Char.Status.name == "Mathiaus" then
    expandAlias("goto stav")
	else
		expandAlias("goto home")
	end
shardfall = false
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You cannot find any shards nearby.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="yes" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shardfall</name>
						<script>send("rt Shardfall in "..matches[2])
sharding = false</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile>C:/Documents and Settings/Owner/Desktop/Music/Angels With Dirty Faces-Sum 41.mp3</mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A sudden eruption from a distant volcano lights up the firmament and you notice a larger number of shards flying towards (.+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sharding</name>
						<script>if sharding and healing then 
  shardarea = true
  shardarea_name = matches[2]
  -- Goto Alias
  local where = matches[2]:lower()
  local gallop
  if command:ends("gallop") then
    gallop = "gallop"
    where = where:sub(1, -8)
  elseif command:ends("sprint") then
    gallop = "sprint"
    where = where:sub(1, -8)
  elseif command:ends("dash") then
    gallop = "dash"
    where = where:sub(1, -6)
  elseif command:ends("runaway") then
    gallop = "runaway"
    where = where:sub(1, -9)
  elseif command:ends("glide") then
    gallop = "glide"
    where = where:sub(1, -7)
  end
  if mmp.debug then
    mmp.gotoPerf = mmp.gotoPerf or createStopWatch()
    startStopWatch(mmp.gotoPerf)
  end
  -- goto room ID
  if tonumber(where) then
    mmp.gotoRoomMS(where, gallop)
  else
    -- goto area or feature
    local split = where:split(" ")
    if split[1] == "feature" then
  	  table.remove(split, 1)
      mmp.gotoFeature(table.concat(split, " "), gallop)
    else
      if tonumber(split[#split]) then
        mmp.gotoAreaMS(where:sub(1, -#(split[#split]) - 2), tonumber(split[#split]), gallop)
      else
        mmp.gotoAreaMS(where, nil, gallop)
      end
    end
  end
  if mmp.debug then
    mmp.echo("goto alias took " .. stopStopWatch(mmp.gotoPerf) .. "s to run.")
  end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your keen senses notice a single shard flying towards ?the? (.+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shard Watch</name>
						<script>if sharding and healing then send("shard watch") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You cease watching for falling shards.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Harvesting Shard</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You start unearthing a partially buried (blue|red|yellow) shard, careful not to break its delicate structure. A swirling aura of raw Diachaim slowly forms around you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Awareness</name>
						<script>if not table.contains(ms.allies, matches[2]) then
callout(matches[2], "Harvesting Shard in "..gmcp.Room.Info.area:title())
fecho("Shardfall", matches[2], "HARVESTING")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A brief tremor notifies you that (\w+) started harvesting a shard somewhere nearby.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Harvest</name>
						<script>if (shardfall or sharding) and (ebal and bbal) and not harvest_queued then 
	send("queue eqbal harvest shard")
  harvest_queued = true
  tempRegexTrigger("^You start unearthing", [[harvest_queued = false]], 1)
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You have reached your destination.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shardfall - Tome</name>
						<script>fecho("Shardfall", matches[2], matches[3])
send("rt Shardfall within [ "..matches[3]:title().." ] at ( "..matches[2]..")")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You feel a fluctuation in the Diachaim and sense an imminent eruption toward (.*)within the next (.*)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Auto Combat</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>autoKill prompt</name>
						<script>if autoKill and target ~= "None" and not akTimer then
	if ebal and bbal and healing then
		forceAtk()
		akTimer = true;tempTimer(1, [[akTimer = false]])
	end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>return isPrompt()</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>4</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Instant Kills</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Judgement</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "JUDGEMENT")
callout("JUDGEMENT", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s mace begins to make a high-pitched keening sound as it rapidly spins over \w+ head. You have only moments left to escape before you are judged!$</string>
							<string>^(\w+) swings the crackling mace about \w+ head, gathering momentum as  bears down on you.$</string>
							<string>^(\w+) raises \w+ spiritual mace over \w+, calling upon \w+ faith to pass judgement on (.+) sins, and it begins to crackle with righteous fire.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Cleave</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "CLEAVE")
callout("CLEAVE", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) raises (.+) over \w+ head and begins to swing it in a wide circle, gaining speed as \w+ goes.$</string>
							<string>^(\w+) raises .+ above \w+ head and starts waving it mightily, causing its three balls to circle rapidly around \w+ head.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Behead</name>
						<script>if matches[1]:find("you") or not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
  fecho("Instant-Kill", matches[2], "BEHEAD")
  callout("BEHEAD", matches[2])
  ptar = matches[2]
  ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) begins to bear down on (\w+) with (.+).$</string>
							<string>^A skeletal visage falls upon (\w+) as \w+ advances on you, hands slowly circling overhead.$</string>
							<string>^(\w+) uses \w+ Behead \(start\)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hostage</name>
						<script>fecho("Instant-Kill", "Unknown", "HOSTAGE")
bash = false
hostage = true
if ms.save["ta"] then expandAlias("pe") end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You hear the quiet crunch of slow footsteps behind you.$</string>
							<string>You catch a slight glimpse of movement out of the corner of your eye.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Submersion</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "SUBMERSION")
callout("SUBMERSION", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end

</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) focuses \w+ gaze upon you and a look of utmost concentration appears on \w+ face. The sound of rushing water echoes faintly in the distance.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Submersion</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "SUBMERSION")
callout("SUBMERSION", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end

</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^As (\w+) maintains \w+ focus upon you, the sound of rushing water draws nearer and nearer with every passing second.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Deliverance</name>
						<script>if not table.contains(ms.allies, matches[2]) then
fecho("Instant-Kill", matches[2], "DELIVERANCE")
cor("DELIVERANCE STARTED", matches[2])
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) bows \w+ head in silent prayer.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Deliverance</name>
						<script>if healing and not table.contains(ms.allies, matches[2]) then
send("queue reset all")
fecho("Instant-Kill", matches[2], "DELIVERANCE")
cor("DELIVERANCE ON "..matches[2], "DON'T HIT!")
slba = false
pta = false
ss = false
expandAlias("t None")
for k,name in ipairs(ms.people) do
	if name == matches[2] then table.remove(ms.people, k) end
end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) slowly raises \w+ head and you see \w+ eyes glowing bright white.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Deliverance</name>
						<script>if not table.contains(ms.allies, matches[2]) then
fecho("Instant-Kill", "Room", "DELIVERANCE")
if healing then send("queue reset all");expandAlias("t none");target = "None" end
pta = false
ss = false
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>\. (\w+), surrounded by a glowing white nimbus is sitting on the ground.</string>
							<string>\w+ is surrounded by a glowing white nimbus.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Radiance</name>
						<script>fecho("Instant-Kill", "Unknown", "RADIANCE")
if healing then send("concentrate") end
callout("Radiance Attempt!", "Unknown")
if gmcp.Room.Info.num == 7815 then send("e"..s.."e");tempTimer(6, [[send("w"..s.."w")]]) end

</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>A shiver runs down your spine, and you feel an instinctive urge to run as far and fast as you can.</string>
							<string>Sparks of multicoloured light begin to dance in your mind.</string>
							<string>An odd sensation of warmth begins to fill your body.</string>
							<string>Arcs of white light begin to flash across your vision, radiant and bright.</string>
							<string>Your heart thumps as you realize that you have but seconds left to escape whatever fate awaits you.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Radiance</name>
						<script>fecho("Instant-Kill", matches[2], "RADIANCE")
callout("Radiance Attempt!", matches[2])
expandAlias("tp "..matches[2])
radiance = true
radtarget = matches[2]
if gmcp.Room.Info.num == 7815 then send("e"..s.."e");tempTimer(6, [[send("w"..s.."w")]]) end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A shimmering image of the face of (\w+) appears fleetingly before you, frowning in concentration.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Marduk</name>
						<script>fecho("Instant-Kill", matches[2], "MARDUK")
callout("MARDUK", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) reaches out and hastily scrawls the Mark of Marduk ?(and the Mark of Arctar)? on your body.$</string>
							<string>^(\w+) begins focusing on the Mark of Marduk branded on your body, and it begins to glow faintly.$</string>
							<string>^(\w+) concentrates briefly and a terrifying visage of Marduk, Eater of Souls appears briefly in front of you, wreathed in flames.</string>
							<string>^(\w+) begins whispering verses in a foul-sounding language, which resonate heavily within your head.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>TimeWarp</name>
						<script>fecho("Instant-Kill", matches[2], "TIMEWARP")
callout("TIMEWARP", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) lowers his head in silent concentration. Motes of multicolored light begin slowly circling around you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Devour</name>
						<script>fecho("Instant-Kill", matches[2], "DEVOUR")
callout("DEVOUR", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^With a sinister grin, (\w+) allows a swirling vortex to open wide above \w+ head and as it starts rapidly sucking in air, \w+ concentrates on directing it towards you. Horror overcomes you as you struggle in vain against the powerful current and feel yourself being sucked towards the vortex.$</string>
							<string>^A look of intense concentration is visible on (\w+)'s face as the swirling vortex moves closer and closer and its force threatens to lift you off the ground. You realise that you only have moments left to escape whatever fate awaits at the other end of the increasingly violent blackness that now looms directly above your head.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Eliminate</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[3] == "you" then
fecho("Instant-Kill", matches[2], "ELIMINATE")
callout("ELIMINATE", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The blade on the daegger splits into a semblance of teeth as (\w+) prepares for the final strike.$</string>
							<string>^With a daegger in hand, (\w+) begins to close in on (\w+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Arrow</name>
						<script>sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;ARROW &lt;cyan&gt;]")
sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;ARROW &lt;cyan&gt;]")
sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;ARROW &lt;cyan&gt;]")
pullarrow = true
pta = false
send("queue eqbal pull arrow from body")
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>The fuse on the arrow buried in your gut begins to burn low, your sense of alarm building.</string>
							<string>Sparks catch your eye as an arrow cuts through the air, burying itself deep in your flesh. Noticing the fuse which burns upon it through the blinding pain, you are almost overcome with panic.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Arrow</name>
						<script>pullarrow = false
ph = false
sys("Arrow") cecho("&lt;red&gt;[&lt;OrangeRed&gt;ARROW PULLED&lt;red&gt;]")
sys("Arrow") cecho("&lt;red&gt;[&lt;OrangeRed&gt;ARROW PULLED&lt;red&gt;]")
sys("Arrow") cecho("&lt;red&gt;[&lt;OrangeRed&gt;ARROW PULLED&lt;red&gt;]")
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You manage to pull the buried arrowhead from your body with intense concentration of will and ignorance of the pain, extinguishing the fuse and tossing it away.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sunder</name>
						<script>pta = false
local sdir = {"north", "northeast", "east", "southeast", "south", "southwest", "west", "northwest", "up", "down", "in", "out"}
if table.contains(sdir, matches[2]) then
	if not table.contains(ms.allies, matches[3]) or matches[3]:find(target) then
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[2]:upper().." - "..matches[3].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[2]:upper().." - "..matches[3].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[2]:upper().." - "..matches[3].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[2]:upper().." - "..matches[3].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[2]:upper().." - "..matches[3].." &lt;cyan&gt;]")
		cor("SUNDER from the "..matches[2]:upper(), matches[3])
		sundertarget = matches[3]
		sunderdir = matches[2]
		sunder = true
		if ms.class["Bard"] then expandAlias("hzk "..sunderdir.." "..sundertarget) end
		if ms.class["Summoner"] then send("queue eqbal order doppleganger seek "..sundertarget..""..s.."order doppleganger channel invoke heave "..sundertarget) end
		if ms.class["Diabolist"] then expandAlias("queue eqbal demon beckon "..sundertarget) end
		if ms.class["Deathknight"] then send("queue eqbal top "..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."envenom "..ms.save["longsword"].." with ciguatoxin"..s.."lunge "..sundertarget) end
    if ms.class["Assassin"] or ms.class["Renegade"] then expandAlias("sbn "..sundertarget.." "..sunderdir) end
	end
elseif table.contains(sdir, matches[3]) then
	if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[3]:upper().." - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[3]:upper().." - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[3]:upper().." - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[3]:upper().." - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER from the "..matches[3]:upper().." - "..matches[2].." &lt;cyan&gt;]")
		cor("SUNDER from the "..matches[3]:upper(), matches[2])
		sundertarget = matches[2]
		sunderdir = matches[3]
		sunder = true
		if ms.class["Bard"] then expandAlias("hzk "..sunderdir.." "..sundertarget) end
		if ms.class["Summoner"] then send("queue eqbal order doppleganger seek "..sundertarget..""..s.."order doppleganger channel invoke heave "..sundertarget) end
		if ms.class["Diabolist"] then expandAlias("queue eqbal demon beckon "..sundertarget) end
		if ms.class["Deathknight"] then send("queue eqbal top "..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."envenom "..ms.save["longsword"].." with ciguatoxin"..s.."lunge "..sundertarget) end
    if ms.class["Assassin"] or ms.class["Renegade"] then expandAlias("sbn "..sundertarget.." "..sunderdir) end
    
	end
else
	if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER - "..matches[2].." &lt;cyan&gt;]")
		sys("Instant Kill") cecho("&lt;cyan&gt;[ &lt;yellow&gt;SUNDER - "..matches[2].." &lt;cyan&gt;]")
		callout("SUNDER", "Last Chance to Stop "..matches[2])
		sundertarget = matches[2]
		sunder = true
		if ms.class["Bard"] then expandAlias("hzk "..sunderdir.." "..sundertarget) end
		if ms.class["Summoner"] then send("queue eqbal order doppleganger seek "..sundertarget..""..s.."order doppleganger channel invoke heave "..sundertarget) end
		if ms.class["Diabolist"] then expandAlias("queue eqbal demon beckon "..sundertarget) end
		if ms.class["Deathknight"] then send("queue eqbal top "..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."envenom "..ms.save["longsword"].." with ciguatoxin"..s.."lunge "..sundertarget) end
    if ms.class["Assassin"] or ms.class["Renegade"] then expandAlias("sbn "..sundertarget.." "..sunderdir) end
	end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^To the (\w+), you see (\w+) begin to spur \w+ mount in a wide circle, building up momentum.$</string>
							<string>^(\w+), to the (\w+), begins to swing .+ in a wide circle above \w+ head.$</string>
							<string>^Swinging .+ above \w+ head, (\w+) charges in your direction.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Arrow</name>
						<script>if matches[1]:find("shudder") then 
  ba = ba - 1 
else
  ba = tonumber(0)
  fecho("Arrows", "No More Arrows to Pull", "Fight!")
  pullarrow = false
end
--if pullarrow and ba &gt; 0 then
  --send("queue eqbal top pull arrow from body")
--elseif ba &lt;= 0 then
  --ba = tonumber(0)
  --pullarrow = false
--end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>There is not an arrow in your body to remove.</string>
							<string>You shudder in pain as you wrench the bloody arrow from your flesh.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sect Meteor</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "SECT METEOR")
	callout(matches[2], "Sect Meteor Incoming! SUBDUE THE LAMING BASTARD!!!")
	callout(matches[2], "Sect Meteor Incoming! SUBDUE THE LAMING BASTARD!!!")
	callout(matches[2], "Sect Meteor Incoming! SUBDUE THE LAMING BASTARD!!!")
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Focusing on the fluctuating power of Moradeim, the moon of Change, (\w+) prepares to summon a fiery meteor.$</string>
							<string>^(\w+) slowly raises \w+ arms and a blazing red sphere appears high above you, descending swiftly towards your location.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Blackwind</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Blackwind", matches[2], "BLACKWIND")
callout("Blackwinding", matches[2])
blackwind = true
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A black wind descends upon your surroundings, immediately forming itself around the body of (\w+). The vapour whips around \w+ form and \w+ body begins to dissipate.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Gorge</name>
						<script>fecho("Instant-Kill", matches[2], "Gorge")
callout("Gorge", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) lunges forward atop .+, beckoning it to feed on your body.$</string>
							<string>^(\w+)'s icewyrm edges closer to you, its tongue flicking in and out of its mouth with anticipation.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Vivisect</name>
						<script>if matches[3] == "you" or table.contains(ms.allies, matches[3]) then
	fecho("Instant-Kill", matches[2], "Vivisect")
	callout("Vivisect", matches[2])
	ptar = matches[2]
	ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) extends a clenched fist towards (\w+) and focuses on \w+ necromantic powers. Black energy starts crackling around \w+ hand\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Death Tarot</name>
						<script>if matches[3] == "you" or table.contains(ms.allies, matches[3]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "DEATH TAROT")
callout("DEATH TAROT", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ quickly flings a card with the image of Death at (\w+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Catharsis Channeled</name>
						<script>if matches[3] == "you" or table.contains(ms.allies, matches[3]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "CATHARSIS")
callout("CATHARSIS", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) nods at his Ouroboros, and it starts glowing with an eerie demonic light and advances slowly towards you. All of its eyes turn towards you, staring unnervingly.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Grizzly</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "GRIZZLY MARK")
callout("GRIZZLY MARK", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) closes \w+ eyes and begins whispering the name of the great Grizzly, and the Mark branded on your body begins to burrow into your flesh. A great roar of a mighty beast echoes in the distance.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Reclaim</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "RECLAIM")
callout("RECLAIM", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) holds a hardened quarterstaff of the Wilds firmly in \w+ hands, directs a hard stare at you, and concentrates upon the power of the Nature. A sense of dread overcomes you as harsh whispering fills the air, silent at first, but growing louder and more ominous with every passing second.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Kantae</name>
						<script>if not table.contains(ms.allies, matches[2]) or matches[2]:find(target) then
fecho("Instant-Kill", matches[2], "KANTAE")
callout("KANTAE", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) projects the single, pure note of \w+ voice at you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Spore</name>
						<script>fecho("Instant-Kill", matches[2], "SPORE")
callout("SPORE", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) points at you and .+ spreads out its tendrils, preparing to launch a twisted demonic spore.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Behead</name>
						<script>fecho("Instant-Kill", matches[2], "BEHEAD")
callout("BEHEAD", matches[2])
ptar = matches[2]
ikstop(matches[2])
if pta then enableTrigger("affPrompt") end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^With the three balls of .+ flail circling rapidly around \w+ head, (\w+) advances slowly towards you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Map</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Map Top</name>
						<script>clearWindow("igmap")
mapWidth = igmap:getColumnCount()
cecho("igmap", "&lt;SteelBlue&gt;"..string.rep("-", mapWidth).."\n\n")
selectCaptureGroup(1)
copy()
enableTrigger("MapContents")
enableTrigger("Map Exits")
dead = false
roomList()
indoors = false
if ll then send("ll", false) end
move = ""
exitList = {}
inguzGround = false
nairatGround = false
wall = false
bloodrain = false
belch = false
bloodworms = false
gravehands = false
earthquake = false
druid_earthquake = false
tornado = false
oppression = false
moved = false
flamepillar = false
engage = true
iengage = true
geis = false
crystal = false
deselect()
resetFormat()
if bash and ebal and bbal and #ms.hunt &gt; 0 then
  expandAlias("b")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\-+ Area \d+\: .+\-$</string>
							<string>^\-+ v\d+ .+\-$</string>
							<string>^\-+ Area \d+\: .+\-.+\)$</string>
							<string>^\-+ v\d+ .+\-.+\)$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>MapContents</name>
						<script>selectCaptureGroup(1)
copy()
appendBuffer("igmap")
deleteLine()
deselect()
resetFormat()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(.+)$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Map Bottom</name>
						<script>selectCaptureGroup(1)
copy()
deleteLine()
disableTrigger("MapContents")
deselect()
resetFormat()
rn = tostring(gmcp.Room.Info.num)
if crn ~= rn then
  crn = rn
  block = false
else
  crn = crn
end

</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^-\-+ ?(\w+)?.+\-?\d\:\-?\d+\:.+\-$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Map Clear</name>
						<script>clearWindow("igmap")
cecho("igmap", "&lt;red&gt;[&lt;cyan&gt;No Map Available&lt;red&gt;]")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>This room has not been mapped.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Path Find Tracking</name>
						<script>deleteLine()
pfroom = matches[2]:title()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You (?:walk|sprint) \w+ to (.+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Path Find Tracking</name>
						<script>deleteLine()
sys(pfroom) cecho("&lt;red&gt;[&lt;ivory&gt;"..gmcp.Room.Info.num.." &lt;DimGrey&gt;- &lt;cyan&gt;"..matches[2].." "..matches[3].."&lt;red&gt;]")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\d+) more (steps|step) to your destination\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="yes" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Room Title</name>
						<script>--cecho("\n\n&lt;ivory&gt;\-\&lt;&lt;gold&gt; "..multimatches[2][2].." &lt;ivory&gt;\&gt;\- ")
---cecho(" &lt;red&gt;(")
--cecho("&lt;red&gt;"..tostring(gmcp.Room.Info.area:title()))
--cecho("&lt;red&gt;)")
--resetFormat()
--light yellow, blue
if gaze == nil then gaze = false end
if multimatches[2][1]:find("The Moonforge") and gaze then
	heal()
  	send("drink mana")
	if eleMono &gt; 0 and autoMono then expandAlias("ats");noheal() end
	gaze = false

elseif multimatches[2][1]:find("The Enlightened") and autoMono then
	tempTimer(3, [[expandAlias("mos")]])
end
if gmcp.Room.Info.area:find("Isolation") and not healing then
  heal()
end
--
matchedString = tostring(gmcp.Room.Info.num)
cechoLink(" &lt;red&gt;[&lt;cyan&gt;"..matchedString.."&lt;red&gt;]", 'mmp.gotoRoom('..matchedString..')', string.format("Go to %s", matchedString), true)
--
rtName = multimatches[2][1]
rtLoc = multimatches[2][2]
if rtLoc:find("Flying above ") then
	rtLoc = rtLoc:sub(14, string.len(rtLoc))
end
--
enableTrigger("Close and lock door")
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#ffff00</colorTriggerFgColor>
						<colorTriggerBgColor>#000080</colorTriggerBgColor>
						<regexCodeList>
							<string>FG7BG10</string>
							<string>^(.+)\.\s(\d+).+$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>6</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Map Exits</name>
						<script>disableTrigger("Map Exits")
ms.exits = {}
for exit,num in pairs(gmcp.Room.Info.exits) do
	table.insert(ms.exits, exit)
end
local area = gmcp.Room.Info.area
if bash and not mmp.autowalking then expandAlias("b") end
showpeople()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>return isPrompt()</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>4</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Room not mapped</name>
						<script>enableTrigger("Map Exits")
if ll then send("ll") end
move = ""
belch = false
bloodworms = false
gravehands = false
earthquake = false
moved = false
flamepillar = false
engage = true
iengage = true
geis = false
crystal = false</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>This room has not been mapped.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defences</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Current defences</name>
						<script>for _,v in pairs(gmcp.Char.Defences.List) do
	table.insert(ms.defApplied, v.name)
end
table.sort(ms.defApplied)
enableTrigger("Gag defences")

</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>Current Defences:</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Apply defences</name>
						<script>--Queue defences
if healing and ms.save["defMe"] then
  CheckDefs()
	applyDefGeneral() 
  applyDefClass() 
--Apply Defences
  if ms.def[1] then send("queue eqbal "..ms.def[1]);table.remove(ms.def, 1) end 
end--healing
if ms.class["Hunter"] and ms.save["defMe"] then 
  if ice &lt; 50 and fire &lt; 50 then
    send("queue eqbal summon ice")
    send("queue eqbal summon ice")
    send("queue eqbal summon fire")
    send("queue eqbal summon fire")
  elseif ice &lt; 50 then
    send("queue eqbal summon ice")
    send("queue eqbal summon ice")
  elseif fire &lt; 50 then
    send("queue eqbal summon fire")
    send("queue eqbal summon fire")
  end
end
disableTrigger("Gag defences")
disableTrigger("Apply defences")
disableTrigger("Current defences")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You are protected by</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>2</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Gag defences</name>
						<script>if matches[3] then
  ms.checkDef(matches[2], matches[3])
else
  ms.checkDef(matches[2])
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(.+) \[(.+)\]$</string>
							<string>^(.+)$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Moonaura Active</name>
						<script>send("queue eqbal "..ms.save["hunter_form"].." aura none")
send("queue eqbal "..ms.save["hunter_form"].." aura moon")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You already have your moon aura active.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Balance Highlight</name>
					<script>deleteLine()
if matches[2] == "Equilibrium" then enableTimer("disruption");ebal = false;if ms.class["Summoner"] then eqb = eqb + matches[3] end end
if matches[2] == "Balance" then bbal = false;if ms.class["Diabolist"] or ms.class["Hunter"] or ms.class["Assassin"] or ms.class["Renegade"] or ms.class["Summoner"] then eqb = eqb + matches[3] end end
sys("&lt;ivory&gt;"..matches[2].." Taken") cecho("&lt;ivory&gt;"..matches[3].."s")
if not autoKill then pta = false end
drr = false
afr = false
body = ""
if lastCmd:find("bat invoke") then snare = false end
if matches[2] == "Balance" and matches[3] == "4.06" and ms.class["Hunter"] and healing then send("autocuring assume slow balance") end
if matches[2] == "Equilibrium" and matches[3] == "4.26" and ms.class["Hunter"] and healing then send("autocuring assume slow equilibrium") end
if matches[2] == "Balance" and matches[3] == "2.76" and ms.class["Hunter"] and healing then send("autocuring assume lethargy") end
if matches[2] == "Balance" and matches[3] == "4.83" and ms.class["Hunter"] and healing then send("autocuring assume lethargy"..s.."autocuring assume slow balance") end
disableTrigger("affPrompt")
mmp.customwalkdelay(matches[3]+getNetworkLatency())</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ffff00</mFgColor>
					<mBgColor>#000000</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(Equilibrium) Taken: (.+)s$</string>
						<string>^(Balance) Taken: (.+)s$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Request Passage</name>
					<script>if ms.class["Bard"] then send("queue eqbal call sketches") 
elseif ms.class["Mage"] then send("queue eqbal spin crystal")
elseif ms.class["Diabolist"] or ms.class["Deathknight"] then deadBuff()
end
if matches[1]:find("victorious") then send("queue eqbal renounce grace") end
tree = true
dtype = "none"
send("ss", false)
send("autocuring toadstool 70", false)
send("enter door to "..ms.save["passage"])
expandAlias("0")
if ms.class["Assassin"] or ms.class["Renegade"] then
	expandAlias("scob")
	expandAlias("wsl")
end
expandAlias("msr")
tempTimer(10, [[expandAlias("def")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You may REQUEST PASSAGE to Celidon, Kinsarmar or Caanae. To see other destinations, type PASSAGES.</string>
						<string>You may REQUEST PASSAGE to Celidon, Kinsarmar, Caanae or Aryana. To see other destinations, type PASSAGES.</string>
						<string>You may REQUEST PASSAGE to Caanae.</string>
						<string>You may REQUEST PASSAGE to Stavenn, Khandava, Caanae or Aryana. To see other destinations, type PASSAGES.</string>
						<string>You may REQUEST PASSAGE to Stavenn, Khandava or Caanae. To see other destinations, type PASSAGES.</string>
						<string>You have been victorious and leave the Arena in triumph!</string>
						<string>You may REQUEST PASSAGE to Stavenn, Khandava or Caanae. To see other destinations, type PASSAGES.</string>
						<string>You have been defeated and are thrown out of the Arena.</string>
						<string>You may REQUEST PASSAGE to Khandava or Caanae. To see other destinations, type PASSAGES.</string>
						<string>You may ENTER DOOR TO Khandava or Caanae. To see other destinations, type DESTINATIONS.</string>
						<string>You may ENTER DOOR TO Stavenn, Khandava or Caanae. To see other destinations, type DESTINATIONS.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>2</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>After Passage</name>
					<script>if ms.class["Bard"] then send("queue eqbal sing ward me") songs = 1 end
if ms.class["Diabolist"] then send(quickdraw(ms.save["daegger"], ms.save["shield"])) end
send("ss", false)
send("autocuring toadstool 70", false)
expandAlias("0")
-- tempTimer(3, [[expandAlias("goto home")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Charon makes a curt gesture at you, urging you to step onto his ramshackle ferry. Although the boat rocks ominously as you step onto it, Charon emotionlessly pushes off from the dock, guiding the ferry to the distant shore. After a short time, the ferry arrives at Before Phoenix Crest and you disembark the rickety craft.</string>
						<string>Charon makes a curt gesture at you, urging you to step onto his ramshackle ferry. Although the boat rocks ominously as you step onto it, Charon emotionlessly pushes off from the dock, guiding the ferry to the distant shore. After a short time, the ferry arrives at Before the Kinsarmar Gate and you disembark the rickety craft.</string>
						<string>Charon makes a curt gesture at you, urging you to step onto his ramshackle ferry. Although the boat rocks ominously as you step onto it, Charon emotionlessly pushes off from the dock, guiding the ferry to the distant shore. After a short time, the ferry arrives at A crumbling western gate and you disembark the rickety craft.</string>
						<string>Charon makes a curt gesture at you, urging you to step onto his ramshackle ferry. Although the boat rocks ominously as you step onto it, Charon emotionlessly pushes off from the dock, guiding the ferry to the distant shore. After a short time, the ferry arrives at Outside the gates of Stavenn and you disembark the rickety craft.</string>
						<string>You feel pain race across your soul as you are torn from your surroundings and are returned to your body. You scream in rage as you realize you no longer live a natural life, but rather undeath has imprisioned your soul.</string>
						<string>Your starburst tattoo flares as the world is momentarily blurred in white light.</string>
						<string>Charon makes a gesture at you, directing you toward the black portal. Cautiously climbing the stone stairway you approach the gateway with some apprehension. Peering into the surface, you see an image of the Khandava forest. Gathering your courage you push through the surface and find yourself at The Khandava Archway.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ring Accept</name>
					<script>send("ring accept")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>RING ACCEPT to accept the invitation.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="yes" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hunting</name>
					<script>if matches[2]:find("exit") and not mmp.autowalking then
	if chop then send("chop tree") end
end

</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000080</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You see (.+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Songbird</name>
					<script>deleteLine()
moveCursor(0, getLineNumber()-1)
deleteLine()
sbh = multimatches[2][2]:title()
sys("Songbird") cecho("&lt;red&gt;[&lt;DimGrey&gt;"..sbh.."&lt;red&gt;]") </script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A massive skeletal songbird begins to sing a trilling song to you.</string>
						<string>^The dancing melody of the Song of Restoration rings in your ears as some of your (health|mana) is replenished.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bounties</name>
					<script>if not table.contains(ms.el, matches[2]) and not table.contains(ms.allies, matches[2]) and not table.contains(ms.save["ignore"], matches[2]) then expandAlias("en "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\d+\s+Active\s+(?:Ithaqua|Leechwood|Stavenn|Khandava|Unspeakable)\s+\w+\s+(\w+)</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ow</name>
					<script>if healing then send("ow") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ pokes you right in the eye for no explicable reason.$</string>
						<string>^\w+ bops you on the head.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Land</name>
					<script>send("land")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The icy storm ends as swiftly as it started, no longer blocking your descent.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Drink Mana</name>
					<script>send("drink mana")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You cannot compose help files unless your health and mana are full. Use of this to get out of combat is against the rules.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Choke</name>
					<script>send("eat pear")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile>C:/Documents and Settings/Owner/Desktop/Music/Underwater-Vertical Horizon.mp3</mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You choke as you inhale water.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Follow</name>
					<script>send("map", false)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You follow</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Gaze Heal</name>
					<script>heal()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your concentration is ruined and the vision of Aryana, Moon of Life leaves you.</string>
						<string>The .+ suddenly appears in your vision, and you feel yourself being drawn towards the Lunar Plane.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Gaze</name>
					<script>heal()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The Moon of Life suddenly appears in your vision, and you feel yourself being drawn towards the Lunar Plane.</string>
						<string>^The crackling of energy reaches its peak, and as it subsides, you find yourself standing next to \w+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tattoos</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>After adding some coloured ink to the bowl, you reink the needle, fill in the final details, and then admire the completed tattoo.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Monolith</name>
					<script>enableTimer("monolith")
mono = true
noheal()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You place your hands on the monolith and begin to concentrate on imbuing it with the essence of your aspect.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Deathball</name>
					<script>if healing then send("get deathball") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The flames surrounding the deathball suddenly go out.</string>
						<string>A bloodstained deathball lies on the ground.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>0</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Give Artifacts</name>
					<script>if table.contains(ms.allies, matches[2]) and healing then
	send("unwield left"..s.."unwield right")
	send("artifact reset "..table.concat(ms.save["artifacts"], " 120"..s.."artifact reset ").." 120")
	send("beckon artifacts")
	send("remove "..table.concat(ms.save["artifacts"], ""..s.."remove "))
	send("give "..table.concat(ms.save["artifacts"], " to "..matches[2]..""..s.."give ").." to "..matches[2])
	if ms.class["Bard"] then expandAlias("sbo "..matches[2]) end
	expandAlias("wa")
else
	send("tell "..matches[2].." only for allies, goofball. (Or my healing is off.)")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) tells you, "(?:Artifact|ARTIFACT) (?:Loan|loan|LOAN)."$</string>
						<string>^.+\s+(\w+) tells you, "(?:Artifact|ARTIFACT) (?:Loan|loan|LOAN)."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Song Friend</name>
					<script>if table.contains(ms.allies, matches[2]) and healing and ms.class["Bard"] then
friend = matches[2]
send("sing ward "..matches[2]) sfs = 2
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) tells you, "(?:Song|SONG) (?:Me|ME|me)."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Heal Friend</name>
					<script>if table.contains(ms.allies, matches[2]) and healing then
send("queue eqbal hum ta we llan "..matches[2].." arinyu "..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) tells you, "(?:Heal|HEAL) (?:Me|ME|me)."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bandits</name>
					<script>bash = true
bandit = true
creature = "bandit"</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The hairs on your neck tingle from an unknown presence.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Landsense</name>
					<script>if table.contains(ms.el, matches[2]) then callout("Landsense", matches[2].." - Has a PvP Reason") else callout("Landsense", matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) has entered the realms.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss - Ouogakk</name>
					<script>bash = false
--if matches[1]:find("Wyr") then send("queue eqbal fly") end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Ouogakk, the Ogre Captain says, "Come, fleshies! Ouogakk ready."</string>
						<string>Wyr leaps at you, his gleaming diamond fingers plunging repeatedly into your chest as he attempts to tear through it and access your beating heart. Don't let Wyr hit you like that again before your weakened chest has a chance to recover!</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>tempTimer(2, [[send("queue eqbal north")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>In a grand gesture, Ouogakk, the Ogre Captain steals himself against the shock wave before slamming both of his shields together with a tremendous force.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>bash = true
send("land")
expandAlias("b")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Ouogakk, the Ogre Captain harnesses his shields back on his shoulders, stands to his full height, and lets loose a mighty roar.</string>
						<string>The gaping wounds on your chest have finally closed.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Learning</name>
					<script>learn = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You have learned as much as you can in this skill.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Relearning</name>
					<script>skill = matches[2]
send("queue eqbal relearn "..skill.." from "..relearn)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have relearned (\w+) to the .+ rank.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Relearned</name>
					<script>if matches[2] == "Voice" then send("queue eqbal relearn thespia from "..relearn)
elseif matches[2] == "Thespia" then send("queue eqbal relearn artistry from "..relearn)
elseif matches[2] == "Pyroglacia" then send("queue eqbal relearn terratheria from "..relearn)
elseif matches[2] == "Terratheria" then send("queue eqbal relearn crystalbinding from "..relearn)
elseif matches[2] == "Noctu" then send("queue eqbal relearn enslavery from "..relearn)
elseif matches[2] == "Enslavery" then send("queue eqbal relearn tarot from "..relearn)
elseif matches[2] == "Ritualism" then send("queue eqbal relearn nightfall from "..relearn)
elseif matches[2] == "Weaponmastery" then send("queue eqbal relearn brutality from "..relearn)
elseif matches[2] == "Brutality" then send("queue eqbal relearn necromancy from "..relearn)
elseif matches[2] == "Malignosis" then send("queue eqbal relearn ritualism from "..relearn)
elseif matches[2] == "Ballistics" then send("queue eqbal relearn inventing from "..relearn)
elseif matches[2] == "Inventing" then send("queue eqbal relearn focus from "..relearn)
elseif matches[2] == "Sabotage" then send("queue eqbal relearn spatium from "..relearn)
elseif matches[2] == "Spatium" then send("queue eqbal relearn hypnosis from "..relearn)
elseif matches[2] == "Torment" then send("queue eqbal relearn shadowbinding from "..relearn)
elseif matches[2] == "Shadowbinding" then send("queue eqbal relearn desecration from "..relearn)
elseif matches[2] == "Supremacy" then send("queue eqbal relearn shapeshifting from "..relearn)
elseif matches[2] == "Shapeshifting" then send("queue eqbal relearn terrestrialism from "..relearn)
elseif matches[2] == "Curses" then send("queue eqbal relearn bonecasting from "..relearn)
elseif matches[2] == "Bonecasting" then send("queue eqbal relearn shamanism from "..relearn)
elseif matches[2] == "Tarot" then bnum = 11
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have fully relearned (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Profession</name>
					<script>if matches[2] == "Bard" then ms.class["Bard"] = true;ms.class["Mage"] = false
elseif matches[2] == "Mage" then ms.class["Mage"] = true;ms.class["Bard"] = false
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have switched from the \w+ profession to the (\w+) profession.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>if bash then expandAlias("tc beast") beast = true end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You must attack and kill the beast before it has a chance to strike at</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>0</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Colour Ink</name>
					<script>selectString("blue ink", 1)
replace("blue ink", fg("blue"))
selectString("red ink", 1)
replace("red ink", fg("red"))
selectString("green ink", 1)
replace("green ink", fg("green"))
selectString("yellow ink", 1)
replace("yellow ink", fg("yellow"))
selectString("purple ink", 1)
replace("purple ink", fg("purple"))
selectString("gold ink", 1)
replace("gold ink", fg("gold"))
selectString("blueshard", 1)
replace("blueshard", fg("cyan"))
selectString("redshard", 1)
replace("redshard", fg("OrangeRed"))
deselect()
resetFormat()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string> (blue|gold|green|purple|red|yellow) ink</string>
						<string> (blue|red)shard</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Poker</name>
					<script>if healing then send("cardtable players", false) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ffff00</mFgColor>
					<mBgColor>#000000</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ checks.$</string>
						<string>^\w+ bets \d+ gold sovereigns on the current hand.$</string>
						<string>^\w+ calls the bet.$</string>
						<string>^\w+ throws the cards away with a silent sigh.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>TIMEOUT</name>
					<script>deleteLine()
send("think timeout tick", false)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You will TIMEOUT in 1 minute unless you do something.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Mount</name>
					<script>if rebuff and ms.class["Diabolist"] then send("queue eqbal mount "..ms.save["mount"]);rebuff = false end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Large hooves thundering upon the ground, .+ gallops in from the .+\.$</string>
						<string>There is no need as it is already in the room with you.</string>
						<string>You call out, ordering your Ouroboros to return to serve your whim.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Return to life</name>
					<script>if not table.contains(ms.allies, matches[2]) then
	callout("Back from Dis", matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You sense that (\w+) has returned back to life.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Open Door</name>
					<script>if healing and not gmcp.Room.Info.num == 22410 then send("queue eqbal open door "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^There is a door in the way. Type or click OPEN DOOR (\w+) to try to open the door.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>if bash then expandAlias("b pole") end
pole = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Attack the pole and break it before (\w+) bleeds out!</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Enemies</name>
					<script>if not table.contains(ms.el, matches[2]) then table.insert(ms.el, matches[2]) end
if matches[1]:find("don't recognize") then
  selectCaptureGroup(1)
  replace("No enemy found", fg("DimGrey"))
else
  selectCaptureGroup(1)
  replace("Enemied "..matches[2], fg("red"))
end
deselect()
resetFormat()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) is now one of your enemies\.$</string>
						<string>^(\w+) is already an enemy.$</string>
						<string>I don't recognize that name as one of an existing player.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Unenemies</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You declare that (\w+) will no longer be one of your enemies.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Sigils/Holyground/Hazewards</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff00ff</mFgColor>
					<mBgColor>#000000</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>There are \d+ (?:hazeward|monolith) (?:sigils|stones) here.</string>
						<string>A sigil in the shape of a small, rectangular monolith is on the ground.</string>
						<string>This has been marked as holy ground.</string>
						<string>A small silvery stone is here, surrounded in haze.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>0</integer>
						<integer>0</integer>
						<integer>0</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>After Death</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Below a deteriorated waterfall.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hunt Check</name>
					<script>if bash then expandAlias("b") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are already there.</string>
						<string>You have moved away from your path.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Gag Pipes</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You take 1 laurel, bringing the total to \d+.$</string>
						<string>The pipe is full.</string>
						<string>^You store 1 laurel, bringing the total to \d+.$</string>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>3</integer>
						<integer>1</integer>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Toadstool Gag</name>
					<script>deleteLine()
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Toadstool curing threshold set to 70%.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>GP</name>
					<script>deleteLine();disableTrigger("GP");enableTrigger("Damage Taken")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Charm</name>
					<script>if not bash then send("attach "..matches[2].." to bracelet") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^"charm(\d+)"</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fox Gag</name>
					<script>deleteLine();enableTrigger("GP")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A bushy tailed fox frantically flounders about in the water.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Warmth Gag</name>
					<script>noecho = true
deleteLine()
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A pleasant warmth soothes your body and mind.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You tumble down through a yawning trapdoor.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Refill Vial</name>
					<script>send("liquidrift tap empty "..matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You see no (\w+) in your inventory\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>ih</name>
					<script>deleteLine()
enableTrigger("ihprompt")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^"(.+)"\s+(.+)$</string>
						<string>Number of objects:</string>
						<string>You see the following objects:</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>2</integer>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>ihprompt</name>
					<script>disableTrigger("ihprompt")
disableTrigger("ih")
if table.size(ms.hunt) &gt;= 1 and bash then expandAlias("b")
else moveHunt()
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Watcher</name>
					<script>deleteLine()
sys("Watcher") cecho("&lt;red&gt;[&lt;ivory&gt;"..matches[2].." &lt;ivory&gt;- &lt;yellow&gt;"..matches[3].."&lt;red&gt;]")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The eyes on the border of the Empire shimmer slightly, warning you that (.+) have gathered in (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Enter</name>
					<script>dir = {"ground", "skies", "north", "northeast", "east", "southeast", "south", "southwest", "west", "northwest", "up", "down", "in", "out", "ether"}
if table.contains(dir, matches[2]) and matches[3] ~= "a" then
	if matches[3]:find(target) then move = "" end 
	if not table.contains(ms.allies, matches[3]) then callout(matches[3].." entered", matches[2]) end
	sys("&lt;cyan&gt;"..matches[3]) cecho("&lt;green&gt;[ "..matches[2].." ]")
	if not table.contains(ms.people, matches[2]) then table.insert(ms.people, matches[2]) end
elseif matches[2] ~= "a" then
	if matches[2]:find(target) then move = "" end
	if not table.contains(ms.allies, matches[2]) then callout(matches[2].." entered", matches[3]) end
	sys("&lt;cyan&gt;"..matches[2]) cecho("&lt;green&gt;[ "..matches[3].." ]")
	if not table.contains(ms.people, matches[3]) then table.insert(ms.people, matches[3]) end
end
if (matches[2]:find(target) or matches[3]:find(target)) and mmp.autowalking then expandAlias("mst");expandAlias("ts") end 
showpeople()
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A tingling sensation spreads over your flesh preceding the entrance of (\w+), riding .+, from the (\w+)\.$</string>
						<string>^An eerie chill fills the air as (\w+), .+, moves in from the (\w+)\.$</string>
						<string>^Heat washes over you as (\w+), riding .+, enters from the (\w+), flames licking at \w+ feet\.$</string>
						<string>^(\w+) arrives from the (\w+)\.$</string>
						<string>^(\w+), riding .+, arrives from the (\w+)\.$</string>
						<string>^(\w+) enters from the (\w+), a soft glow suffusing \w+ form\.$</string>
						<string>^(\w+) strolls in from the (\w+), a scattering of leaves trailing behind\.$</string>
						<string>^An eerie chill fills the air as (\w+) moves in from the (\w+)\.$</string>
						<string>^Pebbles scatter across the ground as (\w+), riding .+, stomps in from the (\w+)\.$</string>
						<string>^A tingling sensation spreads over your flesh preceding the entrance of (\w+) from the (\w+)\.$</string>
						<string>^The shifting form of (\w+),(?: riding .+,)+ Aspect of Moradeim enters from the (\w+)\.$</string>
						<string>^The wind whips around you as (\w+)(?:, riding .+,)+ enters from the (\w+)\.$</string>
						<string>^The room noticeably brightens as (\w+) enters from the (\w+), \w+ footsteps leaving a momentarily glowing outline\.$</string>
						<string>^The peaceful form of (\w+), riding .+, Aspect of Aryana enters from the (\w+)\.$</string>
						<string>^(\w+), riding .+, plods carefully across the trenches from the (\w+)\.$</string>
						<string>^(\w+) plods carefully across the trenches from the (\w+)\.$</string>
						<string>^The room noticeably brightens as (\w+), riding .+, enters from the (\w+), \w+ footsteps leaving a momentarily glowing outline\.$</string>
						<string>^(\w+), riding .+, strolls in from the (\w+), a scattering of leaves trailing behind\.$</string>
						<string>^A giant atlas bursts into view in front of you, and out of a swirling mass in the center of one of the pages tumbles (\w+), who reaches out and plucks the rapidly disappearing (atlas) from the air\.</string>
						<string>^Your senses flare as a luminous green image drifts in from the (.+), its appearance sharpening to reveal (\w+), riding .+\.</string>
						<string>^With a flash of amethyst, (\w+) enters from the (.+), the splendor of the Five Towers echoing with every step\.</string>
						<string>^Your field of vision distorts slightly, as the image of (\w+) approaches from the (.+), taking on a reddish haze\.</string>
						<string>^Your field of vision distorts slightly, as the image of (\w+), riding .+ approaches from the (\w+), taking on a reddish haze\.</string>
						<string>^Your senses flare as a luminous green image drifts in from the (\w+), its appearance sharpening to reveal (\w+).$</string>
						<string>^Water filters into the room as (\w+) moves gracefully in from the (.+).$</string>
						<string>^Heat washes over you as (\w+) enters from the (.+), flames licking at \w+ feet.$</string>
						<string>^The temperature in the room drops as (\w+).+moves in from the (\w+), \w+ steps leaving frosted footprints.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Exit</name>
					<script>dir = {"ground", "skies", "north", "northeast", "east", "southeast", "south", "southwest", "west", "northwest", "up", "down", "in", "out", "ether"}
if table.contains(dir, matches[2]) and matches[3] ~= "a" then
	if not table.contains(ms.allies, matches[3]) then callout(matches[3].." exited", matches[2]) end
	sys("&lt;cyan&gt;"..matches[3]) cecho("&lt;red&gt;[ "..matches[2].." ]")
	for k,name in ipairs(ms.people) do
		if name == matches[3] then table.remove(ms.people, k) end
	end
	engage = true
elseif matches[2] ~= "a" then
	if not table.contains(ms.allies, matches[2]) then callout(matches[2].." exited", matches[3]) end
	sys("&lt;cyan&gt;"..matches[2]) cecho("&lt;red&gt;[ "..matches[3].." ]")
	for k,name in ipairs(ms.people) do
		if name == matches[2] then table.remove(ms.people, k) end
	end
	engage = true
end
if (matches[2]:find(target) or matches[3]:find(target)) and (matches[2]:find("skies") or matches[3]:find("skies")) and healing and not flinged then send("queue eqbal touch tentacle "..target);skies = true end
if (matches[2]:find(target) or matches[3]:find(target)) and not tlock then enableTimer("affreset");disableTimer("cw");ashcloud = false;shield = false end
--Follow
if gmcp.Room.Info.num ~= 13685 and gmcp.Room.Info.num ~= 13870 and gmcp.Room.Info.num ~= 13191 then
	if matches[2]:find(target) then move = matches[3];blizzard = false;if pta then enableTrigger("affPrompt") end
	elseif matches[3]:find(target) then move = matches[2];blizzard = false;if pta then enableTrigger("affPrompt") end
	end
end
showpeople()



	
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You feel the added electricity leave your body as (\w+), riding .+, leaves to the (\w+)\.$</string>
						<string>^The room visibly dims as (\w+), riding .+, leaves to the (\w+), \w+ footsteps leaving a momentarily glowing outline\.</string>
						<string>^You feel the heat subside as (\w+), riding .+, heads out towards the (\w+), flames trailing behind \w+\.$</string>
						<string>^(\w+) leaves to the (\w+)\.$</string>
						<string>^(\w+), riding .+,? leaves to the (\w+)\.$</string>
						<string>^The soft glow suffusing (\w+) dims as \w+ leaves to the (\w+)\.$</string>
						<string>^(\w+), riding .+, Aspect of Aryana leaves to the (\w+), a feeling of peace leaving with \w+\.$</string>
						<string>^(\w+) moves fluidly to the (\w+), water trailing behind\.$</string>
						<string>^(\w+), riding .+, moves fluidly to the (\w+), water trailing behind\.$</string>
						<string>^A few wayward leaves remain in the wake of (\w+) as \w+ strolls out towards the (\w+)\.$</string>
						<string>^The room begins to feel noticeably warmer as (\w+) leaves to the (\w+)\.$</string>
						<string>^As (\w+), riding .+, stomps out towards the (\w+) several pebbles scatter across the ground\.$</string>
						<string>^(\w+), Aspect of Moradeim leaves to the (\w+), a feeling of confusion leaving with \w+\.$</string>
						<string>^You feel the added electricity leave your body as (\w+) leaves to the (\w+)\.$</string>
						<string>^(\w+), riding .+, Aspect of Moradeim leaves to the (\w+), a feeling of confusion leaving with \w+\.$</string>
						<string>^The wind begins to die down as (\w+), riding .+, heads off toward the (\w+)\.$</string>
						<string>^The room visibly dims as (\w+) leaves to the (\w+), (?:his|her) footsteps leaving a momentarily glowing outline\.$</string>
						<string>^(\w+), riding .+, plods carefully across the trenches to the (\w+)\.$</string>
						<string>^(\w+) plods carefully across the trenches to the (\w+)\.$</string>
						<string>^A few wayward leaves remain in the wake of (\w+), riding .+, as \w+ strolls out towards the (\w+)\.$</string>
						<string>^The room begins to feel noticeably warmer as (\w+), riding .+, leaves to the (\w+)\.$</string>
						<string>^(\w+), Aspect of Aryana leaves to the (\w+), a feeling of peace leaving with \w+\.</string>
						<string>^Screaming, (\w+) rushes away to the (.+)\.</string>
						<string>^The image of (\w+) blurs, fading to a green nebula as \w+ vanishes to the (.+)\.</string>
						<string>^(\w+) fades to a faint outline of crimson before vanishing entirely to the (.+)\.</string>
						<string>^The image of (\w+), riding .+, blurs, fading to a green nebula as \w+ vanishes to the (.+)\.</string>
						<string>^The wind begins to die down as (\w+) heads off toward the (.+)\.</string>
						<string>^(\w+), riding .+, fades to a faint outline of crimson before vanishing entirely to the (\w+)\.</string>
						<string>^The image of (\w+) blurs, fading to a green nebula as \w+ vanishes to the (\w+).$</string>
						<string>^Somehow (\w+) flips away to the (.+).$</string>
						<string>^(\w+) leaves to the (.+), \w+ footsteps leaving an amethyst trail.$</string>
						<string>^The image of (\w+),?.+? blurs, fading to a green nebula as \w+ vanishes to the (.+).$</string>
						<string>^You feel the heat subside as (\w+) heads out towards the (.+), flames trailing behind \w+\.$</string>
						<string>^A few wayward leaves remain in the wake of (\w+) as \w+ strolls out towards the (.+).$</string>
						<string>^A few wayward leaves remain in the wake of (\w+), .+ as \w+ strolls out towards the (.+).$</string>
						<string>^As (\w+).*moves out towards the (\w+) the temperature of the room rises, ice footprints following in \w+ wake.$</string>
						<string>^You feel the added electricity leave your body as (\w+).* leaves to the (.+)\.$</string>
						<string>^(\w+) gathers \w+ legs under \w+ and backflips out to the (\w+).$</string>
						<string>^(\w+) leaves to the (\w+), subdued in the shadows.$</string>
						<string>^The soft glow suffusing (\w+), riding .+ dims as \w+ leaves to the (\w+).$</string>
						<string>^As (\w+) touches a shadowgem, shadows lift \w+ into the air and propel \w+ (\w+)wards\.$</string>
						<string>^As (\w+), .+, touches a shadowgem, shadows lift \w+ into the air and propel \w+ (\w+)wards\.$</string>
						<string>^As (\w+) stomps out towards the (\w+) several pebbles scatter across the ground\.$</string>
						<string>^The room visibly dims as (\w+),?.+ leaves to the (\w+), \w+ footsteps leaving a momentarily glowing outline.$</string>
						<string>^(\w+), Aspect of the Unified Moons leaves to the (\w+), a feeling of warmth leaving with \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Unlock Door</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The door is locked. If you have a key for this door you can type UNLOCK DOOR (\w+) to unlock it.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Walking Direction</name>
					<script>deleteLine()
sys("Moved") cecho("&lt;ivory&gt;"..matches[2])
if seraphpull then 
if matches[2] == "north" then send("queue eqbal south") 
elseif matches[2] == "northeast" then send("queue eqbal southwest") 
elseif matches[2] == "east" then send("queue eqbal west")
elseif matches[2] == "southeast" then send("queue eqbal northwest")
elseif matches[2] == "south" then send("queue eqbal north")
elseif matches[2] == "southwest" then send("queue eqbal northeast")
elseif matches[2] == "west" then send("queue eqbal east")
elseif matches[2] == "northwest" then send("queue eqbal southeast")
elseif matches[2] == "in" then send("queue eqbal out")
elseif matches[2] == "out" then send("queue eqbal in")
elseif matches[2] == "up" then send("queue eqbal down")
elseif matches[2] == "down" then send("queue eqbal up")
end
seraphpull = false
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You walk (\w+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Swimming</name>
					<script>if ms.class["Diabolist"] then send("dismount"..s.."mount "..ms.save["mount"]) end
if healing and mmp.autowalking then expandAlias("ff "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You'll have to SWIM (\w+) to make it through the water in that direction.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Seraph Pull</name>
					<script>seraphpull = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You feel yourself compelled to leave the room, beckoned by the allure of a holy seraph.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Cannot Fly Indoors</name>
					<script>if mmp.autowalking then send("land") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You cannot fly indoors.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Experience</name>
					<script>deleteLine()
sys("&lt;green&gt;"..(matches[4]-1).."-&gt;"..matches[4]) cecho("&lt;ivory&gt;+"..matches[2].." &lt;DimGrey&gt;["..matches[3].."]")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You gain (.+) experience. You need (.+) more for level (\d+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>noheal()
callout("SIT OR DIE", "NOW!!!")
send("queue eqbal dismount"..s.."sit")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Captain Yagduth begins deftly spinning his gruesome quarterstaff in the air above his head, the black iron blade causing an ear-piercing whistling noise as it whips through the air above you.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>heal()
expandAlias("b")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Captain Yagduth ceases spinning his vicious weapon above his head.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>if bash then expandAlias("b") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Appearing for the swiftest of moments, Barsul, the Wraith Lord seems to corporealize for the span of half of a breath only to deliver an attack before quickly dispersing in a shroud of shadows.</string>
						<string>Barsul, the Wraith Lord releases a shrill, piercing cry which reverberates throughout the area and sending the noise deep into your bones, shaking you to the very core.</string>
						<string>Barsul, the Wraith Lord says, in Hanyou, "A wise decision to have fled so quickly..."</string>
						<string>Barsul, the Wraith Lord appears to deliver his blow and rather than dispersing once more, he seems to corporealize fully once again.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The severed neck stalk of Nakshatra, a dreadful undead hydra suddenly bulges outwards and .+ hydra head and .+  hydra head regenerate from it, weaving mesmerizingly.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The roots surrounding Mairya close up once again</string>
						<string>Felan Virs is covered in mighty armoured scales as he summons a foul basilisk to his aid.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shrine Comms</name>
					<script>deleteLine()
sys("&lt;cyan&gt;"..matches[3]:title()) cecho("&lt;ivory&gt;+"..matches[2].." &lt;DimGrey&gt;["..matches[4].."]")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You put (.*) xp towards a drop of (.*) ?(?:essence)?. You need (.*) more for the next comm.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Unsecure rooms</name>
					<script>enableTrigger("checkusr")
enableTrigger("usrprompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Unsecure rooms:</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>checkusr</name>
					<script>mmp.locateAndEchoSide(matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(.+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>usrprompt</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Plunder</name>
					<script>send("queue eqbal plunder caravan")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You ransack through the items loaded on</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Swimming</name>
					<script>mmp.swim()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You'll have to SWIM \w+ to make it through the water in that direction.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Cairn Highlight</name>
					<script>selectCaptureGroup(1)
replace("&lt;=[ "..matches[2]:title().." cairn ]=&gt;", fg("OrangeRed"))
deselect()
resetFormat()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ffaa00</mFgColor>
					<mBgColor>#000000</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Towering roughly two feet off the ground is (.+) cairn\.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Salute</name>
					<script>salutetar = matches[2]
if healing and table.contains(ms.allies, matches[2]) then tempTimer(1, [[expandAlias("sy "..salutetar)]]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Taking on a rigid posture, (\w+) wreathes \w+ hand in crackling black energy and brings it to \w+ brow, giving( you)? a (?:sharp|respectful) salute.$</string>
						<string>^(\w+) straightens \w+ posture, giving a sharp salute.$</string>
						<string>^(\w+) gives you a respectful salute.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Noctu Bow</name>
					<script>nbtarget = matches[2]
if healing then tempTimer(1, [[send("noctubow "..nbtarget)]]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Pressing the tips of \w+ fingers one to the other in a steeple at the center of \w+ breast, (\w+) bows low in respect.$</string>
						<string>^Pressing the tips of \w+ fingers one to the other in a steeple at the center of \w+ breast, (\w+) bows to you in respect.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prompt Disable</name>
					<script>disableTrigger("Locate Coliseum")
disableTrigger("checkusr")
disableTrigger("usrprompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss - Drak</name>
					<script>noheal()
send("queue eqbal free "..matches[2])
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You must FREE (\w+) to help \w+ escape\!$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss - Drak</name>
					<script>if table.contains(ms.allies, matches[2]) then
	if ms.class["Deathknight"] then send("queue eqbal top stand"..s.."animate "..matches[2]) end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The barbed wire entangling (\w+) has shredded \w+ flesh and \w+ collapses to the ground, bleeding out from hundreds of tiny cuts\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss - Drak</name>
					<script>heal()
expandAlias("b")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You finish freeing (\w+) from the deadly barbed wire and shove \w+ away from the trap\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Mining Done</name>
					<script>if not healing then heal() end
fecho("MS", "Mining Statue", "DONE")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ strikes the statue with \w+ pick detaching a small fragment, which \w+ quickly picks up\.$</string>
						<string>^With a final stroke of the pick a fragment of the statue chips off and you quickly pick it up\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Altar Fingerprick</name>
					<script>send("sect altar action perform sightlessaccept "..matches[2])
tempTimer(10, [[send("sl3")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) extends a finger towards the edge of the altar of the Sect of the Unspeakable, slicing a thin slit into \w+ flesh as a tiny pool of blood wells up, dripping down to cover it.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>qwho</name>
					<script>if table.contains(ms.allies, matches[2]) then table.insert(qa, matches[2])
else table.insert(qe, matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>(\w+)\,</string>
						<string>and (\w+)\.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>qwho prompt</name>
					<script>disableTrigger("qwho mag")
disableTrigger("qwho dem")
disableTrigger("qwho am")
disableTrigger("qwho prompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Forging</name>
					<script>send("queue eqbal get "..matches[2].." from forge")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Sweat flies from your brow as you smith .+ (\w+) and quench it in a bucket of water.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Done Learning Pet</name>
					<script>for k,v in pairs(petskills) do
	if v == trainpet then 
		table.remove(petskills, k)
		trainpet = petskills[1]
		send(trainpet)
		enableTimer("trainpet")
		return
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^.+ cannot learn anymore in that skill.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Start Up</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>StartupMS</name>
						<script>tempTimer(.5, [[startupMS()]])</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>Your last login was from domain:</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>2</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>DeleteLine</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Prompt Change</name>
						<script>deleteLine()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You will now receive the provided custom prompt.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Harp</name>
						<script>deleteLine()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>The perfect craftsmanship of a massive harp enhances the sounds emanating from it.</string>
							<string>The perfect craftsmanship of your a massive harp enhances the sounds emanating from it.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Target Aide</name>
						<script>deleteLine();enableTrigger("GP")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You will no longer focus on the actions of anyone.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Map</name>
						<script>deleteLine()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You have disabled map notifications.</string>
							<string>You will view the map in room descriptions.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Stand Gag</name>
						<script>deleteLine()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You are already standing.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Misc Gags</name>
						<script>deleteLine()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>Magick flows out of your crystal, soothing your body and mind.</string>
							<string>^Twirling his blade, (\w+) continues his beguiling dance.$</string>
							<string>^(\w+) uses Warchants Rage \(tick\).$</string>
							<string>Your input, "finish", is not a valid command.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>GagPrompt</name>
						<script>deleteLine()
disableTrigger("GagPrompt")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>return isPrompt()</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>4</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Misc Gags(With Prompt)</name>
						<script>deleteLine()
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>Adrenaline flows in your veins and your wounds hurt less.</string>
							<string>What are you trying to draw?</string>
							<string>Syntax: QUICKDRAW &lt;item1&gt; [item2]</string>
							<string>^You sprint \w+\.$</string>
							<string>^You cannot put .+ vial in the Rift.$</string>
							<string>Your attempt to quickly draw and wield your items has failed.</string>
							<string>You must draw a card before you can rub it.</string>
							<string>You have shuffled too recently to draw a card. You must wait an additional</string>
							<string>^\w+ uses Rampage Sentinel \(tick\).$</string>
							<string>^\w+ uses Rampage Eviscerate \(tick\).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>2</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Crystal Tattoo</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You touch the crystal tattoo, but nothing happens.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Firewall Boss</name>
					<script>if bash and healing then send("queue eqbal "..quickdraw(ms.save["broadsword"], ms.save["incinerator"])..""..s.."point incinerator out") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You must create a flame over the entrance to melt the impending icicle!</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>In Belt Extra</name>
					<script>send("inb all "..matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your personal Rift will hold no more (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>warhorn</name>
					<script>if healing and bash then expandAlias("b "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You hear a war horn and the next wave of the .+ (\w+) enter the arena.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Already weilding</name>
					<script>if matches[1]:find("daegger") then 
	deleteLine()
	sys("Wielding") cecho("&lt;ivory&gt;daegger "..ms.save["shield"]) 
elseif matches[1]:find("whip") then 
	deleteLine()
	sys("Wielding") cecho("&lt;ivory&gt;whip "..ms.save["shield"])
elseif matches[1]:find("tooth") then
	deleteLine()
	sys("Wielding") cecho("&lt;ivory&gt;"..ms.save["dirk"].." "..ms.save["shield"])
elseif matches[3] then
	deleteLine()
	sys("Wielding") cecho("&lt;ivory&gt;"..matches[2].." "..matches[3])
else
	deleteLine()
	sys("Wielding") cecho("&lt;ivory&gt;"..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You are already wielding .* (\w+) and .* (\w+)\.$</string>
						<string>^You are already wielding .* (\w+) in your (?:right|left) hand\.$</string>
						<string>^You are already wielding .* (\w+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Already darkness</name>
					<script>deleteLine()
cecho("&lt;ivory&gt; [&lt;purple&gt;Night&lt;ivory&gt;]")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>This location is already shrouded in unnatural darkness.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wraith's Recalled</name>
					<script>deleteLine()
if not bash then cecho("&lt;ivory&gt; (&lt;DimGrey&gt;Wraiths Recalled&lt;ivory&gt;)") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>With a single thought, you recall all your wraiths back to you.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Beast Park</name>
					<script>if healing and bash and ebal and bbal and ql then 
	sendGMCP('Char.Items.Room')
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^In a skittering motion, an enormous scorpion emerges from the \w+.$</string>
						<string>^Causing the ground to shudder with each thunderous step, a woolly mammoth enters from the \w+.$</string>
						<string>^The faintest tremor can be felt within the ground as a troll soldier enters from the \w+.$</string>
						<string>^A grating of stone upon stone precedes the entrance of a stone giant from the \w+.$</string>
						<string>^The sound of vast lungs working and great paws crushing branches and rocks underfoot heralds the entry of the frost behemoth from the \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shadowgate Help</name>
					<script>if table.contains(ms.allies, matches[2]) and ms.class["Diabolist"] and healing then
	if ethereal &gt;= 3 then
		expandAlias("sg "..matches[2])
	else
		local ethcount = 3 - ethereal
		send("rt Shadowgate needs "..ethcount.." charge(s) before it can be used.")
	end 
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(Ring\)\: (\w+) says, \"(?:Shadowgate|SHADOWGATE) (?:Me|me|ME)\.\"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fox return</name>
					<script>send("queue eqbal order fox return")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A lithe black fox named Megan has delivered \w+'s detached eyeball to \w+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fox follow</name>
					<script>if healing then send("queue eqbal order loyals follow me") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A lithe black fox slinks in quietly from the \w+\.$</string>
						<string>^A low, menacing growl heralds the arrival of a fearsome-looking hound from the \w+.$</string>
						<string>^You close your eyes and let out a few barely audible whistles, beckoning .+ bat to silently fly into the room.$</string>
						<string>You use Supremacy Summon (Summon).</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shadow Found</name>
					<script>fecho("Shadow", "FOUND!!!", "GO TO NEXT SHADOW")
expandAlias("0")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Having found an incorporeal shadow of \w+, you quickly embrace the shadow and it flickers from sight.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>championCheck</name>
					<script>if not table.contains(ms.allies, matches[2]) and not table.contains(ms.save["ignore"], matches[2]) and not table.contains(ms.el, matches[2]) then
	expandAlias("en "..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>(\w+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>ccPrompt</name>
					<script>disableTrigger("championCheck")
disableTrigger("ccPrompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Champion check start</name>
					<script>enableTrigger("championCheck")
enableTrigger("ccPrompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Champion List\:$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Favour</name>
					<script>if table.contains(ms.allies, matches[2]) and healing then
	send("sv "..matches[2])
else
	send("tell "..matches[2].." only for allies, goofball.")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^.+\s+(\w+) tells you, "(?:Favour|FAVOUR) (?:ME|Me|me)."$</string>
						<string>^(\w+) tells you, "(?:Favour|FAVOUR) (?:ME|Me|me)."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Renounce Grace</name>
					<script>-- if healing then
	-- send("queue eqbal renounce grace")
-- end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You currently walk in divine grace and may neither be harmed nor harm another. To leave this state of protection, you must RENOUNCE GRACE.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>who scry</name>
					<script>selectCaptureGroup(3)
replace("")
mmp.locateAndEchoSide(matches[4])
deselect()
resetFormat()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^.+\s(\w+)\s\-(.+\-)\s(.+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Gah</name>
					<script>send("gah "..matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\'Boo!\' (\w+) screams happily at you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Toxin Vialbelt</name>
					<script>if #ms.toxlist &gt;= 1 then 
	table.remove(ms.toxlist, 1) 
else
	fvb = false
end
if fvb then
	send("preserve toxin "..ms.toxlist[1].." in rift")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your liquid rift already has as much as it can hold of that toxin!</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fill toxin</name>
					<script>if fvb then send("queue eqbal top preserve toxin "..matches[2].." in rift") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You carefully prepare a dose of (\w+) and pour it into a vialbelt of \w+ kegs.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Leyline</name>
					<script>if ll then	send("queue eqbal top "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You sense a leyline somewhere to the (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Leyline Found</name>
					<script>ll = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You are standing at a leyline intersection in .+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>who scry prompt</name>
					<script>disableTrigger("who scry")
disableTrigger("who scry prompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Think Gag</name>
					<script>deleteLine()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You think: timeout tick.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Chess</name>
					<script>di = di or ""
send("display")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ orders \w+ \w+ at .+ to move to .+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Befriended</name>
					<script>heal()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A .+ submits to your will\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss</name>
					<script>if bash and matches[2]:find(gmcp.Char.Name.name) then 
	send("queue eqbal top backflip "..ms.exits[1])
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Barsul, the Wraith Lord exclaims\, \"Congratulations, (\w+) you shall do nicely as a host\!\"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Scepter</name>
					<script>deleteLine()
sys("&lt;gold&gt;Scepter") cecho("&lt;red&gt;"..matches[2]:title())</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You point an energic scepter at (.+) and a bolt of raw Sukhder energy shoots forth at \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Jousting</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Move shield</name>
						<script>if joust then
if matches[2]:find("right") then
	send("move shield left")
	send("lean right")
elseif matches[2]:find("left") then
	send("move shield right")
	send("lean left")
else
	send("move shield "..matches[2])
end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ nudges \w+ lance so that the tip of it swings slightly to \w+ (\w+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Start</name>
						<script>send("spur mount")

joust = true</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Wheeling your mount around, you drop your lance down so that it points at \w+, simultaneously kicking your heels into your mount's ribs.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Move lance</name>
						<script>if matches[2]:find("up") then
	send("nudge lance down")
elseif matches[2]:find("down") then
	send("nudge lance up")
else
	send("nudge lance "..matches[2])
end

</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ changes \w+ grip on \w+ shield as \w+ moves it (\w+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Leaned</name>
						<script>if joust then
if matches[2]:find("left") then
	send("nudge lance right")
elseif matches[2]:find("right") then
	send("nudge lance left")
end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ settles \w+ weight into \w+ saddle, listing slightly to \w+ (\w+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Delay</name>
						<script>joust = false</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your mount now lathering and straining, its hooves thunder as it bears you in an unswerving line at \w+.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Spurred</name>
						<script>if joust then
  if nl == 0 then 
    send("nudge lance down") 
    nl = nl + 1
  elseif nl == 1 then
    send("nudge lance up")
    nl = nl + 1
  elseif nl == 2 then
    send("nudge lance down")
    nl = nl + 1
  end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>The cadence of your mount's hooves increases as your mount increases its speed.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Nudged Lance</name>
						<script>if joust then
  if nl &gt; 1 then
    send("lean right")
  else 
    send("lean left") 
  end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your lance swings \w+, aiming directly at .+\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shifted weight</name>
						<script>if joust then send("shift weight forward") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You settle your weight back down into the saddle, slightly forward, with your weight pressing into your lance.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Close and lock door</name>
					<script>doorDir = matches[2]:lower()
if (not autoKill or mmp.autowalking) or not healing then
	if doorDir == "north" then send("unlock door north"..s.."open door north"..s.."north"..s.."close door south"..s.."lock door south") 
	elseif doorDir == "northeast" then send("unlock door northeast"..s.."open door northeast"..s.."northeast"..s.."close door southwest"..s.."lock door southwest") 
	elseif doorDir == "east" then send("unlock door east"..s.."open door east"..s.."east"..s.."close door west"..s.."lock door west")
	elseif doorDir == "southeast" then send("unlock door southeast"..s.."open door southeast"..s.."southeast"..s.."close door northwest"..s.."lock door northwest")
	elseif doorDir == "south" then send("unlock door south"..s.."open door south"..s.."south"..s.."close door north"..s.."lock door north")
	elseif doorDir == "southwest" then send("unlock door southwest"..s.."open door southwest"..s.."southwest"..s.."close door northeast"..s.."lock door northeast")
	elseif doorDir == "west" then send("unlock door west"..s.."open door west"..s.."west"..s.."close door east"..s.."lock door east")
	elseif doorDir == "northwest" then send("unlock door northwest"..s.."open door northwest"..s.."northwest"..s.."close door southeast"..s.."lock door southeast")
	elseif doorDir == "in" then send("unlock door in"..s.."open door in"..s.."in"..s.."close door out"..s.."lock door out")
	elseif doorDir == "out" then send("unlock door out"..s.."open door out"..s.."out"..s.."close door in"..s.."lock door in")
	elseif doorDir == "up" then send("unlock door up"..s.."open door up"..s.."up"..s.."close door down"..s.."lock door down")
	elseif doorDir == "down" then send("unlock door down"..s.."open door down"..s.."down"..s.."close door up"..s.."lock door up")
	end
end
if not mmp.autowalking then disableTrigger("Close and lock door") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^There is a door in the way. Type or click OPEN DOOR (\w+) to try to open the door\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Sect Faith</name>
					<script>send("sect faith", false)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your sacrifice has contributed \d+ belief to the Sect of the Leechwood\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss - Ioas</name>
					<script>fecho(matches[2], "Kick this person!!", "NOW")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Wrapping her slender arms around \w+ tightly, Iaos the Temptress pulls (\w+) close to her and presses her lips to his firmly. With a surprise you see \w+ going limp in her embrace\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Blackjack</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Place Bet</name>
						<script>if betAmount == nil then betAmount = "50000" end
if bj then tempTimer(1, [[send("bet "..betAmount.. " gold")]]) end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>"Place your bets\! Place your bets\!"$</string>
							<string>"Let's see some action you cheap bastards! Get out that gold!" says The blackjack dealer, Ralon.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>BJ Action</name>
						<script>timer = math.random(1, 3)
local handCheck = matches[2]
if ace then cecho("\n&lt;red&gt;[ &lt;green&gt;You have an ACE! &lt;red&gt;]") end
if bj then 
	if handCheck == "split" and hand &lt;= 18 and not bjHandisGood then
		tempTimer(timer, [[send("split")]])
	elseif hand == 11 and handCheck == "double" and not bjHandisGood then
		tempTimer(timer, [[send("double")]])
	elseif ((ace and hand &lt; 18) or (hand &lt;= 15 and bjHandisGood) or hand &lt;= 14) then
		tempTimer(timer, [[send("hit")]])
		ace = false
	else
		tempTimer(timer, [[send("stand")]])
	end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>asks you, \"Do you want to hit, stand, double, or (split)\?\"$</string>
							<string>asks you, \"Do you want to hit, stand, or (double)\?\"$</string>
							<string>asks you, \"(Do you want to hit or stand)\?\"$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>BJ Insurance</name>
						<script>if bj then
	tempTimer(2, [[send("yes")]])
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>The dealer's up card is an ace. Would you like to purchase insurance for half the cost of your bet? &lt;Yes|No&gt;</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>BJ Hand Types</name>
						<script>if matches[2]:find("Ace") then
	ace = true
else
	ace = false
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The blackjack dealer, Ralon deals you (.+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>BJ Dealer Hand</name>
						<script>bjHand = {
"ten",
"Jack",
"Queen",
"King",
"Ace"
}
if table.contains(bjHand, matches[2]) then
	bjHandisGood = true
	cecho(" &lt;red&gt;[ &lt;DimGray&gt;Dealer\'s Hand is Good :( &lt;red&gt;]")
else
	bjHandisGood = false
	cecho(" &lt;red&gt;[ &lt;green&gt;Dealer\'s Hand is Bad :) &lt;red&gt;]")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Dealer shows (?:a|an) (\w+) \w+ \w+\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>BJ Hand</name>
					<script>hand = tonumber(matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have (\d+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>BlackJack</name>
					<script>send("rt You leave the blackjack table."..s.."rt -- You "..matches[2].." "..matches[3].." total gold. --")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\-\- You (lost|won) (\d+) total gold. \-\-$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Break Out</name>
					<script>send("queue eqbal top break out")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You kick and smash the casket, but it still holds you. BREAK OUT to get out.</string>
						<string>You have been locked tight in a casket and can't do that. You must BREAK OUT to get out.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss Mirror</name>
					<script>noheal()
send("queue reset eqbal"..s.."queue eqbal get mirror")
bash = false
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>*** GET A MIRROR, GET A MIRROR, GET A MIRROR ***</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss Mirror</name>
					<script>
	tempTimer(8, [[heal()]])
	temptimer(8, [[bash = true;expandAlias("b")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>An incandescent yellow light bursts out of the eyes of \w+, the \w+ gorgon, but rebounds away from the shield</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss Numb</name>
					<script>bash = false
if ms.class["Summoner"] then
	send("queue reset eqbal"..s.."queue eqbal fling emperor at "..matches[2])
elseif ms.class["Assassin"] then
	send("queue eqbal top dstab "..matches[2].." ciguatoxin")
elseif ms.class["Diabolist"] then
	send("queue eqbal top trace stillness balance "..matches[2])
elseif ms.class["Deathknight"] then
	send("queue eqbal top arc ciguatoxin")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^he mass of shadows surrounding Rynar suddenly contracts, growing smaller and smaller until the wraith lord finally disappears, leaving only his scythe, which (\w+) bends to pick up.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hit Plant</name>
					<script>if healing and bash then send("queue eqbal top attack plant") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The deadly poison from Irqua\'s plant is no longer coating you\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Rabbit up</name>
					<script>if bash and healing then
	creature = "rabbit"
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Irqua holds his precious dead rabbit up to his face</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss Orb</name>
					<script>if bash then creature = "orb" end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Attack and destroy the orb of light before the statue overwhelms you\!$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Deathball</name>
					<script>dbLoc = tostring(gmcp.Room.Info.num)
dbh = true
if #ms.people &gt;= 1 then send("queue eqbal hit "..ms.people[1].." with deathball") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You pick up the deathball and begin to wield it.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Deathball</name>
					<script>expandAlias("goto "..dbLoc)
dbh = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The deathball falls from your hands.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Deck Cards</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Drew Card</name>
						<script>deleteLine()
sys("Card Drawn") cecho("&lt;ivory&gt;"..matches[2]:title())
card = matches[2]
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You draw the (.+) card.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Card Energized</name>
						<script>deleteLine()
sys("Card Charged") cecho("&lt;ivory&gt;"..matches[2]:title())
charged = true
card = matches[2]</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your (.+) card has been charged.$</string>
							<string>^You have already drawn (?:a|an) (.+) card</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Card rubbed</name>
						<script>deleteLine()
sys("Card Rubbed") cecho("&lt;ivory&gt;"..matches[2]:title())
charged = false</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You take the charged (.+) card and rub it on .+\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Deck Empty</name>
						<script>deleteLine()
sys("Deck") cecho("&lt;DimGray&gt;Empty")
shuffle = true</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>Your deck is empty. You must SHUFFLE DECK before drawing another card.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Deck Shuffled</name>
						<script>shuffle = false</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You shuffle a deck of divine hexes.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Imp</name>
					<script>expandAlias("b imp")
bash = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A repugnant imp says, "I've been looking for you, \w+."</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Imp</name>
					<script>bash = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The final blow is too much, you have slain a repugnant imp.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Kod</name>
					<script>--send("queue eqbal top relax grip"..s.."get arrow"..s..""..quickdraw(ms.save["arrow"], ms.save["shield"])..""..s.."dip arrow in blue vat"..s.."throw arrow at kod")
--send("queue eqbal top relax grip"..s.."get arrow"..s..""..quickdraw(ms.save["arrow"], ms.save["shield"])..""..s.."dip arrow in red vat"..s.."throw arrow at kod")
send("queue eqbal top relax grip"..s.."get arrow"..s..""..quickdraw(ms.save["arrow"], ms.save["shield"])..""..s.."dip arrow in green vat"..s.."throw arrow at kod")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Kod waves his hands in the air and a vaporous trails form up out of the vats around him and form spheres of energy that begin to whir around his body\. He steps on a hidden switch and a series of arrows begin to pour out of the murder holes around him\, some striking you and others falling harmlessly to the ground.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>pocPrompt</name>
					<script>poc = false
disableTrigger("poc trigger")
disableTrigger("pocPrompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>mdsw</name>
					<script>saveProfile()
table.save(getMudletHomeDir().."/mssave.lua", ms.save)
closeMudlet()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(?:Mathiaus|Skuf) dsw activated. Good bye.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Lastlogin</name>
					<script>send("rt Last awake "..matches[2].." days ago.")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Last login was (\d+) days ago.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Lastlogin Call</name>
					<script>if healing then
  send("city lastlogin "..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(Ring\)\: \w+ says, \"(\w+) lastlogin.\"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Gag</name>
					<script>deleteLine()
if matches[1]:find("parry") then parry = false;tempTimer(10, [[parry = true]]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^.+ Vega says, \".+\"</string>
						<string>^You cannot effectively parry your .+ yet.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Add Citizen</name>
					<script>if not table.contains(ms.allies, matches[2]) and #ms.allies &gt; 20 then expandAlias("msa "..matches[2]);expandAlias("mss") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>- (\w+) was incitizened in the introduction\.$</string>
						<string>^\(Khandava\)\: (\w+) says?, (\".+\")$</string>
						<string>^\(Stavenn\)\: (\w+) says?, (\".+\")$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Buy Herbs</name>
					<script>if buy then
	plantNumber = 2000 - multimatches[2][2]
	if plantNumber &gt; 250 then plantNumber = 250 end
	if plantNumber &gt; 0 then send("buy "..plantNumber.." "..tostring(multimatches[2][3])) end
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>[Plants:]</string>
						<string>^\s+\[\s+(\d+)\] (\w+) ?(\w+)?$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Belief tracker</name>
					<script>beliefChange = tonumber(matches[2])
if matches[1]:find("spent") or matches[1]:find("used") then
  belief = belief - beliefChange
elseif matches[1]:find("gained") then
  belief = belief + beliefChange
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>spent (\d+) belief</string>
						<string>(\d+) belief gained</string>
						<string>Shrine daily upkeep used (\w+) belief</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>belief prompt</name>
					<script>disableTrigger("Belief tracker")
disableTrigger("belief prompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Boss heal off</name>
					<script>if bash then bash = false;tempTimer(5, [[bash = true;expandAlias("b")]]) end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You begin to writhe furiously to escape the blade that has impaled you.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Check Insecure Rooms</name>
					<script>mmp.roomEcho(matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\d+\.\s+\d+\s+(.+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>disable prompt</name>
					<script>disableTrigger("Check Insecure Rooms")
disableTrigger("disable prompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Spins Left</name>
					<script>if gmcp.Room.Info.num == 13444 then 
  send("spin purchase 10 confirm")
  expandAlias("trig down to a halt|spin wheel|25")
  send("spin wheel")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>$\[Info\]\: \w+ has just won \d+ credits on the Wheel of Fortune\. 25 more spins to the 500 credit grand prize\!$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Rainbow found</name>
					<script>mmp.stop()
expandAlias("goto home")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You have found the end of the rainbow.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Dragon Smoke</name>
					<script>deleteLine()
moveCursor(0, getLineNumber()-1)
deleteLine()
deselect()
resetFormat()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Thick dragon smoke continues to billow from your costume, obscuring your vision.</string>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Replace Lines</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Queue cleared</name>
						<script>ms.replace("Queue", "Cleared")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You have cleared the automatic curing queue.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Item Wiped</name>
						<script>ms.replace("Weapon", "&lt;DimGrey&gt;Wiped")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>There are no toxins on that item at present.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Nothing store in Rift</name>
						<script>ms.replace("Rift", "No riftable items")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You have nothing that can be stored in the Rift.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Arti Check</name>
					<script>enableTrigger("Arti Number Grab")
enableTrigger("Total Disable")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>#       Name                            Powers</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Arti Number Grab</name>
					<script>disableTrigger("Arti Check")
if not table.contains(ms.save["artifacts"], matches[2]) then 
  table.insert(ms.save["artifacts"], matches[2])
  selectCaptureGroup(2)
  replace("[MS Artifact Added]: "..matches[2], fg("gold"))
  deselect()
  resetFormat()
end

</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\d+)</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Total Disable</name>
					<script>disableTrigger("Arti Check")
disableTrigger("Arti Number Grab")
tempTimer(1, disableTrigger("Total Disable"))</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Total\:</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Quickdraw</name>
					<script>deleteLine()
sys("Quickdraw") cecho("&lt;ivory&gt;"..matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You use Weaponry Quickdraw \((.+)\).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Not Dead</name>
					<script>dead = false
heal()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Before Death's Door</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Healing</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Main Prompt</name>
					<script>if not dead then
  --
  s = ms.save["separator"]
  msSetClass()
  if gmcp.Char.Vitals.eq == "1" then ebal = true else ebal = false end
  if gmcp.Char.Vitals.bal == "1" then bbal = true else bbal = false end
  --
  if saf &lt; 0 or saf == nil then saf = tonumber(0) end
  if resonance &lt; 0 or resonance == nil then resonance = tonumber(0) end
  ch = math.floor(tonumber(gmcp.Char.Vitals.hp)/11)
  max_health = math.floor(tonumber(gmcp.Char.Vitals.maxhp)/11)
  th = math.floor((ch*100)/max_health)
  cm = math.floor(tonumber(gmcp.Char.Vitals.mp)/11)
  max_mana = math.floor(tonumber(gmcp.Char.Vitals.maxmp)/11)
  tm = math.floor((cm*100)/max_mana)
  -- xp = tonumber(matches[6])
  bleed = math.floor(tonumber(gmcp.Char.Vitals.bleed/11))
  if ms.class["Deathknight"] then essence = math.floor((gmcp.Char.Vitals.essence*100)/2000) end
  if ms.class["Berserker"] then rage = tonumber(gmcp.Char.Vitals.rage) end
  -- focusPoints = tonumber(matches[11])
  -- focusPercentage = tonumber(matches[12])
  chillCount = tonumber(0)
  if rbHit then
  	if table.contains(ms.limbs, "right leg") then rlHit = rlHit - 1 end
  	if table.contains(ms.limbs, "left leg") then llHit = llHit - 1 end
  	if table.contains(ms.limbs, "right arm") then raHit = raHit - 1 end
  	if table.contains(ms.limbs, "left arm") then laHit = laHit - 1 end
  	ms.limbs = {}
  	rbHit = false
  end
  
  -- if justiceCheck then
    -- ms.afflicted["justice"] = "aff"
    -- jc = tonumber(0)
    -- justiceCheck = false
  -- elseif jc &gt; 4 then
    -- ms.afflicted["justice"] = "notaff"
    -- jc = tonumber(0)
    -- justiceCheck = false
  -- end
  if th == 100 then chf = ch end
  if tm == 100 then cmf = cm end
  dead = false
  if th &lt;= 20 and cmh and reserves and healing then expandAlias("cmh") cmh = false;reserves = false end
  if tm &lt;= 50 and cmm and reserves and healing then expandAlias("cmm") cmm = false;reserves = false end
  ccw()
  affcount()
  if healing then
  --
  if ebal and bbal and parry and ms.save["parry"] then
  	plf()
  	send(plimb, false)
  end
  --
  if (dryblood and th &gt;= 65) and (not haemophilia and not arteryShot) then
    if clot and tm &gt; 50 then
  	if bleed &gt; 40 then sys("Clotting") cecho("&lt;red&gt;"..bleed);send("clot"..s.."clot"..s.."clot"..s.."clot") clot = false
  	elseif bleed &gt; 30 then sys("Clotting") cecho("&lt;red&gt;"..bleed);send("clot"..s.."clot"..s.."clot") clot = false
  	elseif bleed &gt; 20 then sys("Clotting") cecho("&lt;red&gt;"..bleed);send("clot"..s.."clot") clot = false
  	end
  	if not clot then tempTimer(3, [[clot = true]]) end
    end
  end
  if th &lt;= tonumber(ms.save['sth']) then 
  healme = true
  if healing then
  	--apathy
  	if ms.class["Diabolist"] then
  		if fiery &gt; 1 then trueasses = false end
  		if th &lt; 40 and not paralysis then
  			hta = chf-ch
  				if hta &gt; cm then hta = cm end
  			healtype = "demon healthtap "..hta
  		elseif tm &lt;= 51 then
  			mta = cmf-cm
  				if mta &gt;= ch then mta = ch-50 end
  			healtype = "demon manatap "..mta
  		else healtype = ""
  		end
  	end
  	--dk
  	if ms.class["Deathknight"] then
  		--if not numbness and not shielded and th &lt; 40 and not paralysis and (not heroism or heroism == nil) and not prone then healtype = "raisewings"
  		if not paralysis and th &lt; 25 then healtype = "vigour"
  		else healtype = ""
  		end
  	end
  	if ebal and bbal then send(healtype) end
  end
  else 
  healme = false
  healtype = ""
  end
  if th &gt;= 100 then hpp = ch end
  --
  end
end
  deleteLine()
  updateUI()
  bmCheck()
  if bp &lt; 0 then bp = tonumber(0) end
  if autoKill then sys("&lt;SteelBlue&gt;[&lt;green&gt;MS A.I.&lt;SteelBlue&gt;] &lt;gold&gt;[&lt;red&gt;MS Target&lt;gold&gt;]") cecho(f"&lt;green&gt;{target} &lt;red&gt;{hp}&lt;DimGrey&gt;% &lt;cyan&gt;{mp}&lt;DimGrey&gt;%") end
  
  -- if ms.class["Defiler"] then
  	-- pet = "2265"
  -- else
  	-- pet = "207121" 
  -- end
  --
  if ttimes == 0 then expandAlias("trig");ttimes = "off" end
  --gags
  disableTrigger("Gag defences")
  -- tempRegexTrigger("^$", function() deleteLine() end, 1)
  --
  -- if #toxCured == 1 then
  	-- sys("&lt;green&gt;"..toxCured[1]:title()) cecho("&lt;green&gt;Cured")
  	-- toxCured = {}
  -- elseif #toxCured &gt;= 2 then
  	-- sys("&lt;green&gt;"..table.concat(toxCured, ", ")) cecho("&lt;green&gt;Cured")
  	-- toxCured = {}
  -- end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Equilibrium</name>
					<script>deleteLine()
disableTimer("disruption")
ebal = true
cecho("\n\n  &lt;red&gt;[  &lt;DodgerBlue&gt;EQUILIBRIUM  &lt;red&gt;]  \n\n")
if bact then send(baction) end
if ms.class["Bard"] and (tts or tts == nil) then expandAlias("tts");tts = false end
if pullarrow then send("queue reset eqbal");send("queue eqbal top pull arrow from body") end
if healing then
--Chameleon
--if #ms.allies &gt; 1 then
--cham = ms.allies[math.random(#ms.allies)]
--send("touch chameleon "..cham, false)
--end
--
--
--
if bash then expandAlias("b") end
--
if ms.class["Diabolist"] and not bash and not mount and not prone and not paralysis and (not crl and not cll and not drl and not dll) then send("mount "..ms.save["mount"]) end
--
if ebal and bbal and parry then
	plf()
	send(plimb)
end
--defences
if ms.def[1] then send("queue eqbal "..ms.def[1]);table.remove(ms.def, 1) end
--
if chop then send("chop tree") end
if maff then maff = false
	if waff then expandAlias("wdmg") 
	elseif eaff then expandAlias("edmg")
	elseif aaff then expandAlias("admg")
	elseif faff then expandAlias("fdmg")
	end
end
if ddsl then ddsl = false;expandAlias("dmg") end
if adsl then adsl = false;expandAlias("af") end
--if bdsl then bdsl = false;expandAlias("sl") end
--if b2dsl then b2dsl = false;expandAlias("sll") end
if slba then slba = false;expandAlias("sd") end
if gba then gba = false;expandAlias("gdmg") end
if enlcmbo then enlcmbo = false;expandAlias("enlcmbo") end
if sdmg then sdmg = false;expandAlias("sdmg") end
if enldmg then enldmg = false;expandAlias("enldmg") end
--if taff then taff = false;expandAlias("taff") end
if sap then sap = false;expandAlias("dr") end
if eedmg then eedmg = false;expandAlias("eedmg") end
--if eeaf then eeaf = false;expandAlias("eeaf") end
--if eeaff then eeaff = false;expandAlias("eeaff") end
if eemana then eemana = false;expandAlias("eemana") end
if sunder and ms.class["Bard"] then expandAlias("hzk "..sunderdir.." "..sundertarget) end
if learn then send("learn 200 "..skill.." from "..lrnt) end
if toxin then send("preserve toxin "..toxname.." in rift") end
if unknown &gt;= 3 then send("diag me unified") unknown = tonumber(0) end
if songbird then expandAlias("sbf") songbird = false end
if ssb then expandAlias("ssb") ssb = false cr = true
elseif cr then send("ca") send("queue eqbal allies") cr = false end
if hk then ikstop(ptar) end
if ms.class["Mage"] then
if buff == 1 then send("queue eqbal tenemecy") buff = 2
elseif buff == 2 then send("queue eqbal touch cloak tattoo") buff = 3
elseif buff == 3 then send("queue eqbal clarity") buff = 4
elseif buff == 4 then send("queue eqbal touch hood tattoo") buff = 5
elseif buff == 5 then send("queue eqbal celerity") buff = 6
elseif buff == 6 then send("queue eqbal cast waterwalking") buff = 7
elseif buff == 7 then send("queue eqbal deathsight") buff = 8
elseif buff == 8 then send("queue eqbal cast waterbreathing") buff = 9
elseif buff == 9 then send("queue eqbal touch torch tattoo") buff = 10
elseif buff == 10 then send("queue eqbal warning") buff = 11
elseif buff == 11 then send("queue eqbal alertness") buff = 12
elseif buff == 12 then send("queue eqbal cast stoneskin") buff = 13
elseif buff == 13 then send("queue eqbal cast windveil") buff = 14
elseif buff == 14 then send("queue eqbal cast shimmer") buff = 15
elseif buff == 15 then send("queue eqbal spin crystal") buff = 0
end
end
if ms.class["Bard"] then
if buff == 1 then send("queue eqbal tenemecy") buff = 2
elseif buff == 2 then send("queue eqbal touch cloak tattoo") buff = 3
elseif buff == 3 then send("queue eqbal clarity") buff = 4
elseif buff == 4 then send("queue eqbal touch hood tattoo") buff = 5
elseif buff == 5 then send("queue eqbal celerity") buff = 6
elseif buff == 6 then send("queue eqbal contortionism") buff = 7
elseif buff == 7 then send("queue eqbal deathsight") buff = 8
elseif buff == 8 then send("queue eqbal befuddle on") buff = 9
elseif buff == 9 then send("queue eqbal touch torch tattoo") buff = 10
elseif buff == 10 then send("queue eqbal alertness") buff = 11
elseif buff == 11 then send("queue eqbal warning") buff = 12
elseif buff == 12 then send("queue eqbal call sketches"..s.."sketchlink cloak") buff = 13
elseif buff == 13 then send("queue eqbal sing ward me") songs = 1 buff = 0
end
end
if ms.class["Summoner"] and bnum &gt; 0 then buffSumm() end
if ms.class["Diabolist"] and bnum &gt; 0 then buffDiab() end
if ms.class["Deathknight"] and bnum &gt; 0 then buffDk() end
if deadbuff &gt; 0 then deadBuff() end
if ms.class["Bard"] then
if songs == 1 then send("queue eqbal sing restoration me") songs = 2
elseif songs == 2 then send("queue eqbal sing battlemarch me") songs = 3
elseif songs == 3 then send("queue eqbal sing flight me") songs = 4
elseif songs == 4 then send("queue eqbal sing requiem me") songs = 5
elseif songs == 5 then send("queue eqbal sing empower me") songs = 6
elseif songs == 6 then send("queue eqbal sing corescate me") songs = 7
elseif songs == 7 then send("queue eqbal sing enliven me") songs = 8
elseif songs == 8 then send("queue eqbal sing fortify me") songs = 9
elseif songs == 9 then send("queue eqbal sing awakening me") songs = 10
elseif songs == 10 then send("queue eqbal sing therapeutics me") songs = 0
end
end
if ms.class["Bard"] then
if sfs == 2 then send("queue eqbal sing restoration "..friend) sfs = 3
elseif sfs == 3 then send("queue eqbal sing battlemarch "..friend) sfs = 4
elseif sfs == 4 then send("queue eqbal sing fortify "..friend) sfs = 5
elseif sfs == 5 then send("queue eqbal sing therapeutics "..friend) sfs = 0
end
end
end
if ttimes == nil then ttimes = tonumber(0) end
ttime = tonumber(ttime)
if ttimes &lt;= -1 then enableAlias("trig") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You have regained your mental equilibrium.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Balance</name>
					<script>deleteLine()
bbal = true
cecho("\n\n  &lt;red&gt;[  &lt;yellow&gt;BALANCE  &lt;red&gt;]  \n\n")
if bact then send(baction) end
if ms.class["Bard"] and (tts or tts == nil) then expandAlias("tts");tts = false end
if healing then
--Chameleon
--if #ms.allies &gt; 1 then
--cham = ms.allies[math.random(#ms.allies)]
--send("touch chameleon "..cham, false)
--end
--
--
if bash then expandAlias("b") end
--
if ebal and bbal and parry then
	plf()
	send(plimb)
end
--
if not bash and not mount and not prone and not paralysis and (not crl and not cll and not drl and not dll) and ms.class["Diabolist"] then send("mount "..ms.save["mount"]) end
--defences
if ms.def[1] then send(ms.def[1]);table.remove(ms.def, 1) end
-- --
if pullarrow then send("queue reset eqbal");send("queue eqbal top pull arrow from body") end
if chop then send("chop tree") end
if hk then ikstop(ptar) end
if maff then maff = false
	if waff then expandAlias("wdmg") 
	elseif eaff then expandAlias("edmg") 
	elseif aaff then expandAlias("admg")
	elseif faff then expandAlias("fdmg")
	end
end
if ddsl then ddsl = false;expandAlias("dmg") end
if adsl then adsl = false;expandAlias("af") end
--if bdsl then bdsl = false;expandAlias("sl") end
--if b2dsl then b2dsl = false;expandAlias("sll") end
if slba then slba = false;expandAlias("sd") end
if enlcmbo then enlcmbo = false;expandAlias("enlcmbo") end
if sdmg then sdmg = false;expandAlias("sdmg") end
if enldmg then enldmg = false;expandAlias("enldmg") end
--if taff then taff = false;expandAlias("taff") end
if sap then sap = false;expandAlias("dr") end
if eedmg then eedmg = false;expandAlias("eedmg") end
--if eeaf then eeaf = false;expandAlias("eeaf") end
--if eeaff then eeaff = false;expandAlias("eeaff") end
if eemana then eemana = false;expandAlias("eemana") end
if sunder and ms.class["Bard"] then expandAlias("hzk "..sunderdir.." "..sundertarget) end
if toxin then send("preserve toxin "..toxname.." in rift") end
if hk then
	if ms.class["Bard"] then send("queue eqbal hum ta yoth "..ptar.." kawis "..ptar)
	elseif ms.class["Mage"] then send("queue eqbal cast shake "..ptar)
	end
end
--
if ms.class["Summoner"] and bnum &gt; 0 then buffSumm() end
if ms.class["Diabolist"] and bnum &gt; 0 then buffDiab() end
if ms.class["Deathknight"] and bnum &gt; 0 then buffDk() end
if deadbuff &gt; 0 then deadBuff() end
if ms.class["Mage"] then
if buff == 1 then send("queue eqbal tenemecy") buff = 2
elseif buff == 2 then send("queue eqbal touch cloak tattoo") buff = 3
elseif buff == 3 then send("queue eqbal clarity") buff = 4
elseif buff == 4 then send("queue eqbal touch hood tattoo") buff = 5
elseif buff == 5 then send("queue eqbal celerity") buff = 6
elseif buff == 6 then send("queue eqbal cast waterwalking") buff = 7
elseif buff == 7 then send("queue eqbal deathsight") buff = 8
elseif buff == 8 then send("queue eqbal cast waterbreathing") buff = 9
elseif buff == 9 then send("queue eqbal touch torch tattoo") buff = 10
elseif buff == 10 then send("queue eqbal warning") buff = 11
elseif buff == 11 then send("queue eqbal alertness") buff = 12
elseif buff == 12 then send("queue eqbal cast stoneskin") buff = 13
elseif buff == 13 then send("queue eqbal cast windveil") buff = 14
elseif buff == 14 then send("queue eqbal cast shimmer") buff = 15
elseif buff == 15 then send("queue eqbal spin crystal") buff = 0
end
end
if ms.class["Bard"] then
if buff == 1 then send("queue eqbal tenemecy") buff = 2
elseif buff == 2 then send("queue eqbal touch cloak tattoo") buff = 3
elseif buff == 3 then send("queue eqbal clarity") buff = 4
elseif buff == 4 then send("queue eqbal touch hood tattoo") buff = 5
elseif buff == 5 then send("queue eqbal celerity") buff = 6
elseif buff == 6 then send("queue eqbal contortionism") buff = 7
elseif buff == 7 then send("queue eqbal deathsight") buff = 8
elseif buff == 8 then send("queue eqbal befuddle on") buff = 9
elseif buff == 9 then send("queue eqbal touch torch tattoo") buff = 10
elseif buff == 10 then send("queue eqbal alertness") buff = 11
elseif buff == 11 then send("queue eqbal warning") buff = 12
elseif buff == 12 then send("queue eqbal call sketches"..s.."sketchlink cloak") buff = 13
elseif buff == 13 then send("queue eqbal sing ward me") songs = 1 buff = 0
end
end
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You have recovered balance.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tree</name>
					<script>tree = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your tree tattoo can be used again.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Rebuff</name>
					<script>if rebuff then
ssb = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You take a deep breath and issue a lingering call, ordering your sketches back to your side.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Thinblood</name>
					<script>haemophilia = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your blood is too thin to clot properly.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tumble</name>
					<script>send("stop")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You feel irresistibly compelled to "tumble \w+"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tree</name>
					<script>deleteLine()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your tree of life tattoo glows faintly for a moment then fades, leaving you unchanged.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tree</name>
					<script>tree = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your tree of life tattoo glows faintly for a moment then fades, leaving you unchanged.</string>
						<string>You touch the tree of life tattoo.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prompt - Blackout</name>
					<script>if tree then send("touch tree tattoo") tree = false end
th = math.floor(matches[2]*100/chf)
tm = math.floor(matches[3]*100/cmf)
if th &lt;= 20 and cmh and reserves and healing then expandAlias("cmh") cmh = false;reserves = false end
if tm &lt;= 50 and cmm and reserves and healing then expandAlias("cmm") cmm = false;reserves = false end
if th &lt;= 60 then 
healme = true cecho("&lt;red&gt;[&lt;cyan&gt;HEAL&lt;red&gt;]")
else 
healme = false 
end
statc()
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^H:(\d+) M:(\d+) \&lt;blackout\&gt; </string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Reckless check</name>
					<script>if not dead then send("autocuring assume recklessness") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your spirit writhes in torment under the glare of the seraph.</string>
						<string>^H:\d+\(100%\) M:\d+\(100%\)</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Compelled</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You feel irresistibly compelled</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Reserves</name>
					<script>if ssCheck then
deleteLine()
moveCursor(0, getLineNumber()-1)
deleteLine()
moveCursor(0, getLineNumber()-1)
deleteLine()
moveCursor(0, getLineNumber()-1)
deleteLine()
commithealth = tonumber(multimatches[1][4])
cht = tonumber(multimatches[1][5])
commitmana = tonumber(multimatches[2][4])
cmt = tonumber(multimatches[2][5])
if commithealth &gt; cht then cmh = true end
if commitmana &gt; cmt then cmm = true end
sys("Reserves") cecho("&lt;red&gt;"..multimatches[1][4].."&lt;ivory&gt;/&lt;blue&gt;"..multimatches[2][4])
local rchk = math.floor(gmcp.Char.Vitals.hp/11)
local rch = tonumber(multimatches[1][2])
if rchk ~= rch and not dead then send("autocuring assume recklessness") end
ssCheck = false
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>3</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^ Health\s+\: (\d+)\/(\d+)\s+Reserves \: (\d+)\/(\d+)$</string>
						<string>^ Mana\s+\: (\d+)\/(\d+)\s+Reserves \: (\d+)\/(\d+)$</string>
						<string>^.*$</string>
						<string>^ Str.+$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wort Cooldown</name>
					<script>wort = false
send("autocuring queue clear")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You quickly eat a (.+)wort leaf\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wort Regen</name>
					<script>wort = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are once again able to eat a wort plant.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Relax</name>
					<script>relax = true
send("relax")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your whole body tenses as the dystite takes over. RELAX</string>
						<string>You lose balance as the dystite runs through your body. You must RELAX.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Relaxed</name>
					<script>relax = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You relax and the dystite subsides.</string>
						<string>Ahhhhh. You make a mental note to relax more often.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Artery Shot Down</name>
					<script>arteryShot = false
shot = ""
digging = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The gushing of blood slows as you dig a heavy shot out from your artery.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Restand</name>
					<script>if healing then send(ms.save["kipup"]) end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You must first raise yourself and stand up.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Writhe</name>
					<script>send("queue eqbal top writhe")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are impaled and must writhe off before you may do that.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Clear Autocuring Queue</name>
					<script>send("autocuring queue clear")
heal()
if creature:find("wickerman") then bash = true end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You begin to writhe helplessly, throwing your body off balance.</string>
						<string>With an heroic effort you manage to writhe yourself free from the weapon that impaled you.</string>
						<string>You break out of the wickerman's casket and free yourself.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Turn on Autocuring</name>
					<script>if healing then
	send("acon", false)
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are not using the automatic curing.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Reserve Cooldown</name>
					<script>reserves = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You may commit reserves once again.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Barbed Arrow</name>
					<script>if healing then 
  ba = ba + 1
  if ba &gt;= 7 then
    pullarrow = true
	  send("queue reset eqbal"..s.."queue eqbal top pull arrow from body")
  end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You howl in pain as a barbed arrow pierces your flesh.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Digging shot out</name>
					<script>if matches[2]:find("artery") or matches[2]:find("heart") then 
  shot = matches[2]
  if matches[2]:find("artery") then arteryShot = true end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Dig out shot to (\w+) added to the top of your EQBAL queue.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Dig out not there</name>
					<script>shot = ""
if matches[1]:find("You begin to dig") then digging = true
else digging = false end
pta = true;forceAtk()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You dig out a .+ shot from your .+\.$</string>
						<string>^You do not suffer from a shot to the \w+.$</string>
						<string>^You begin to dig .+ out from your .+\.$</string>
						<string>^Your strength returns as you dig out .+ shot from you .+\.$</string>
						<string>^You can move more quickly again as you dig a .+ shot out from your .+\.$</string>
						<string>^You look slightly less repulsive as you dig out a .+ shot from your face\.$</string>
						<string>^You feel your dexterity return as you dig out a .+ shot from your .+\.$</string>
						<string>^With a tired patience you dig out a .+ shot from your heart\.$</string>
						<string>^Your bleeding slows as you dig out a .+ shot from your heart\.$</string>
						<string>^Mushrooms seem more appetizing as you dig .+ shot out from your throat\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>afflicted with shot</name>
					<script>if matches[2]:find("artery") or matches[2]:find("heart") then
	shot = matches[2]
	send("queue eqbal top dig out shot to "..matches[2])
else
	shot = matches[2]
	send("queue eqbal top dig out shot to "..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^suffering from a bullet to the (.+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Autocuring Cure</name>
					<script>selectCaptureGroup(2)
replace("  -  AC: "..matches[3], fg("DimGrey"))</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(Autocuring\: (.+))$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Combat</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Targeting</name>
					<script>deleteLine()

</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Target t = (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bleeding</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You do not bleed my friend.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Rebounding</name>
					<script>if matches[2]:find(target) then 
deleteLine()
sys(matches[2]) cecho("&lt;cyan&gt;RB Gained+ &lt;gold&gt;"..matches[2])
rbHit = true
rb = true
if (not ebal or not bbal) and healing then forceAtk(true) end
if pta then enableTrigger("affPrompt") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You suddenly perceive the vague outline of an aura of rebounding around (.+).$</string>
						<string>^A demonic daegger hurls itself at (.+), striking \w+ aura of rebounding.$</string>
						<string>^The attack rebounds off (\w+)'s rebounding aura!$</string>
						<string>^Your whip bounces off (\w+)'s aura of rebounding.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Rebounding</name>
					<script>if matches[2]:find(target) then 
deleteLine()
sys(matches[2]) cecho("&lt;red&gt;RB Lost- &lt;gold&gt;"..matches[2])
rb = false
rbhit = false
engulf_tick = false
disableTimer("rebounding")
if pta then enableTrigger("affPrompt") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+)'s aura of weapons rebounding disappears.$</string>
						<string>^.+ razes (\w+)'s aura of rebounding with .+\.$</string>
						<string>^.+ shreds (\w+)'s aura of rebounding with .+\.$</string>
						<string>^A sketch of a Runeguard whips a sword through the air in front of (\w+), to no effect.$</string>
						<string>^A razor fiend shreds (\w+)'s aura of weapons rebounding with its claws.$</string>
						<string>^As an aura of weapon rebounding starts forming around (\w+), a razor fiend leaps at \w+ and shreds it to pieces with its claws.$</string>
						<string>^You whip .+ through the air in front of (\w+), to no effect.$</string>
						<string>^You raze (\w+)'s aura of rebounding with .+\.$</string>
						<string>^(?:His|Her) aura of rebounding is breached\.$</string>
						<string>^You use Weaponmastery Raze \(rebounding\) on (\w+).$</string>
						<string>^You use Flail devastate on (\w+).$</string>
						<string>^You use Sabotage Flay \(rebounding\) on (\w+).$</string>
						<string>^You use \w+ Raze on (\w+)\.$</string>
						<string>^You use Rampage Eviscerate \(rebounding\) on (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shield</name>
					<script>if matches[2]:find(target) then
deleteLine()
fecho("MS", matches[2], "SHIELD UP")
callout(matches[2], "SHIELDED")
shield = true
shieldUsed = shieldUsed + 1
ms.afflicted["heroism"] = "notaff"

	aug()
if ms.class["Mage"] and healing then send("queue reset all"..s.."queue eqbal "..cci..""..s.."cast quickcast erode "..matches[2]) end
if pta then enableTrigger("affPrompt") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A shimmering translucent shield forms around (\w+).$</string>
						<string>^(\w+) grasps \w+ shield solidly in front of \w+ as \w+ mumbles a quick prayer. A faint glow begins to emanate from the shield, surrounding \w+ with a slightly translucent barrier.$</string>
						<string>^(.+) grips \w+ shield tightly as a murky haze slowly rises from it, forming a protective transucent barrier around \w+.$</string>
						<string>"^A gentle hum arises from (.+)'s seraph, as it raises a shield to protect \w+.$</string>
						<string>^(.+) whips \w+ shield swiftly in the air around \w+, tracing an algiz rune in the air.$</string>
						<string>^(\w+) concentrates briefly and a terrifying visage of Arctar, the Defender appears briefly in front of \w+, wreathed in flames.$</string>
						<string>^A numbing energy runs up your limbs as your attack rebounds off of (\w+)'s shield.$</string>
						<string>^(\w+) wraps \w+ wings about \w+ body, forming a translucent shield.$</string>
						<string>^(\w+) grips \w+ shield tightly as a murky haze slowly rises from it, forming a protective translucent barrier around \w+.$</string>
						<string>^A living daegger lunges at (\w+), clattering against \w+ invisible shield.$</string>
						<string>^A gentle hum arises from (\w+)'s seraph, as it raises a shield to protect \w+.$</string>
						<string>^</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>0</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shield</name>
					<script>if matches[2]:find(target) then
deleteLine()
sys(matches[2]) cecho("&lt;red&gt;Shield Lost- &lt;gold&gt;"..matches[2])
shield = false
  if matches[1]:find("tattoo") then
	   hammer = false
  end
if pta then enableTrigger("affPrompt") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The shimmering translucent shield around (\w+) fades away.$</string>
						<string>^A sketch of a Runeguard razes (\w+)'s translucent shield with a sword.$</string>
						<string>^A sketch of a Runeguard whips a sword through the air in front of (\w+), to no effect.$</string>
						<string>^.+ (?:razes|shreds) (\w+)'s translucent shield with .+\.$</string>
						<string>^You invoke your elemental powers and cast a spell of erosion at (\w+).$</string>
						<string>^You touch your tattoo and a massive, ethereal hammer rises up and shatters the translucent shield surrounding (\w+).$</string>
						<string>^You sketch the symbol of the hammer in the air, and a gust of wind slams into (\w+)'s translucent shield, shattering it into a myriad of fragments.$</string>
						<string>^You sketch the symbol of the hammer in the air, and a gust of wind slams into (\w+), but passes without finding any resistance.$</string>
						<string>^A translucent wraith flies at (\w+), shattering \w+ protective translucent shield.$</string>
						<string>^Strands of icy cobwebs caress over (\w+)'s shield, sending fractals of ice skittering across the surface and causing itto shatter.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Afflicted With</name>
					<script>deleteLine()
if matches[2] ~= "paralysis and cannot do that" and matches[2] ~= "amnesia" and matches[2] ~= "an unknown affliction" and not matches[2]:find("shot") then table.insert(ms.afflictions, matches[2]) end
if ms.class["Summoner"] and #ms.afflictions &gt;= 3 and healing and fcad then send("focus cadmus") end
sys("Self-Affliction") cecho("&lt;OrangeRed&gt;"..matches[2].."&lt;ivory&gt;+")
  if moonaura and not matches[2]:find("paralysis") and not matches[2]:find("gutwyrm") and not matches[2]:find("stun") and not matches[2]:find("an unknown affliction") and not matches[2]:find("fear") then paf = matches[2];moonaura = false;aff(matches[2]) end
--
if hunterTransfer then
	notaff(matches[2])
	hunterTransfer = false
elseif bardTransfer then
	notaff(matches[2])
	bardTransfer = false
elseif defilerTransfer then
  notaff(matches[2])
  defilerTransfer = false
end
--
	if target == gmcp.Char.Name.name then ms.afflicted[matches[2]] = "aff" end
if matches[2] == "dryblood" then dryblood = true
elseif matches[2]:find("dystite") or matches[2]:find("cryosite") then send("autocuring domecap 1");send("autocuring toadstool 0", false);toadstool = false
elseif matches[2] == "slickness" then slickness = true
elseif matches[2] == "asthma" then asthma = true
elseif matches[2] == "hemotoxin" then hemotoxin = true
elseif matches[2] == "ablaze" then ablaze = true
elseif matches[2] == "recklessness" then reckless = true
elseif matches[2] == "sleep" or matches[2] == "stun" then parry = false
elseif matches[2] == "anorexia" then anorexia = true
elseif matches[2] == "metrazol" then metrazol = true
elseif matches[2] == "peace" then if (ms.class["Deathknight"] or ms.class["Runeguard"] or ms.class["Berserker"] or ms.class["Templar"]) and healing then send("rage") end
elseif matches[2] == "justice" then if (ms.class["Deathknight"] or ms.class["Runeguard"] or ms.class["Berserker"] or ms.class["Templar"]) and healing then send("rage") end
elseif matches[2] == "numbness" then numbness = true
	if not healing and (ms.class["Assassin"] or ms.class["Renegade"]) then heal() end 
elseif matches[2] == "paralysis" then paralysis = true;numbness = true
elseif matches[2] == "heroism" then heroism = true
elseif matches[2] == "prone" then prone = true;mount = false
	if not healing and ms.class["Assassin"] or ms.class["Renegade"] and ik then heal() end
	if not drl and not dll and not paralysis and healing then send(ms.save["kipup"]) end
elseif matches[2] == "amnesia" and healing then send("stand")
elseif matches[2] == "slow equilibrium" then slowebal = true
elseif matches[2] == "wisp poison" and healing then send("autocuring toadstool 0", false);toadstool = false
elseif matches[2] == "haemophilia" then haemophilia = true
elseif matches[2] == "an unknown affliction"  and healing then
	send("touch amnesia", false)
	if not tree and fcad and ms.class["Summoner"] then send("focus cadmus") end
	if tree and healing and not dra and not dla then send("touch tree tattoo"..s.."touch tree tattoo"..s.."touch tree tattoo")
	elseif not table.contains(ms.afflictions, "concussion") then unknown = unknown + 1 end
	if not table.contains(ms.afflictions, "concussion") and unknown &gt;= 3 and healing then send("queue eqbal top diag me unified") unknown = tonumber(0) end
elseif matches[2]:find("crippled") then
	if matches[2]:find("left") then
		if matches[2]:find("arm") then cla = true;qd = "right left"
		elseif matches[2]:find("leg") then cll = true
		end
	elseif matches[2]:find("right") then
		if matches[2]:find("arm") then cra = true;qd = "left right"
		elseif matches[2]:find("leg") then crl = true
		end
	end
elseif matches[2] == "damaged right leg" then drl = true;brl = false;parry = true
if pta then enableTrigger("affPrompt") end
elseif matches[2] == "damaged left leg" then dll = true;bll = false;parry = true
if pta then enableTrigger("affPrompt") end
elseif matches[2] == "damaged left arm" then dla = true;bla = false;qd = "right left";parry = true
if pta then enableTrigger("affPrompt") end
elseif matches[2] == "damaged right arm" then dra = true bra = false;qd = "left right";parry = true
if pta then enableTrigger("affPrompt") end
end
--
if autoKill and target == "None" and ms.save["ta"] then
	expandAlias("pe")
end
--
--check cripples and damaged legs
if (crl and cll) or (dll and drl) then dblCrips = true end
--
if mono and not passassin and not matches[1]:find("an unknown") then
	heal()
end
if healing and matches[2]:find("clumsiness") then forceAtk() end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You are afflicted with (.+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Cured</name>
					<script>deleteLine()
for k,v in ipairs(ms.afflictions) do
	if v == matches[2] then table.remove(ms.afflictions, k) end
end
sys("Self-Cured") cecho("&lt;green&gt;"..matches[2].."&lt;DimGrey&gt;-")
if transfer == true then
  aff(matches[2])
  transfer = false
end
	if target == gmcp.Char.Name.name then ms.afflictions[matches[2]] = "notaff" end
recklessassume = recklessassume or false
if ms.class["Summoner"] and #ms.afflictions &gt;= 2 and healing and fcad then send("focus cadmus");fcad = false end
if matches[2] == "dryblood" then dryblood = false
elseif matches[2]:find("dystite") or matches[2]:find("cryosite") then send("autocuring domecap 3");send("autocuring toadstool 70", false);toadstool = true
elseif matches[2]:find("lethargy") then send("ac unassume lethargy")
elseif matches[2] == "hemotoxin" and shaman then hemotoxin = false
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug hemotoxin") end
elseif matches[2] == "sensitivity" and (defiler or zerker) then 
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug strychnine") end
elseif matches[2] == "asthma" then asthma = false
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug mercury") end
elseif matches[2] == "clumsiness" then
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug ether") end
elseif matches[2] == "paralysis" then paralysis = false
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug ciguatoxin") end
elseif matches[2] == "numbness" and not table.contains(ms.afflictions, "paralysis") then numbness = false
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug ciguatoxin") end
elseif matches[2] == "slickness" then slickness = false
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug iodine") end
elseif matches[2] == "slow balance" then
	if not shrugcd and healing and (ms.class["Assassin"] or ms.class["Renegade"]) then send("shrug noctec") end
elseif matches[2] == "recklessness" then reckless = false
elseif matches[2] == "ablaze" then ablaze = false
elseif matches[2] == "sleep" or matches[2] == "stun" then parry = false;if bash then expandAlias("b") end
elseif matches[2] == "anorexia" then anorexia = false
elseif matches[2] == "metrazol" then metrazol = false
elseif matches[2] == "impaled" then
	if creature == "khakgugh" then send("queue eqbal top up") end
	if bash then expandAlias("b") end
--elseif matches[2] == "webbed" and healing then send("queue reset eqbal");send("queue eqbal top touch torch tattoo")
elseif matches[2] == "recklessness" then recklessassume = false
elseif matches[2] == "heroism" then heroism = false
elseif matches[2] == "slow equilibrium" then slowebal = false
elseif matches[2] == "wisp poison" and healing then send("autocuring toadstool 70", false);toadstool = true
elseif matches[2] == "stun" and bash then expandAlias("b")
elseif matches[2] == "prone" then prone = false;if not bash and healing then send("mount "..ms.save["mount"]) end;if bash then expandAlias("b") end;ph = false;if hk then ikstop(ptar) end
elseif matches[2] == "haemophilia" then haemophilia = false
elseif matches[2] == "entangled" then if bash then expandAlias("b") end
elseif matches[2] == "blackout" and healing then tree = true send("concentrate")
	if bash then ebal = true;bbal = true;expandAlias("b") end
elseif matches[2]:find("crippled") then
	if matches[2]:find("left") then
		if matches[2]:find("arm") then cla = false;send(ms.save["kipup"]);qd = "left right"
		elseif matches[2]:find("leg") then cll = false;send(ms.save["kipup"]);dblCrips = false
		end
	elseif matches[2]:find("right") then
		if matches[2]:find("arm") then cra = false;send(ms.save["kipup"]);qd = "right left"
		elseif matches[2]:find("leg") then crl = false;send(ms.save["kipup"]);dblCrips = false
		end
	end
elseif matches[2] == "damaged right leg" then drl = false
elseif matches[2] == "damaged left leg" then dll = false
elseif matches[2] == "damaged right arm" then dra = false;qd = "right left"
elseif matches[2] == "damaged left arm" then dla = false;qd = "left right"
elseif matches[2]:find("crippled") then send("stand")
end
	if drl and not dll and cll then
		if tree then send("touch tree tattoo") else send("restore") end
	elseif dll and not drl and crl then
		if tree then send("touch tree tattoo") else send("restore") end
	end
if (crl and cll and cra and cla) and (not dll and not drl) then restore = true end
if bash then expandAlias("b") end
--
--</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have cured (.+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defenses Gained</name>
					<script>deleteLine()
table.insert(ms.defApplied, matches[2])
local class = gmcp.Char.Status.prof:lower()
  if table.contains(ms.save["deflist"][class], matches[2]) then
    sys("Defence") cecho("&lt;ivory&gt;"..matches[2].."&lt;ivory&gt;+ (&lt;green&gt;"..class:title().."&lt;ivory&gt;)")
  else
    sys("Defence") cecho("&lt;ivory&gt;"..matches[2].."&lt;ivory&gt;+")
  end
if matches[2] == "shrugging" then shrugging = true end
if matches[2] == "alacrity" then priest_alacrity = true end
if matches[2] == "ghost" and (ms.class["Assassin"] or ms.class["Renegade"]) then enableTimer("ghost") end
if matches[2] == "clarity" then rc = "" end
if matches[2] == "shroud" then affs = affs - 1 end
if matches[2] == "numbness" then numbed = true end
if matches[2] == "shield" then shielded = true end
if matches[2] == "engage" then engage = false end
if matches[2] == "nightfall overload" then nfo = true end
if matches[2] == "nightfall intensify" then intensified = true end
if matches[2] == "berserker focus" then zerk_focus = true;zerk_focus_cd = true end

</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have gained the (.+) defence.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defenses Lost</name>
					<script>deleteLine()
sys("Defence") cecho("&lt;DimGrey&gt;"..matches[2].."-")
if matches[2] == "shrugging" then shrugging = false
	if not shrugcd and healing and ms.class["Assassin"] then
		if (defiler or zerker) and not table.contains(ms.afflictions, "sensitivity") then send("shrug strychnine")
		elseif not asthma then send("shrug mercury")
		elseif (not numbness or not paralysis) then send("shrug ciguatoxin")
		elseif not hemotoxin then send("shrug hemotoxin")
		elseif not slickness then send("shrug iodine")
		elseif not anorexia then send("shrug bromine")
		end
	end
end
if healing then
if matches[2] == "naturebinding regen" then send("naturebind regenerate") end
if matches[2] == "alacrity" then priest_alacrity = false end
if matches[2] == "clarity" then rc = "clarity" end
if matches[2] == "landsense" and (gmcp.Room.Info.area == "the Khandava Council" or gmcp.Room.Info.area == "the City of Antioch") and healing then send("landsense all") end
if matches[2] == "soulchain" and (autoKill or gmcp.Room.Info.area == "the Khandava Council") and not mono and healing and ms.class["Summoner"] then send("queue eqbal invoke soulchain") end 
if matches[2] == "sprinting" then send("start sprinting") end
if matches[2] == "blackwind" then heal() end
if matches[2] == "numbness" then numbed = false end
if matches[2] == "shield" then shielded = false end
if matches[2] == "caloric salve" then send("heat blood") end
if matches[2] == "nightfall overload" then nfo = false end
if matches[2] == "nightfall intensify" then intensified = false end
if matches[2] == "shroud" and ms.class["Assassin"] and gmcp.Room.Info.area == "the Khandava Council" and healing then send("conjure cloak") end
if matches[2] == "engage" then engage = true;if pta then enableTrigger("affPrompt") end end
if matches[2] == "held breath" and not hbt then send("hold breath");hbt = true;tempTimer(3, [[hbt = false]]) end
if matches[2] == "cloak" then send("queue eqbal touch cloak tattoo") end
if matches[2] == "berserker focus" then zerk_focus = false end
end
for k,v in pairs(ms.defApplied) do
	if v == matches[2] then
		table.remove(ms.defApplied, k)
		return
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have lost the (.+) defence.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Damage Taken</name>
					<script>deleteLine()
jc = jc + 1

numbed = false
chg = ch - matches[3]
selfhp = matches[3] * 100 / hpp
reshp = (matches[6] - matches[3]) * 100 / matches[6]
sys("Wounded") cecho("&lt;red&gt;-"..matches[3].." &lt;cyan&gt;"..chg.."&lt;red&gt;["..string.format("%.2f", selfhp).."%] &lt;grey&gt;["..matches[6].."&lt;DimGrey&gt;(Resisted:"..string.format("%.2f", reshp).."% Type:"..matches[4]..")&lt;grey&gt;]")
wounded = tonumber(matches[3])
	if wounded &gt;= 75 and bark and ms.class["Diabolist"] then
		useBark = true
		if matches[4]:find("cutting") then damageType = "cutting" end
		if matches[4]:find("magickal") then damageType = "magickal" end
		if matches[4]:find("fire") then damageType = "fire" end
		if matches[4]:find("cold") then damageType = "cold" end
		if matches[4]:find("poison") then damageType = "poison" end
		if matches[4]:find("asphyxiation") then damageType = "asphyxiation" end
		if matches[4]:find("electricity") then damageType = "electricity" end
		if matches[4]:find("psychic") then damageType = "psychic" end
		if matches[4]:find("blunt") then damageType = "blunt" end
	end
ch = chg
if bash and ebal and bbal and wounded &gt;= 20 then expandAlias("b") end
if rd then callout("Dmg["..matches[3].."] Dmg%["..string.format("%.2f", selfhp).."]", "Raw["..matches[6].."] Resisted%["..string.format("%.2f", reshp).."] - Type: "..matches[4]) end

--
if bleed &gt; 0 then
	local bleedshow = bleed
	cecho(" &lt;SteelBlue&gt;[B:&lt;red&gt;"..bleedshow.."&lt;SteelBlue&gt;]\n") 
end
--
if autoKill and target == "None" and ms.save["ta"] then
	expandAlias("pe")
end
if mono and hp &lt; 75 and not passassin then
	heal()
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(Damage Taken:) (\d+) (.+) (\(raw damage: (\d+)\))$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Slain</name>
					<script>sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[2].." KILLED &lt;yellow&gt;]")
sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[2].." KILLED &lt;yellow&gt;]")
sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[2].." KILLED &lt;yellow&gt;]")
sendGMCP('Char.Items.Room')
if healing then to(matches[2]) end
if matches[2]:find(target) and healing then
  hypnotised = false
  seal = false
  sealed = false
  snap = false
	ik = false
	hk = false
	moon = true
	moonset = tonumber(0)
	magickset = false
	lightningset = false
	iceset = false
	repset = false
	msset = false
	sensset = false
	malset = false
	bodyset = false
	mindset = false
	stillfull = false
	stillset = false
	malfull = false
	bodyfull = false
	mindfull = false
	repfull = false
	sensfull = false
	spiderfull = false
	spiderset = false
	magickfull = false
	lightningfull = false
	icefull = false
  callout(matches[2]:title(), "DEAD")
	if autoKill then expandAlias("t none") end
	send("queue reset all")
	fat = tonumber(0);eat = tonumber(0);aat = tonumber(0);wat = tonumber(0)
end
if matches[2]:find(target) then
	for aff,state in ms.afflicted:pairs() do
		ms.afflicted[aff] = "notaff"
	end
	bhc = false
	ms.hunter.triggers = {}
	triggerCount = tonumber(0)
end
--Get Body
if healing then
	if table.contains(ms.allies, matches[2]) and res and ms.class["Deathknight"] then 
		body = "animate "..matches[2]
		send("queue eqbal stand"..s.."animate "..matches[2])
	else
		body = "get body" 
		send("queue eqbal get body") 
	end
end--healing
if healing then expandAlias("0") end
if autoKill then expandAlias("t none") end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have slain (.+).$</string>
						<string>^You have destroyed (.+)'s Avatar form.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shield</name>
					<script>shield = true
	aug()
if ms.class["Mage"] and healing then send("queue reset all"..s.."queue eqbal "..cci..""..s.."cast quickcast erode "..target) end
callout(target, "SHIELDED")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your attack is prevented by a translucent shield.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Slain</name>
					<script>sendGMCP('Char.Items.Room')
if matches[2] ~= "He" then
	if matches[3] == "himself" or matches[3] == "herself" then
	moon = true
	moonset = tonumber(0)
	magickset = false
	lightningset = false
	iceset = false
	repset = false
	msset = false
	sensset = false
	malset = false
	bodyset = false
	mindset = false
	stillset = false
	sensfull = false
	spiderfull = false
	spiderset = false
	stillfull = false
	malfull = false
	bodyfull = false
	mindfull = false
	repfull = false
	magickfull = false
	lightningfull = false
	icefull = false
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[2].." SUICIDED &lt;yellow&gt;]")
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[2].." SUICIDED &lt;yellow&gt;]")
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[2].." SUICIDED &lt;yellow&gt;]")
	callout(matches[2], "SUICIDED")
	to(matches[2])
		if healing then
			if table.contains(ms.allies, matches[2]) and res and ms.class["Deathknight"] then 
          body = "get body"..s.."animate "..matches[2]
					send("queue eqbal top stand"..s.."get body"..s.."animate "..matches[2])
      elseif table.contains(ms.allies, matches[2]) and res and ms.class["Hunter"] then 
          body = "bat resurrect "..matches[2]
          send("queue eqbal top stand"..s.."bat resurrect "..matches[2])
			else
        body = "get body"
				if ebal and bbal then 
					send("queue eqbal get body")
				end
			end
		end--healing
	elseif not table.contains(ms.allies, matches[3]) then
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[3].." KILLED &lt;yellow&gt;]")
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[3].." KILLED &lt;yellow&gt;]")
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;"..matches[3].." KILLED &lt;yellow&gt;]")
	to(matches[3])
		callout(matches[3]:title(), "DEAD")
		if healing then
			body = "get body"
			if ebal and bbal then 
				send("queue eqbal get body")
			end
		end
	elseif table.contains(ms.allies, matches[3]) then
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;Ally "..matches[3].." KILLED &lt;yellow&gt;]")
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;Ally "..matches[3].." KILLED &lt;yellow&gt;]")
	sys("Slain") cecho("&lt;yellow&gt;[ &lt;OrangeRed&gt;Ally "..matches[3].." KILLED &lt;yellow&gt;]")
		callout(matches[3]:title(), "DEAD")
		if healing then
			if table.contains(ms.allies, matches[3]) and res and ms.class["Deathknight"] then 
          body = "get body"..s.."animate "..matches[3]
					send("queue eqbal top stand"..s.."get body"..s.."animate "..matches[3])
      elseif table.contains(ms.allies, matches[3]) and res and ms.class["Hunter"] then 
          body = "bat resurrect "..matches[3]
          send("queue eqbal top stand"..s.."bat resurrect "..matches[3])
			else
				body = true
				if ebal and bbal then 
					send("queue eqbal get body")
				end
			end
		end--healing
	end
end
for k,name in ipairs(ms.people) do
	if name == matches[3] then table.remove(ms.people, k) end
end
showpeople()
if matches[3]:find(target) then
	moon = true
	moonset = tonumber(0)
	magickset = false
	lightningset = false
	iceset = false
	repset = false
	msset = false
	sensset = false
	malset = false
	bodyset = false
	mindset = false
	malfull = false
	bodyfull = false
	mindfull = false
	repfull = false
	sensfull = false
	spiderfull = false
	spiderset = false
	magickfull = false
	lightningfull = false
	icefull = false
fat = tonumber(0)
wat = tonumber(0)
eat = tonumber(0)
aat = tonumber(0)
expandAlias("0")
end
if matches[3]:find("vampiric bat") and healing then send("queue eqbal top bat summon") end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) has slain (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>My Location</name>
					<script>callout("My Location: # "..matches[2], matches[3])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Room #(\d+) - '(.+).'$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Target Called</name>
					<script>if bash and usetarget then expandAlias("tc "..matches[3])
elseif healing and usetarget and not matches[3]:find(target) then expandAlias("t "..matches[3]:lower():title())
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(\w+\)\: (\w+) says, "(?:Target|Targeting|TARGETING|TARGET)?:? (\w+)\."$</string>
						<string>^\(\w+\)\: (\w+) says, "My target is\: (\w+)\."$</string>
						<string>^\(\w+\)\: (\w+) says, "Primary (?:Target|TARGETING|TARGET)?:? (\w+)\."$</string>
						<string>^\(\w+\)\: (\w+) says, "\[Targetting\]\: (\w+)\."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Rebounding</name>
					<script>rb = true
rbhit = true
if pta then enableTrigger("affPrompt") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The attack rebounds back onto a sketch of a Renegade!</string>
						<string>The attack rebounds back onto you!</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prism</name>
					<script>if selfp then heal() selfp = false end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The plane of prismatic light disappears.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Immolate</name>
					<script>tree = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Summoning \w+ kai, \w+ channels it into your flesh, heating your skin to unnatural levels.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Immolate</name>
					<script>tree = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You feel your skin cool to its normal temperature.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prism</name>
					<script>heal()
selfp = false
if radiance then
healing = false
redosongs = false
-- cpnh()
send("acof", false)
if ms.class["Bard"] then send("sketchlink engage "..radtarget..""..s.."hum yoth "..radtarget..""..s.."queue eqbal hum kantae "..radtarget) 
elseif ms.class["Mage"] then send("cast submersion at "..radtarget)
elseif ms.class["Diabolist"] then send("eliminate "..radtarget)
elseif ms.class["Summoner"] then send("unleash marduk at "..radtarget)
end
radiance = false end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>An irresistible force pulls you along to the other end of the prismatic light.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Blackout</name>
					<script>if tree then send("touch tree tattoo") tree = false end
if ms.class["Summoner"] and fcad and healing then send("focus cadmus") end
statc()
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^H:(\d+) M:(\d+) \&lt;blackout\&gt;</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Parrying</name>
					<script>
if matches[2] == "right leg" then brl = true;bll = false;bra = false;bla = false
elseif matches[2] == "left leg" then brl = false;bll = true;bra = false;bla = false
elseif matches[2] == "right arm" then brl = false;bll = false;bra = true;bla = false
elseif matches[2] == "left arm" then brl = false;bll = false;bra = false;bla = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Painful bruises are forming on your (.+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Location - Coliseum</name>
					<script>enableTrigger("Locate Coliseum")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>2</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Name</string>
						<string>----------------------------------------------------------------------</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Locate Coliseum</name>
					<script>selectCaptureGroup(2)
replace(matches[2], fg("chocolate"))
mmp.locateAndEchoSideMS(matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+\s+.+\s+\s+(.+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Target Lost</name>
					<script>deleteLine()
sys("Target") cecho("&lt;red&gt;[&lt;yellow&gt;Miss&lt;red&gt;]")
disableTimer("cw")
if autoKill then bp = tonumber(0) end
rb = true
pta = false
sleeping = false
tlcall = true
fiendatk = true
deaf = true
cw = true
mass = false
enlcount = tonumber(0)
undeaf = false
aeon = false
fool = false
speed = true
smoked = false
incinerate = false
hp = tonumber(100)
sunder = false
hty = false
icicles = false
maff = false
sdmg = false
stripmass = false
blind = true
myried = false
kantae = false
tas = tonumber(0)
clumsy = false
transfixed = false
cl = false
sludge = false
firecircle = false
escaping = false
engage = true
zyothed = false
iengage = true
bedazzlement = false
revelation = false
dissonance = false
sfs = 0
slba = false
gba = false
taff = false
sdmg = false
enldmg = false
disableTimer("Zriku")
if ms.to then to(target) end
if qlt == nil then qlt = true end
if bash and not mmp.autowalking then
	if table.size(ms.hunt) &gt;= 1 then 
		if qlt then 
      sendGMCP('Char.Items.Room')
    end
	end
	if #ms.hunt == 0 then moveHunt() end
end
if not healing and not mono then heal() end
if bandit then bash = false bandit = false end
if creature == "beast" then expandAlias("tc nindzar");expandAlias("b") end
if lust then send("queue eqbal reject "..rj..""..s.."enemy "..rj) lust = false end
if bash and creature == "pole" then expandAlias("b boldad") end
if autoKill then
	for aff,state in ms.afflicted:pairs() do
		ms.afflicted[aff] = "notaff"
	end
end
-- if aktc &gt;= 25 then
  -- expandAlias("t none")
  -- aktc = tonumber(0)
-- elseif autoKill then
  -- aktc = aktc + 1
-- end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>I do not recognize anything called that here.</string>
						<string>Ahh, I am truly sorry, but I do not see anyone by that name here.</string>
						<string>Nothing can be seen here by that name.</string>
						<string>You detect nothing here by that name.</string>
						<string>You do not see that individual here.</string>
						<string>You don't see your target in that direction.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Location - Coliseum</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>4</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Current event: .+</string>
						<string>Time Remaining: .+</string>
						<string>Name                Location</string>
						<string>----------------------------------------------------------------------</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Vortex</name>
					<script>if matches[1]:find("vortex") then send("metawake on") end
direction = ""
if matches[2] == "north" then send("queue eqbal south") 
elseif matches[2] == "northeast" then send("queue eqbal southwest") 
elseif matches[2] == "east" then send("queue eqbal west")
elseif matches[2] == "southeast" then send("queue eqbal northwest")
elseif matches[2] == "south" then send("queue eqbal north")
elseif matches[2] == "southwest" then send("queue eqbal northeast")
elseif matches[2] == "west" then send("queue eqbal east")
elseif matches[2] == "northwest" then send("queue eqbal southeast")
elseif matches[2] == "in" then send("queue eqbal out")
elseif matches[2] == "out" then send("queue eqbal in")
elseif matches[2] == "up" then send("queue eqbal down")
elseif matches[2] == "down" then send("queue eqbal up")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A dark, swirling vortex opens to the (\w+), and drags you through it.$</string>
						<string>^Heeding the call, you mindlessly walk out to the (\w+).$</string>
						<string>^You are jolted violently (\w+)wards by powers unseen.$</string>
						<string>^Enraged and fuming, you storm off to the (\w+).$</string>
						<string>^You are dragged away by \w+ to the (\w+)\.$</string>
						<string>You suddenly hear an irresistible, alluring call, beckoning you towards it.</string>
						<string>^A terrible taunting cry assaults you from the distance. You valiantly try to ignore it, but it presses on, mocking your accomplishments and weaknesses. You are driven mad with rage, you must find the culprit!$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Monolith</name>
					<script>disableTimer("monolith")
if not ms.class["Summoner"] then
	if matches[1]:find("successfully") then 
	callout("Monolith", "Captured")
	autoKill = false
	disableTrigger("autoKill prompt")
		if gmcp.Room.Info.area == "Elemental Monolith" then
			tempTimer(3, [[expandAlias("ga")]])
		else
      if gmcp.Char.Status.name == "Mathiaus" then
			 tempTimer(3, [[expandAlias("goto stav")]])
      else
        tempTimer(3, [[expandAlias("goto home")]])
      end
		end
	heal()
	else
	callout("Monolith", "Failed")
  heal()
	monotime = tonumber(0)
	mononame = "reset"
	end
elseif ms.class["Summoner"] then
	if matches[1]:find("successfully") then 
	callout("Monolith", "Captured")
  autoKill = false
	if gmcp.Room.Info.area == "Elemental Monolith" then
		tempTimer(3, [[expandAlias("ga")]])
	else
		expandAlias("fuk")
	end
	heal()
	else
	callout("Monolith", "Failed")
	monotime = tonumber(0)
	mononame = "reset"
	end
end
--if mono then heal() end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You have successfully gained control of the monolith.</string>
						<string>You have failed to take control of the monolith.</string>
						<string>You cease your attempts to control the monolith.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prismatic barrier</name>
					<script>if matches[2]:find(target) then
	sys(matches[2]) cecho("&lt;red&gt;[ &lt;yellow&gt;PRISMATIC BARRIER DISSOLVED -&gt; "..matches[2].." &lt;red&gt;]")
	sys(matches[2]) cecho("&lt;red&gt;[ &lt;yellow&gt;PRISMATIC BARRIER DISSOLVED -&gt; "..matches[2].." &lt;red&gt;]")
	sys(matches[2]) cecho("&lt;red&gt;[ &lt;yellow&gt;PRISMATIC BARRIER DISSOLVED -&gt; "..matches[2].." &lt;red&gt;]")
callout("PRISMATIC BARRIER DISSOLVED", matches[2])
-- pb = false
if pta then enableTrigger("affPrompt") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+)'s .* barrier dissolves into nothing.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prismatic barrier</name>
					<script>if matches[2]:find(target) then
	sys(matches[2]) cecho("&lt;red&gt;[ &lt;yellow&gt;PRISMATIC BARRIER -&gt; "..matches[2].." &lt;red&gt;]")
	sys(matches[2]) cecho("&lt;red&gt;[ &lt;yellow&gt;PRISMATIC BARRIER -&gt; "..matches[2].." &lt;red&gt;]")
	sys(matches[2]) cecho("&lt;red&gt;[ &lt;yellow&gt;PRISMATIC BARRIER -&gt; "..matches[2].." &lt;red&gt;]")
callout("PRISMATIC BARRIER DISSOLVED", matches[2])
pb = true
pta = false
ptar = matches[2]
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) strums a few notes on a .+, and a prismatic barrier forms around (?:him|her).$</string>
						<string>^(.*) slowly draws a circle around (him|her)self, and a shimmering prismatic barrier slowly forms, creating a sturdy barrier around(him|her).$</string>
						<string>^Your attack is repelled by the prismatic barrier surrounding (\w+).$</string>
						<string>^(\w+) mixes some blue and green dust and sprikles it in a circle around (?:his|her)self. The circle starts glowing faintly as an impenetrable barrier slowly forms around (?:her|him).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Lust</name>
					<script>if not table.contains(ms.allies, matches[2]) then
rj = matches[2]
lust = true
msTa(matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) quickly flings a tarot card at you, and you feel unreasonable lust for \w+\.$</string>
						<string>^(\w+) quickly flings a card with the image of Lust at you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Quickdraw Harp</name>
					<script>expandAlias("tts")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You need to be playing a harp in order to perform that song.</string>
						<string>You are not wielding your daegger.</string>
						<string>You must be wielding a daegger to do that.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Trueassess</name>
					<script>if matches[2]:find(gmcp.Char.Name.name) then deleteLine()
elseif string.find(matches[2], target) == 1 and not matches[2]:find(gmcp.Char.Name.name) then deleteLine()
hp = tonumber(matches[5])
mp = tonumber(matches[8])
tth = tonumber(matches[3])
sys(matches[2]) cecho("&lt;red&gt;"..matches[3].." &lt;DimGrey&gt;[&lt;cyan&gt;"..hp.."&lt;DimGrey&gt;] &lt;DodgerBlue&gt;"..matches[6].."&lt;DimGrey&gt;[&lt;cyan&gt;"..mp.."&lt;DimGrey&gt;]")
		if hp &lt; 65 and scount &gt;= 3 and wms then fecho("Enlighten", "Queueing Whispering Madness", target);wm = true end
	callout(matches[2], matches[3].."h ["..hp.."% m:"..mp.."%]")
if hp+mp &lt; 80 and not matches[2]:find(gmcp.Char.Name.name) then pta = false; callout("USE CATHARSIS", matches[2]);if ms.class["Diabolist"] and not shield then send("queue reset all");send("queue eqbal top demon catharsis "..matches[2]) end end
if dcath then
	if infirmity and mp &gt; 60 then send("queue reset all");dcath = false
	elseif mp &gt; 50 then send("queue reset all");dcath = false
	end
end
elseif not matches[2]:find(gmcp.Char.Name.name) then
deleteLine()
hp = tonumber(matches[5])
mp = tonumber(matches[8])
sys("Trueassess") cecho("&lt;red&gt;[ &lt;yellow&gt;"..matches[2].." &lt;red&gt;] "..matches[3].."&lt;ivory&gt;[&lt;cyan&gt;"..hp.."&lt;ivory&gt;] &lt;DodgerBlue&gt;"..matches[6].."&lt;ivory&gt;[&lt;cyan&gt;"..mp.."&lt;ivory&gt;]")
end
	if cath and ms.class["Diabolist"] and not matches[2]:find(gmcp.Char.Name.name) then
		if ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) then pta = false; send("queue reset all");send("queue eqbal top demon catharsis "..matches[2]);dcath = true
		end
	elseif ms.class["Diabolist"] and not matches[2]:find(gmcp.Char.Name.name) then
		if ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) then pta = false; send("rt Cath Test Queue "..matches[2]);dcath = true
		end
  elseif ms.class["Defiler"] and not matches[2]:find(gmcp.Char.Name.name) then
    if (hp+mp &lt;= 70) then forceAtk() end
	end
if lust then
sys("Lust") cecho("&lt;red&gt;[&lt;yellow&gt;"..rj.." in Room&lt;red&gt;]")
lust = false
end
if hostage and not matches[2]:find(gmcp.Char.Name.name) then 
		send("queue reset all")
   		ptar = matches[2]
		ikstop(matches[2])
		if pta then enableTrigger("affPrompt") end
		hostage = false
elseif autoKill and not matches[2]:find(gmcp.Char.Name.name) and not table.contains(ms.allies, matches[2]) then
		expandAlias("t "..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+)'s condition stands at (\d+)/(\d+) \((\d+)\%\) health and (\d+)/(\d+) \((\d+)\%\) mana.$</string>
						<string>^The fiery wraith whispers to you that (\w+) has (\d+)/(\d+) health and (\d+)/(\d+) mana.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Unknown Affliction</name>
					<script>unknown = unknown + 1
if #ms.afflictions &gt;= 3 and healing then send("queue reset eqbal");send("queue eqbal top diag me unified") unknown = tonumber(0) end
if healing then checkss = true;send("ss", false) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are confused as to the effects of the toxin.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Targeting Aide</name>
					<script>deleteLine()
if matches[2] ~= target then
  if ms.class["Deathknight"] then send("wipe scimitar"..s.."wipe battleaxe"..s.."wipe sabre"..s.."wipe "..ms.save["longsword"]..""..s.."wipe broadsword"..s.."enemy "..matches[2]) 
  elseif ms.class["Assassin"] then send("wipe "..ms.save["dirk"]..""..s.."order loyals kill "..matches[2])
  end
  target = matches[2]:title()
  ms.hunter.triggers = {}
  fecho("Target", matches[2], "Targeted")
  if calltarget then 
  targeter(matches[2])
  end
  target = target:title()
  shardfall = false
  if id then killTrigger(id) end
  id = tempTrigger(target, [[selectString("]] .. target .. [[", 1) fg("red") deselect() resetFormat()]])
  fat = tonumber(0)
  wat = tonumber(0)
  eat = tonumber(0)
  aat = tonumber(0)
  dsear = false
  clt = true
  expandAlias("0", false)
end
move = ""
classCheck = true
expandAlias("chk "..target)
if ms.class["Hunter"] and not snare then send("queue eqbal top bat snare") end
enableTrigger("GP")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You will now focus on the actions of (\w+), ignoring anything that does not concern you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Target Not Found</name>
					<script>deleteLine()
sys("Target") cecho("&lt;red&gt;[&lt;OrangeRed&gt;"..tnf.." NOT FOUND&lt;red&gt;]")
target = tnf
creature = tnf
if id then killTrigger(id) end
id = tempTrigger(target, [[selectString("]] .. target .. [[", 1) fg("red") deselect() resetFormat()]])
expandAlias("0", false)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are unable to focus on the actions of that individual.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Acc</name>
					<script>if matches[1]:find("JOUST") then
	send("amof")
	send("dismount"..s.."mount "..mount..""..s..""..quickdraw(ms.save["lance"], ms.save["shield"])..""..s.."get 1000 gold from "..ms.save["pack"]..""..s.."accept joust "..matches[2])
  nl = tonumber(0)
else
	if not ms.class["Diabolist"] then send("get 1000 gold from "..ms.save["pack"]..""..s.."drink mana"..s.."accept "..matches[2])
	else send("get 1000 gold from "..ms.save["pack"]..""..s.."accept "..matches[2])
	end
	expandAlias("mse")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>ACCEPT (\w+) in order to do so.$</string>
						<string>ACCEPT JOUST (\w+)</string>
						<string>^Enter ACCEPT (\w+) to accept the challenge.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Vomit</name>
					<script>if healing then send("drink manna") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>As the stinking gas fills your lungs, you vomit violently.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ranged Infiltration</name>
					<script>if healing and prism then send("queue eqbal "..ms.exits[1]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A beam of prismatic light suddenly shoots into the room.</string>
						<string>The air around you is suddenly filled with the crackling of Moradeim energy.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wander</name>
					<script>send(ms.exits[1])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your eyes glaze, and you wander off.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Arrow Shield</name>
					<script>if healing then send("queue reset eqbal");send("queue eqbal top raisewings") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The arrow punches a hole through your shield, and it falls to the ground in ethereal shards.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ring Twist</name>
					<script>if matches[2]:find(target) then
callout("Raksha Band", matches[2])
if (matches[2]:find(target) or matches[3]:find(target)) and not tlock then enableTimer("affreset");disableTimer("cw");ashcloud = false end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) twists \w+ ring and fades from view\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tumbles</name>
					<script>if matches[2]:find(target) then
	send("queue eqbal top touch brazier "..matches[2])
	tumbling = false
end
--move = matches[3]
--if pta then enableTrigger("affPrompt") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) tumbles out to the (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tumbling</name>
					<script>if matches[2]:find(target) then
	sys(matches[2]) cecho("&lt;red&gt;[&lt;yellow&gt;Tumbling!&lt;red&gt;]")
	callout("TUMBLING "..matches[3]:title(), matches[2])
	tumbling = true
  forceAtk()
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) begins tumbling towards the (\w+).</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Coliseum</name>
					<script>arenagame = matches[2]
arenaloc = matches[3]
if autoKill and healing then 
	expandAlias("mse")
	expandAlias("je") 
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^   - JOIN (\w+) (.+) to participate.$</string>
						<string>^   Participation\: JOIN (\w+) (.+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Pipes</name>
					<script>if matches[3] == "laurel" then pipe1 = matches[2];rfp1 = tonumber(matches[4]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^pipe(\d+)\s+(laurel|lovage)\s+(\d+)\s+\-$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Pipes</name>
					<script>if matches[2] == "laurel" then rfp1 = rfp1 - 1 end
if rfp1 &lt;= 0 or rfp2 &lt;= 0 then rfp = true end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You take a long drag off your pipe, filling your lungs with (laurel|lovage) smoke.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Stripped</name>
					<script>	if healing then
if matches[2] == "shroud" and ms.class["Bard"] then send("sketchlink cloak") end
if matches[2] == "skywatch" then send("skywatch") end
if matches[2] == "mindseye" then send("mindseye") end
if matches[2] == "vigilance" then send("vigilance") end
if matches[2] == "telesense" then send("telesense") end
if matches[2] == "clarity" then send("queue eqbal clarity")
elseif matches[2] == "tenemecy" then send("queue eqbal tenemecy") 
elseif matches[2] == "enhanced learning" then send("queue eqbal eat myrrh") 
elseif matches[2] == "nightsight" then send("queue eqbal nightsight") 
elseif matches[2] == "demon regeneration" then send("queue eqbal demon regeneration")
elseif matches[2] == "ritualism anae-antarea" then send("queue eqbal trace vitality me")
elseif matches[2] == "third eye" then send("queue eqbal thirdeye") 
elseif matches[2] == "cloak" then send("queue eqbal touch cloak") 
elseif matches[2] == "hood" then send("queue eqbal touch hood") 
--elseif matches[2] == "torch" then send("queue eqbal touch torch")
elseif matches[2] == "bandages" then send("queue eqbal apply bandages") 
elseif matches[2] == "celerity" then send("queue eqbal celerity") 
elseif matches[2] == "deathsight" then send("queue eqbal deathsight") 
elseif matches[2] == "befuddle" then send("queue eqbal befuddle on") 
elseif matches[2] == "distortion" then send("queue eqbal invoke distortion")
elseif matches[2] == "warmth" then send("queue eqbal invoke warmth")
elseif matches[2] == "alertness" then send("queue eqbal alertness")
elseif matches[2] == "hypersight" and not ms.class["Diabolist"] then send("queue eqbal hypersight")
elseif matches[2] == "necrosis" and ms.class["Deathknight"] then send("queue eqbal necrosis")
elseif matches[2] == "necrosis" and ms.class["Diabolist"] then send("queue eqbal demon necrosis")
elseif matches[2] == "nightfall" and ms.class["Diabolist"] then send("queue eqbal nightfall")
elseif matches[2] == "soulmask" and ms.class["Diabolist"] then send("queue eqbal demon soulmask")
elseif matches[2] == "vengeance" and ms.class["Deathknight"] then send("queue eqbal vengeance")
elseif matches[2] == "deathaura" and ms.class["Deathknight"] then send("queue eqbal deathaura")
elseif matches[2] == "demonarmor" and ms.class["Diabolist"] then send("queue eqbal demon armor")
elseif matches[2] == "lifevision" and ms.class["Diabolist"] then send("queue eqbal trace dens-sanve me")
elseif matches[2] == "putrefaction" and ms.class["Deathknight"] then send("queue eqbal putrefaction")
elseif matches[2] == "soulmask" and ms.class["Diabolist"] then send("queue eqbal demon soulmask")
elseif matches[2] == "waterwalking" and ms.class["Mage"] then send("queue eqbal cast waterwalking")
elseif matches[2] == "waterbreathing" and ms.class["Mage"] then send("queue eqbal cast waterbreathing")
elseif matches[2] == "stoneskin" and ms.class["Mage"] then send("queue eqbal cast stoneskin")
elseif matches[2] == "windveil" and ms.class["Mage"] then send("queue eqbal cast windveil")
elseif matches[2] == "shimmer" and ms.class["Mage"] then send("queue eqbal cast shimmer")
elseif matches[2] == "hide" and ms.class["Assassin"] then send("queue eqbal hide")
elseif matches[2] == "harden" and ms.class["Assassin"] then send("queue eqbal harden")
elseif matches[2] == "weaving" and ms.class["Assassin"] then send("queue eqbal weaving on")
elseif matches[2] == "pacing" and ms.class["Assassin"] then send("queue eqbal pacing on")
elseif matches[2] == "ghost" and ms.class["Assassin"] then send("queue eqbal conjure ghost")
elseif matches[2] == "shroud" and ms.class["Assassin"] then send("queue eqbal conjure cloak")
elseif matches[2] == "shrugging" and ms.class["Assassin"] then send("shrug "..shrugToxin)
elseif matches[2] == "demonprotect" and ms.class["Assassin"] then send("queue eqbal demonprotect")
end
	end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A sickly light fills your vision and you feel your (.+) defence stripped.$</string>
						<string>^The basilisk strips your (.+) defence.$</string>
						<string>^You suddenly feel that it would be a fine idea to relax your (.+) defence\.$</string>
						<string>^The root strips your (.+) defence.$</string>
						<string>^Your (.+) defence has been stripped by \w+'s Ouroboros.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Mounted Rider</name>
					<script>callout("Incoming", "MOUNTED RIDER at "..gmcp.Room.Info.num)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You notice a mounted rider approaching from the distance.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bash Lines</name>
					<script>if healing and bash then 
  if ql then
    sendGMCP('Char.Items.Room') 
  end
  expandAlias("b") 
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Slowly creeping into the room a giant tarantula looks for prey.</string>
						<string>Crawling out of some dank corner, a giant tarantula creeps toward you.</string>
						<string>With uncanny speed, a giant tarantula darts into view.</string>
						<string>A giant tarantula crawls into the room from the shadows.</string>
						<string>^A ?.+?rat pokes into the room in search of scraps to eat.$</string>
						<string>^Squeaking at you wildly, a ?.+?rat appears from a dark corner.$</string>
						<string>^A ?.+?rat darts into the shadows and disappears.$</string>
						<string>^With a flick of its small whiskers, a ?.+?rat dashes out of view.$</string>
						<string>^A ?.+?rat pokes into the room in search of scraps to eat.$</string>
						<string>^A ?.+?rat wanders back into its warren where you may not follow.$</string>
						<string>^A ?.+?rat dashes from the shadows.$</string>
						<string>^Quietly a ?.+?rat darts across the floor.$</string>
						<string>^\w+ looks around and .+ suddenly appears\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Move</name>
					<script>deleteLine()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You cannot move that fast, slow down!</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defended</name>
					<script>if matches[3]:find(target) then
callout(matches[2].." DEFENDING", matches[3])
tdef = true
deft = matches[2]
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) intercepts the attack against (\w+)!$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>pis</name>
					<script>if table.contains(ms.allies, matches[2]) then
	table.insert(ms.pa, matches[2])
else
	table.insert(ms.pe, matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^ - (\w+) at</string>
						<string>^   (\w+) at</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>pis prompt</name>
					<script>disableTrigger("pis")
if table.size(ms.pe) == 0 then
sys("Area") cecho("&lt;red&gt;No Enemies")
else
callout(gmcp.Room.Info.area, "Enemies: "..table.concat(ms.pe, ", "))
	for _,v in pairs(ms.pe) do send("enemy "..v)	end
end
disableTrigger("pis prompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hood/cloak Strip</name>
					<script>if healing then send("queue eqbal touch brazier "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(\w+\): \w+ says, "\[STRIPPED\] (\w+) --&gt; (?:hood|cloak)."$</string>
						<string>^\(\w+\): \w+ says, "(?:Brazier|BRAZIER) (\w+) ?(now|NOW)?."$</string>
						<string>^\(\w+\): \w+ says, "Stripped (?:hood|cloak) (\w+)\."$</string>
						<string>^\(\w+\): \w+ says, "\[Reporting\]: Brazier (\w+) now\."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tentacle</name>
					<script>if matches[2]:find(target) and healing and not flinged then
callout("Tentacle", matches[2])
if not ms.class["Summoner"] then send("queue eqbal touch tentacle "..matches[2]) end
skies = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+)?.+? quickly disappears into the skies.$</string>
						<string>^(\w+) begins to flap \w+ wings powerfully, and rises quickly up into the firmament.$</string>
						<string>^(\w+),.+, begins to flap \w+ wings powerfully, and rises quickly up into the firmament.$</string>
						<string>^The image of (\w+) blurs, fading to a green nebula as he vanishes to the skies.$</string>
						<string>^(\w+),?(.+)? is quickly carried up into the skies.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Undefended</name>
					<script>if matches[3]:find(target) then
callout("Forced UNDEFEND on "..matches[2], matches[3].." OPEN!")
deft = matches[2]
tdef = false
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) backs away from (\w+), leaving \w+ open to attack once more.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defending</name>
					<script>if matches[3]:find(target) then
callout(matches[2].." is DEFENDING", matches[3])
deft = matches[2]
tdef = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) moves to the side of \w+ ally, (\w+), ready to defend \w+ against all foes.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Limb Damage Tracking</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Limbs Hit</name>
						<script>sys("Limb") cecho("&lt;red&gt;[&lt;yellow&gt;"..matches[2]:title().." Hit&lt;red&gt;]")
if matches[2] ~= "back" then mlh = matches[2] end
parry = true

</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Lightning-quick, \w+ jabs your (.+) with .+\.$</string>
							<string>^\w+ swings .+ at your (.+) with all \w+ might.$</string>
							<string>^\w+ slashes into your (.+) with .+\.$</string>
							<string>^\w+ stabs forth with blinding speed, driving the tip of \w+ knife into your (.+).$</string>
							<string>^Your (.+) threatens to buckle as \w+ hooks the razor edge of \w+ knife through it.$</string>
							<string>^\w+ kicks off the ground, momentarily becoming a blurred cyclone of motion as \w+ knife rips into your (.+) twice before \w+ touches down.$</string>
							<string>^\w+ hack at your (.+) viciously with .+.$</string>
							<string>^Ethereal tendrils lash at your (.+) as \w+ jabs you with .+ javelin.$</string>
							<string>^\w+ slips behind you and jabs .+ javelin into your (.+), sending lightning to course over your body.$</string>
							<string>^\w+ stabs you with .+ javelin, green haze flowing over your (.+).$</string>
							<string>^\w+ spins before you, slicing your (.+) several times with .+ flail, sparks exploding on contact.$</string>
							<string>^\w+ ravages your (.+), ethereal ghostly shapes screaming from the .+\.$</string>
							<string>^\w+ jabs forward with .+ glaive at your (.+), taking a step in closer\.$</string>
							<string>^\w+ aims a short, quick jab at your (.+) with .+ glaive\.$</string>
							<string>^\w+ slices at your (.+) viciously with .+\.$</string>
							<string>^Stinging pain hits you as \w+ rakes you across the (.+) with the tip of .+ glaive\.$</string>
							<string>^\w+ dives forward to thrust .+ glaive into your (.+)\.$</string>
							<string>^\w+ hacks at your (.+) viciously with .+\.$</string>
							<string>^\w+ staggers forward and drunkenly throws .+ at your(.+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Monk hit</name>
						<script>sys("Limb") cecho("&lt;red&gt;[&lt;yellow&gt;"..multimatches[2][2]:title().." Hit&lt;red&gt;]")
mlh = multimatches[2][2]
parry = true
if multimatches[1][2]:find(target) then monk = true end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) forms a spear hand and stabs out at you.$</string>
							<string>^\w+ connects to the (.+)\!$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Monk Hit</name>
						<script>sys("Limb") cecho("&lt;red&gt;[&lt;yellow&gt;"..multimatches[2][2]:title().." Hit&lt;red&gt;]")
mlh = multimatches[2][2]
parry = true
if multimatches[1][2]:find(target) then monk = true end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) balls up one fist and hammerfists you.$</string>
							<string>^\w+ connects to the (.+)\!$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Autocuring</name>
					<script>deleteLine()
if matches[2] == "activated" then
sys("Autocuring") cecho("&lt;green&gt;ON")
healing = true
redosongs = true
mono = false
-- cph()
sys("MS") cecho("&lt;yellow&gt;Healing&lt;ivory&gt;+")
else
sys("Autocuring") cecho("&lt;red&gt;OFF")
healing = false
redosongs = false
-- cpnh()
sys("MS") cecho("&lt;red&gt;Healing&lt;DimGrey&gt;-")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Autocuring (activated|disabled)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>resurrected</name>
					<script>if table.contains(ms.allies, matches[2]) then callout("Resurrected", matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You reach down and embrace the body of (\w+), concentrating on imbuing it with the essence of Life that churns inside you. A white light begins to shine from within you, and you gasp as you feel Life flow from within you into the body of (\w+), who stands up before you, unharmed.$</string>
						<string>^(\w+) rises from the ground in undeath.$</string>
						<string>^A starburst tattoo flares and bathes (\w+) in a nimbus of white light.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Foreboding Stone/Lyncantha</name>
					<script>ms.fs = ms.fs or {}
deleteLine()
if not table.contains(ms.fs, matches[2]) and ((table.contains(ms.allies, matches[2]) == false) or matches[2]:find(target)) then
	table.insert(ms.fs, matches[2])
  if matches[2]:find("Ruga") and mono then expandAlias("goto home") end
end
if target ~= matches[2] and not table.contains(ms.allies, matches[2]) and mcp.Room.Info.area:find("the Khandava Council") then
	fbs = true;fbt = matches[2];expandAlias("chk "..matches[2])
end
enableTrigger("FSPrompt")
noecho = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your foreboding stone glows, warning you that (\w+) is nearby\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>FSPrompt</name>
					<script>if #ms.fs &gt;= 1 then 
	callout("[Forebode] "..gmcp.Room.Info.area:title(), table.concat(ms.fs, ", "))
	sys("Foreboding Stone") cecho("&lt;red&gt;[&lt;ivory&gt;"..table.concat(ms.fs, ", ").."&lt;red&gt;]")
end
ms.fs = {}
disableTrigger("FSPrompt")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Soulspear</name>
					<script>deleteLine()
fecho("MS", "Soulspear", "Check for Thrower")
callout("Soulspear", "Check for Thrower") </script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A glowing spear comes flying in towards \w+. It buries itself in .+ gut, impaling \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Buried</name>
					<script>send("queue eqbal burrow above")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ points \w+ quarterstaff towards you and .+ entwines itself firmly around your feet, dragging you under the ground.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Lust</name>
					<script>if not table.contains(ms.allies, matches[2]) then send("queue eqbal reject "..matches[2]..""..s.."enemy "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You feel an unusually strong lust for (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Vitality</name>
					<script>if matches[2]:find(target) or not table.contains(ms.allies, matches[2]) then
	fecho(matches[2], matches[2], "Hit Vitality!")
	callout(matches[2], "Hit Vitality!")
	if healing  then msTA(matches[2]) end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) swoons for a moment then rises again, flushed but strong.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Touch map</name>
					<script>if healing and universe then 
	send("queue eqbal touch "..loc) 
	universe = false
end
if loc == "Khandava" then
	tempTimer(1, [[expandAlias("goto 2251")]])
elseif loc == "Graytrem" then
	tempTimer(1, [[expandAlias("goto root")]])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A shimmering, translucent image rises up before you, its glittering surface displaying the verdant grasslands, soaring mountains, sprawling settlements and deep blue seas of the Aetherian mainland.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Starburst/Redemption</name>
					<script>if not table.contains(ms.allies, matches[2]) then
	callout("ENEMY RESURRECTED", matches[2])
	fecho("Resurrected", "Resurrected", matches[2])
	if matches[2]:find(target) and healing then expandAlias("0") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A starburst tattoo flares and bathes (\w+) in a nimbus of white light.$</string>
						<string>^The last vestiges of strength having ebbed from (\w+)'s body, \w+ sinks to the floor with a sigh. Suddenly, your surroundings are enveloped in a blinding white light, forcing you to cower with your hands over your eyes. When you tentatively open them once more, you are astonished to find (\w+) alive once more.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Self Starburrst</name>
					<script>songs = 0</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your starburst tattoo flares as the world is momentarily blurred in white light.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Skywatch</name>
					<script>if matches[2]:find(target) and healing then
	callout("SKYWATCH", matches[2])
	if not flinged then send("queue eqbal touch tentacle "..matches[2]) end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) flies into view directly overhead.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Crawler</name>
					<script>if bash and ms.class["Bard"] and ebal then
	send("stand")
	if healme then send("hum ta chi llan me shaite "..creature) 
	else send("hum rubait "..creature.." shaite "..creature) 
	end
elseif bash and ms.class["Mage"] and ebal then
	magebash(creature)
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The horrific sounds of flesh scraping on cement coincides with the flailing tentacles of a deformed crawler entering from the \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Diag</name>
					<script>table.insert(ms.afflictions, matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>afflicted with (.+)\.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Diag Start</name>
					<script>ms.afflictions = {}
ba = tonumber(0)
enableTrigger("Diag")
enableTrigger("Diag Stop")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You are\:$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Diag Stop</name>
					<script>disableTrigger("Diag")
disableTrigger("Diag Stop")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Brazier Ally</name>
					<script>if healing and (table.contains(ms.allies, matches[2]) or matches[2]:find(target)) then
send("queue eqbal touch brazier "..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) is violently ripped from your location by a distant summoning.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Engaging Me</name>
					<script>if healing then callout(gmcp.Char.Name.name:upper(), "Targeted by "..matches[2]:upper().." at "..gmcp.Room.Info.num.." in "..gmcp.Room.Info.area) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) moves in to engage you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hypnosis</name>
					<script>fecho("Hypnosis", matches[2], "SNAPPED")
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) snaps \w+ fingers in front of you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Juggle</name>
					<script>deleteLine()
fecho("Thespia", "Juggling", matches[2])
juggling = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You begin to juggle (.+) with your free hand.$</string>
						<string>You cannot juggle more than three things.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Stupidity - Me</name>
					<script>slba = false
maff = false
sdmg = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>That action is too complex for your poor little brain to handle, and you decide to just stare vacantly instead.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fox Deliver</name>
					<script>send("queue eqbal order fox return")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A bushy tailed fox named Swiper has delivered .+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Restore Limbs</name>
					<script>--if healing and not drl and not dll then send("restore") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^As both your (arms|legs) are crippled, you cannot do that.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Trueassess Called</name>
					<script>if matches[2]:find(target) then 
	deleteLine()
	hp = tonumber(matches[4]) 
	mp = tonumber(matches[5])
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(Ring\)\: \w+ says, "(\w+) \- (\d+)h \[(\d+)% m\:(\d+)\]\."$</string>
						<string>^\(\w+\)\: \w+ says, "(\w+) at (\d+)h (\d+)% health, (\d+)% mana\."$</string>
						<string>^\(\w+\)\: \w+ says, "(\w+) Has\: Health\: (\d+) \[(\d+)\%\] Mana\: \d+ \[(\d+)\%\]\."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shield</name>
					<script>shield = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You touch your tattoo and summon the hammer but find nothing to strike.$</string>
						<string>^You raze (\w+)'s translucent shield with .+\.$</string>
						<string>^Your arrow strikes (\w+) with its blunt end.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Heal ON</name>
					<script>if not healing then heal() end
if ms.class["Diabolist"] then expandAlias("tts") end
if matches[1]:find("wormhole") then
	for aff,state in ms.afflicted:pairs() do
		ms.afflicted[aff] = "notaff"
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your target has left.</string>
						<string>You cease your attempt to sacrifice your body to an undead state.</string>
						<string>You cease concentrating on forming the link.</string>
						<string>You stop capturing the hill.</string>
						<string>^\w+ is already mining here\.$</string>
						<string>Your vivisection attempt fails as your victim has fled.</string>
						<string>You cease your vivisection attempt.</string>
						<string>You cease the whirling of your weapon over your head.</string>
						<string>^Seeing no likely target, you cease swinging your .+ about your head.$</string>
						<string>Your target has moved out of the range of your sunder.</string>
						<string>You don't see any such player in an adjacent location.</string>
						<string>It would be folly to start a beheading on one so free to move about.</string>
						<string>You are unable to maintain your concentration on the symbol, and it vanishes.</string>
						<string>Your concentration breaks and you are unable to continue the catharsis.</string>
						<string>Your foe has fled from you.</string>
						<string>Your actions cause the healing energy of Aryana to leave you.</string>
						<string>The healing aura of Aryana leaves you.</string>
						<string>The Ouroboros ceases its catharsis, as its target has fled.</string>
						<string>A short burst of azure light fills your vision and when it is gone, you find yourself phased out of sync with the rest of reality.</string>
						<string>You step through the image of the Hermit and are flung across the land.</string>
						<string>The card has no effect, as it is not affiliated with any location.</string>
						<string>With a blur, the pages of your atlas begin to flip noisily.</string>
						<string>You cease your devouring attempt and your wormhole stops sucking in air.</string>
						<string>^You attempt to unleash the power of your wormhole upon \w+, but \w+ mind proves too strong and \w+ deflects the attempt easily.$</string>
						<string>You cannot capture that.</string>
						<string>You feel confident that your aim is accurate.</string>
						<string>You hurl yourself head first into the debris and find yourself safely back within your grove.</string>
						<string>The land sighs around you as the link between you fades imperceptibly into oblivion.</string>
						<string>You hurl yourself head first into the undergrowth and find yourself safely back within your grove.</string>
						<string>^You use .+ \(death\) on \w+.$</string>
						<string>You use Sabotage Phase.</string>
						<string>You use Weaponry Behead (fail).</string>
						<string>^You use Weaponry Behead \(fail \- neck guard\) on \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>1</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>1</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>2</integer>
						<integer>3</integer>
						<integer>1</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>1</integer>
						<integer>3</integer>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Died</name>
					<script>callout("Died to "..matches[2], gmcp.Room.Info.area.." ["..gmcp.Room.Info.num.."]")
cecho("\n\n&lt;red&gt;Died at "..gmcp.Room.Info.area.." ["..gmcp.Room.Info.num.."]\n")
send("rt Vv(xXx''xXx)vV")
send("queue reset all")
healing = false
dat = gmcp.Room.Info.num
songs = 0
ba = tonumber(0)
shardclot = true
rebuff = true
dead = true
fiend = false
dtype = "none"
dhunt = true
sshunt = true
recklessassume = false
crl = false
cll = false
cra = false
cla = false
dll = false
drl = false
dla = false
dra = false
brl = false
bll = false
bla = false
bra = false
ms.afflictions = {}
acount = tonumber(0)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have been slain by (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Trueassess Called</name>
					<script>if matches[2]:find(target) then
	hp = tonumber(matches[3])
	mp = tonumber(matches[4])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(\w+\): \w+ says, "(\w+) - \d+h \[(\d+)\% m:(\d+)\%\]."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prism</name>
					<script>callout("[Prism]", prismtarget)
prismtarget = ""</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You touch the prism tattoo and suddenly a razor-thin beam of prismatic light shoots off into the distance.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Numbness Me</name>
					<script>send("autocuring assume numbness")
numbness = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your muscles are too numb for you to do that.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Contemplate</name>
					<script>if matches[2]:find(target) or not table.contains(ms.allies, matches[2]) then
	deleteLine()
	mp = tonumber(math.floor(matches[3]*100/matches[4]))
	sys(matches[2]) cecho("&lt;cyan&gt;"..mp.."%")
	if cath and ms.class["Diabolist"] then
		if ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) then pta = false; send("queue reset all");send("queue eqbal top demon catharsis "..matches[2]);dcath = true
		end
	elseif ms.class["Diabolist"] then
		if ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) then pta = false; send("rt Cath Queue "..matches[2]);dcath = true
		end
	end
mbar:setValue(mp, 100, [[&lt;font color="black"&gt;&lt;b&gt;Mana (]]..mp..[[%)&lt;/b&gt;&lt;/font&gt;]])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+)'s mana stands at (\d+)/(\d+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hunt Aggro</name>
					<script>if bash and healing and ql then
	sendGMCP('Char.Items.Room')
  expandAlias("b")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^.+ snarls angrily at \w+ and moves in for the kill.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Restored Limb</name>
					<script>heal()
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Energy wreathes itself about your .+, curing all of the damage done to it.$</string>
						<string>^Energy wreathes itself about your .+, curing some of the damage done to it.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>dpr</name>
					<script>if not table.contains(ms.allies, matches[2]) then
	table.insert(ms.dpre, matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) is at (.+)\, at .+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>dprp</name>
					<script>disableTrigger("dpr")
disableTrigger("dprp")
if not ms.dpre[1] then sys("Demon Presences") cecho("&lt;red&gt;NONE")
else callout("[Demon Presence]", table.concat(ms.dpre, ", "))
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Paralysis</name>
					<script>paralysis = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your muscles cry out in agony as you try to call them to action.</string>
						<string>The paralysis of your muscles prevents you from doing that.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Chained</name>
					<script>callout("CHAINED "..matches[2], "["..gmcp.Room.Info.num.."]")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You toss an ethereal chain swiftly at (\w+), chaining \w+ to you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Douse Fire</name>
					<script>--send("douse fire")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The roaring inferno engulfs you as you fight to find a way out.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Chain Down</name>
					<script>callout("Chain DOWN", matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You can once again move freely as the chain binding you to (\w+) falls off.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bomb</name>
					<script>if matches[1]:find("gives") then bomb = true;bombGiver = matches[2]
elseif matches[2] then send("queue eqbal get bomb"..s..""..quickdraw(ms.save["bomb"], ms.save["shield"])..""..s.."throw bomb "..matches[2])
else send("queue eqbal get bomb"..s..""..quickdraw(ms.save["bomb"], ms.save["shield"])..""..s.."throw bomb "..ms.exits[1]) 
end

</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^.+, dropping a shard bomb into your hands.$</string>
						<string>^(?:A|An) \w+ bomb comes flying in from the (\w+) and lands on the ground with a 'thump.$</string>
						<string>^(?:A|An) \w+ bomb comes falling down from above to land with a 'THUMP.'$</string>
						<string>^(\w+) gives an \w+ bomb to you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Burrow Above</name>
					<script>send("burrow above")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are packed much too tightly into the earth to do that.</string>
						<string>You cannot do that while underground.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Target Prone</name>
					<script>if matches[2]:find(target) then
tprone = true
tik = false
end
if matches[2]:find(ptar) then
hk = false
end
if pta then enableTrigger("affPrompt") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) sits down\.$</string>
						<string>^(\w+) falls to \w+ knees as the shaft of sound strikes \w+\.$</string>
						<string>^You gather your breath and hurl a piercing battlecry towards (\w+).$</string>
						<string>^At \w+'s command, .+ lifts (\w+) into the air and throws \w+ painfullyagainst the ground.$</string>
						<string>^(\w+) is thrown to the ground by the force of the wind.$</string>
						<string>^A buffer of wind hits (\w+), knocking \w+ to the ground.$</string>
						<string>^(\w+) falls heavily to the ground.$</string>
						<string>^(\w+)'s eyes close suddenly as \w+ falls asleep.$</string>
						<string>^\w+ swings .+ mace at (\w+)'s knees, knocking \w+ to the ground.$</string>
						<string>^\w+ lashes out with .+ and strikes (\w+) in the knees, knocking \w+ to the ground.$</string>
						<string>^\w+ steps forward, easily hooking \w+ leg around (\w)'s own and knocking \w+ to the ground with a blow to the chest.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shard Clot - used</name>
					<script>shardclot = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You draw the energy stored within a shard into yourself, and feel some of your wounds stop bleeding.</string>
						<string>You are not yet able to use that ability again.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shard Clot - ready</name>
					<script>shardclot = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are again able to clot your wounds with shard energy.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Parry</name>
					<script>deleteLine()
parry = false
plh = ""
mlh = ""
plimb = ""
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You will now attempt to parry attacks to your (?:right|left) (?:leg|arm)\.$</string>
						<string>You will now attempt to parry attacks to your head.</string>
						<string>You will now attempt to parry attacks to your torso.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Masked Recklessness</name>
					<script>if not dead then send("autocuring assume recklessness") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>(The Mark of Belial suddenly explodes into searing flames!|The Mark of Belial on your body flares briefly.)</string>
						<string>H:\d+\(100%\)</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Trader Aggro</name>
					<script>--if healing then 
--noheal()
--bash = false
--send("queue eqbal stand"..s.."strum lyre")
--end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A .+ caravan trader snarls angrily at you and moves in for the kill.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Possible Deliverance</name>
					<script>if matches[2]:find(target) then
if ms.class["Diabolist"] and not tprone then 
	send("queue eqbal deadeyes "..target.." breach plague")
elseif ms.class["Assassin"] then
	send("queue eqbal top "..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s.."dstab "..target.." aconite cyanide")
end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>\. (\w+) is sitting on the ground.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prone - Me</name>
					<script>prone = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You must first raise yourself and stand up.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Instant Killing</name>
					<script>ik = true
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You begin to blend your mind with that of the daegger, suppressing your disgust as its alien thoughts come into contact with yours.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Focus/Tree/Eat Assume</name>
					<script>send("autocuring unassume all", false)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(You touch the tree of life tattoo.|You focus your mind intently on curing your mental maladies.|You quickly eat .+\.)$</string>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Purge Assume</name>
					<script>send("autocuring unassume all")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You find your body already clear of harmful substance.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Health Gain</name>
					<script>deleteLine()
chg = ch + matches[2]
chp = math.max(matches[2]*100/chf)
sys("Health") cecho("&lt;ivory&gt;+&lt;green&gt;"..matches[2].." &lt;cyan&gt;"..chg.."&lt;red&gt;["..string.format("%.2f", chp).."%]")
ch = chg
reckless = false
--
if bleed &gt; 0 then
	local bleedshow = bleed
	cecho(" &lt;SteelBlue&gt;[B:&lt;red&gt;"..bleedshow.."&lt;SteelBlue&gt;]\n") 
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Health Gain: (\d+)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>I'm hit!</name>
					<script>if healing then checkss = true;send("ss", false) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ lashes out with \w+ wicked talons, drawing slices across your body.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Scrying</name>
					<script>mmp.locateAndEchoSideMS(matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>1</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Distance to \'(.+)\'\:</string>
						<string>^Monolith at (.+) is controlled by \w+$</string>
						<string>^ \- (?:A masked man|A masked woman|\w+) at (.+)$</string>
						<string>^A shimmering image of \w+ appears before you. \w+ is at (.+).$</string>
						<string>^\w+ is attempting to control the monolith at (.+)\!$</string>
						<string>^A shimmering image of .+ appears before you. It is located at (.+).$</string>
						<string>^You sense the body of \w+ at (.+).$</string>
						<string>^Ball Location: (.+)$</string>
						<string>^Flag\d+\s+.+\s+(.+)\.$</string>
						<string>^The word glows dimly and briefly transforms into an image of (.+), then it vanishes without a trace.$</string>
						<string>^\w+\s+Personal\s+(.+)$</string>
						<string>^\(\w+\): \w+ says, "\w+ is at (.+)\."$</string>
						<string>\w+ spent \d+ belief on a shrine at (.+) \(sanctify\)$</string>
						<string>^The ouroboros reports that it sees \w+ at (.+) in .+, at \d+ health and \d+ mana.$</string>
						<string>^You sprint \w+ to \'(.+)\'\.$</string>
						<string>^She detects \w+ at (.+)\.$</string>
						<string>^You sense a stable wormhole leading to (.+)\.$</string>
						<string>^You seek out the presence of \w+ and find \w+ at (.+)\.$</string>
						<string>^You sense this death occurring at (.+)\.$</string>
						<string>^You sense (?:a|an) .+ at (.+)\.$</string>
						<string>^\w+ is at (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Dead/Arena</name>
					<script>for aff,state in ms.afflicted:pairs() do
	ms.afflicted[aff] = "notaff"
end
if autoKill then expandAlias("akt") end
buff = 0
songs = 0
bloodworms = false
deadbuff = tonumber(1)
if ms.class["Summoner"] then bnum = tonumber(16) end
rebuff = true
dead = true
bash = false
fiend = false
dtype = "none"
fiery = tonumber(0)
glowing = tonumber(0)
vigorous = tonumber(0)
whispering = tonumber(0)
translucent = tonumber(0)
reflective = tonumber(0)
ethereal = tonumber(0)
midnight = tonumber(0)
crl = false
cll = false
cra = false
cla = false
dll = false
drl = false
dla = false
dra = false
paralysis = false
heroism = false
numbed = false
ms.afflictions = {}
acount = tonumber(0)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>&lt;dead&gt;</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Toadstool</name>
					<script>deleteLine()
sys("Healing") cecho("&lt;green&gt;Toadstool")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You feel your health and mana replenished.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Health</name>
					<script>deleteLine()
sys("Healing") cecho("&lt;red&gt;Health")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The elixir heals your body.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Prompt Stop</name>
					<script>disableTrigger("Check Defences")
disableTrigger("Prompt Stop")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Mana</name>
					<script>deleteLine()
sys("Healing") cecho("&lt;DodgerBlue&gt;Mana")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your mind feels rejuvenated.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Harvest Shard</name>
					<script>send("queue eqbal harvest shard")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You finish unearthing</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Damage Dealt</name>
					<script>creatureHealth = math.floor(tonumber(matches[3]))
deleteLine()
cecho(" &lt;ivory&gt;- &lt;OrangeRed&gt;"..matches[2].." &lt;ivory&gt;[&lt;DodgerBlue&gt;"..matches[3].."&lt;ivory&gt;%]");if critx ~= 0 then cecho(" &lt;SteelBlue&gt;Crit: (&lt;yellow&gt;"..critx.."x&lt;SteelBlue&gt;)\n") end
dps = dps + matches[2]
critx = 0</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Damage dealt: (\d+) Remaining: (.+)\%$</string>
						<string>^Damage dealt: (\d+) \(some resisted\) Remaining: (.+)\%$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Slain</name>
					<script>sys("Slain") cecho("&lt;red&gt;[&lt;OrangeRed&gt;"..matches[2]:title().."&lt;red&gt;]")
sys("Slain") cecho("&lt;red&gt;[&lt;OrangeRed&gt;"..matches[2]:title().."&lt;red&gt;]")
sys("Slain") cecho("&lt;red&gt;[&lt;OrangeRed&gt;"..matches[2]:title().."&lt;red&gt;]")
sendGMCP('Char.Items.Room')
if matches[2]:find("bloodworm") then bloodworms = false end
if matches[2]:find("caravan trader") then send("pc") end
if matches[2]:find("undead rabbit") and bash and healing then creature = "irqua" end
if matches[2]:find("blue orb of light") and bash and healing then creature = "deradril" end
if ebal and bbal and healing then expandAlias("b") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The final blow is too much, (.+) has been slain by (\w+).$</string>
						<string>^The final blow is too much, you have slain (.+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Beckon</name>
					<script>if not ik and not autoKill and table.contains(ms.allies, matches[2]) then send("follow "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) beckons you to \w+.$</string>
						<string>^(\w+) makes a beckoning motion to no one in particular.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Arena</name>
					<script>cecho("\n&lt;green&gt;5 minutes")
tempTimer(60, [[cecho("\n&lt;green&gt;4 minutes");callout("4 minutes", arenagame)]])
tempTimer(120, [[cecho("\n&lt;green&gt;3 minutes");callout("3 minutes", arenagame)]])
tempTimer(180, [[cecho("\n&lt;green&gt;2 minutes");callout("2 minutes", arenagame)]])
tempTimer(240, [[cecho("\n&lt;yellow&gt;1 minute");callout("1 minute", arenagame)]])
tempTimer(270, [[cecho("\n&lt;yellow&gt;30 seconds");callout("30 seconds", arenagame)]])
tempTimer(290, [[cecho("\n&lt;yellow&gt;10 seconds");callout("10 seconds", arenagame)]])
tempTimer(291, [[cecho("\n&lt;red&gt;9 seconds")]])
tempTimer(292, [[cecho("\n&lt;red&gt;8 seconds")]])
tempTimer(293, [[cecho("\n&lt;red&gt;7 seconds")]])
tempTimer(294, [[cecho("\n&lt;red&gt;6 seconds")]])
tempTimer(295, [[cecho("\n&lt;red&gt;5 seconds")]])
tempTimer(296, [[cecho("\n&lt;red&gt;4 seconds")]])
tempTimer(297, [[cecho("\n&lt;red&gt;3 seconds")]])
tempTimer(298, [[cecho("\n&lt;red&gt;2 seconds")]])
tempTimer(299, [[cecho("\n&lt;red&gt;1 second")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The event will begin in 5 minutes!</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Mount horse</name>
					<script>mount = false
if healing then send("order loyals follow me", false) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are no longer mounted on</string>
						<string>You step down off of</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Mount Horse</name>
					<script>mount = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You climb up on</string>
						<string>You must dismount</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Allie's Location</name>
					<script>deleteLine()
sys("Location") cecho("&lt;red&gt;[&lt;OrangeRed&gt; "..matches[2].." wants help at &lt;ivory&gt;#"..matches[3].."&lt;red&gt; ]")
gta = tonumber(matches[3])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(\w+\): (\w+) says, "My Location?:? ?#?(\d+) (.+)"$</string>
						<string>^\(\w+\): (\w+) says, "Location \- .+ \[(\d+)\]."$</string>
						<string>^\(\w+\): (\w+) says, "\[LOCATION\] #(\d+) - (.+)"$</string>
						<string>^\(\w+\): (\w+) says, "\w+'s location is at v(\d+) \- \'(.+)\.\'"$</string>
						<string>^\(\w+\): (\w+) says, "My room is Room #(\d+) - (.+)."$</string>
						<string>^\(\w+\): (\w+) says, "My Location?:? \(?#?(\d+)\) (.+)"$</string>
						<string>^\(\w+\): (\w+) says, "I'm located at\: (\d+).+"$</string>
						<string>^\(\w+\): (\w+) says, "I am at #?(\d+) -.+"$</string>
						<string>^\(\w+\): (\w+) says, "My location: VNUM #(\d+).+"$</string>
						<string>^\(\w+\): (\w+) says, "My location: .+ \((\d+)\)"$</string>
						<string>^\(\w+\): (\w+) says, "V(\d+)"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Warning</name>
					<script>deleteLine()
wtar = string.len(matches[2])
wspace = wtar + 10
sys("Warning") cecho("&lt;red&gt;+"..string.rep("-", wspace).."+")
sys("Warning") cecho("&lt;red&gt;| &lt;yellow&gt;"..matches[2].." Scrying&lt;red&gt; |")
sys("Warning") cecho("&lt;red&gt;+"..string.rep("-", wspace).."+")
if not table.contains(ms.allies, matches[2]) then 
callout(matches[2], "Seeking Me")
  if ms.class["Hunter"] and healing and ebal and bbal then 
    if target == "None" and not autoKill and not table.contains(ms.allies, matches[2]) then tempTimer(3, [[expandAlias("t "..matches[2])]]) end
   expandAlias("pt "..matches[2])
  end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You sense that (\w+) is seeking your location.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Vivisect</name>
					<script>if healing then send("queue eqbal dismount"..s..""..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."vivisect "..matches[2]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(\w+\): \w+ says, "Vivisect (\w+) now."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Restrum Lyre</name>
					<script>if not healing then send("queue eqbal drink health"..s.."eat maidenhair"..s.."purge blood"..s.."focus"..s.."touch tree"..s.."strum lyre") end
lyre = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The weapon shatters your prismatic barrier.</string>
						<string>Your prismatic barrier dissolves into nothing.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Seige Echo</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ffff00</mFgColor>
					<mBgColor>#000000</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>An elite .+ is manning .+ ammunition\.</string>
						<string>An elite .+ is manning .+ here\. He has .+ (?:bolts|balls|nets)\.</string>
						<string>An elite .+ is manning .+ here\. She has .+ (?:bolts|balls|nets)\.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Cairns</name>
					<script>if table.contains(ms.allies, matches[2]) then send("sanctify cairn")
else send("defile cairn")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^This cairn belongs to (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Alertness (Masked)</name>
					<script>mmp.alertness = mmp.alertness or {}

local alertness = mmp.alertness

local roomexists, getRoomName, anytolong, matches, deleteLine = mmp.roomexists, getRoomName, mmp.anytolong, matches, deleteLine

if mmp.debug then
  mmp.alertnessTime = mmp.alertnessTime or createStopWatch()
  startStopWatch(mmp.alertnessTime)
end
    

for k, v in pairs (gmcp.Room.Info.exits) do
  local longexitname = mmp.anytolong(k)
  if roomexists(v) and matches[3]:lower() == getRoomName(v):lower() and longexitname then
    alertness[longexitname] = alertness[longexitname] or {}
    alertness[longexitname][#alertness[longexitname]+1] = matches[2]
    deleteLine()

   end
end

local currentroomname = mmp.cleanroomname(mmp.currentroomname)

if matches[3] == currentroomname then
  alertness.here = alertness.here or {}
  alertness.here[#alertness.here+1] = matches[2]
  deleteLine()
	if healing and ms.save["ta"] then expandAlias("pe") end
	masked = true
end

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true

enableTrigger"Mudlet Mapper prompt trigger"

if mmp.debug then mmp.echo("alertness trigger for "..matches[2].." took "..stopStopWatch(mmp.alertnessTime).."s.") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your enhanced senses inform you that a (masked man|masked woman) has entered (.+?)(?: nearby)?\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Walk Delay</name>
					<script>mmp.customwalkdelay(2)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You start pushing your way against the influence of the laguz rune.</string>
						<string>You struggle to move under the weight of the deathball.</string>
						<string>You begin to slowly clamber over a pile of rubble that blocks your way.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Check Called</name>
					<script>if healing and table.contains(ms.allies, matches[2]) and (ring or arena) then send("rt Gathering information on "..matches[3]:title())
	downloadFile(getMudletHomeDir().."/"..matches[3]..".json", "http://api.imperian.com/characters/"..matches[3]..".json")
	sys(matches[3]:title()) cecho("&lt;red&gt;[&lt;DimGrey&gt;Checking...&lt;red&gt;]")
	chkd = matches[3]
	checkperson = true
else send("tell "..matches[2].." channel tells are currently off. Try again in 5 seconds.")
	tempTimer(4, [[ring = true;arena = true]])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) tells you, "(?:Chk|CHK) (\w+)\."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Give Lyre</name>
					<script>if table.contains(ms.allies, matches[2]) and healing then
	send("queue eqbal remove lyre"..s.."give lyre to "..matches[2]..""..s.."wear lyre")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>(\w+) tells you, "(?:Lyre|LYRE)."$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Who Here</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You see the following people here:</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Horn Trigger</name>
					<script>expandAlias("b")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Answering the call of the horn</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>2</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Farsee See Location</name>
					<script>if not ring then mmp.locateAndEchoSideMS(matches[3])
else
	fscheck = searchRoom(matches[3])
	local fsn = {}
	local fsr = {}
	for k,v in pairs(fscheck) do
		table.insert(fsn, k)
		table.insert(fsr, v)
		break
	end
	callout("[Farsee]: "..matches[2], fsn[1].." ("..fsr[1]..")")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You see that (\w+) is at (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Force Drop</name>
					<script>if healing then send("get vial") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You drop a gold vial of the Malignists.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Numbness</name>
					<script>numbed = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are already numb.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Caloric</name>
					<script>if healing then send("apply caloric") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The cold air strips the protection of your caloric salve.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Monolith/Holy Ground gone</name>
					<script>if matches[1]:find("holiness") then callout("Holy Ground Nullified", "["..gmcp.Room.Info.num.."]-("..gmcp.Room.Info.area..")") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The shadows within a hazeward stone reep into the ground and feeling of holiness fades\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Chameleon</name>
					<script>deleteLine()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>3</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You caress your chameleon tattoo and assume a new identity.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Chameleon</name>
					<script>deleteLine()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>2</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Syntax for chameleon tattoo is: TOUCH CHAMELEON &lt;player&gt;. In order to change back to yourself, just put your own name as the target.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Rage</name>
					<script>if matches[2]:find(target) then
	po = true
	ms.afflicted["justice"] = "notaff"
	ms.afflicted["peace"] = "notaff"
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+)'s eyes flash with rage.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Lyre up</name>
					<script>lyre = true
pta = false
disableTrigger("affPrompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You strum a lithe lyre, and a prismatic barrier forms around you.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Brazier failed</name>
					<script>callout("Brazier on "..matches[2], "FAILED")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) is already here with you!$</string>
						<string>^You feel that you cannot focus on (\w+) enough to summon \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bloodworms</name>
					<script>bloodworms = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>With a prayer to the Dark Gods, bloodworms erupt from the earth and begin to spread out into the surrounding rooms.</string>
						<string>The earth here is already defiled with the foul presence of a bloodworm.</string>
						<string>Bloated with blood and flesh, a frenzied bloodworm sets its beady eyes on you.</string>
						<string>^\w+ utters a prayer to the Dark Gods, and bloodworms erupt from the earth and begin to spread out into the surrounding rooms.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>0</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bloodworms dead</name>
					<script>bloodworms = false
fecho("Necromancy", "Bloodworms", "DOWN")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The final blow is too much, a frenzied bloodworm has been slain by \w+.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bloodworms Severed</name>
					<script>bloodworms = false
fecho("Necromancy", "Bloodworms", "DOWN")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A frenzied bloodworm screams with rage as the holiness of .+ severs its ties to this plane.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Clarity</name>
					<script>if healing then 
	if ebal and bbal then 
		send("queue eqbal clarity") 
	else 
		rc = "clarity" 
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ quickly mixes some blue and gold bone dust and blows it lightly at you. As it reaches you, thoughts of obedience fill your mind.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Quickdraw Change</name>
					<script>if matches[2] == "left" then qd = "right left"
elseif matches[2] == "right" then qd = "left right"
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You cannot do that while your (right|left) arm is (?:paralysed|broken).$</string>
						<string>^A numbness seizes you, and your (left|right) arm and (?:left|right) leg go limp.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Clarity</name>
					<script>if healing then 
	if ebal and bbal then 
		send("queue eqbal clarity") 
	else 
		rc = "clarity" 
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your clarity of mind ceases an attack to dominate your will.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Breach</name>
					<script>if matches[1]:find("shield") then shield = false
elseif matches[1]:find("rebounding") then rb = false
elseif matches[1]:find("nothing") then shield = false;rb = false;cw = false
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ translucent shield is breached\.$</string>
						<string>^\w+ aura of rebounding is breached\.$</string>
						<string>There is nothing left to breach.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Torso</name>
					<script>torso = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You will now target the torso of your opponent.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Torso</name>
					<script>torso = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You will now aim your attacks wherever you see openings.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>banish</name>
					<script>expandAlias("0")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ waves .+ palm in your direction, and you can only watch as your surroundings dissolve and fade from existence.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fleeing</name>
					<script>if matches[2]:find(target) then
	ikstop(matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) begins to chant softly, casting \w+ voice and the music of \w+ harp to the wind. \w+ appearance begins to fade slightly\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Whois</name>
					<script>if not ms.save["ring"] then
  ms.save["ring"] = true;tempTimer(8, [[ring = false]])
end
expandAlias("chk "..matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(Ring\)\: \w+ says, \"(?:Whois|Th) (\w+)\.\"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Monolith Timer</name>
					<script>if (mononame == "reset") or matches[2]:find(mononame) then 
mononame = matches[2]
disableTimer("monotime");enableTimer("monotime")
sys("Monolith") cecho("&lt;yellow&gt;"..matches[2].." &lt;ivory&gt;- "..monotime.."&lt;cyan&gt;/14")
monotime = monotime + 1
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) is attempting to control the monolith at .+\!$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ranger</name>
					<script>if matches[2]:find(target) then
	tranger = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) aims a short, quick jab at your .+ with .+ glaive\.$</string>
						<string>^(\w+) jabs forward with .+ glaive at your .+, taking a step in closer\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hunting</name>
					<script>if bash and healing and ebal and bbal then
	sendGMCP('Char.Items.Room')
	expandAlias("b")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your movement is held up by (\w+)\.$</string>
						<string>emerges from the \w+.$</string>
						<string>moves in for the kill.$</string>
						<string>sketches a symbol in the air</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>affPrompt</name>
					<script>forceAtk()
disableTrigger("affPrompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Parried Limb</name>
					<script>if tranger then
	if matches[2] == "right arm" then plh = "left leg"
	elseif matches[2] == "left arm" then plh = "right leg"
	elseif matches[2] == "right leg" then plh = "left arm"
	elseif matches[2] == "left leg" then plh = "right arm"
	elseif matches[2] == "torso" then plh = "torso"
	end
else
	if matches[2] == "right arm" then plh = "left arm"
	elseif matches[2] == "left arm" then plh = "right arm"
	elseif matches[2] == "right leg" then plh = "left leg"
	elseif matches[2] == "left leg" then plh = "right leg"
	elseif matches[2] == "torso" then plh = "torso"
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^With a wry grin you parry the attack to the (.+) with a deft maneuver\.$</string>
						<string>^(\w+) parries the attack and deftly fires a thornroot at you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Engage</name>
					<script>if matches[2]:find(target) then engage = true;if pta then enableTrigger("affPrompt") end end
escaping = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) moves to escape, but a sketch of a Runeguard easily slices into \w+ exposed back with \w+ sword, stopping \w+ cold as \w+ arches in pain.$</string>
						<string>^A sketch of a Runeguard lashes out at (\w+) as \w+ turns to flee.$</string>
						<string>^Trying to escape, (\w+) turns away from a sketch of a Runeguard. Seeing \w+ chance \w+ brings the haft of \w+ sword crashing down onto the back of \w+ skull, stunning \w+.$</string>
						<string>^(\w+) turns to flee and a sketch of a Runeguard brings a sword crashing down onto \w+ (?:right|left) leg, breaking it.$</string>
						<string>^(\w+) tries to escape, but a sketch of a Runeguard tangles \w+ weapon in \w+ legs and \w+ falls to the ground.$</string>
						<string>An animated hawthorn root ceases its entrapping attempts, its target gone.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Target Bleeding</name>
					<script>deleteLine()
sys("&lt;red&gt;Bleed") cecho("&lt;yellow&gt;"..matches[2])
cbleed = tonumber(matches[2])
if cbleed ~= tbleed then callout(target.." Bleeding", "["..matches[2].."]") end
tbleed = tonumber(matches[2])
disableTimer("tbleed");enableTimer("tbleed")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You see that \w+ is bleeding (\d+) health\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wheel Card</name>
					<script>ptar = matches[2]
ikstop(matches[2])
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The Wheel tarot flies at you, but stops just short of impact and disappears. The air around (\w+) shimmers as \w+ starts tracing the image of the Wheel with \w+ finger\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defiler Death</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You shiver as you realize that death approaches and you are powerless to stop it.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Daenus</name>
					<script>if ms.class["Diabolist"] then send("queue eqbal summon ouroboros"..s.."mount ouroboros") end
expandAlias("0")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The visage snaps its fingers and you suddenly find yourself flying high in the air, surrounded in an icy storm blocking your descent.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shield Lost</name>
					<script>send("queue eqbal raisewings")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The indigo strand melts away your protective shield.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Landing</name>
					<script>send("order loyals follow me")
expandAlias("mp")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You begin to descend, the wind whistling past you as the earth draws ever closer. You land easily, back on the ground again.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shard Specials</name>
					<script>if healing then 
	send("queue eqbal harvest shard")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A piece of (shale) coloured an attractive blue-grey lies here.</string>
						<string>Resting on the ground is a prismatic (geode).</string>
						<string>A bloody-red (cabochon) lies here.</string>
						<string>A slab of (copper) has been left here.</string>
						<string>Glistening with multifaceted light, a fractured (macadam) lies here.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shale Back</name>
					<script>fecho("SPECIAL SHARD", "SHALE", "USABLE AGAIN!!!")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are again able to use the healing power of a piece of enigmatic shale.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Reflection up</name>
					<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;blue&gt;Reflection") cecho("&lt;gold&gt;"..matches[2].." \-&gt; &lt;green&gt;UP")
	reflection = true
	if matches[1]:find("ten") then dispel = true end
if pta then enableTrigger("affPrompt") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) points a wand of reflection at \w+\.$</string>
						<string>^(\w+) closes \w+ eyes and ten shimmering reflections of \w+ appear around \w+.$</string>
						<string>^(\w+) concentrates and a perfect reflection of \w+ appears next to \w+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Reflection down</name>
					<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;blue&gt;Reflection") cecho("&lt;gold&gt;"..matches[2].." \-&gt; &lt;red&gt;DOWN")
	reflection = false
if pta then enableTrigger("affPrompt") end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A reflection of (\w+) blinks out of existence.$</string>
						<string>^The reflection of (\w+) winks out.$</string>
						<string>^All of (\w+)'s reflections wink out of existence\!$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ablaze</name>
					<script>deleteLine()
sys("&lt;OrangeRed&gt;Ablaze") cecho("&lt;gold&gt;"..matches[2]:title())</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Flames leap around (.+), melting hair and charring \w+ flesh.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Get Head and Body</name>
					<script>send("queue eqbal get head"..s.."get body")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You finally manage to sever the head from the corpse of \w+, leaving only a pool of blood where the head had been\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Alertness</name>
					<script>deleteLine()
if ms.alertness == nil then ms.alertness = {} end
ms.alertness[matches[2]] = matches[3]
for k, person in ipairs(ms.people) do
	if person == matches[2] then
		table.remove(ms.people, k)
	end
end
enableTrigger("alertPrompt")
--sys("&lt;gold&gt;"..matches[2]) cecho("&lt;ivory&gt;"..matches[3])
if ms.class["Diabolist"] and matches[2]:find(target) and healing and ebal and bbal then send("queue eqbal demon beckon "..target) end

if (matches[2]:find(target) or matches[3]:find(target)) and not tlock then enableTimer("affreset");disableTimer("cw");ashcloud = false end
--Follow
snare = false
if gmcp.Room.Info.num ~= 13685 and gmcp.Room.Info.num ~= 13870 and gmcp.Room.Info.num ~= 13191 then
	if matches[2]:find(target) and not matches[3]:find("skies") then move = matches[3];blizzard = false;if pta then enableTrigger("affPrompt") end end
end
--Diab beckon
if gmcp.Room.Info.num == 2250 and not table.contains(ms.allies, matches[2]) and ms.class["Diabolist"] and healing then
	send("queue eqbal top demon beckon")
end
showpeople()
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You sense (\w+) entering the location (\w+) from you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Alertness Here</name>
					<script>deleteLine()
if ms.alertness == nil then ms.alertness = {} end
ms.alertness[matches[2]] = "HERE"
flinged = false
du = false
lhc = tonumber(0)
table.insert(ms.people, matches[2])
if matches[2]:find(target) then
	skies = false 
	eic = false
	dpf = false
	aktc = tonumber(0)
end
if dbh then send("queue eqbal hit "..matches[2].." with deathball") end
if move ~= "" then move = "" end
if not table.contains(ms.allies, matches[2]) and gmcp.Room.Info.num == 12545 and ms.class["Diabolist"] then expandAlias("dbl") end
if not table.contains(ms.allies, matches[2]) and gmcp.Room.Info.area:find("Khandava Council") then cfh = matches[2];expandAlias("chk "..matches[2]) end
if (not table.contains(ms.allies, matches[2]) or matches[2]:find(target)) and ms.class["Assassin"] and mono then
	mono = false
	send("queue eqbal worm attach rashirmir"..s.."worm devour "..matches[2])
end
enableTrigger("alertPrompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You sense (\w+) has entered your location.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>alertPrompt</name>
					<script>sys("&lt;yellow&gt;Alertness") cecho("&lt;ivory&gt;[ ")
	for name,dir in pairs(ms.alertness) do
		local chkname = tostring(name)
		if chkname:find(target) then
			cecho("&lt;red&gt;"..name.."&lt;DimGrey&gt;\-\&gt;&lt;SteelBlue&gt; "..dir.." ")
		else
			cecho("&lt;gold&gt;"..name.."&lt;DimGrey&gt;\-\&gt;&lt;SteelBlue&gt; "..dir.." ")
		end
	end
cecho("&lt;ivory&gt;]")

ms.alertness = {}
disableTrigger("alertPrompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Queue Masking</name>
					<script>deleteLine()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>BALANCE queue cleared.</string>
						<string>EQUILIBRIUM queue cleared.</string>
						<string>EQBAL queue cleared.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Unphase</name>
					<script>if not channeling then heal() end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are suddenly and unexpectedly pulled back into phase with reality.</string>
						<string>You use Sabotage Unphase.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Worm sniping at me</name>
					<script>if healing then
	send("raise wings")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your surroundings are momentarily illuminated by a myriad of colors as a rapidly swirling vortex erupts into the room.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Desublimator</name>
					<script>send("queue eqbal top insert shard into desublimator")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The shard within a metallic desublimator crumbles to dust, its energy fully depleted.</string>
						<string>But a metallic desublimator is not charged.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tentacle used</name>
					<script>skies = false
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You touch the tentacle tattoo and suddenly the ground splits open as a nightmarish tentacle shoots skywards, dragging (\w+) back to earth.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Monolith Enemy Check</name>
					<script>if not table.contains(ms.allies, matches[3]) and not table.contains(ms.el, matches[3]) and not table.contains(ms.save["ignore"], matches[3]) and matches[3] ~= "nobody" then
	expandAlias("en "..matches[3])
end
selectCaptureGroup(2)
replace(matches[2], fg("sienna"))
place = matches[2]
--fire
if matches[2] == "Atop a Black Hill" then
	setLink([[expandAlias("asi fire")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke fire"..s.."enter gateway.last");eleMono = eleMono + 1 end
elseif matches[2] == "Before a crooked tree" then
	setLink([[expandAlias("goto 21851")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 21851") end
elseif matches[2] == "Amongst rugged terrain" then
	setLink([[expandAlias("goto 19337")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 19337") end
elseif matches[2] == "Tangle of brush and scree" then
	setLink([[expandAlias("goto 660")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 660") end
elseif matches[2] == "A clearing in the Renfrewshire Swamp" then
	setLink([[expandAlias("goto 9952")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 9952") end
elseif matches[2] == "A barren rock glade" then
	setLink([[expandAlias("goto 17361")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 17361") end
elseif matches[2] == "An underground cliff" then
	setLink([[expandAlias("goto 14738")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 14738") end
--air
elseif matches[2] == "The Eye of the Storm" then
	setLink([[expandAlias("asi ]]..matches[2]..[[")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last");eleMono = eleMono + 1 end
elseif matches[2] == "A fern grove" then
	setLink([[expandAlias("goto 24067")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 24067") end
elseif matches[2] == "Where the trail ends" then
	setLink([[expandAlias("goto 22783")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 22783") end
elseif matches[2] == "Beneath a large tree" then
	setLink([[expandAlias("goto 11477")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "goto 11477") end
--earth x3
elseif matches[2] == "Scorched Wasteland" then
	setLink([[expandAlias("asi ]]..matches[2]..[[")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last");eleMono = eleMono + 1 end
elseif matches[2] == "Within a Massive Cave" then
	setLink([[expandAlias("asi ]]..matches[2]..[[")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last");eleMono = eleMono + 1 end
elseif matches[2] == "Atop a Rocky Plateau" then
	setLink([[expandAlias("asi ]]..matches[2]..[[")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last");eleMono = eleMono + 1 end
--water
elseif matches[2] == "Amidst an Ocean of Bubbles" then
	setLink([[expandAlias("asi ]]..matches[2]..[[")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last");eleMono = eleMono + 1 end
--air
elseif matches[2] == "Atop an Airborne Crag" then
	setLink([[expandAlias("asi ]]..matches[2]..[[")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last");eleMono = eleMono + 1 end
--air
elseif matches[2] == "A Tiny Island Amidst a Vast Sea" then
	setLink([[expandAlias("asi ]]..matches[2]..[[")]], "Go to "..matches[2])
	if matches[3] == "nobody" or forceCapture(matches[3], place) then table.insert(ms.monos, "aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last");eleMono = eleMono + 1 end
end
selectString("is controlled by", 1)
itemspace = 37 - tonumber(string.len(matches[2]))
ispace = string.rep(" ", itemspace)
replace(ispace.."\-", fg("ivory"))
if matches[1]:find("(*)") then 
	itemspace = 10 - tonumber(string.len(matches[3]))
else
	itemspace = 14 - tonumber(string.len(matches[3]))
end
ispace = string.rep(" ", itemspace)
if matches[4] then
	selectCaptureGroup(4)
	replace(ispace)
end
if autoMono == nil then autoMono = false end
if autoMono then enableTrigger("Monolith Prompt")
else capture = false end
--mmp.roomEcho(matches[2])
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Monolith at (.+) is controlled by (\w+)(\s+)?\(\w+\)$</string>
						<string>^Monolith at (.+) is controlled by (\w+)$</string>
						<string>^Monolith at (.+) is controlled by (\w+) \(\*\)(\s+)?\(\w+\)$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>arena</name>
					<script>send("queue eqbal order loyals passive"..s.."renounce grace")
expandAlias("t none")
expandAlias("msr")
disableTrigger("autoKill prompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You see a bright light shine on you as all your afflictions are cured.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Standard</name>
					<script>fecho("Standard", "MOVED", matches[2]:title())</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your movement restricted, you shove standard away to the (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fight Club</name>
					<script>if healing then send("games register") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The next meeting of the Imperian fight club starts at the top of the hour. Use GAMES REGISTER to sign up or HELP FIGHT CLUB to find out more.</string>
						<string>You have one hour before the next Imperian fight club meeting. Use GAMES REGISTER to sign up or HELP FIGHT CLUB to find out more.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wall</name>
					<script>if healing and (direction ~= "" or mmp.autowalking) then 
	if ms.class["Defiler"] then
		send("queue eqbal shadowbind me with projection "..direction)
  elseif ms.class["Hunter"] and fire &gt;= 10 then
    if direction == nil or direction == "" then direction = ms.exits[1] end
    send(f'queue eqbal {ms.save["hunter_form"]} firebreath icewall {direction}{s}{direction}')
	else
		send("dismount"..s.."backflip "..direction) 
	end
end
if ms.class["Diabolist"] then send("queue eqbal summon ouroboros"..s.."mount ouroboros") end
wall = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>A wall blocks your way.</string>
						<string>^\w+ stops you from moving that way.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Zerker Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	zerker = true
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) takes a deep breath and lets out a devastating shout at you.$</string>
						<string>^(\w+) smashes .+ into your stomach, causing you to recoil in pain.$</string>
						<string>^(\w+)'s beguiling dance empowers \w+ weapon to cut through your aura of rebounding.$</string>
						<string>^The thrill of battle burning in \w+ eyes, (\w+) advances towards you and slashes you with .+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Outrider Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) and matches[1]:find("barks") then
	barked = barked + 1
	if barked &gt;= 3 then outrider = true end
elseif matches[2]:find(target) then
	outrider = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) barks at .+, ordering it to attack you.$</string>
						<string>^(\w+) slashes you across the chest with .+, marking a target for \w+ wyrm.</string>
						<string>^(\w+) orders \w+ wyrm to hinder your chances of escape.$</string>
						<string>^With two quick flicks of \w+ wrist, (\w+) slaps you on each side of your face with a .+\. Following</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Link Earrings</name>
					<script>if table.contains(ms.allies, matches[2]) then
	send("agree")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) generously offers to link earrings with you. Type AGREE if you wish to do this.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fight Club</name>
					<script>target = "None"
bash = false
ice = tonumber(0)
fire = tonumber(0)
send("ac rebounding on", false)
autoKill = true
enableTrigger("autoKill prompt")
send("queue eqbal reincarnate into clever xiur with free confirm")
if ms.class["Diabolist"] then
	send("queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"]).."")
	send("queue eqbal carve pentagram")
	send("queue eqbal summon ouroboros")
	send("queue eqbal mount ouroboros")
elseif ms.class["Assassin"] then
	tempTimer(10, [[expandAlias("wsl")]])
	tempTimer(30, [[expandAlias("scob")]])
elseif ms.class["Deathknight"] then
	send("queue eqbal hero resmith longsword sharp serrated")
	send("queue eqbal hero resmith sabre light sharp")
	send("queue eqbal sharpen longsword with whetstone")
	send("queue eqbal sacrifice self lich")
	send("queue eqbal drop hound"..s.."order loyals follow me")
elseif ms.class["Summoner"] then 
  send("queue eqbal hero resmith sabre light serrated")
elseif ms.class["Hunter"] then
  send("queue eqbal "..ms.save["hunter_form"].." transform")
  send("queue eqbal bat summon")
  send("queue eqbal order loyals follow me")
  send("queue eqbal "..ms.save["hunter_form"].." aura moon")
  send("queue eqbal bat snare")
  send("queue eqbal summon ice")
  send("queue eqbal summon ice")
  send("queue eqbal summon ice")
  send("queue eqbal summon ice")
end
tempTimer(60, [[expandAlias("tag")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You have been called to battle! Your match will begin in approximately three minutes. Do what you need to prepare before that. Once the time has expired, you will automatically be sent to a different area for your battle.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hit by own Lamia</name>
					<script>resetPets = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You shiver as a demonic lamia stares contemptuously at you.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shaman</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	shaman = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) reaches out and swiftly scrawls the Mark of</string>
						<string>^(\w+) points an imperious finger at you.$</string>
						<string>^(\w+) quickly flings some \w+ dust</string>
						<string>^(\w+) mixes some \w+ and \w+ bone dust</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wormhole Unphase</name>
					<script>if mmp.autowalking then send("unphase") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You cannot use wormholes in that way while phased.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bard Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	bard = true
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You scream in agony and grasps your head in pain, suffering from (\w+)'s flame-touched words.$</string>
						<string>^(\w+) concentrates briefly on a sketch of  .+\.$</string>
						<string>^With a dangerous glint in \w+ eye, (\w+) raises \w+ instrument and plays a powerful, mournful song. The strength of the music strikes you unprepared and you find yourself leaning in close, eager for more.$</string>
						<string>^(\w+) begins to strum the .+, preparing the Song of Bedazzlement. Adding \w+ voice to the music that \w+ is playing, \w+ binds the song to you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Mage Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	mage = true
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) focuses on \w+ crystal, sending \w+ strength to augment its power.$</string>
						<string>^The crystal floating around (\w+) starts vibrating softly, producing a silent humming.$</string>
						<string>^(\w+) makes a circular motion with \w+ index finger and a circle of fire slowly forms around you.$</string>
						<string>^(\w+) sends a small jet of flame towards you, heating up your skin briefly.$</string>
						<string>^(\w+) sends a small jet of flame towards you, heating up your skin briefly.$</string>
						<string>^(\w+) invokes the howling winds, sending them baying against you.$</string>
						<string>^The crystal floating around (\w+) suddenly produces a loud bang.$</string>
						<string>^(\w+) makes a sweeping gesture and a spray of elemental water strikes you, making it hard to breathe.$</string>
						<string>^The crystal floating around (\w+) starts displaying a variety of soothing images.$</string>
						<string>^(\w+) takes .+ crystal and with a flick of \w+ hand sends it spinning into the air.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Incinerator</name>
					<script>send("queue eqbal top insert shard into incinerator")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The shard within a metallic incinerator crumbles to dust, its energy fully depleted.</string>
						<string>But a metallic incinerator is not charged.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Runeguard Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	runeugard = true
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) concentrates, and a searing image of the nairat rune suddenly flares on your skin.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defiler Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	defiler = true
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) spins before you, slicing your body  several times with \w+ .+ flail.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Dispute Monolith</name>
					<script>if not healing then send("dispute monolith") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>That monolith is already controlled by someone.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Flooded Room</name>
					<script>deleteLine()
sys("&lt;blue&gt;Flood Ring") cecho("&lt;blue&gt;Room is flooded!")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The ring is drawn slightly downwards before water quickly seeps to the surface, flooding the area.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ice Wall</name>
					<script>deleteLine()
iwDir = iwDir or ""
local dir_conv = { 
  ["north"] = "n", 
  ["northeast"] = "ne", 
  ["east"] = "e", 
  ["southeast"] = "se", 
  ["south"] = "s", 
  ["southwest"] = "sw", 
  ["west"] = "w", 
  ["northwest"] = "nw", 
  ["up"] = "u", 
  ["down"] = "d", 
  ["in"] = "in", 
  ["out"] = "out"
  }
for dir_name, short_name in pairs(dir_conv) do
  if iwDir == short_name then
    iwDir = dir_name
    break
  end
end
if matches[2] then
  sys("&lt;cyan&gt;Ice Wall") cecho("&lt;ivory&gt;"..matches[2]:title())
else
  sys("&lt;cyan&gt;Ice Wall") cecho("&lt;ivory&gt;"..iwDir:title())
end
if matches[1]:find("chelicerae") then ice = ice - 15 end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You point a metallic desublimator to the (\w+) and the surrounding air grows gradually colder and colder, until a solid wall of ice slowly forms.$</string>
						<string>^You run your chelicerae over strands of spidersilk as you rapidly weave, coating it with an icy venom. With a deft flourish, you whip the finished web (\w+)ward and it forms a solid wall of ice.$</string>
						<string>You use Shapeshifting Icewall (Icewall).</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Assassin Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	assassin = true
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) pricks you quickly with \w+ dirk.^</string>
						<string>^Maintaining \w+ balance, (\w+) deftly pricks you again.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Pet Passive</name>
					<script>hound = false
cobra = true
golem_attacking = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^With seeming reluctance, .+ obeys your command.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Fight Club</name>
					<script>expandAlias("t "..matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You are fighting: (\w+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Slash</name>
					<script>deleteLine()
if matches[1]:find("swing") then
	sys("&lt;yellow&gt;"..matches[2]:title()) cecho("&lt;ivory&gt;Slash &lt;gold&gt;"..matches[3])
else
	sys("&lt;yellow&gt;"..matches[3]:title()) cecho("&lt;ivory&gt;Slash &lt;gold&gt;"..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^With a lightning-quick motion, you slash (\w+) with (.+)\.$</string>
						<string>^You slash viciously into (\w+) with (.+)\.$</string>
						<string>^You swing (.+) at (\w+) with a powerful strike.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>No bomb</name>
					<script>bomb = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You hold no 'bomb'.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Ice Wall Melted</name>
					<script>if autoKill and healing then expandAlias("iw") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The icewall to the (\w+) quickly melts into nothingness.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Deflooded</name>
					<script>if autoKill and healing then expandAlias("fr") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The elemental waters seep into the ground leaving the room damp, but no longer flooded.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>No longer favoured</name>
					<script>--if autoKill and healing then send("svm") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You are no longer highfavoured by the Sect of the Leechwood.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hammer Cooldown</name>
					<script>deleteLine()
sys("&lt;ivory&gt;Hammer") cecho("&lt;red&gt;ON COOLDOWN")
hammer = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You have used your hammer tattoo too recently to touch it again.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hammer Recovered</name>
					<script>deleteLine()
sys("&lt;ivory&gt;Hammer") cecho("&lt;green&gt;RECOVERED")
hammer = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You may touch your hammer tattoo again.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Batter</name>
					<script>if batter then tempTimer(8, [[send("batter "..bDir..""..s.."batter "..bDir..""..s.."batter "..bDir)]]) end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Using all your strength you pull back on the ram, swinging it backwards.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Deep Water</name>
					<script>if wall then
  if ms.class["Hunter"] and fire &gt;= 10 then
    send("queue eqbal top "..ms.save["hunter_form"].." firebreath icewall "..direction)
  else
	 send("queue eqbal top shard disrupt "..direction)
  end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The deep water keeps you from escaping.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Foreboding ON</name>
					<script>enableTimer("foreboding")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You touch the stone and it begins to glow.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Foreboding Check</name>
					<script>disableTimer("foreboding")
if (gmcp.Room.Info.area:find("the Ithaquan Council") or gmcp.Room.Info.area:find("the Khandava Council") or autoKill) and healing then
	send("queue eqbal top touch foreboding")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You touch the stone, it glows for a moment and then fades.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Assassin Backstab</name>
					<script>heal()
expandAlias("dmg")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You leap from the shadows and plunge your dagger into (\w+)\'s unsuspecting back\!$</string>
						<string>^You use Sabotage Backstab on (\w+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Accepted</name>
					<script>tellTarget = matches[2]
tempTimer(1, [[send("tell "..tellTarget.." I am in room #: "..gmcp.Room.Info.num)]])
chalTarget = matches[2]
tempTimer(1, [[expandAlias("t "..chalTarget)]])
expandAlias("mse")
if autoKill then enableTrigger("autoKill prompt") end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You accept (\w+)'s challenge, and enter the portal, ready to do battle.$</string>
						<string>^(\w+) accepts your challenge, and you walk through the portal after \w+, ready to do battle.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Waited Too Long at Moonforge</name>
					<script>tempTimer(2, [[expandAlias("aff
goto home")]])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your sight blurs as the world distorts. When it returns you find the Moon Forge is gone.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Doppie</name>
					<script>if healing then send("queue eqbal top raisewings");send("queue ebal touch shield tattoo") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ makes a tapping motion in front of you. Pain floods your mind as a rapidly blinking aura surrounds you momentarily, causing you to foam at your mouth.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Trace on Clan</name>
					<script>deleteLine()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\(\w+\)\: \w+ says, \"(\w+) moved to \((\d+)\)</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Telescope</name>
					<script>enableTrigger("pis")
enableTrigger("pis prompt")
ms.pa = {}
ms.pe = {}</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You sense the following people in the area:</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Snowmen</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ looks around and (.+) suddenly appears.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Summoner Check</name>
					<script>if autoKill and target ~= matches[2] and not table.contains(ms.allies, matches[2]) then
	expandAlias("t "..matches[2]:lower())
end
if matches[2]:find(target) then
	summoner = true
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) quickly flings a card with the image of .+ at you.$</string>
						<string>^(\w+) makes a tapping motion in front of you.</string>
						<string>^(\w+) concentrates briefly and a terrifying visage of .+ appears briefly in front of you, wreathed in flames.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Target Not Bleeding</name>
					<script>if matches[2]:find(target) then
	tbleed = tonumber(0)
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) has not quite started bleeding.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Monolith Prompt</name>
					<script>if #ms.monos &gt;= 1 then
	for k,v in pairs(ms.monos) do
		if v:find("invoke") and gmcp.Room.Info.area == "Stronghold of "..gmcp.Char.Name.name then
			send(v)
			if v:find("fire"..s.."enter") then
				tempTimer(10, [[send("ne"..s.."se"..s.."nw")]])
				tempTimer(15, [[expandAlias("cm")]])
			else
				tempTimer(10, [[expandAlias("cm")]])
			end
			break
		elseif v:find("goto") and gmcp.Room.Info.area ~= "Stronghold of "..gmcp.Char.Name.name then
			expandAlias(v)
			break
		end
	end
ms.monos = {}
capture = true
else
	autoMono = false
	capture = false
	if gmcp.Room.Info.area ~= "Stronghold of "..gmcp.Char.Name.name then
		expandAlias("goto home")
	else
		expandAlias("ga")
	end
ms.monos = {}
end
disableTrigger("Monolith Prompt")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>return isPrompt()</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>4</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Diabolist Check</name>
					<script>if matches[2]:find(target) then
	diabolist = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) sketches a symbol in the air</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Pull Lever</name>
					<script>if bash and creatureHealth &lt; 21 then send("queue eqbal top pull lever") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The floor beneath you parts suddenly, revealing that it is a giant trapdoor.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Autokill toggle tell</name>
					<script>if healing and table.contains(ms.allies, matches[2]) then
	if not autoKill then
		send("tell "..matches[2].." Mathbot Activated")
		autoKill = true
		enableTrigger("autoKill prompt")
	else
		send("tell "..matches[2].." Mathbot Deactivated")
		autoKill = false
		disableTrigger("autoKill prompt")
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>(\w+) tells you, \"(Toggle|TOGGLE) (Mathbot|mathbot|MATHBOT)\.\"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Amazon Check</name>
					<script>if matches[2]:find(target) then
	amazon = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) charges at you to jab your (.+)</string>
						<string>^(\w+) slams \w+ body into you overwhelming you with \w+ collective attacks.</string>
						<string>^(\w+) launches toward you</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Barbed count</name>
					<script>ba = tonumber(matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^pierced with (\d+) barbed arrows.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Scoop eyeball</name>
					<script>if healing then 
  send("queue eqbal scoop eyeball from "..matches[2])
  send("queue eqbal scoop eyeball from "..matches[2])
  send("queue eqbal get "..matches[2])
end </script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\"body(\d+)\"</string>
						<string>^\"head(\d+)\"</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Block</name>
					<script>block = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You use \w+ Block \(\w+\).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Not blocking</name>
					<script>block = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You cease your attempts to block movement.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Pre-Restore</name>
					<script>herbs()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Painful bruises are forming on your (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>engineer check</name>
					<script>if matches[2]:find(target) then
	engineer = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) aims .+ flintlock at you and pulls the trigger.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shot in throat</name>
					<script>if matches[2]:find("artery") or matches[2]:find("heart") or matches[2]:find("throat") or matches[2]:find("liver") then
	shot = matches[2]
	send("queue eqbal top dig out shot to "..matches[2])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The heavyshot lodges in your (.+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Shot dug out</name>
					<script>forceAtk()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Mushrooms seem more appetizing as you dig a heavy shot out from your throat.</string>
						<string>You do not suffer from a shot to the throat.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>No Body</name>
					<script>body = ""</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>I see no "body" to take.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Defiler Bileshroud</name>
					<script>if matches[2]:find(target) then
  ms.afflicted[paf] = "notaff"
  defiler = true
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>1</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The swirling bileshroud about (\w+) consumes the toxin.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Restore</name>
					<script>restore = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Energy wreathes itself about your body to heal your limbs.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Assume stupidity</name>
					<script>-- if healing then send("autocuring assume stupidity") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You feel a faint touch in the farthest recesses of your mind.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Clumsy miss</name>
					<script>if #ms.limbs == 2 then
	if ms.limbs[2] == "left arm" then
		if (lat or lab) then laHit = laHit + 1 end
	elseif ms.limbs[2] == "left leg" then
		if (llt or llb) then llHit = llHit + 1 end
	elseif ms.limbs[2] == "right arm" then
		if (rat or rab) then raHit = raHit + 1 end
	elseif ms.limbs[2] == "right leg" then
		if (rlt or rlb) then rlHit = rlHit + 1 end
	end
else
	if ms.limbs[1] == "left arm" then
		if (lat or lab) then laHit = laHit + 1 end
	elseif ms.limbs[1] == "left leg" then
		if (llt or llb) then llHit = llHit + 1 end
	elseif ms.limbs[1] == "right arm" then
		if (rat or rab) then raHit = raHit + 1 end
	elseif ms.limbs[1] == "right leg" then
		if (rlt or rlb) then rlHit = rlHit + 1 end
	end
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You lash out clumsily, and miss.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Might</name>
					<script>paralysis = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Your blood boils and you let out a mighty roar of defiance.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Dash Toggle Off/Followed</name>
					<script>expandAlias("mc dash off")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+) begins to follow you.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Dash Toggle On/Unfollow</name>
					<script>expandAlias("mc dash on")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You cease leading .+$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Toggle Basher</name>
					<script>if healing and table.contains(ms.allies, matches[2]) then
	if not bash then
		send("tell "..matches[2].." Basher Activated")
		bash = true
	else
		send("tell "..matches[2].." Basher Deactivated")
		bash = false
	end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>(\w+) tells you, \"(Toggle|TOGGLE) (Basher|basher|BASHER)\.\"$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Green Shard</name>
					<script>fecho("&lt;green&gt;GREEN SHARD", "&lt;red&gt;INCOMING", "PREPARE")
callout("Green Shard", "INCOMING")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^A green shard fades in from the ether and begins hovering over .+\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Frostheart</name>
					<script>if matches[2]:find(target) then
  frostheart = true
  tempTimer(120, [[frostheart = false]])
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ slashes (\w+) across the chest with .+, marking a target for \w+ wyrm. .+ springs at the wound, latching its snout onto the clean cut and pumping (\w+)'s chest full of frosty air.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Caloric Down</name>
					<script>if matches[2]:find(target) then
  caloric = false
end
if pta then enableTrigger("affPrompt") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^\w+ slashes (\w+) across the chest with a truesilver trident, marking a target for \w+ wyrm. .+ springs at the wound, latching its snout onto the clean cut and pumping (\w+)'s chest full of frosty air.$</string>
						<string>^The cold air strips the protection of (\w+)'s caloric salve.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Track and Locate</name>
					<script>deleteLine()
disableTrigger("Hunt")
if ms.class["Diabolist"] then 
  sys("&lt;red&gt;Demon Trace")
elseif ms.class["Priest"] then
  sys("&lt;cyan&gt;Seraph Trace")
else
  sys("&lt;yellow&gt;Pursue")
end
cecho("&lt;chocolate&gt;"..matches[2].."&lt;grey&gt; moved to &lt;sienna&gt;" .. matches[3].."&lt;grey&gt;.")
trackLocate = true
trackTarget = matches[2]
targetAreaCheck = targetArea
mmp.locateAndEchoSideMS(matches[3])
if matches[2]:find(target) and targetAreaCheck ~= targetArea and targetArea ~= "" then
  if ms.class["Diabolist"] then 
    callout("[Demon Trace]: "..target, tostring(targetLocation["id"]).." ("..targetArea..")")
  elseif ms.class["Priest"] then
    callout("[Seraph Trace]: "..target, tostring(targetLocation["id"]).." ("..targetArea..")")
  else
    callout("[Pursue]: "..target, tostring(targetLocation["id"]).." ("..targetArea..")")
  end
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Your \w+ reports that (\w+) has moved to (.+)\.$</string>
						<string>^You sense that (\w+) has entered (.+)\, (.+)\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hills Captured</name>
					<script>heal()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You have successfully captured the hill for your team.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Debug Mode</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Debug - Affliction Line</name>
						<script>ms.affs = {}
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		table.insert(ms.affs, aff)
	end
end
sys("Afflictions") cecho("&lt;ivory&gt;Affs: "..table.size(ms.affs).." ("..table.concat(ms.affs, ", ")..")")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>return isPrompt()</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>4</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Icewall direction</name>
					<script>iwDir = matches[2]</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Weaver icewall (\w+) added to the bottom of your EQBAL queue.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Classes</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Demonic</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Defiler</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Torment</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ravage</name>
								<script>deleteLine()
sys("&lt;red&gt;Ravage") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You swing a .+ flail powerfully at (.+), ravaging \w+ flesh.$</string>
									<string>^You use Flail ravage on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Entropy</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;gold&gt;"..matches[2]) cecho("&lt;purple&gt;Entropy &lt;ivory&gt;\- &lt;cyan&gt;"..matches[3].."&lt;ivory&gt;%")
	entropy = tonumber(matches[3])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sense that (\w+)'s entropy is now at (\d+)\%\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Entropy Gone</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;gold&gt;"..matches[2]) cecho("&lt;purple&gt;Entropy &lt;ivory&gt;\- &lt;cyan&gt;0&lt;ivory&gt;%")
	entropy = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The effects of entropy have faded from (\w+)'s body\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Haemophilia</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;red&gt;Torment") cecho("&lt;gold&gt;"..target)
	aff("haemophilia")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You close your eyes and focus on thinning (\w+)'s blood. For a moment nothing happens, then an uncomfortable look crosses the face of \w+ and \w+ is briefly surrounded by a red nimbus.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Mana Leech</name>
								<script>if matches[2]:find(target) then
  aff("manaleech")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You whisper softly to (\w+), and a thin stream of smoke latches onto \w+ ears and you sense it leeching \w+ mana.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Shadowbinding</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Augur UP</name>
								<script>augur = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are again able to use an augury off-balance.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shadow</name>
								<script>deleteLine()
sys("&lt;purple&gt;Torment") cecho("&lt;gold&gt;"..matches[2].." &lt;purple&gt;Shadow+")
shadow = true
shadowKilled = false
enableTimer("shadowCD")
shadowCD = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Chanting quietly, you quickly sketch a pentagram on the ground. Flames leap high as an incorporeal shadow appears in its center, moving aggressively towards (\w+).$</string>
									<string>You are not yet able to summon another shadow.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shadow killed</name>
								<script>shadowKilled = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^An incorporeal shadow, your loyal companion, has been slain by \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Tempest Up</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Tempest") cecho("&lt;green&gt;Raging+")
tempest = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^In a circular motion, you spatter some tainted blood from .+ vial. The blood mixed with debris begins swirling rapidly, coalescing into a violent tempest.$</string>
									<string>You cannot summon more than one tempest at a time.</string>
									<string>A tempest already rages here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Transmission UP</name>
								<script>if matches[2]:find(target) then
  transmission = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub you fingers briskly across a shadowgem and shadows begin swirling around (\w+), attempting to transmit your maladies.$</string>
									<string>^You are already attempting to transmit your maladies to (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Transmission DOWN</name>
								<script>if matches[2]:find(target) then
  transmission = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You cease attempting to transmit your maladies to (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Psysap UP</name>
								<script>deleteLine()
sys("&lt;green&gt;Psysap") cecho("&lt;snow&gt;Active on &lt;gold&gt;"..matches[2])
psysap = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub one of your shadowgems and shadows swirl around (\w+), increasing \w+ vulnerability to psychic damage.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Psysap Down</name>
								<script>deleteLine()
sys("&lt;red&gt;Psysap") cecho("Deactivated on &lt;gold&gt;"..matches[2])
psysap = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The shadows around (\w+) retreat, no longer increasing \w+ vulnerability to psychic damage.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Desecration</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Treant</name>
								<script>treant = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order a hideously warped treant to attack \w+</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Treant Whirl Restored</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Treant") cecho("&lt;green&gt;Whirl+")
whirl = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your treant is again able to whirl a branch.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Whirl Used</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Treant") cecho("&lt;red&gt;Whirl- &lt;gold&gt;"..matches[2].." &lt;ivory&gt;"..matches[3]:title().." Used")
whirl = false
if matches[3]:find("elder") then
	elder = true
elseif matches[3]:find("hawthorn") then
	hawthorn = true
elseif matches[3]:find("blackthorn") then
	blackthorn = true
elseif matches[3]:find("hazel") then
	hazel = true
elseif matches[3]:find("birch") then
	birch = true
elseif matches[3]:find("honeysuckle") then
	honeysuckle = true
elseif matches[3]:find("ash") then
	ash = true
elseif matches[3]:find("willow") then
	willow = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Following your gesture, a hideously warped treant whirls a branch mightily towards (\w+), releasing a spore of the (\w+) tree that swiftly burrows into \w+ skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Seed Withered</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;ivory&gt;Seed") cecho("&lt;red&gt;"..matches[3]:title().." withered")
	if matches[2]:find("elder") then
		elder = false
	elseif matches[2]:find("hawthorn") then
		hawthorn = false
	elseif matches[2]:find("blackthorn") then
		blackthorn = false
	elseif matches[2]:find("hazel") then
		hazel = false
	elseif matches[2]:find("birch") then
		birch = false
	elseif matches[2]:find("honeysuckle") then
		honeysuckle = false
	elseif matches[2]:find("ash") then
		ash = false
  elseif matches[2]:find("willow") then
    willow = false
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The splintered (.+) in (\w+)'s body has withered away.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Germinate Used</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Germinate") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Following your command, a hideously warped treant releases a strangely smelling substance that seeps into (\w+)'s pores. The elder and hawthorn seeds inside \w+ suddenly erupt into life before withering away.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Empower Used</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;yellow&gt;Empower") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;"..matches[3]:title().." Used")
	if matches[3]:find("elder") then
		elder = false
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^At your command, a hideously warped treant cuts (\w+) lightly, releasing a small shockwave that causes the (\w+) seed in \w+ body to start stirring.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bloodrain UP</name>
								<script>deleteLine()
sys("&lt;red&gt;Bloodrain") cecho("&lt;green&gt;Active")
bloodrain = true
if matches[2]:find("mercury") then aff("asthma")
elseif matches[2]:find("hemotoxin") then aff("hemotoxin")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You take .+ vial and spatter some \w+\-infused tainted blood high into the air. The skies darken as droplets of blood begin falling back down across the area.$</string>
									<string>Droplets of blood fall harmlessly around you.</string>
									<string>Blood is already raining from the skies here.</string>
									<string>^Droplets of (\w+)\-infested blood fall harmlessly around you\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
									<integer>3</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bloodrain DOWN</name>
								<script>deleteLine()
sys("&lt;red&gt;Bloodrain") cecho("&lt;red&gt;Ceased")
bloodrain = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Droplets of blood stop falling from the skies.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Intoxicate</name>
								<script>deleteLine()
sys("&lt;green&gt;Intoxicate") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;with Dryblood")
aff("dryblood")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You nod at a hideously warped treant, who begins expelling noxious fumes, directing them towards (\w+) who pales visibly as the smoke seeps into \w+ body.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Gutwyrm</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;green&gt;Gutwyrm") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;Gutwyrm-")
	gutwyrm = false
end
if pta then enableTrigger("affPrompt") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The gutwyrm screams in rage deep inside (\w+) as \w+ swallows the plant.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Gutwyrm</name>
								<script>deleteLine()
sys("&lt;green&gt;Gutwyrm") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;Gutwyrm+")
gutwyrm = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You raise your hands with a malignant sneer and chant a brief mantra. A demonic portal opens and spits out a gutwyrm, which leaps immediately onto (\w+) and starts burrowing deep into \w+ abdomen.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Entropy aff</name>
								<script>deleteLine()
sys("&lt;purple&gt;Torment") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;Entropy+")
aff("entropy")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You lean towards (\w+) with a contemptuous sneer and whisper a few words. You watch with satisfaction as \w+ eyes suddenly grow wide with fear.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rigidity</name>
								<script>deleteLine()
sys("&lt;green&gt;Treant") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;Rigidity+")
aff("entropy")
aff("rigidity")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Upon your command, a hideously warped treant stabs (\w+) repeatedly with its sharp branches, until \w+ limbs stiffen with rigidity.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rigidity off</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;green&gt;Treant") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;Rigidity-")
	notaff("rigidity")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) has mustered enough strength to shake off the rigidity for good.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shred</name>
								<script>deleteLine()
sys("&lt;green&gt;Treant") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;Addiction+")
aff("hallucinations")
aff("addiction")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^At your command, a hideously warped treant shreds (\w+)'s skin with its branches, thorns cutting painfully into \w+ flesh.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bellow</name>
								<script>deleteLine()
sys("&lt;green&gt;Treant") cecho("&lt;gold&gt;"..matches[2].." &lt;purple&gt;Bellow")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^At your order, a hideously warped treant bellows loudly at (\w+) and the accumulated entropic energy explodes in a massive outburst of blood and gore.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Entangle</name>
								<script>deleteLine()
sys("&lt;green&gt;Treant") cecho("&lt;gold&gt;"..matches[2].." &lt;yellow&gt;Entangled+")
entangled = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You bark at a hideously warped treant and it lashes out at (\w+), entangling \w+ with its deformed tendrils.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Entangle</name>
								<script>deleteLine()
sys("&lt;green&gt;Treant") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;Entangled-")
entangled = false
snare = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) has writhed free of \w+ entanglement by ropes.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Already seeded</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Treant") cecho("&lt;gold&gt;"..matches[3].." &lt;ivory&gt;"..matches[2]:title().." Used")
whirl = true
if matches[2]:find("elder") then
	elder = true
elseif matches[2]:find("hawthorn") then
	hawthorn = true
elseif matches[2]:find("blackthorn") then
	blackthorn = true
elseif matches[2]:find("hazel") then
	hazel = true
elseif matches[2]:find("birch") then
	birch = true
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A splintered (\w+) seed is already burrowed within (\w+)'s body.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shadow Used</name>
								<script>shadow = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are not yet able to summon another shadow.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blackvines</name>
								<script>deleteLine()
sys("&lt;purple&gt;Blackvines") cecho("&lt;green&gt;Active")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You spatter some tainted blood from .+ vial. As the blood touches the ground, thick blackvines with gleaming thorns emerge and devour it hungrily.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Seeds Used</name>
								<script>deleteLine()
sys("&lt;green&gt;Germinate") cecho("&lt;gold&gt;"..matches[2].." &lt;DimGrey&gt;\- &lt;ivory&gt;"..matches[3]) 
if matches[1]:find("hawthorn") then
	hawthorn = false
end
if matches[1]:find("elder") then
	elder = false
end
if matches[1]:find("blackthorn") then
	blackthorn = false
end
if matches[1]:find("birch") then
	birch = false
end
if matches[1]:find("honeysuckle") then
  honeysuckle = false
end
if matches[1]:find("willow") then
	willow = false
end
if matches[1]:find("ash") then
	ash = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Following your command, a hideously warped treant releases a strangely smelling substance that seeps into (\w+)'s pores. The(.+) inside \w+ suddenly erupt into life before withering away\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Diabolist</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Malignosis</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daegger Hunt</name>
								<script>dhunt = false
if matches[1]:find("impale") then sshunt = false end
sys("Daegger") cecho("&lt;yellow&gt;Hunting")
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>"Hunt!" you order your daegger.</string>
									<string>^You order your daegger to impale \w+. It misses!$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daegger Hunt</name>
								<script>dhunt = true
sshunt = true
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your daegger comes racing towards you, stopping unnaturally quickly to land in your grasp.</string>
									<string>The daegger is again ready to hunt its prey.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fiend - Attack</name>
								<script>fiendatk = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A razor fiend obeys your command.</string>
									<string>A razor fiend is already hostile</string>
									<string>A fiendish nightmare obeys your command.</string>
									<string>A fiendish nightmare is already hostile</string>
									<string>A small winged daemonite obeys your command.</string>
									<string>A small winged daemonite is already hostile</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>2</integer>
									<integer>3</integer>
									<integer>2</integer>
									<integer>3</integer>
									<integer>2</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fiend - Passive</name>
								<script>fiendatk = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With seeming reluctance, (?:a razor fiend|a fiendish nightmare|a small winged daemonite) obeys your command.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daegger Hit</name>
								<script>if multimatches[1][2]:find(target) then
--
if daff == "iodine" then 
	aff("slickness")
	affCall("slickness") 
end
--
if daff == "strychnine" and not deaf then 
	aff("sensitivity") 
elseif dht:find("strychnine") then 
	deaf = false 
end
--
if daff == "avidya" then 
	aff("ignorance")
	affCall("ignorance") 
end
--
if daff == "mercury" then
	aff("asthma")
	affCall("asthma")
end
--
end
-- pb = false
shield = false
rb = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) winces as a toxin from the daegger seeps into \w+ body.$</string>
									<string>return isPrompt()</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fiend - DOWN</name>
								<script>fiend = false
dtype = "none"
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A (?:fiendish nightmare|razor fiend|small winged daemonite) screams in rage as the pentagram that it is bound to disintegrates.$</string>
									<string>A fiendish nightmare, your loyal companion, has been slain</string>
									<string>A small winged daemonite, your loyal companion, has been slain</string>
									<string>A razor fiend, your loyal companion, has been slain</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>2</integer>
									<integer>2</integer>
									<integer>2</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fiend - UP</name>
								<script>fiend = true
if matches[1]:find("fiend") then dtype = "Fiend"
elseif matches[1]:find("unspeakable") then dtype = "Nightmare"
elseif matches[1]:find("daemonite") then dtype = "Daemonite"
end
send("queue eqbal order loyals follow me")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The blood that forms the pentagram begins to boil and churn as a razor-clawed fiend explodes into view.</string>
									<string>You conjure up images of unspeakable acts and force them to take semi-corporeal form.</string>
									<string>You summon forth a daemonite to harrass your enemies.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Demon Stain</name>
								<script>stain = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With a snarl, your Ouroboros opens its mouth and spews a foul black liquid at (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sap</name>
								<script>msTA(matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your Ouroboros casts a piercing glance at (\w+).$</string>
									<string>^You laugh sadistically as you sap the mental strength from (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Catharsis Call</name>
								<script>if ms.class["Diabolist"] and healing and cath and not matches[2]:find("Math") then pta = false; send("queue reset eqbal");send("queue eqbal top demon catharsis "..matches[2]);dcath = true end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^\(\w+\): \w+ says, "Cath (\w+)\."$</string>
									<string>^\(\w+\): \w+ says, "CATHARSIS (\w+) NOW\!\!"$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nightmare</name>
								<script>send("night"..s.."queue eqbal summon nightmare")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A nightmare may only be summoned in the darkness of night.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ouroboros</name>
								<script>send("summon ouroboros")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your Ouroboros is not here.</string>
									<string>Your Ouroboros is not here, SUMMON OUROBOROS to recall it.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daegger Affliction</name>
								<script>deleteLine()
daff = matches[2]
dhunt = false
sys("&lt;red&gt;Daegger") cecho("&lt;green&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub some (\w+) on .+ daegger.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Check Health/Mana</name>
								<script>msTA(matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You give your Ouroboros the order to bring an end to the life of \w+, and though it tries, the stink of failure hangs heavy over its head.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Focus Possession</name>
								<script>heal()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your concentration on the soul of .+ is successful, and you feel yourself carried away on a wave of necromantic energy.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Beckon Attempt</name>
								<script>callout("Demon Beckon", matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You bid your Ouroboros to draw (\w+) in close.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Beckon Attempt Failed</name>
								<script>callout("Demon Beckon", target.." Not Near")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You don't see any such player in an adjacent location.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Demon Strip</name>
								<script>callout("Stripped "..multimatches[1][2], multimatches[2][2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You bid your Ouroboros to strip a defence from (\w+).$</string>
									<string>^\w+'s (.+) defence is stripped.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Demon Sear</name>
								<script>if matches[2]:find(target) then
	dsear = true
	aff("ablaze")
end
if matches[2] == "yourself" then dsear = true end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order your Ouroboros to sear the flesh of (\w+).$</string>
									<string>^(\w+)'s flesh is set alight by the Ouroboros.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Demon Sear Off</name>
								<script>dsear = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your Ouroboros no longer sears </string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>2</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Numbed</name>
								<script>numbed = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are already numb.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daegger Shadowstrike</name>
								<script>if matches[2]:find(target) and healing then send("queue reset all");send("queue eqbal top top leech "..target) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The daegger has looped around and dives towards (\w+)'s shadow, impaling it and \w+!$</string>
									<string>^\w+ barks at .+ and it lashes out at (\w+), entangling \w+ with its deformed tendrils.$</string>
									<string>^The daegger has looped around and dives towards (\w+)'s shadow, pinning it and \w+!$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Eye, Aye!</name>
								<script>deleteLine()
sys("&lt;OrangeRed&gt;EYE") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;[&lt;DimGrey&gt;"..matches[3].."&lt;red&gt;]")
if not table.contains(ms.allies, matches[2]) then callout("[Eye] "..matches[2], matches[3]) end
mmp.locateAndEchoSideMS(matches[3])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A grotesque, hovering eye pulsates suddenly and projects before you an image of (\w+) entering (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fiend Follow</name>
								<script>fiend = true
if matches[2]:find("nightmare") then dtype = "Nightmare"
elseif matches[2]:find("daemonite") then dtype = "Daemonite"
elseif matches[2]:find("fiend") then dtype = "Fiend"
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A (razor fiend|small winged daemonite|fiendish nightmare) obediently falls into line behind you.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Mind Read</name>
								<script>deleteLine()
cecho("\n &lt;red&gt;[ &lt;OrangeRed&gt;MIND - READ &lt;red&gt;]")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff5500</mFgColor>
								<mBgColor>#000000</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The voice of your Ouroboros rings through your mind:</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Belch down</name>
								<script>deleteLine()
fecho("Necromancy", "Belch", "DOWN")
belch = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The noxious cloud dissipates.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Demon Refuge</name>
								<script>fiend = false
dtype = "none"
mount = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The world fades back into view and your Ouroboros releases its gentle grip on you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Belch up</name>
								<script>belch = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You belch a cloud of stinking gas out of your lungs and into your surroundings.</string>
									<string>You take in a deep breath in preparation for your belch, but cough and sputter as you inhale the noxious air that surrounds you.</string>
									<string>A stinking noxious cloud floats here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wipe Daegger</name>
								<script></script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>No more toxins will fit upon that item.</string>
									<string>"Hunt!" you order your daegger.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daegger Echo</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("Daegger") cecho("&lt;purple&gt;"..daff:upper())
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) winces as a toxin from the daegger seeps into \w+ body.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Demon blast</name>
								<script>fecho("Malignosis", "Demon", "BLAST!!!")
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The pentagram on the ground explodes, enhancing the effect of the blast.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Demon lost</name>
								<script>if matches[1]:find("daemonite") or matches[1]:find("fiend") or matches[1]:find("nightmare") then
	fiend = false
	dtype = "none"
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You cease leading .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Disrupted</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;purple&gt;Ouroboros") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;\-\&gt; Disrupted")
	disrupted = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your Ouroboros gazes fiercely at (\w+) with its many eyes, upsetting \w+ equilibrium.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Disruption cured</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;purple&gt;Ouroboros") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;\-\&gt; &lt;green&gt;Cured Disruption")
	disrupted = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s eyes lose their focus suddenly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Ritualism</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun Up</name>
								<script>sun = true
suncd = false
disableTimer("sun")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You can again use the Ixi-antarea symbol.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun Down</name>
								<script>if matches[2]:find(target) then
	sun = false
	sunaff = false
	sunc = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Ixi-antarea symbol in the air, and it starts hovering above (\w+), as if waiting for something to happen.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Set Symbols</name>
								<script>if matches[2] == "sae-ino" then magickset = true
elseif matches[2] == "sae-tel" then lightningset = true
elseif matches[2] == "sae-edi" then iceset = true
elseif matches[2] == "sae-rakhyma" then repset = true
elseif matches[2] == "anae-ino" then msset = true
elseif matches[2] == "noss-sentena" then malset = true
elseif matches[2] == "noss-ita" then bodyset = true
elseif matches[2] == "noss-ani" then mindset = true
elseif matches[2] == "noss-sett" then stillset = true
elseif matches[2] == "noss-tae" then sensset = true
elseif matches[2] == "darr" then spiderset = true
elseif matches[2] == "noss-settana" then boneset = true
elseif matches[2] == "sett" then balanceset = true
elseif matches[2] == "alta-ino" then leechset = true
end

if matches[3] then
	deleteLine()
	cecho("&lt;ivory&gt; - &lt;cyan&gt;"..matches[4].."&lt;ivory&gt;%\n")
else
	deleteLine()
	cecho("&lt;ivory&gt; - &lt;cyan&gt;SET\n")
	moonset = moonset + 1
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The symbol floating around \w+'s head flashes briefly as the (.+) symbol attaches\.$</string>
									<string>^The (.+) portion of the symbol floating around (\w+) is (\d+)\% charged.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Full Symbols</name>
								<script>if matches[2] == "sae-ino" then magickfull = true
elseif matches[2] == "sae-tel" then lightningfull = true
elseif matches[2] == "sae-edi" then icefull = true
elseif matches[2] == "sae-rakhyma" then repfull = true
elseif matches[2] == "noss-sentena" then malfull = true
elseif matches[2] == "noss-ita" then bodyfull = true
elseif matches[2] == "noss-ani" then mindfull = true
elseif matches[2] == "noss-sett" then stillfull = true
elseif matches[2] == "noss-tae" then sensfull = true
elseif matches[2] == "darr" then spiderfull = true
elseif matches[2] == "noss-settana" then bonefull = true
elseif matches[2] == "sett" then balancefull = true
elseif matches[2] == "alta-ino" then leechfull = true
end
deleteLine()
cecho("&lt;green&gt; FULL!\n")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The (.+) portion of the symbol floating around (\w+) is fully charged\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Full Set</name>
								<script>if matches[2]:find(target) then
	magickset = true
	lightningset = true
	iceset = true
	repset = true
	malset = true
	msset = true
	bodyset = true
	mindset = true
	stillset = true
	spiderset = true
  leechset = true
	sensset = true
	boneset = true
	balanceset = true
end
	deleteLine()
	cecho("&lt;ivory&gt; - &lt;cyan&gt;ALL 3 SET!\n")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The symbol floating around (\w+)'s head turns an ominous red\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Moon Placed</name>
								<script>moon = false
deleteLine()
if matches[2] then sys("&lt;gray&gt;Moon") cecho("&lt;ivory&gt;"..matches[2])
else sys("&lt;gray&gt;Moon") cecho("&lt;yellow&gt;ALREADY USED")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Ixi-sentena symbol in the air, and it starts circling around (\w+), glowing faintly.$</string>
									<string>But you haven't bound enough symbols to the Ixi-sentena one yet!</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Moon Used</name>
								<script>moonhit = true
moonset = tonumber(0)
magickset = false
lightningset = false
iceset = false
repset = false
sensset = false
msset = false
malset = false
bodyset = false
mindset = false
stillset = false
stillfull = false
leechset = false
leechfull = false
malfull = false
bodyfull = false
mindfull = false
repfull = false
sensfull = false
spiderfull = false
spiderset = false
magickfull = false
lightningfull = false
icefull = false
bonefull = false
boneset = false
balancefull = false
balanceset = false
fireshield = true
magickshield = true
fsc = tonumber(0)
msc = tonumber(0)
deleteLine()
fecho("Moon", matches[2], "EXPLOSION")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Ixi-sentena symbol in the air, and it attaches itself to the symbol already floating around (\w+). For a moment, the two symbols shudder violently, then explode in a powerful burst that rips through (\w+), consuming flesh and bone alike.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun</name>
								<script>deleteLine()
sys("&lt;orange&gt;Sun") cecho("&lt;ivory&gt;"..matches[2])
suncd = true
sunused = true;tempTimer(8, [[sunused = false]])
sun = false
sunaff = false
sunc = tonumber(0)
enableTimer("sun")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Ixi-antarea symbol in the air, and it starts hovering above (\w+), as if waiting for something to happen.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lightning</name>
								<script>if matches[3] and matches[3]:find(target) then
	deleteLine()
	sys("&lt;yellow&gt;Lightning") cecho("&lt;green&gt;"..matches[2].."&lt;DimGrey&gt;\-\&gt;&lt;ivory&gt;"..matches[3])
	aff("epilepsy")
elseif matches[2]:find(target) or matches[1]:find("You sketch") then
	deleteLine()
	sys("&lt;yellow&gt;Lightning") cecho("&lt;ivory&gt;"..matches[2]:title())
	if matches[2]:find(target) then aff("epilepsy") end
end
	</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Sae-tel symbol in the air, and electricity starts crackling around (.+).$</string>
									<string>^(\w+) sketches a symbol in the air, and electricity starts crackling around (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Magick</name>
								<script>if matches[3] and matches[3]:find(target) then
	deleteLine()
	sys("&lt;cyan&gt;Magick") cecho("&lt;green&gt;"..matches[2].."&lt;DimGrey&gt;\-\&gt;&lt;ivory&gt;"..matches[3])
	aff("nausea")
elseif matches[2]:find(target) or matches[1]:find("You sketch") then
	deleteLine()
	sys("&lt;cyan&gt;Magick") cecho("&lt;ivory&gt;"..matches[2])
	if matches[2]:find(target) then aff("nausea") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Sae-ino symbol in the air, and a stream of raw magick slams into (\w+), causing \w+ to double over in pain.$</string>
									<string>^(\w+) sketches a symbol in the air, causing \w+ to double over in pain.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Maladies</name>
								<script>deleteLine()
sys("&lt;purple&gt;Maladies") cecho("&lt;ivory&gt;"..matches[2].." - &lt;green&gt;"..matches[3])
  aff(matches[3])
if matches[3]:find("clumsiness") then
	aff("hemotoxin")
elseif matches[3]:find("healthleech") then
	aff("hemotoxin")
	aff("clumsiness")
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Noss-sentena symbol in the air, and it hovers ominously above (\w+), afflicting \w+ with (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Body/Mind Link</name>
								<script>deleteLine()
if matches[2] == "ita" then
	sys("&lt;purple&gt;Bodylink") cecho("&lt;ivory&gt;"..matches[3])
elseif matches[2] == "ani" then
	sys("&lt;purple&gt;Mindlink") cecho("&lt;ivory&gt;"..matches[3])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Noss-(ita) symbol in the air, and a malady descends upon (\w+).$</string>
									<string>^You sketch the Noss-(ani) symbol in the air, and a malady descends upon (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Maladies Set</name>
								<script>aff("hemotoxin")
aff("clumsiness")
aff("healthleech")
maldmg = true
deleteLine()
sys("&lt;purple&gt;Maladies") cecho("&lt;ivory&gt;"..matches[2].." - &lt;red&gt;Damage")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Noss-sentena symbol in the air, and (\w+) is suddenly crushed by an invisible force.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fireshield</name>
								<script>deleteLine()
sys("&lt;red&gt;FireShield") cecho("&lt;ivory&gt;"..matches[2])
fsc = fsc + 1
if fsc == 2 then fireshield = false end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Anae-uxa symbol in the air and slowly move your daegger in a circle around it. Orbs of fire and ice appear around (\w+), rotating slowly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Magickshield</name>
								<script>deleteLine()
sys("&lt;cyan&gt;MagickShield") cecho("&lt;ivory&gt;"..matches[2])
msc = msc + 1
if msc == 2 then magickshield = false end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Anae-ino symbol in the air and slowly move your daegger in a circle around it. Two crackling orbs appear around (\w+), rotating slowly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Resistance used</name>
								<script>tresist = false
deleteLine()
sys("&lt;cyan&gt;Resistance&lt;green&gt;+") cecho("&lt;ivory&gt;"..matches[2].." - &lt;gold&gt;"..matches[3])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Anae-rakhyma symbol in the air, and (\w+)'s skin glows briefly as \w+ (\w+) resistance changes.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Repetition</name>
								<script>deleteLine()
sys("&lt;green&gt;Repetition") cecho("&lt;ivory&gt;"..matches[3].." - &lt;DimGrey&gt;"..matches[2])
sunhit = false
maldmg = false
moonhit = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Sae-rakhyma symbol in the air, and a wave of (\w+) force slams into (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun set</name>
								<script>deleteLine()
cecho("&lt;orange&gt; &lt;- Sun")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The symbol hovering above (\w+) flashes and its center starts swirling slowly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun Used</name>
								<script>deleteLine()
sys("&lt;orange&gt;Sun Tick") cecho("&lt;ivory&gt;"..matches[2].." - &lt;DimGrey&gt;"..matches[3])
sunaff = false
if matches[3] == "fire" or matches[3] == "cold" or matches[3] == "unblockable" then sunhit = true else sunhit = false end
if pta then enableTrigger("affPrompt") end

</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The hovering symbol above turns towards (\w+) and a blast of (\w+) force shoots out of it at \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stillness</name>
								<script>if matches[3] and matches[3]:find(target) then
	deleteLine()
	sys("&lt;gold&gt;Stillness") cecho("&lt;green&gt;"..matches[2].."&lt;DimGrey&gt;\-\&gt;&lt;ivory&gt;"..matches[3])
	aff("numbness")
elseif matches[2]:find(target) then
	deleteLine()
	sys("&lt;gold&gt;Stillness") cecho("&lt;ivory&gt;"..matches[2])
	aff("numbness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Noss-sett symbol in the air, and a numbness spreads across (\w+)'s body.$</string>
									<string>^(\w+) sketches a symbol in the air, and a numbness spreads across (\w+)'s body.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Vitality</name>
								<script>if healing and not hk then send("queue reset eqbal");send("queue eqbal top trace vitality me") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You can again use the Anae-antarea symbol.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun Cooldown</name>
								<script>if matches[2]:find(target) then
	sun = false
	end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cannot use the Ixi-antarea symbol again so soon.</string>
									<string>^You cannot use the Ixi-antarea symbol on (\w+) again so soon.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Magickshield down</name>
								<script>if matches[2]:find(target) and matches[1]:find("crackling") then
	magickshield = true
	msc = tonumber(0)
elseif matches[2]:find(target) and matches[1]:find("fire and cold") then
	fireshield = true
	fsc = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The crackling orbs disappear from around (\w+).$</string>
									<string>^The orbs of fire and cold disappear from around (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sensitivity</name>
								<script>if matches[3] and matches[3]:find(target) then
	deleteLine()
	sys("&lt;yellow&gt;Sensitivity") cecho("&lt;green&gt;"..matches[2].."&lt;DimGrey&gt;\-\&gt;&lt;ivory&gt;"..matches[3])
		if deaf then
			deaf = false
		else
			aff("sensitivity")
		end
elseif matches[2]:find(target) then
	deleteLine()
	sys("&lt;yellow&gt;Sensitivity") cecho("&lt;ivory&gt;"..matches[2])
		if deaf then
			deaf = false
		else
			aff("sensitivity")
		end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Noss\-tae symbol in the air, and (\w+) seems more susceptible to damage\.$</string>
									<string>^(\w+) sketches a symbol in the air, and (\w+) seems more susceptible to damage\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Resistance Down</name>
								<script>tresist = true
deleteLine()
sys("&lt;cyan&gt;Resistance&lt;red&gt;-") cecho("&lt;ivory&gt;"..matches[2].." - &lt;gold&gt;"..matches[3])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s \w+ resistance changes again as the Anae-rakhyma symbol fades\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Tranfix - Blindness</name>
								<script>deleteLine()
sys("&lt;purple&gt;Spider") cecho("&lt;ivory&gt;"..matches[2].." - &lt;yellow&gt;Blindness Cured")
blind = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Darr symbol in the air and a glowing web spins rapidly around (\w+), curing \w+ blindness.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Transfixed</name>
								<script>deleteLine()
sys("&lt;purple&gt;Spider") cecho("&lt;ivory&gt;"..matches[2].." - &lt;yellow&gt;Transfixed")
transfixed = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the symbol of the spider in the air and a glowing web spins rapidly around (\w+), transfixing \w+ with its fast movements\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Magick shield full</name>
								<script>msc = 2
msset = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Anae-ino symbol in the air and slowly move your daegger in a circle around it. However, nothing happens.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bark Used</name>
								<script>bark = false
useBark = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Anae-daen symbol in the air, and you feel resistant to the .+ damage.$</string>
									<string>You cannot use the Anae-daen symbol again yet.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bark Ready</name>
								<script>bark = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You can again use the Anae-daen symbol.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fire</name>
								<script>if matches[3] and matches[3]:find(target) then
	deleteLine()
	sys("&lt;red&gt;Fire Symbol") cecho("&lt;green&gt;"..matches[2].." &lt;ivory&gt;- &lt;gold&gt;"..matches[3]:title())
	aff("ablaze")
elseif matches[2]:find(target) or matches[1]:find("You sketch") then
	deleteLine()
	sys("&lt;red&gt;Fire Symbol") cecho("&lt;gold&gt;"..matches[2]:title())
	if matches[2]:find(target) then aff("ablaze") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Sae-uxa symbol in the air, and flames leap up around (.+)\.$</string>
									<string>^(\w+) sketches a symbol in the air, and flames suddenly leap up around (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ice</name>
								<script>if matches[3] and matches[3]:find(target) then
	if tcal then tcal = false
	elseif ms.afflicted["shivering"] == "notaff" then aff("shivering")
	elseif ms.afflicted["frozen"] == "notaff" then aff("frozen")
	end
	deleteLine()
	sys("&lt;blue&gt;Ice Symbol") cecho("&lt;green&gt;"..matches[2].."&lt;DimGrey&gt;\-\&gt;&lt;gold&gt;"..matches[3]:title())
elseif matches[2]:find(target) or matches[1]:find("You sketch") then
	if matches[2]:find(target) then
		if tcal then tcal = false
		elseif ms.afflicted["shivering"] == "notaff" then aff("shivering")
		elseif ms.afflicted["frozen"] == "notaff" then aff("frozen")
		end
	end
	deleteLine()
	sys("&lt;blue&gt;Ice Symbol") cecho("&lt;gold&gt;"..matches[2]:title())
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Sae-edi symbol in the air, and (.+)'s skin turns blue from extreme cold\.$</string>
									<string>^(\w+) sketches a symbol in the air, and (.+)'s skin turns blue from extreme cold\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Repetition failed</name>
								<script>deleteLine()
sys("&lt;green&gt;Repetition") cecho("&lt;ivory&gt;"..target.." - &lt;red&gt;FAILED")
sunhit = false
maldmg = false
moonhit = false
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) has not been hit by anything yet\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wall Used</name>
								<script>wall = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You sketch the Alta-ende symbol on the ground, and it starts glowing with a blue light.</string>
									<string>You cannot use that symbol again so soon.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wall Regained</name>
								<script>wall = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You can again use the Alta-ende symbol.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bone</name>
								<script>deleteLine()
sys("&lt;ivory&gt;Bone") cecho("&lt;ivory&gt;"..matches[2])
aff("crippled right leg")
aff("crippled left leg")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Noss-settana symbol in the air, and the bones in (\w+)'s legs suddenly snap\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Whirlwind</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Whirlwind") cecho("&lt;ivory&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Sae-antarea symbol in the air, turn your gaze towards (\w+), and focus all your mental will upon the symbol.$</string>
									<string>^Maintaining your concentration on the swirling symbol, you send another wave of raw energy at (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Balance</name>
								<script>if matches[2]:find(target) then
	tprone = true
	deleteLine()
	sys("&lt;yellow&gt;Balance") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;Proned")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Sett symbol in the air, and an unseen force drags (\w+) towards the ground\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun from other Diab</name>
								<script>if matches[2]:find(target) then
	sununsed = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^\w+ sketches a symbol in the air, and it starts hovering above (\w+), as if waiting for something to happen.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun able to be used again</name>
								<script>if matches[2]:find(target) then
	sunused = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) can again be affected by the Ixi-antarea symbol.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Leech</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Leech") cecho("&lt;ivory&gt;"..matches[2].." - &lt;green&gt;"..matches[3])
ms.afflicted[matches[3]] = "aff"
if matches[3]:find("slow balance") then
	aff("slickness")
elseif matches[3]:find("manaleech") then
	aff("slickness")
	aff("slow balance")
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Alta\-ino symbol in the air, and it hovers ominously above (\w+), afflicting \w+ with (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Leech set</name>
								<script>aff("slickness")
aff("slow balance")
aff("manaleech")
deleteLine()
sys("&lt;cyan&gt;Leech") cecho("&lt;ivory&gt;"..matches[2].." - &lt;blue&gt;Mana")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sketch the Alta\-ino symbol in the air, and (\w+) is suddenly crushed by an invisible force.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Nightfall</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wraith Charges</name>
								<script>deleteLine()
if matches[3] then
	if matches[2] == "ethereal" then ethereal = tonumber(matches[3])
	elseif matches[2] == "reflective" then reflective = tonumber(matches[3])
	elseif matches[2] == "vigorous" then vigorous = tonumber(matches[3])
	elseif matches[2] == "whispering" then whispering = tonumber(matches[3])
	elseif matches[2] == "fiery" then fiery = tonumber(matches[3])
	elseif matches[2] == "translucent" then translucent = tonumber(matches[3])
	elseif matches[2] == "midnight" then midnight = tonumber(matches[3])
	elseif matches[2] == "glowing" then glowing = tonumber(matches[3])
	end
else
	if matches[2] == "ethereal" then ethereal = tonumber(0)
	elseif matches[2] == "reflective" then reflective = tonumber(0)
	elseif matches[2] == "vigorous" then vigorous = tonumber(0)
	elseif matches[2] == "whispering" then whispering = tonumber(0)
	elseif matches[2] == "fiery" then fiery = tonumber(0)
	elseif matches[2] == "translucent" then translucent = tonumber(0)
	elseif matches[2] == "midnight" then midnight = tonumber(0)
	elseif matches[2] == "glowing" then glowing = tonumber(0)
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^An? (.+) wraith has lost its accumulated charges\.$</string>
									<string>^An? (.+) wraith now has (\d+) charges?\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wraith Cooldown</name>
								<script>wraith = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You can again command a wraith.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Night</name>
								<script>deleteLine()
cecho("\n&lt;cyan&gt;[&lt;purple&gt;NIGHT&lt;cyan&gt;]\n")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Holding your outstretched palm aloft, you call upon the forces of darkness to extinguish the accursed light from around you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wraith Used</name>
								<script>wraith = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A reflective wraith touches you briefly, and your hands start moving with unnatural swiftness as a powerful burst of energy washes over you.</string>
									<string>^A vigorous wraith grows still for a moment, then passes slowly straight through (\w+), who appears substantially weakened\.$</string>
									<string>^A whispering wraith flows near (\w+) and starts sucking in the air, tendrils of energy crackling within. An unnatural tiredness shows upon (\w+)'s face, sapping his mental strength.$</string>
									<string>^A fiery wraith erupts into a powerful flame, then flows towards your daegger, which starts glowing brightly.$</string>
									<string>^You point with your finger and a reflective wraith turns towards a (\w+) wraith.$</string>
									<string>A whispering wraith leans towards you and an electrifying energy passes through you. You feel rejuvenated.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wraith Down</name>
								<script>if matches[1]:find("fiery") then trueassess = true end
if matches[1]:find("no wraiths") then 
	eWraith = false 
	fiery = tonumber(0)
	glowing = tonumber(0)
	vigorous = tonumber(0)
	whispering = tonumber(0)
	translucent = tonumber(0)
	reflective = tonumber(0)
	ethereal = tonumber(0)
	midnight = tonumber(0)
end
if matches[2]:find("fiery") then fiery = tonumber(0)
elseif matches[2]:find("ethereal") then ethereal = tonumber(0)
elseif matches[2]:find("vigorous") then vigorous = tonumber(0)
elseif matches[2]:find("whispering") then whispering = tonumber(0)
elseif matches[2]:find("translucent") then translucent = tonumber(0)
elseif matches[2]:find("midnight") then midnight = tonumber(0)
elseif matches[2]:find("glowing") then glowing = tonumber(0)
elseif matches[2]:find("reflective") then reflective = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your (\w+) wraith freezes in mid-air for a moment, then disappears with a silent \'pop\'\.$</string>
									<string>You control no wraiths.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ethereal Already Out</name>
								<script>ethereal = tonumber(5)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>But you already control a wraith of that type!</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Summoned</name>
								<script>deleteLine()
sys("&lt;DimGrey&gt;"..matches[2]:title().." Wraith") cecho("&lt;green&gt;Summoned")
if matches[2] == "glowing" then glow = true end
if matches[2] == "ethereal" then eWraith = true end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^An? (\w+) wraith suddenly materialises out of thin air, its shape unfocused and blurry.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Unsummoned</name>
								<script>deleteLine()
if matches[2] == "glowing" then glow = false end
if matches[2] == "ethereal" then eWraith = false;ethereal = tonumber(0) end
sys("&lt;DimGrey&gt;"..matches[2]:title().." Wraith") cecho("&lt;red&gt;Unsummoned")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your (\w+) wraith freezes in mid\-air for a moment, then disappears with a silent \'pop\'\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ethereal Gone</name>
								<script>eWraith = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>But you have no such wraith.</string>
									<string>You control no wraiths.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nightcurse</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;yellow&gt;Glowing") cecho("&lt;purple&gt;Nightcurse &lt;ivory&gt;\-\&gt; &lt;gold&gt;"..matches[2])
	nightcurseCD = true
	tempTimer(25, [[nightcurseCD = false]])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A glowing wraith suddenly grows bigger and turns entirely dark. It then turns towards (\w+), whose visage turns ghastly for a short moment.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Vigorous Wraith bodysap</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;red&gt;Vigorous") cecho("&lt;red&gt;Bodysap &lt;gold&gt;"..target)
	moonhit = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A vigorous wraith grows still for a moment, then passes slowly straight through (\w+), who appears substantially weakened.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Envelop</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;DimGray&gt;Translucent") cecho("&lt;red&gt;Envelop &lt;gold&gt;"..target)
	enveloped = true
	tempTimer(15, [[enveloped = false]])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A translucent wraith disappears for a moment, then re\-appears close to (\w+), encircling and enveloping \w+ rapidly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wraith Sensitivity</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;yellow&gt;Glowing Wraith") cecho("&lt;yellow&gt;Sensitivity &lt;ivory&gt;\- "..matches[2])
	if not deaf then aff("sensitivity") 
	else deaf = false
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A glowing wraith suddenly grows bigger and floats towards (\w+), who looks around uncomfortably.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Assassin</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Spatium</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hypnotise Active</name>
								<script></script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is already under your hypnotic spell.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wormhole gag</name>
								<script>deleteLine()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Multicolored fragments fly out of your wormhole as its connection shatters.</string>
									<string>You close your eyes and focus your mind on forming a connection with your dimensional wormhole. </string>
									<string>Your wormhole is already attached to itself.</string>
									<string>Your wormhole is already attached to the frozen tundra.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Worm Attach</name>
								<script>deleteLine()
if matches[2]:lower():find("volcano") then
	wloc = "&lt;red&gt;Volcano"
elseif matches[2]:lower():find("rashirmir") then
	wloc = "&lt;DimGrey&gt;Rashirmir"
elseif matches[2]:lower():find("tundra") then
	wloc = "&lt;cyan&gt;Tundra"
elseif matches[2]:lower():find("itself") then
	wloc = "&lt;purple&gt;Circular"
elseif matches[2]:lower():find("demonic") then
	wloc = "&lt;ivory&gt;Demonic"
elseif matches[2]:lower():find("elemental") then
  wloc = "&lt;ivory&gt;Elemental"
else
	if wRoom ~= "" then
		wloc = "&lt;gold&gt;"..wRoom:title()
		wRoom = ""
	else
		wloc = "&lt;gold&gt;"..target
	end
	
end	
sys("&lt;purple&gt;Wormhole") cecho("&lt;DimGrey&gt;Attached \- "..wloc)
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You close your eyes and focus your mind on forming a connection with your dimensional wormhole. Frowning in concentration, you direct its loose end through space, attaching it firmly (.+)\.$</string>
									<string>^You use Spatium Attach \((\w+)\).$</string>
									<string>^Your wormhole is already attached to (\w+).$</string>
									<string>^Your wormhole is already attached to the (\w+).$</string>
									<string>You cannot use that ability while your wormhole is attached to another room.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shadowplant</name>
								<script>deleteLine()
sys("&lt;purple&gt;Shadowplant") cecho("&lt;gold&gt;"..matches[3].." &lt;DimGrey&gt;- &lt;ivory&gt;"..matches[2])
shadowherb = matches[2]
if matches[2]:find("maidenhair") then
	spmh = false
elseif matches[2]:find("mandrake") then
	spm = false
elseif matches[2]:find("kelp") then
	spk = false
elseif matches[2]:find("wormwood") then
	spww = false
end
tempTimer(1, [[function() table.insert(ms.shadowplants, ]]..matches[2]..[[) end]])
tempTimer(5, [[function() table.remove(ms.shadowplants, table.index_of(ms.shadowplants, ]]..matches[2]..[[)) end]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You force a small opening in your wormhole and a shadowy replica of a piece of (\w+) pops out of it and lands in (\w+)'s hands.$</string>
									<string>^You force a small opening in your wormhole and a shadowy replica of (?:a|an) (\w+) \w+ pops out of it and lands in (\w+)'s hands.$</string>
									<string>^You use Spatium Shadowplant \((\w+)\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shadowplant cooldown</name>
								<script>deleteLine()
sys("&lt;purple&gt;Shadowplant &lt;cyan&gt;Cooldown") cecho("&lt;ivory&gt;"..matches[2])
if matches[2]:find("maidenhair") then
	spmh = true
elseif matches[2]:find("mandrake") then
	spm = true
elseif matches[2]:find("kelp") then
	spk = true
elseif matches[2]:find("wormwood") then
	spww = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are again able to conjure the shadowplant of (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engulf Up</name>
								<script>deleteLine()
sys("&lt;red&gt;Engulfed") cecho("&lt;gold&gt;"..matches[2])
engulfed = true
engulf_tick = true
rb = false
blizzard = false
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Temperature rises noticeably as you force your wormhole to open and start spewing fire towards (\w+).$</string>
									<string>^(\w+) is already surrounded by flames.$</string>
									<string>^You use Spatium Engulf on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engulf Tick</name>
								<script>deleteLine()
sys("&lt;red&gt;Engulfed") cecho("&lt;ivory&gt;Tick &lt;DimGrey&gt;- &lt;gold&gt;"..matches[2])
engulfed = true
rb = false
disableTimer("rebounding")
fenugreek = false
rbhit = false
blizzard = false
engulf_tick = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Searing fire spews out at (\w+) from your wormhole, twirling chaotically around \w+ body.$</string>
									<string>^Searing fire spews out at (\w+) from \w+'s wormhole, twirling chaotically around \w+ body.$</string>
									<string>^You use Spatium Engulf \(tick\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engulf Down</name>
								<script>deleteLine()
sys("&lt;DimGrey&gt;Engulfed") cecho("&lt;ivory&gt;Ceased")
engulfed = false
blizzard = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your wormhole ceases spewing flames.</string>
									<string>You use Spatium Engulf (end).</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Instill</name>
								<script>deleteLine()
sys("&lt;purple&gt;Instill") cecho("&lt;gold&gt;"..matches[3].." &lt;DimGrey&gt;- &lt;yellow&gt;"..matches[2]:title())
instill = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Forcing your wormhole to swirl in a hypnotic motion, you lean towards (\w+) and whisper about (\w+).$</string>
									<string>^You use Spatium Instill \((\w+)\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Confound</name>
								<script>deleteLine()
sys("&lt;purple&gt;Confound") cecho("&lt;gold&gt;"..matches[2])
confound = false
if matches[1]:find("fascinates") or matches[1]:find("Spatium Confound") then enableTimer("confound") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You let your wormhole circulate around your head, creating a spectacle that fascinates and confounds (\w+).$</string>
									<string>^You let your wormhole circulate around your head, creating a spectacle that appears to have no effect on (\w+).$</string>
									<string>^You use Spatium Confound on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Create Wormwhole</name>
								<script>if healing then send("queue eqbal top worm create") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You must create your personal wormhole first.</string>
									<string>You need to create your personal wormhole first.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blizzard up</name>
								<script>deleteLine()
sys("&lt;blue&gt;Blizzard") cecho("&lt;green&gt;Active!")
blizzard = true
engulfed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You focus your mind on your wormhole, forcing it to open wide. Freezing blizzard starts pouring in from the swirling vortex, covering everything with impenetrable whiteness.$</string>
									<string>A blizzard is already pouring in to here from another wormhole.</string>
									<string>You use Spatium Blizzard.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blizzard Down</name>
								<script>deleteLine()
sys("&lt;blue&gt;Blizzard") cecho("&lt;DimGrey&gt;Ceased")
blizzard = false
engulfed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Blizzard ceases pouring in through your wormhole.$</string>
									<string>^Visibility improves as the freezing blizzard ceases pouring in from the wormhole.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blizzard Tick</name>
								<script>deleteLine()
sys("&lt;blue&gt;Blizzard") cecho("&lt;ivory&gt;Tick")
blizzard = true
engulfed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A freezing blizzard continues pouring in from the open wormhole.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Swift Attach</name>
								<script>swiftAttach = true
deleteLine()
sys("&lt;purple&gt;Swift Attach") cecho("&lt;green&gt;Ready!")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are again prepared to swiftly attach a wormhole.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Swift Attach</name>
								<script>swiftAttach = false
deleteLine()
sys("&lt;purple&gt;Swift Attach") cecho("&lt;red&gt;Used!")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You swiftly attach the wormhole.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Becloud</name>
								<script>deleteLine()
sys("&lt;purple&gt;Becloud") cecho("&lt;green&gt;UP")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You force your wormhole to whirl in an irregular motion, displaying fascinating patterns in the air.</string>
									<string>This location is already under the effect of becloud.</string>
									<string>You use Spatium Becloud.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Freeze</name>
								<script>deleteLine()
sys("&lt;blue&gt;Freeze") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You open your wormhole briefly and a stream of freezing air pours out, enveloping (.+).$</string>
									<string>^You use Spatium Freeze on (.+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Worm Obscure</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;purple&gt;Worm Obscure") cecho("&lt;gold&gt;"..matches[2])
	obscure = true
	enableTimer("obscure")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You force your wormhole to appear and float towards (\w+), disrupting \w+ perception of punctured toxins.$</string>
									<string>^You use Spatium Obscure on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Instill fail</name>
								<script>ms.afflicted["asthma"] = "notaff"</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You attempt to instill the effect, but find out that (\w+) is not afflicted with asthma.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Worm Choke</name>
								<script>
	deleteLine()
	sys("&lt;purple&gt;Worm Choke") cecho("&lt;gold&gt;"..matches[2])
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As you carefully open your wormhole, it begins sucking in the air around (\w+), preventing \w+ from breathing.$</string>
									<string>^You use Spatium Choke on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Devour</name>
								<script>if matches[1]:find("sinister") or matches[1]:find("\(start\)") then
	deleteLine()
	sys("&lt;purple&gt;Devouring") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;1st Phase")
elseif matches[1]:find("widening") or matches[1]:find("\(tick\)") then
	deleteLine()
	sys("&lt;purple&gt;Devouring") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;2nd Phase")
end
ik = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With a sinister grin, you allow your wormhole to open wide and as it starts rapidly sucking in air, you concentrate on directing it towards (\w+), who struggles in vain as \w+ starts being sucked towards the opening\.$</string>
									<string>^You direct your wormhole towards (\w+) and concentrate intently on positioning it right above \w+ head. The widening blackness continues sucking in air and steadily becomes more and more powerful and violent\.$</string>
									<string>^You use Spatium Devour \(start\) on (\w+).$</string>
									<string>^You use Spatium Devour \(tick\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lamia Ensare</name>
								<script>deleteLine()
sys("&lt;purple&gt;Lamia") cecho("&lt;gold&gt;"..matches[2].." &lt;yellow&gt;ENSNARED")
transfixed = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order a demonic lamia to ensnare (\w+), whose attention appears fully captivated.$</string>
									<string>^You use Spatium Summon \(ensnare\) on (\w+).$</string>
									<string>^You use Spatium Summon \(transfix\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lamia</name>
								<script>deleteLine()
if matches[1]:find("form") then
  sys("&lt;purple&gt;Lamia") cecho("&lt;ivory&gt;Summoned")
else
  sys("&lt;purple&gt;Lamia") cecho("&lt;ivory&gt;Following")
end
lamia = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With a flourish, you open your wormhole wide, and a red demonic glow starts emanating out of it, illuminating its surroundings with its tainted light. A shadowy figure slowly emerges from the wormhole, obscured by flames that wreathe around its form. As the flames recede, the serpentine form of a demonic lamia stands before you, hissing loudly.$</string>
									<string>A demonic lamia obediently falls into line behind you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lamia</name>
								<script>if matches[2]:find(target) then
  lamia = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The final blow is too much, a demonic lamia has been slain by (\w+).$</string>
									<string>You cease leading a demonic lamia.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Overload</name>
								<script>deleteLine()
sys("&lt;red&gt;Engulf Overload") cecho("&lt;gold&gt;"..matches[2])
rb = false
fenugreek = false
wloc = "None"
engulfed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Spatium Engulf \(overload\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Hypnosis</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hypnotised</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hypnotised") cecho("&lt;gold&gt;"..matches[2])
if matches[2]:find(target) then
	hypnotised = true
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You fix (\w+) with an entrancing stare, and smile in satisfaction as you realise that \w+ mind is yours.$</string>
									<string>^(\w+) is already under your hypnotic spell.$</string>
									<string>^You use Hypnosis Hypnotise \((\w+)\).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Suggest</name>
								<script>deleteLine()
sys("&lt;purple&gt;Suggestion") cecho("&lt;gold&gt;"..(matches[3] or target).." &lt;ivory&gt;- &lt;green&gt;"..matches[2]:title())
if matches[2]:find("impatience") then
	seal = true
end
suggestCount = suggestCount + 1
table.remove(ms.ass.hypnoAffs, 1)
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You issue the suggestion of (\w+), concealing it deep within (\w+)'s mind.$</string>
									<string>^You use Hypnosis Suggest \((\w+)\).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sealed</name>
								<script>deleteLine()
sys("&lt;purple&gt;Sealed") cecho("&lt;gold&gt;"..(matches[2] or target))
if matches[2]:find(target) or matches[1]:find("cannot whisper") then
	seal = false
	sealed = true
	snap = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You draw (\w+) out of \w+ hypnotic daze, your suggestions indelibly printed on \w+ mind.$</string>
									<string>^The suggestions have already been sealed in (\w+)'s mind.$</string>
									<string>You use Hypnosis Seal.</string>
									<string>You cannot whisper suggestions to someone who already has some sealed in mind.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hypnotised down</name>
								<script>hypnotised = false
sealed = false
seal = false
snap = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is not under your hypnotic spell.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Snap</name>
								<script>deleteLine()
sys("&lt;ivory&gt;Snap") cecho("&lt;gold&gt;"..matches[2])
snap = false
sealed = false
seal = false
snapped = true
tempTimer(5, [[hypnotised = false;snapped = false]])

</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You snap your fingers in front of (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sealed</name>
								<script>sealed = true
seal = false
hypontised = true
snap = true
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cannot whisper suggestions to someone who already has some sealed in mind.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Whisper</name>
								<script>deleteLine()
sys("&lt;purple&gt;Whisper") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You whisper a few urgent words to (\w+).$</string>
									<string>^You use Hypnosis Whisper on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Snap failed</name>
								<script>sealed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You snap your fingers.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Enthrall</name>
								<script>deleteLine()
sys("&lt;purple&gt;Enthrall") cecho("&lt;gold&gt;"..matches[2])
seal = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You cause your wormhole to spin rapidly, captivating and enthralling (\w+) and causing one of the deeply concealed suggestions to surface.$</string>
									<string>^You use Spatium Enthrall on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Sabotage</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shrug</name>
								<script>toxinShrugged = matches[2]
shrugcd = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You prepare to shrug off the effects of (\w+)\.$</string>
									<string>^You use Sabotage Shrugging \((.+)\)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek Flayed</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	if matches[1]:find("waxy") or matches[1]:find("fenugreek") then
		sys("&lt;green&gt;Fenugreek") cecho("&lt;yellow&gt;Flayed &lt;DimGrey&gt;\- &lt;ivory&gt;"..matches[2])
	elseif matches[1]:find("brutally") or matches[1]:find("Scourge") then
		sys("&lt;green&gt;Fenugreek") cecho("&lt;yellow&gt;Scourged &lt;DimGrey&gt;\- &lt;ivory&gt;"..matches[2])
	end
	fenugreek = false
	if matches[1]:find("brutally") or matches[1]:find("Scourge") then scourge = true end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You flay the waxy coating from (\w+)\.$</string>
									<string>^You lash out with your whip and brutally flay (\w+)'s skin from \w+ bones.$</string>
									<string>^\w+ lashes out with \w+ whip and brutally flays (\w+)'s skin from \w+ bones.$`</string>
									<string>^(\w+)'s flesh has already been scourged.$</string>
									<string>^You use Sabotage Scourge on (\w+).$</string>
									<string>^You use Sabotage Flay \(fenugreek\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek Returned</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;green&gt;Fenugreek") cecho("&lt;green&gt;Dried &lt;DimGrey&gt;\- &lt;ivory&gt;"..matches[2])
	fenugreek = true
  scourge = false
	if pta then enableTrigger("affPrompt") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A waxy shell of berry juice has dried to (\w+)'s skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxin</name>
								<script>	deleteLine()
	cecho(" &lt;DimGrey&gt;\-\&gt; &lt;green&gt;"..matches[2]:title())
if matches[3]:find(target) then
	if matches[2] == "cyanide" then aff("cyanide") end
	if matches[2] == "aconite" then aff("stupidity") end
	if matches[2] == "arsenic" then aff("weariness") end
	if matches[2] == "atropine" then aff("recklessness") end
	if matches[2] == "avidya" then aff("ignorance") end
	if matches[2] == "benzene" then aff("crippled right arm") if ms.afflicted["crippled right arm"] == "aff" then aff("crippled left arm") end end
	if matches[2] == "benzedrine" then aff("crippled right leg") if ms.afflicted["crippled right leg"] == "aff" then aff("crippled left leg") end end
	if matches[2] == "botulinum" then aff("nausea") end
	if matches[2] == "bromine" then aff("anorexia") end
	if matches[2] == "butisol" then aff("butisol") end
	if matches[2] == "calotropis" then aff("calotropis") end
	if matches[2] == "chloroform" then aff("epilepsy") end
	if matches[2] == "ciguatoxin" then aff("numbness") end
	if matches[2] == "digitalis" then aff("shyness") end
	if matches[2] == "ether" then aff("clumsiness") end
	if matches[2] == "hemotoxin" then aff("hemotoxin") end
	if matches[2] == "iodine" then aff("slickness") end
	if matches[2] == "lindane" then aff("dizziness") end
	if matches[2] == "luminal" then aff("slow elixers") end
	if matches[2] == "mazanor" then aff("slow herbs") end
	if matches[2] == "mebaral" then aff("slow equilibrium") end
	if matches[2] == "mercury" then aff("asthma") end
	if matches[2] == "metrazol" then aff("metrazol") end
	if matches[2] == "noctec" then aff("slow balance") end
 if matches[2] == "oxalis" then blind = false end
	if matches[2] == "strychnine" and not deaf then aff("sensitivity") elseif matches[2]:find("strychnine") and ms.afflicted["sensitivity"] == "notaff" and deaf then deaf = false end
	if matches[2] == "vitriol" then aff("disloyalty") end
	if matches[2] == "xeroderma" then aff("sunallergy") end
	if matches[2] == "sulfonal" then aff("sulfonal") end
	if matches[2] == "psilocybin" then aff("ineptude") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your (\w+) toxin has affected (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dstab gag</name>
								<script>deleteLine()
if matches[1]:find("Maintaining") or matches[1]:find("Doublestab") then sys("&lt;green&gt;Dstab") cecho("&lt;gold&gt;"..matches[2]) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You prick (\w+) quickly with your dirk.$</string>
									<string>^Maintaining your balance\, you deftly prick (\w+) again.$</string>
									<string>^You use Sabotage Doublestab on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Envenom gag</name>
								<script>deleteLine()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub some \w+ on a .+ (?:tooth|dirk).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cobra</name>
								<script>deleteLine()
sys("&lt;DimGrey&gt;Cobra") cecho("&lt;gold&gt;"..matches[2])
-- if matches[2]:find(target) then ukaf = ukaf + 1 end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A .+ cobra's hood flares as it darts forward to bite (\w+).$</string>
									<string>^A .+ cobra opens its mouth wide and strikes (\w+) in the leg.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>My cobra</name>
								<script>if matches[2]:find(target) then
	cobra = false
	resetPets = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order a .+ cobra to attack (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shrugging</name>
								<script>shrugging = false
if not shrugcd and healing then
	if (defiler or zerker) and not table.contains(ms.afflictions, "sensitivity") then send("shrug strychnine")
	elseif not asthma and assassin then send("shrug mercury")
	elseif table.contains(ms.afflictions, "slow balance") then send("shrug noctec")
	elseif not hemotoxin then send("shrug hemotoxin")
	elseif (not numbness or not paralysis) then send("shrug ciguatoxin")
	elseif not asthma then send("shrug mercury")
	elseif not slickness then send("shrug iodine")
	elseif not anorexia then send("shrug bromine")
	end
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You shrug off the effects of the toxin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shrug cd done</name>
								<script>shrugcd = false
if not shrugging and healing then
	if defiler and not table.contains(ms.afflictions, "sensitivity") then send("shrug strychnine")
  elseif not hemotoxin and shaman then send("shrug hemotoxin")
	elseif table.contains(ms.afflictions, "slow balance") then send("shrug noctec")
  elseif not asthma then send("shrug mercury")	
  elseif (not numbness or not paralysis) then send("shrug ciguatoxin")
	elseif not slickness then send("shrug iodine")
	elseif not anorexia then send("shrug bromine")
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are again able to focus on shrugging a toxin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Garrote</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Garrote") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You slip behind (.+) and garrote \w+ with your whip.$</string>
									<string>^You use Sabotage Garrote on (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek UP</name>
								<script>if matches[2]:find(target) then
	fenugreek = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You look to slit the veins of (\w+), but you cannot find one through the waxy skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Puncture Toxin</name>
								<script>	deleteLine()
	cecho(" &lt;DimGrey&gt;\-\&gt; &lt;green&gt;"..matches[2])
	local tox = matches[2]:lower()
	if tox == "cyanide" then aff("cyanide") end
	if tox == "aconite" then aff("stupidity") end
	if tox == "arsenic" then aff("weariness") end
	if tox == "atropine" then aff("recklessness") end
	if tox == "avidya" then aff("ignorance") end
	if tox == "benzene" and ms.afflicted["crippled left arm"] == "notaff" then aff("crippled left arm") end
	if tox == "benzene" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "aff" then aff("crippled right arm") end
	if tox == "benzedrine" and ms.afflicted["crippled left arm"] == "notaff" then aff("crippled left arm") end
	if tox == "benzedrine" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "aff" then aff("crippled right arm") end
	if tox == "botulinum" then aff("nausea") end
	if tox == "bromine" then aff("anorexia") end
	if tox == "butisol" then aff("butisol") end
	if tox == "calotropis" then aff("calotropis") end
	if tox == "chloroform" then aff("epilepsy") end
	if tox == "ciguatoxin" then aff("numbness") end
	if tox == "digitalis" then aff("shyness") end
	if tox == "ether" then aff("clumsiness") end
	if tox == "hemotoxin" then aff("hemotoxin") end
	if tox == "iodine" then aff("slickness") end
	if tox == "lindane" then aff("dizziness") end
	if tox == "luminal" then aff("slow elixers") end
	if tox == "mazanor" then aff("slow herbs") end
	if tox == "mebaral" then aff("slow equilibrium") end
	if tox == "mercury" then aff("asthma") end
	if tox == "metrazol" then aff("metrazol") end
	if tox == "noctec" then aff("slow balance") end
 if tox == "oxalis" then blind = false end
	if tox == "strychnine" and not deaf then aff("sensitivity") elseif tox:find("strychnine") and ms.afflicted["sensitivity"] == "notaff" and deaf then deaf = false end
	if tox == "vitriol" then aff("disloyalty") end
	if tox == "xeroderma" then aff("sunallergy") end
	if tox == "sulfonal" then aff("sulfonal");sulfonal = true end
	if tox == "psilocybin" then aff("ineptude") end
	if tox == "trioxin" then ptox = false end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) flows into \w+ open wound.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rb false</name>
								<script>rb = false
rbhit = false
engulf_tick = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your target has no aura for you to flay.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Puncture</name>
								<script>deleteLine()
sys("&lt;green&gt;Puncture") cecho("&lt;gold&gt;"..matches[2]:title())
ptox = true
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You prick (.+), exposing \w+ veins to your deadly toxins\.$</string>
									<string>^You use Sabotage Puncture \(.+\) on (.+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek Applied</name>
								<script>if matches[2]:find(target) then
	scourge = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) applies a fenugreek berry to \w+.$</string>
									<string>^You look to slit the veins of (\w+), but you cannot find one through the waxy skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dart Trap Devour</name>
								<script>if (matches[2]:find(target) or not table.contains(ms.allies, matches[2])) and healing and mono then
	noheal()
	mono = false
	send("queue eqbal worm attach rashirmir"..s.."worm devour "..matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A trap is sprung and a dart streaks from nowhere to slam into (\w+).$</string>
									<string>^A trap is sprung and a loop of rope entwines around (\w+), pulling \w+ off \w+ feet.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Slit</name>
								<script>deleteLine()
sys("&lt;red&gt;Slit") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Blood sprays like a gushing fountain as you viciously slit the throat of the helpless (\w+).$</string>
									<string>^You use Sabotage Slit on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Phatom Watch</name>
							<script>deleteLine()
phantomel = matches[3]
if not table.contains(ms.allies, matches[2]) then table.insert(ms.phantom, matches[2]) end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^A shadowy wraith alerts you that (.+) has (\w+) the area.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Hound Prompt</name>
							<script>if #ms.phantom &gt; 1 then sys("Phantom") cecho("&lt;gold&gt;"..table.concat(ms.phantom, ", ").." &lt;ivory&gt;"..phantomel.." area.") 
callout("[Phantom] "..table.concat(ms.phantom, ", "), phantomel.." area")
end
ms.phantom = {}
phantomel = ""</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>return isPrompt()</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>4</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Deathknight</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Necromancy</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Putrefaction</name>
								<script>deleteLine()

</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your essence slowly drains as you maintain your putrefaction.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Deathaura</name>
								<script>deleteLine()
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your essence slowly drains away as you strain to maintain your aura of death.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Soulstorm</name>
								<script>deleteLine()
sys(matches[2]) cecho("&lt;purple&gt;Soulstorm")
if matches[3] then sys("&lt;green&gt;"..matches[3]:title()) cecho("&lt;green&gt;CURED");ms.afflicted[matches[3]] = "notaff" end
tbleed = tonumber(0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You focus on your essence and send its portion storming into (\w+)'s body, curing the effects of (\w+) and causing significant damage.$</string>
									<string>^You focus on your essence and send its portion storming into (\w+)'s body, causing a chilling ripple\.$</string>
									<string>^\w+ sends \w+ essence storming through Ayanna's body, curing the effects of (\w+) and causing significant damage.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Animate</name>
								<script>anitype = matches[2]:title() or "Unknown"
if not healing then heal() end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your flesh turns pallid as your body slowly dies and is reborn again in an abhorrent state of undeath, assuming the form of a (\w+).$</string>
									<string>^You have taken the undead form of a (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blackwind Down</name>
								<script>heal()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The black wind whips around your body one last time before your body completely dissipates and you are one with the odius vapour.</string>
									<string>You concentrate and are once again Fallen.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Gravehands - Up</name>
								<script>gravehands = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You mutter words of death and decay, and suddenly the ground breaks open all around as hands of rotting flesh and white bone push out of the ground.</string>
									<string>Hands of rotting flesh and white bone push up from the ground.</string>
									<string>The hands of the grave grasp at the living here already.</string>
									<string>^\w+ mutters words of death and decay, and suddenly the ground breaks open all around as hands of rotting flesh and white bone push out of the ground.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>0</integer>
									<integer>3</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Gravehands - Down</name>
								<script>deleteLine()
fecho("Necromancy", "Gravehands", "DOWN") 
gravehands = false
if gmcp.Room.Info.num == 7815 then send("gh")
elseif healing and ebal and bbal then send("gh")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The decaying hands retreat back into the comfort of the earth.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Leprosy</name>
								<script>if matches[2]:find(target) then
	aff("crippled right arm")
	aff("crippled right leg")
	aff("crippled left arm")
	aff("crippled left leg")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your hand infects (\w+)'s but there is no effect.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Belch down</name>
								<script>deleteLine()
fecho("Necromancy", "Belch", "DOWN")
belch = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The noxious cloud dissipates.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Focus Possession</name>
								<script>heal()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your concentration on the soul of .+ is successful, and you feel yourself carried away on a wave of necromantic energy.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Chill</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Chilled") cecho("&lt;gold&gt;"..matches[2])
-- chillCount = chillCount + 1
-- if chillCount == 2 then aff("shivering") end
-- if chillCount == 3 then aff("frozen") end
chill = false
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You send the cold of the grave to freeze (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Eat Corpses</name>
								<script>send("queue eqbal top consume all corpses")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Looking deep inside yourself, you discover that your life essence is too low to carry out this Necromantic skill.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Belch up</name>
								<script>belch = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You belch a cloud of stinking gas out of your lungs and into your surroundings.</string>
									<string>You take in a deep breath in preparation for your belch, but cough and sputter as you inhale the noxious air that surrounds you.</string>
									<string>A stinking noxious cloud floats here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Vivisect</name>
								<script>deleteLine()
sys("&lt;red&gt;Vivisect") cecho("&lt;gold&gt;"..matches[2])
noheal()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You extend a clenched fist towards (\w+) and focus on your necromantic powers. Black energy starts crackling around your hand as you prepare for a vivisection.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Leprosy</name>
								<script>deleteLine()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your essence drains away as you maintain your leprous aura.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Chill Cooldown</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Chill Cooldown") cecho("&lt;green&gt;Recovered")
chill = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are once again able to freeze your target.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Brutality</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hound scent</name>
								<script>deleteLine()
houndel = matches[3]
if not table.contains(ms.allies, matches[2]) then table.insert(ms.hound, matches[2]) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sense through your hound that (.+) has (\w+) the area.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Unblock</name>
								<script>fecho("Blocking", "BLOCKED", matches[2]:upper())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) tries to leave, but you block \w+ from moving that way.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hound Prompt</name>
								<script>if #ms.hound &gt; 1 then sys("Hound") cecho("&lt;gold&gt;"..table.concat(ms.hound, ", ").." &lt;ivory&gt;"..houndel.." area.") 
callout("[Hound] "..table.concat(ms.hound, ", "), houndel.." area")
end
ms.hound = {}
houndel = ""</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>return isPrompt()</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hound slay</name>
								<script>hound = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order .+ hound to attack \w+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Agony</name>
								<script>if matches[2]:find(target) then
	agony = false
	disableTimer("agony");enableTimer("agony")
end
deleteLine()
sys("&lt;purple&gt;Enhancement") cecho("&lt;yellow&gt;Agony")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A look of dread crosses (\w+)'s face.$</string>
									<string>^You use Brutality Enhancement \(agony\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Teeth</name>
								<script>if matches[2]:find(target) then
	teeth = false
	disableTimer("teeth");enableTimer("teeth")
end
deleteLine()
sys("&lt;purple&gt;Enhancement") cecho("&lt;ivory&gt;Teeth")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The teeth along the weapon edge cut into (\w+)'s flesh.$</string>
									<string>^You use Brutality Enhancement \(teeth\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cleanse</name>
								<script>deleteLine()
sys("&lt;purple&gt;Enhancements") cecho("&lt;DimGray&gt;"..matches[2]:title().." Cleansed &lt;ivory&gt;- ")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You skillfully cleanse all the enhancements from (.+)\.$</string>
									<string>^There are no enhancements left on (.+)\.$</string>
									<string>^You use Brutality Cleanse \(.+\).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Enhancement</name>
								<script>deleteLine()
cecho("&lt;gold&gt;"..matches[2]:title().." ")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You focus your demonic powers upon .+, enhancing it with the (\w+) power.$</string>
									<string>^You use Brutality Enhance \((.+)\)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Soulquench</name>
								<script>if matches[2]:find(target) then
	soulquench = false
	disableTimer("soulquench");enableTimer("soulquench")
end
deleteLine()
sys("&lt;purple&gt;Enhancement") cecho("&lt;blue&gt;Soulquench")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the weapon strikes (\w+), \w+ pales and \w+ flesh clings closer to \w+ bones\.$</string>
									<string>^You use Brutality Enhancement \(soulquench\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rending</name>
								<script>if matches[2]:find(target) then
	rending = false
	disableTimer("rending");enableTimer("rending")
end
deleteLine()
sys("&lt;purple&gt;Enhancement") cecho("&lt;green&gt;Rending")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The weapon sends a shockwave into (\w+)'s .+, breaking it\.$</string>
									<string>^You use Brutality Enhancement \(rending \- \w+ \w+\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fleshburn</name>
								<script>if matches[2]:find(target) then
	fleshburn = false
	disableTimer("fleshburn");enableTimer("fleshburn")
end
deleteLine()
sys("&lt;purple&gt;Enhancement") cecho("&lt;red&gt;Fleshburn")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the weapon strikes (\w+), it burns \w+ flesh painfully.$</string>
									<string>^You use Brutality Enhancement \(fleshburn\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Draining</name>
								<script>if matches[2]:find(target) then
	draining = false
	disableTimer("draining");enableTimer("draining")
end
deleteLine()
sys("&lt;purple&gt;Enhancement") cecho("&lt;cyan&gt;Draining")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The weapon flares a sickly red, and you feel an influx of energy as (\w+) is drained.$</string>
									<string>^You use Brutality Enhancement \(draining\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Negating</name>
								<script>if matches[2]:find(target) then
	negating = false
	agony = true
	teeth = true
	soulquench = true
	rending = true
	fleshburn = true
	draining = true
	disableTimer("negating");enableTimer("negating")
end
deleteLine()
sys("&lt;purple&gt;Enhancement") cecho("&lt;red&gt;Fleshburn")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A ghastly aura envelops (\w+) momentarily.$</string>
									<string>^You use Brutality Enhancement \(negating\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Weaponmastery</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engage on</name>
								<script>engage = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are already engaging (\w+)\.$</string>
									<string>^(\w+) is already being engaged\!$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>DSL Gag</name>
								<script>deleteLine()
sys("&lt;ivory&gt;DSL") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With a lightning-quick motion, you slash (.+) with .+\.$</string>
									<string>^You swing .+ at (.+) with a powerful strike.$</string>
									<string>^You slash viciously into (.+) with .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shred</name>
								<script>deleteLine()
sys("&lt;red&gt;DSL SHRED") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You shred (\w+)'s skin viciously with .+, causing a nasty infection.$</string>
									<string>^You use Weaponmastery Shred on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lacerate</name>
								<script>deleteLine()
sys("&lt;red&gt;DSL LACERATE") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You lacerate (\w+)'s skin calmly with the sharp edge of .+, amplifying \w+ bleeding wounds.$</string>
									<string>^You use Weaponmastery Lacerate on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Impale failed</name>
								<script>if matches[2]:find(target) then
	impaled = false
	brokenTorso = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You thrust your blade towards (\w+) but \w+ dodges easily out of the way.$</string>
									<string>^With a look of agony on his face, (\w+) manages to writhe \w+ free of the weapon which impaled \w+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Impaled success</name>
								<script>impaled = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You draw your blade back and plunge it deep into the body of (\w+), impaling \w+ to the hilt.$</string>
									<string>^You use Weaponmastery Impale on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Reave</name>
								<script>deleteLine()
sys("&lt;red&gt;Reave - Battleaxe") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You reave (\w+) furiously with .+ battleaxe.$</string>
									<string>^You use Weaponmastery Reave on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>0</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rebound/Parry Check</name>
								<script>if matches[1]:find("rebounds") then rebounded = true
elseif matches[1]:find("parries") then tparried = true
end
thit = thit - 1
if thit &lt; 0 then thit = tonumber(0) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The attack rebounds back onto you!</string>
									<string>^(\w+) parries the attack with a deft maneuver.$</string>
									<string>^(\w+) parries the attack to the .+ with a deft maneuver.$</string>
									<string>^(\w+) parries the attack and deftly fires a thornroot at you.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxin Prompt</name>
								<script>ms.dk.toxins = {}
rebounded = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>return isPrompt()</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxin Set</name>
								<script>table.insert(ms.dk.toxins, matches[2])
sys("&lt;green&gt;Toxin") cecho("&lt;ivory&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub some (\w+) on .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hack Parry</name>
								<script>tparried = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As (\w+) moves to parry the blow, you swiftly alter the attack with .+ scimitar and jab its sharp edge into (\w+)'s exposed side.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Limb Tracking</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Trembled</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;yellow&gt;Trembled") cecho("&lt;yellow&gt;"..matches[2].." "..matches[3].." Trembled")
	if matches[3] == "right arm" then
		rab = false
		rat = true
	elseif matches[3] == "left arm" then
		lab = false
		lat = true
	elseif matches[3] == "left leg" then
		llb = false
		llt = true
	elseif matches[3] == "right leg" then
		rlb = false
		rlt = true
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s (.+) trembles slightly under the blow\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bruised</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;blue&gt;Bruised") cecho("&lt;gold&gt;"..matches[2].." &lt;purple&gt;"..matches[3].." Bruised")
	if matches[3] == "right arm" then
		rat = false
		rab = true
		raBP = raHit-1
		raHit = tonumber(0)
	elseif matches[3] == "left arm" then
		lat = false
		lab = true
		laBP = laHit-1
		laHit = tonumber(0)
	elseif matches[3] == "left leg" then
		llt = false
		llb = true
		llBP = llHit-1
		llHit = tonumber(0)
	elseif matches[3] == "right leg" then
		rlt = false
		rlb = true
		rlBP = rlHit-1
		rlHit = tonumber(0)
	elseif matches[3] == "torso" then
		bt = true
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You notice several bruises forming on (\w+)'s (.+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Torso Broken</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;red&gt;Broken") cecho("&lt;red&gt;"..matches[2].." Torso Broken")
	thit = tonumber(0)
	tht = tonumber(0)
	pbp = tonumber(0)
	brokenTorso = true
	bruised = false;disableTimer("bruised")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) suffers internal damage from your blow.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Limb hit</name>
								<script>if matches[2]:find(target) and matches[3] == "torso" then
	if matches[1]:find("scimitar") then thit = thit + 2
	else thit = thit + 1
	end
torso = true
end
deleteLine()
sys("&lt;ivory&gt;DSL LIMB") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;"..matches[3]:title())
if matches[3] == "left arm" then
	if (lat or lab) then laHit = laHit + 1 end
	disableTimer("Left Arm");enableTimer("Left Arm")
elseif matches[3] == "left leg" then
	if (llt or llb) then llHit = llHit + 1 end
	disableTimer("Left Leg");enableTimer("Left Leg")
elseif  matches[3] == "right arm" then
	if (rat or rab) then raHit = raHit + 1 end
	disableTimer("Right Arm");enableTimer("Right Arm")
elseif matches[3] == "right leg" then
	if (rlt or rlb) then rlHit = rlHit + 1 end
	disableTimer("Right Leg");enableTimer("Right Leg")
end
table.insert(ms.limbs, matches[2])
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Lightning-quick, you jab (.+)'s (.+) with .+\.$</string>
									<string>^You swing .+ at (.+)'s (.+) with all your might\.$</string>
									<string>^You slash into (.+)'s (.+) with .+\.$</string>
									<string>^You hack at (.+)'s (.+) with .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Tendoncut</name>
								<script>bt = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You swing .+ at (\w+), calmly severing the tendons in \w+ torso.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Limb Healed</name>
								<script>if matches[2]:find(target) and matches[3] == "torso" then
	brokenTorso = false
	bt = false
elseif matches[2]:find(target) then
	if matches[3] == "right arm" then
		rab = false
		rat = false
		raBP = tonumber(0)
		raHit = tonumber(0)
		ram = false
	elseif matches[3] == "left arm" then
		lab = false
		lat = false
		laBP = tonumber(0)
		laHit = tonumber(0)
		lam = false
	elseif matches[3] == "left leg" then
		llb = false
		llt = false
		llBP = tonumber(0)
		llHit = tonumber(0)
		llm = false
	elseif matches[3] == "right leg" then
		rlb = false
		rlt = false
		rlBP = tonumber(0)
		rlHit = tonumber(0)
		rlm = false
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s (.+) looks healthier.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Limb Broken</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;red&gt;Broken") cecho("&lt;red&gt;"..matches[2].." "..matches[3].." Broken")
	if matches[3] == "right arm" then
		rab = false
		rat = false
		raBP = tonumber(0)
		raHit = tonumber(0)
		ram = true
	elseif matches[3] == "left arm" then
		lab = false
		lat = false
		laBP = tonumber(0)
		laHit = tonumber(0)
		lam = true
	elseif matches[3] == "left leg" then
		llb = false
		llt = false
		llBP = tonumber(0)
		llHit = tonumber(0)
		llm = true
	elseif matches[3] == "right leg" then
		rlb = false
		rlt = false
		rlBP = tonumber(0)
		rlHit = tonumber(0)
		rlm = true
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s (.+) has been mutilated.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Limb not Set</name>
								<script>if matches[2]:find(target) then
	bt = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s torso is not sufficiently damaged.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Summoner</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Enslavery</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Pact</name>
								<script>send("release demon")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^.+ growls as you seal your binding magick over it.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Unleash - Expended</name>
								<script>deleteLine()
ulb = false
sys("Unleash") cecho("&lt;red&gt;"..matches[2])
if matches[2]:find("Skyrax") then skyrax = false
elseif matches[2]:find("Rixil") then rixil = false
elseif matches[2]:find("Eerion") then eerion = false
elseif matches[2]:find("Arctar") then arctar = false
elseif matches[2]:find("Scrag") then scrag = false
elseif matches[2]:find("Pyradius") then pyradius = false
elseif matches[2]:find("Dameron") then dameron = false;if ul:find("cadmus") and ul:find("dameron") then ms.afflicted["hallucinations"] = "aff";ms.afflicted["addiction"] = "aff" elseif ul:find("danaeus") then flinged = true end
elseif matches[2]:find("Palpatar") then palpatar = false;sipmalus = true
elseif matches[2]:find("Nin'Kharsag") then nin = false
elseif matches[2]:find("Istria") then istria = false
elseif matches[2]:find("Marduk") then marduk = false;fecho("Marduk", "Marduk", "1st Phase -"..target)
elseif matches[2]:find("Belial") then belial = false
elseif matches[2]:find("Buul") then buul = false
elseif matches[2]:find("Cadmus") then cadmus = false;ms.afflicted["hallucinations"] = "aff";ms.afflicted["addiction"] = "aff"
elseif matches[2]:find("Piridon") then piridon = false
elseif matches[2]:find("Danaeus") then danaeus = false;flinged = true
  if matches[3]:find(target) then   du = true;send("queue eqbal fling hangedman to levitate");send("queue eqbal fling hangedman to levitate") end
  for aff,state in ms.afflicted:pairs() do
	ms.afflicted[aff] = "notaff"
  end
elseif matches[2]:find("Lyncantha") then lyncantha = false
elseif matches[2]:find("Hecate") then hecate = false
elseif matches[2]:find("Golgotha") then golgotha = false
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You focus upon your pact and a terrifying visage of (.+) appears briefly in front of (.+), wreathed in flames.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Unleash - Recovered</name>
								<script>deleteLine()
if matches[2] == "a demon" then
fecho("Enslavery", "Unleash", "Recovered")
if #ms.afflictions &gt;= 3 and fcad and healing then send("focus cadmus") end
ulb = true
else
sys("Unleash") cecho("&lt;green&gt;"..matches[2])
end
if matches[2] == "Skyrax" then skyrax = true
elseif matches[2] == "Rixil" then rixil = true
elseif matches[2] == "Eerion" then eerion = true
elseif matches[2] == "Arctar" then arctar = true
elseif matches[2] == "Scrag" then scrag = true
elseif matches[2] == "Pyradius" then pyradius = true
elseif matches[2] == "Dameron" then dameron = true
elseif matches[2] == "Palpatar" then palpatar = true
elseif matches[2] == "Nin'Kharsag" then nin = true
elseif matches[2] == "Istria" then istria = true
elseif matches[2] == "Marduk" then marduk = true
elseif matches[2] == "Belial" then belial = true
elseif matches[2] == "Buul" then buul = true
elseif matches[2] == "Cadmus" then cadmus = true;if #ms.afflictions &gt; 3 and ulb then send("focus cadmus") end
elseif matches[2] == "Piridon" then piridon = true
elseif matches[2] == "Danaeus" then danaeus = true
elseif matches[2] == "Lyncantha" then lyncantha = true
elseif matches[2] == "Hecate" then hecate = true
elseif matches[2] == "Golgotha" then golgotha = true
end
if pta then enableTrigger("affPrompt") end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are again able to unleash (.+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Marduk</name>
								<script>fecho("Marduk", "Marduk", "2nd Phase - "..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You begin whispering ancient verses in Hanyou, focusing your will on summoning the Demon Lord Marduk against (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Doppleganger Strip</name>
								<script>callout("[Warpaura] "..matches[2], matches[3])
if matches[3] == "hood" or matches[3] == "cloak" then callout("Brazier", matches[2]) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s (.+) defence is stripped.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Focus Cadmus</name>
								<script>deleteLine()
sys("&lt;purple&gt;Cadmus") cecho("&lt;green&gt;Curative Restored")
fcad = true
if healing and #ms.afflictions &gt;= 3 then send("focus cadmus") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are again able to focus on Cadmus, the cursed shaman.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Doppleganger Slain</name>
								<script>if matches[2]:find(gmcp.Char.Name.name) and not bash then
	sys("Doppleganger") cecho("&lt;red&gt;Doppleganger Slain")
	send("smp")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+), your loyal companion, has been slain by \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lust</name>
								<script>if (not table.contains(ms.allies, matches[2]) or matches[2]:find(target)) and ms.class["Summoner"] then
	send("queue eqbal fling empress at "..matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s eyes light up as the Lust card hits.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Empress</name>
								<script>if ms.class["Summoner"] and healing then send("queue eqbal fling empress at "..matches[2]) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^\(Ring\)\: (\w+) says, "(?:Empress|EMPRESS) (?:Me|ME|me)\."$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Focus Cadmus</name>
								<script>deleteLine()
sys("&lt;purple&gt;Cadmus") cecho("&lt;red&gt;Curative Used")
fcad = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You aren't able to focus on Cadmus again so soon!</string>
									<string>You concentrate on your link with Cadmus, the cursed shaman, attempting to shift your maladies to him.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Doppleganger Return</name>
								<script>send("order doppleganger return")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your Doppleganger is out of range. Try ordering it to RETURN first.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Indoors</name>
								<script>indoors = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Unleashing Danaeus in an indoors location would be rather pointless.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lyncantha</name>
								<script>deleteLine()
sys("&lt;purple&gt;Lyncantha") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;"..matches[3].." area")
if not table.contains(ms.allies, matches[2]) then
	callout(matches[3].." area", matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Lyncantha whispers in your mind that (\w+) has (\w+) the area.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Doppleganger Recall</name>
								<script>if healing and not bash then send("smp") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You have no doppleganger at the moment.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Noctu</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Taint</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;purple&gt;Taint&lt;red&gt;") cecho("&lt;green&gt;"..matches[3].."&lt;ivory&gt;+")
	taint = tonumber(matches[3])
  	if not ebal or not bbal then forceAtk() end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The aura around (\w+) is now tainted to (\d+)\%.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Taint Down</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;green&gt;Taint&lt;red&gt;") cecho("&lt;red&gt;0-")
taint = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s aura is no longer tainted.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flash</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("Noctu") cecho("&lt;purple&gt;Flash &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
aff("epilepsy")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You tap lightly at (\w+)'s aura. (\w+) is enveloped briefly in a cocoon of rapidly blinking light.$</string>
									<string>^(\w+) is enveloped briefly in a cocoon of rapidly blinking light.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nerveburn</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;red&gt;Nerveburn") cecho("&lt;gold&gt;"..matches[2])
aff("burning nerves")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s body starts twitching uncontrollably, as if \w+ nerves were on fire.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Incinerate - UP</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;red&gt;Incinerate") cecho("&lt;green&gt;UP -&gt; "..matches[2])
incinerate = true
if pta then enableTrigger("affPrompt") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You take a deep breath and focus on concentrating the warmth from your surroundings into (\w+)'s body.$</string>
									<string>^Feeding on the tainted aura surrounding (\w+), the hot flames keep scorching (\w+)'s body painfully.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Incinerate - DOWN</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;red&gt;Incinerate") cecho("&lt;red&gt;DOWN -&gt; "..matches[2])
incinerate = false
if pta then enableTrigger("affPrompt") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Lacking taint to sustain themselves, the flames around (\w+) disappear.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cleanseaura</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Cleanseaura") cecho("&lt;gold&gt;"..matches[2])
shield = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Reaching out with your own aura, you send a shimmering strand of indigo fire at (\w+), which wraps around \w+ and bathes \w+ in a briskly cold wave of light.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Quicken</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Quicken") cecho("&lt;green&gt;Impatience+ &gt; &lt;gold&gt;"..matches[2])
aff("impatience")
if pta and matches[1]:find("again") then enableTrigger("affPrompt") end
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Air moves chaotically around (\w+), \w+ patience visibly wearing thin.$</string>
									<string>^(\w+) appears less patient again.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Heave/Eerion</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("Instant Kill") cecho("&lt;yellow&gt;Prone &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
callout("Proned", matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) falls heavily to the ground.$</string>
									<string>^A buffer of wind hits (\w+), knocking \w+ to the ground.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Soulburn - Masochism</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Soulburn") cecho("&lt;green&gt;Masochism+ &gt; &lt;gold&gt;"..matches[2])
aff("masochism")
enableTimer("masochism")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A look of extreme pain contorts (\w+)'s face.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nervewrack - Sunallergy</name>
								<script>if matches[2]:find(target) then
deleteLine()
if incinerate then
sys("&lt;purple&gt;Nervewrack") cecho("&lt;green&gt;Sun Allergy+ ")
else
sys("&lt;purple&gt;Nervewrack") cecho("&lt;green&gt;Sun Allergy+ &gt; &lt;gold&gt;"..matches[2])
end
aff("sunallergy")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You close your eyes and concentrate intensely on (\w+). (\w+)'s skin suddenly reddens.$</string>
									<string>^(\w+)'s skin suddenly reddens.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nervewrack - Sensitivity</name>
								<script>if matches[2]:find(target) then
deleteLine()
cecho("&lt;green&gt;Sensitivity+ &gt; &lt;gold&gt;"..matches[2])
if not deaf then aff("sensitivity")
else deaf = false
end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s nerves start tingling and twitching on their own accord.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Disorient - Vertigo</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;red&gt;Disorient") cecho("&lt;green&gt;Vertigo+ &gt; &lt;gold&gt;"..matches[2])
aff("vertigo")
incinerate = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The air around (\w+) shifts in a disorienting pattern, burning \w+ skin painfully.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Disorient - Vertigo/Clumsiness</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;red&gt;Disorient") cecho("&lt;green&gt;Vertigo+ Clumsiness+ &gt; &lt;gold&gt;"..matches[2])
aff("vertigo")
aff("clumsiness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The air around (\w+) shifts in a disorienting pattern, burning \w+ skin painfully and leaving \w+ fumbling around.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Soulburn - Masochism/Stupdity</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Soulburn") cecho("&lt;green&gt;Masochism+ Stupidity &gt; &lt;gold&gt;"..matches[2])
aff("masochism")
enableTimer("masochism")
aff("stupidity")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A look of extreme pain contorts (\w+)'s face, followed by a vacant expression.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fever - Hallucinations/Stupidity</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;red&gt;Fever")
	if intensify or incinerate then 
		aff("stupidity") 
		cecho("&lt;green&gt;Hallucinations+ Stupidity+ &gt; &lt;gold&gt;"..matches[2])
	else
		cecho("&lt;green&gt;Hallucinations+ &gt; &lt;gold&gt;"..matches[2])
	end 
aff("hallucinations")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) looks around \w+ with feverish eyes, \w+ eyes focusing on something that is not there.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dehydrate</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;red&gt;Dehydrate") cecho("&lt;green&gt;Butisol+ &gt; &lt;gold&gt;"..matches[2])
aff("butisol")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You concentrate on suffusing (\w+)'s body with heat. (\w+) looks drained as clouds of steam rise from \w+ ears.$</string>
									<string>^(\w+) looks drained as clouds of steam rise from \w+ ears.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hellsight</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Hellsight") cecho("&lt;green&gt;Hellsight+ &gt; &lt;gold&gt;"..matches[2])
aff("hellsight")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You stare intently at (\w+). (\w+)'s eyes appear unfocused and haunted.$</string>
									<string>^(\w+)'s eyes appear unfocused and haunted.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Devolve</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Devolve") cecho("&lt;green&gt;Disloyalty+ Disfigurement+ &gt; &lt;gold&gt;"..matches[2])
aff("disloyalty")
aff("disfigurement")
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You utter a terrible curse and point a finger at (\w+). (\w+)'s body seems to weaken and appears more primitive.$</string>
									<string>^\w+ curses (\w+) with the visage of a rotting corpse.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Whispering Madness</name>
								<script>if matches[2]:find(target) then
deleteLine()
fecho("Noctu", "Whispering Madness", matches[2])
aff("madness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You pass your hand in front of (\w+). (\w+) trembles and \w+ eyes widen in terror.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>No WM</name>
								<script>send("queue reset all")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You pass your hand in front of (\w+). (\w+) shakes \w+ head as if clearing \w+ mind.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Combustion - Asthma</name>
								<script>if matches[2]:find(target) then
deleteLine()
cecho(" &lt;ivory&gt;\- &lt;green&gt;Asthma+")
aff("asthma")
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As thick smoke rises from the flames, (\w+) seems to have difficulties breathing.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Timewarp Done</name>
								<script>heal()
taff = false
sdmg = false
enldmg = false
tw = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your preparation is successful and with a flick of your hand, you cause a flickering multicolored aura to form up around (\w+).$</string>
									<string>^You cease trying to warp the time around (\w+).$</string>
									<string>You cease your timewarp attempt.</string>
									<string>Your timewarp attempt fails as your foe flees your grasp.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Timewarp Done TW CHECK</name>
								<script>if tw then heal() tw = false end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You must regain (equilibrium|balance) first.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Pentagram</name>
								<script>send("chant dia ad adaodaun "..star)
tempTimer(1, [[send("slice palm")]])
tempTimer(3, [[send("chant agus dunach ort "..star)]])
tempTimer(10, [[send("enslave "..star)]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Checking the pentagram one final time for errors, you finish your work.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ashcloud</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("Noctu") cecho("&lt;green&gt;ASHCLOUD")
	if not ashcloud then
		 enableTimer("ashcloud") 
		 enableTimer("ashcloud check")
	end
	ashcloud = true
		disableTimer("ashcloudcheck");enableTimer("ashcloud check")
end
if pta then enableTrigger("affPrompt") end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A large cloud of ash forms around (\w+) and \w+ breathes it in involuntarily, choking and coughing as the tiny particles sting \w+ lungs.$</string>
									<string>^Draining the tainted aura surrounding (\w+), the cloud of ash swirls erratically around \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ashcloud</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("Noctu") cecho("&lt;red&gt;ASHCLOUD")
	ashcloud = false
	disableTimer("ashcloud")
	disableTimer("ashcloud check")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Lacking taint to sustain itself, the cloud of ash around (\w+) disappear.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Taint Attunement</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Noctu") cecho("&lt;purple&gt;Taint Attunement+ &gt; &lt;gold&gt;"..matches[2])
aff("taint attunement")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the ground drags (\w+) down, \w+ demonic taint attunement strengthens.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fever - Stupidity</name>
								<script>if multimatches[2][2]:find(target) then
sys("&lt;red&gt;Fever") cecho("&lt;green&gt;Stupidity+ &gt; &lt;gold&gt;"..multimatches[1][2])
aff("stupidity")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your hands briefly turn black and blue as you focus on the tainted aura surrounding (\w+)\.$</string>
									<string>^(\w+) looks around \w+ with feverish eyes, \w+ eyes focusing on something that is not there.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fever - Stupidity</name>
								<script>if multimatches[3][2]:find(target) then
aff("stupidity")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your hands briefly turn black and blue as you focus on the tainted aura surrounding (\w+)\.$</string>
									<string>^.+$</string>
									<string>^(\w+) looks around \w+ with feverish eyes, \w+ eyes focusing on something that is not there.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Whispering Madness Speed Strip</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;purple&gt;Whispering Madness") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;\- &lt;red&gt;Speed Stripped")
	speed = false
	tempTimer(5, [[speed = true]])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You pass your hand in front of (\w+). \w+ shakes \w+ head and visibly appears to slow down.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Summoner Gag Lines</name>
								<script>deleteLine()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Focusing on the power of fire, you slowly raise your hand towards .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Combustion</name>
								<script>deleteLine()
sys("&lt;red&gt;Combustion") cecho("&lt;gold&gt;"..matches[2]:title())
if matches[2]:find(target) then
aff("ablaze")
cecho(" &lt;ivory&gt;\- &lt;red&gt;ABLAZED")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(.+)'s skin cracks and sizzles as flames spontaneously erupt all over \w+ body\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Enlighten</name>
								<script>deleteLine()
sys("&lt;purple&gt;Enlighten") cecho("&lt;gold&gt;"..matches[2])
probe = true
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You place both hands on either side of \w+'s head and stare straight into \w+ eyes. Summoning all your knowledge of the Noctu mysteries, you will your knowledge into (\w+)'s mind.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Intensify</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;red&gt;Intensify") cecho("&lt;gold&gt;"..matches[2])
	intensify = true
	enableTrigger("iPrompt")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your hands briefly turn blue as you focus on the tainted aura surrounding (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>iPrompt</name>
								<script>intensify = false
disableTrigger("iPrompt")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>return isPrompt()</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Tarot</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Force Smoked</name>
								<script>fecho("Hierophant", "FORCE SMOKED", target)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You issue the command to (\w+)\.$</string>
									<string>^(\w+) takes a long drag off \w+ pipe, exhaling a thick, white haze.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hierophant</name>
								<script>if matches[2]:find(target) then
fecho("Tarot", "Hierophant", "Active")
hierophant = true
enableTimer("hierophant")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A strange expression appears on (\w+)'s face as the card hits.$</string>
									<string>^You use Tarot the Hierophant on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>0</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hierophant Force</name>
								<script>hierophant = false
clarity = false
disableTimer("hierophant")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You issue the command to (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Moon</name>
								<script>if matches[3]:find(target) then
deleteLine()
sys("&lt;gold&gt;Moon") cecho("&lt;green&gt;"..matches[2].." &gt; &lt;gold&gt;"..matches[3])
	aff(matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The card bestows the (.+) malady upon (\w+).$</string>
									<string>^You use Tarot the Moon on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Speed</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Speed") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;\- &lt;red&gt;Stripped")
speed = false
tempTimer(5, [[speed = true]])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The card destroys (\w+)'s speed defence.$</string>
									<string>^The visage passes its hand in front of (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Aeon</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Aeon") cecho("&lt;green&gt;Aeon+ &gt; &lt;gold&gt;"..matches[2])
aff("aeon")
aeon = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the card reaches (\w+), the curse of Aeon descends upon \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fool</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Fool") cecho("&lt;green&gt;Manaleech+ &gt; &lt;gold&gt;"..matches[2])
aff("manaleech")
if pta and matches[1]:find("again") then enableTrigger("affPrompt") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the Fool card touches (\w+), \w+ pales slightly.$</string>
									<string>^(\w+) pales slightly as the Fool's influence manifests once again.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lovers</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Lovers") cecho("&lt;green&gt;Lovers+ &gt; &lt;gold&gt;"..matches[2])
aff("pacifism")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the Lovers tarot strikes true, a look of compassion crosses (\w+)'s face.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Justice</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Justice") cecho("&lt;green&gt;Justice+ &gt; &lt;gold&gt;"..matches[2])
aff("justice")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A set of scales appears above (\w+)'s head and one side of the scale quickly descends.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Emperor</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Emperor") cecho("&lt;green&gt;Numbness+ &gt; &lt;gold&gt;"..matches[2])
aff("numbness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the tarot card hits (\w+), \w+ muscles suddenly stiffen\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Creator</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Creator") cecho("&lt;green&gt;Hallucinations+ &gt; &lt;gold&gt;"..matches[2])
aff("hallucinations")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Upon impact, (\w+)'s eyes widen with sudden shock.$</string>
									<string>^As the tarot card hits (\w+), \w+ features contort in a visage of pain\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Levitation Flare</name>
								<script>callout("Levitated Tarot Card", multimatches[1][2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sense that your levitating Tarot card has just hit (\w+).$</string>
									<string>^You sense that your levitating Tarot card has just hit \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sun</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;gold&gt;Sun") cecho("&lt;red&gt;Damage &gt; &lt;gold&gt;"..matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the Sun card touches (\w+), it flares with the power of fire that burns \w+ painfully.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Star - Shield</name>
								<script>if matches[2]:find(target) then shield = false end
callout(matches[2], "Shield Down")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^In your mind's eye, you see your meteor shatter (\w+)'s shield.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Star - Damage</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Star") cecho("&lt;red&gt;Meteor Damage") </script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^In your mind's eye, you see (\w+) crushed by your meteor.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Soulwrack</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("&lt;purple&gt;Soulwrack") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;\- &lt;red&gt;Speed Stripped")
speed = false
tempTimer(10, [[speed = true]])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s body seems to be slowing down.$</string>
									<string>^(\w+)'s face contorts into a visage of agony, as \w+ very soul is wracked relentlessly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Devil</name>
								<script>deleteLine()
sys("&lt;red&gt;Devil") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As the Devil card reaches (\w+), it flares with sudden power and cuts painfully into \w+ flesh.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Death Rubbed</name>
								<script>deleteLine()
death = death + 1
sys("&lt;purple&gt;Death Tarot") cecho("&lt;gold&gt;"..target.." &lt;ivory&gt;\- "..death.." Times")
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub the image of Death on (\w+) and feel a satisfying electrical charge run up your arm.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Healing Person</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Priestess") cecho("&lt;cyan&gt;Healing &lt;gold&gt;"..matches[2])
if table.contains(ms.allies, matches[2]) then
	msTA(matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You quickly fling a card with the image of the High Priestess at (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Levitated Hangedman</name>
								<script>deleteLine()
lhc = lhc + 1
sys("&lt;yellow&gt;Tarot") cecho("&lt;yellow&gt;Levitated Hangedman &lt;ivory&gt;\- "..tostring(lhc))
if lhc == 2 then
	flinged = false
  du = false
	lhc = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You hold a tarot card inscribed with the Hanged Man on an outstretched palm and concentrate. Slowly, the card is infused with magick and begins levitating in the air.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>LHC Levitated hangedman</name>
								<script>lhc = tonumber(0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>There already are two levitating cards here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Levitated Hangedman</name>
								<script>if autoKill and healing then expandAlias("lh") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Its magick depleted, a levitating tarot card inscribed with the Hanged Man crumbles into dust.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Death flung</name>
								<script>if matches[2]:find(target) then
  death = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You quickly fling a card with the image of Death at (\w+)\.$</string>
									<string>^You use Tarot Death on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Summoner gags</name>
							<script>deleteLine()</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You bring your focus upon \w+'s nerves and start channeling heat towards them\.$</string>
								<string>^You use Tarot Justice on (\w+).$</string>
								<string>^You use Tarot the Emperor on (\w+).$</string>
								<string>^You use Tarot Moon on (\w+).$</string>
								<string>^You use Tarot the Aeon on (\w+).$</string>
								<string>^You use Tarot the Fool on (\w+).$</string>
								<string>^You use Tarot the Lovers on (\w+).$</string>
								<string>^You use Tarot the Creator on (\w+).$</string>
								<string>^You use Tarot the Devil on (\w+).$</string>
								<string>^You use Tarot the Moon on (\w+).$</string>
								<string>^You use Tarot the Justice on (\w+).$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Magick</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Druid</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Evocation</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Oppression Gag</name>
								<script>deleteLine()
oppression = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The oppressive nature of the location exhausts you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Guardian/Golem</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;Golem") cecho("&lt;snow&gt;Arrived")
golem = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A mighty earth golem stomps in from the ether.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Imbue Gauge</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;Earth") cecho("&lt;red&gt;[&lt;cyan&gt;"..(matches[2] or 0).."&lt;red&gt;]")
earth = tonumber(matches[2]) or tonumber(0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The strength of the Earth imbuement in .+ has increased to (\d+)\%.$</string>
									<string>^The strength of the Earth imbuement in .+ has decreased to (\d+)\%.$</string>
									<string>^The layer of rock imbued on .+ cracks and falls off.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Feather Gauge</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Air") cecho("&lt;red&gt;[&lt;cyan&gt;"..(matches[2] or 0).."&lt;red&gt;]")
air = tonumber(matches[2]) or tonumber(0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The strength of the Air energy in .+ has increased to (\d+)\%.$</string>
									<string>^The strength of the Air energy in .+ has decreased to (\d+)\%.$</string>
									<string>^.+ becomes much heavier again.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Drain</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Drain") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You swing .+ in a circle, causing a small torrent of air to form around (\w+), draining \w+ mental reserves.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Tornado Up</name>
								<script>deleteLine()
sys("&lt;green&gt;Tornado+") cecho("&lt;snow&gt;Active")
tornado = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You raise .+ above your head and begin to draw wide circles in the air. The staff glows dimly for a moment as a swirling tornado slowly forms around you, loudly sucking in air.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Tornado Active</name>
								<script>deleteLine()
if matches[1]:find("Your") then
  sys("&lt;cyan&gt;Tornado") cecho("&lt;snow&gt;Active")
  aff("asthma")
end
tornado = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your tornado continues swirling violently.</string>
									<string>The tornado swirls rapidly.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Tornado Down</name>
								<script>deleteLine()
sys("&lt;red&gt;Tornado-") cecho("&lt;snow&gt;Collapsed")
tornado = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The raging tornado collapses into itself.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Enfeeble</name>
								<script>deleteLine()
sys("&lt;green&gt;Enfeeble") cecho("&lt;gold&gt;"..matches[2])
aff("weariness")
aff("lethargy")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You swing .+ towards (\w+) and a wave of earthen energy shoots forth, enfeebling \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Earthquake</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;Earthquake") cecho("&lt;green&gt;Active")
druid_earthquake = true
tempTimer(6, [[druid_earthquake = false]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You concentrate and press a polished ebony quarterstaff firmly against the ground, and stand firm as the imbued power of Earth is unleashed in a massive earthquake that shakes everything around you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shock Down</name>
								<script>deleteLine()
sys("&lt;red&gt;Shock-") cecho("&lt;gold&gt;"..matches[2])
druid_shock = false
disableTimer("Druid Shock")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A brief shock runs through (\w+)'s body, only to dissipate harmlessly.$</string>
									<string>^(\w+)'s muscles finally stop twitching.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shock Up</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Shock+") cecho("&lt;gold&gt;"..matches[2])
druid_shock = true
enableTimer("Druid Shock")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A brief shock tuns through (\w+)'s body and \w+ muscles begin twitching on \w+ own accord.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Oppression up</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Oppression") cecho("&lt;green&gt;Active")
oppression = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You concentrate and begin humming an uplifting melody. Focusing on the air around you, you attune your melody to its chaotic movements, until the air begins gradually resonating with the power of the Song of Oppression.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wisp</name>
								<script>deleteLine()
sys("&lt;cyan&gt;"..matches[2]:title().." Wisp") cecho("&lt;gold&gt;"..matches[2])
wisp_cooldown = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You quickly summon a (\w+) wisp and with a commanding gesture, send it flying towards (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Poison Wisp</name>
								<script>deleteLine()
sys("&lt;green&gt;Poisonous Wisp") cecho("&lt;gold&gt;"..matches[2])
aff("wisp poison")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your poisonous wisp flies at (\w+) and stings \w+ painfully.$</string>
									<string>^Your reinforced poisonous wisp flies at (\w+) and stings \w+ painfully.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hypnotic Wisp</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hypnotic Wisp") cecho("&lt;gold&gt;"..matches[2])
if ms.afflicted["asthma"] == "aff" then
  aff("hellsight")
else
  aff("asthma")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your reinforced hypnotic wisp flies rapidly around (\w+)'s head, whose eyes widen in terror.$</string>
									<string>^Your hypnotic wisp flies rapidly around (\w+)'s head, whose eyes widen in terror.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wisp Cooldown</name>
								<script>wisp_cooldown = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are again able to evoke a wisp.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Quarterstaff Stab</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;Quarterstaff Stab") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You stab (\w+) viciously with .+ quarterstaff.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Golem Attacking</name>
								<script>golem_attacking = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order a mighty earth golem to attack (\w+).$</string>
									<string>^A mighty earth golem is already hostile towards (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Pioneering</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Naturbinding</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Root summoned</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;Root") cecho("&lt;green&gt;"..matches[2]:title())
if matches[2] == "elder" then
  elderRoot = true
elseif matches[2] == "hawthorn" then
  hawthornRoot = true
elseif matches[2] == "willow" then
  willowRoot = true
elseif matches[2] == "beech" then
  beechRoot = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The ground around you splits momentarily and an animated (\w+) root bursts into the room, swaying menacingly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Root Aff</name>
								<script>if matches[2]:find(target) then
  deleteLine()
  sys("&lt;chocolate&gt;Root Affliction") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;"..matches[3])
  aff(matches[3])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The root afflicts (\w+) with (.+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Circling</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;"..matches[2]:title().." Root") cecho("&lt;snow&gt;Circling &lt;gold&gt;"..matches[3])
circling = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You swing your quarterstaff and an animated (\w+) root slowly rises from the ground and begins circling mesmerisingly around (\w+).$</string>
									<string>^An animated (\w+) root is already circling around (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Absorbed</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;"..matches[3]:title().." Root") cecho("&lt;green&gt;Absorbed &lt;gold&gt;"..matches[2])
absorbed = true
enableTimer("absorbed")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You point your quarterstaff towards (\w+) and an animated (\w+) root moves forwards and brushes swiftly against (\w+)'s skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shred</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;"..matches[2]:title().." Root") cecho("&lt;red&gt;Shred &lt;gold&gt;"..matches[3])
if deaf then
  deaf = false
else
  aff("sensitivity")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You swing your quarterstaff and an animated (\w+) root spins around and batters (\w+), shredding \w+ skin mercilessly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Entrap</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;"..matches[3]:title().." Root") cecho("&lt;yellow&gt;Entraped &lt;gold&gt;"..matches[2])
engage = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You direct your quarterstaff towards (\w+) and an animated (\w+) root starts swaying menacingly around \w+, attempting to thwart \w+ escape.$</string>
									<string>^An animated (\w+) root is already attempting to entrap (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cursed</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;"..matches[3]:title().." Root") cecho("&lt;purple&gt;Cursed &lt;gold&gt;"..matches[2])
cursed = true
enableTimer("cursed")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You point your quarterstaff towards (\w+) and \w+ skin blackens visibly as an animated (\w+) root shreds it viciously.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Overwhelm up</name>
								<script>deleteLine()
sys("&lt;green&gt;Overwhelm+") cecho("&lt;gold&gt;"..matches[2])
overwhelm = true
owcd = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You concentrate on your bond with Nature and prepare to overwhelm (\w+) with its raw power.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Overwhelm Down</name>
								<script>deleteLine()
sys("&lt;red&gt;Overwhelm-") cecho("&lt;gold&gt;"..matches[2])
overwhelm = false
owcd = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You cease attempting to overwhelm (\w+) through the power of Nature.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Overwhelm Cooldown Over</name>
								<script>deleteLine()
sys("&lt;green&gt;Overwhelm") cecho("&lt;snow&gt;Cooldown Reset")
overwhelm = false
owcd = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are again able to overwhelm someone through the power of Nature.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Runeguard</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Runelore</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flame</name>
								<script>deleteLine()
sys("&lt;red&gt;Flame") cecho("&lt;gold&gt;"..matches[2])
flame = false
tempTimer(5, [[flame = true]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Extreme heat roars through (\w+)'s body at the touch of .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Runes on Ground</name>
								<script>if matches[2]:find("inguz") then
  inguzGround = true
elseif matches[2]:find("nairat") then
  nairatGround = true
end
statc()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With a flourish, you finish sketching \w+ (\w+) rune.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nairat on Ground already</name>
								<script>if matches[1]:find("butterfly") then
  nairatGround = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A rune shaped like a butterfly has been sketched into the ground here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>0</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Inguz on Ground already</name>
								<script>if matches[1]:find("stick man") then
  inguzGround = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A rune that looks like a stick man has been sketched into the ground here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>0</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bolt</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Bolt") cecho("&lt;gold&gt;"..matches[2])
aff("dryblood")
tempTimer(10, [[bolt = true]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The weapon releases a wave of magick at (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lightning</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Lightning") cecho("&lt;gold&gt;"..matches[2])
tempTimer(4, [[lightning = true]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A shock surges through (\w+)'s body as the weapon connects.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Snowflake</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Snowflake") cecho("&lt;gold&gt;"..matches[2])
  if caloric then
    caloric = false
  elseif ms.afflicted["shivering"] == "notaff" then
    aff("shivering")
  elseif ms.afflicted["frozen"] == "notaff" then
    aff("frozen")
  end
tempTimer(3, [[snowflake = true]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) appears frozen to the bone as the weapon strikes.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Inguz Ground Flared</name>
								<script>if matches[2]:find(target) then
  aff("numbness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The inguz rune on the ground suddenly catches (\w+)'s attention.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nairat Ground Flared</name>
								<script>if matches[2]:find(target) then
  if blind then
    blind = false
  else
    transfixed = true
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The nairat rune on the ground suddenly catches (\w+)'s attention.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flaring Rune</name>
								<script>deleteLine()
sys("&lt;ivory&gt;Tablet") cecho("&lt;yellow&gt;"..matches[2]:title().." &lt;snow&gt;flared on &lt;gold&gt;"..matches[3])
if matches[3]:find(target) then
  if matches[2]:find("inguz") then
    inguz = false
    tprone = true
  elseif matches[2]:find("eihwaz") then
    eihwaz = false
  elseif matches[2]:find("sowulu") then
    sowulu = false
  elseif matches[2]:find("hugalaz") then
    hugalaz = false
  elseif matches[2]:find("sleizak") then
    sleizak = false
  elseif matches[2]:find("pithakhan") then
    pithakhan = false
  elseif matches[2]:find("nauthiz") then
    nauthiz = false
  elseif matches[2]:find("nairat") then
    nairat = false
    loshre = false
  elseif matches[2]:find("loshre") then
    loshre = false
    nairat = false
  elseif matches[2]:find("wunjo") then
    wunjo = false
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You concentrate on the (\w+) rune on .+, and its searing image suddenly flares on (\w+)'s skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flared Rune</name>
								<script>if matches[3]:find(target) then
  deleteLine()
  sys("&lt;purple&gt;Rune") cecho("&lt;yellow&gt;"..matches[2]:title().." &lt;snow&gt;flared on &lt;gold&gt;"..matches[3])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The flared (\w+) rune has taken effect upon (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flare Cooldown Ended</name>
								<script>if matches[3]:find(target) then
  deleteLine()
  sys("&lt;purple&gt;"..matches[2]:title()) cecho("&lt;snow&gt;Cooldown Ended")
  if matches[2]:find("pithakhan") then
    pithakhan = true
  elseif matches[2]:find("nauthiz") then
    nauthiz = true
  elseif matches[2]:find("inguz") then
    inguz = true
  elseif matches[2]:find("sowulu") then
    sowulu = true
  elseif matches[2]:find("hugalaz") then
    hugalaz = true
  elseif matches[2]:find("sleizak") then
    sleizak = true
  elseif matches[2]:find("nairat") then
    nairat = true
    loshre = true
  elseif matches[2]:find("loshre") then
    loshre = true
    nairat = true
  elseif matches[2]:find("eihwaz") then
    eihwaz = true
  elseif matches[2]:find("wunjo") then
    wunjo = true
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The residual effects of the (\w+) rune around (\w+) fade.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Chivalry</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kestrel Attacking</name>
								<script>if matches[2]:find(target) then
  kestrel = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order .+ kestrel to attack (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kestrel Passive</name>
								<script>kestrel = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order .+ kestrel to assume a passive stance.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Weaponmastery</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engage on</name>
								<script>engage = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are already engaging (\w+)\.$</string>
									<string>^(\w+) is already being engaged\!$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>DSL Gag</name>
								<script>deleteLine()
sys("&lt;ivory&gt;DSL") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With a lightning-quick motion, you slash (.+) with .+\.$</string>
									<string>^You swing .+ at (.+) with a powerful strike.$</string>
									<string>^You slash viciously into (.+) with .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shred</name>
								<script>deleteLine()
sys("&lt;red&gt;DSL SHRED") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You shred (\w+)'s skin viciously with .+, causing a nasty infection.$</string>
									<string>^You use Weaponmastery Shred on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lacerate</name>
								<script>deleteLine()
sys("&lt;red&gt;DSL LACERATE") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You lacerate (\w+)'s skin calmly with the sharp edge of .+, amplifying \w+ bleeding wounds.$</string>
									<string>^You use Weaponmastery Lacerate on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Impale failed</name>
								<script>if matches[2]:find(target) then
	impaled = false
	brokenTorso = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You thrust your blade towards (\w+) but \w+ dodges easily out of the way.$</string>
									<string>^With a look of agony on his face, (\w+) manages to writhe \w+ free of the weapon which impaled \w+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Impaled success</name>
								<script>impaled = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You draw your blade back and plunge it deep into the body of (\w+), impaling \w+ to the hilt.$</string>
									<string>^You use Weaponmastery Impale on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Reave</name>
								<script>deleteLine()
sys("&lt;red&gt;Reave - Battleaxe") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You reave (\w+) furiously with .+ battleaxe.$</string>
									<string>^You use Weaponmastery Reave on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rebound/Parry Check</name>
								<script>if matches[1]:find("rebounds") then rebounded = true
elseif matches[1]:find("parries") then tparried = true
end
thit = thit - 1
if thit &lt; 0 then thit = tonumber(0) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The attack rebounds back onto you!</string>
									<string>^(\w+) parries the attack with a deft maneuver.$</string>
									<string>^(\w+) parries the attack to the .+ with a deft maneuver.$</string>
									<string>^(\w+) parries the attack and deftly fires a thornroot at you.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxin Prompt</name>
								<script>ms.dk.toxins = {}
rebounded = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>return isPrompt()</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxin Set</name>
								<script>table.insert(ms.dk.toxins, matches[2])
sys("&lt;green&gt;Toxin") cecho("&lt;ivory&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub some (\w+) on .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hack Parry</name>
								<script>tparried = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As (\w+) moves to parry the blow, you swiftly alter the attack with .+ scimitar and jab its sharp edge into (\w+)'s exposed side.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Renegade</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Spatium</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hypnotise Active</name>
								<script></script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is already under your hypnotic spell.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Wormhole gag</name>
								<script>deleteLine()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Multicolored fragments fly out of your wormhole as its connection shatters.</string>
									<string>You close your eyes and focus your mind on forming a connection with your dimensional wormhole. </string>
									<string>Your wormhole is already attached to itself.</string>
									<string>Your wormhole is already attached to the frozen tundra.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Worm Attach</name>
								<script>deleteLine()
if matches[2]:lower():find("volcano") then
	wloc = "&lt;red&gt;Volcano"
elseif matches[2]:lower():find("rashirmir") then
	wloc = "&lt;DimGrey&gt;Rashirmir"
elseif matches[2]:lower():find("tundra") then
	wloc = "&lt;cyan&gt;Tundra"
elseif matches[2]:lower():find("itself") then
	wloc = "&lt;purple&gt;Circular"
elseif matches[2]:lower():find("demonic") then
	wloc = "&lt;ivory&gt;Demonic"
elseif matches[2]:lower():find("elemental") then
  wloc = "&lt;ivory&gt;Elemental"
else
	if wRoom ~= "" then
		wloc = "&lt;gold&gt;"..wRoom:title()
		wRoom = ""
	else
		wloc = "&lt;gold&gt;"..target
	end
	
end	
sys("&lt;purple&gt;Wormhole") cecho("&lt;DimGrey&gt;Attached \- "..wloc)
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You close your eyes and focus your mind on forming a connection with your dimensional wormhole. Frowning in concentration, you direct its loose end through space, attaching it firmly (.+)\.$</string>
									<string>^Your wormhole is already attached to the (\w+).$</string>
									<string>^You use Spatium Attach \((\w+)\).$</string>
									<string>^Your wormhole is already attached to (\w+).$</string>
									<string>You cannot use that ability while your wormhole is attached to another room.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shadowplant</name>
								<script>deleteLine()
sys("&lt;purple&gt;Shadowplant") cecho("&lt;gold&gt;"..matches[3].." &lt;DimGrey&gt;- &lt;ivory&gt;"..matches[2])
shadowherb = matches[2]
if matches[2]:find("maidenhair") then
	spmh = false
elseif matches[2]:find("mandrake") then
	spm = false
elseif matches[2]:find("kelp") then
	spk = false
elseif matches[2]:find("wormwood") then
	spww = false
end
tempTimer(1, [[function() table.insert(ms.shadowplants, ]]..matches[2]..[[) end]])
tempTimer(5, [[function() table.remove(ms.shadowplants, table.index_of(ms.shadowplants, ]]..matches[2]..[[)) end]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You force a small opening in your wormhole and a shadowy replica of a piece of (\w+) pops out of it and lands in (\w+)'s hands.$</string>
									<string>^You force a small opening in your wormhole and a shadowy replica of (?:a|an) (\w+) \w+ pops out of it and lands in (\w+)'s hands.$</string>
									<string>^You use Spatium Shadowplant \((\w+)\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shadowplant cooldown</name>
								<script>deleteLine()
sys("&lt;purple&gt;Shadowplant &lt;cyan&gt;Cooldown") cecho("&lt;ivory&gt;"..matches[2])
if matches[2]:find("maidenhair") then
	spmh = true
elseif matches[2]:find("mandrake") then
	spm = true
elseif matches[2]:find("kelp") then
	spk = true
elseif matches[2]:find("wormwood") then
	spww = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are again able to conjure the shadowplant of (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engulf Up</name>
								<script>deleteLine()
sys("&lt;red&gt;Engulfed") cecho("&lt;gold&gt;"..matches[2])
engulfed = true
engulf_tick = true
rb = false
blizzard = false
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Temperature rises noticeably as you force your wormhole to open and start spewing fire towards (\w+).$</string>
									<string>^(\w+) is already surrounded by flames.$</string>
									<string>^You use Spatium Engulf on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engulf Tick</name>
								<script>deleteLine()
sys("&lt;red&gt;Engulfed") cecho("&lt;ivory&gt;Tick &lt;DimGrey&gt;- &lt;gold&gt;"..matches[2])
engulfed = true
rb = false
disableTimer("rebounding")
fenugreek = false
rbhit = false
blizzard = false
engulf_tick = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Searing fire spews out at (\w+) from your wormhole, twirling chaotically around \w+ body.$</string>
									<string>^Searing fire spews out at (\w+) from \w+'s wormhole, twirling chaotically around \w+ body.$</string>
									<string>^You use Spatium Engulf \(tick\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engulf Down</name>
								<script>deleteLine()
sys("&lt;DimGrey&gt;Engulfed") cecho("&lt;ivory&gt;Ceased")
engulfed = false
blizzard = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your wormhole ceases spewing flames.</string>
									<string>You use Spatium Engulf (end).</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Instill</name>
								<script>deleteLine()
sys("&lt;purple&gt;Instill") cecho("&lt;gold&gt;"..matches[3].." &lt;DimGrey&gt;- &lt;yellow&gt;"..matches[2]:title())
instill = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Forcing your wormhole to swirl in a hypnotic motion, you lean towards (\w+) and whisper about (\w+).$</string>
									<string>^You use Spatium Instill \((\w+)\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Confound</name>
								<script>deleteLine()
sys("&lt;purple&gt;Confound") cecho("&lt;gold&gt;"..matches[2])
confound = false
if matches[1]:find("fascinates") or matches[1]:find("Spatium Confound") then enableTimer("confound") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You let your wormhole circulate around your head, creating a spectacle that fascinates and confounds (\w+).$</string>
									<string>^You let your wormhole circulate around your head, creating a spectacle that appears to have no effect on (\w+).$</string>
									<string>^You use Spatium Confound on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Create Wormwhole</name>
								<script>if healing then send("queue eqbal top worm create") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You must create your personal wormhole first.</string>
									<string>You need to create your personal wormhole first.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blizzard up</name>
								<script>deleteLine()
sys("&lt;blue&gt;Blizzard") cecho("&lt;green&gt;Active!")
blizzard = true
engulfed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You focus your mind on your wormhole, forcing it to open wide. Freezing blizzard starts pouring in from the swirling vortex, covering everything with impenetrable whiteness.$</string>
									<string>A blizzard is already pouring in to here from another wormhole.</string>
									<string>You use Spatium Blizzard.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blizzard Down</name>
								<script>deleteLine()
sys("&lt;blue&gt;Blizzard") cecho("&lt;DimGrey&gt;Ceased")
blizzard = false
engulfed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Blizzard ceases pouring in through your wormhole.$</string>
									<string>^Visibility improves as the freezing blizzard ceases pouring in from the wormhole.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blizzard Tick</name>
								<script>deleteLine()
sys("&lt;blue&gt;Blizzard") cecho("&lt;ivory&gt;Tick")
blizzard = true
engulfed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A freezing blizzard continues pouring in from the open wormhole.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Swift Attach</name>
								<script>swiftAttach = true
deleteLine()
sys("&lt;purple&gt;Swift Attach") cecho("&lt;green&gt;Ready!")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are again prepared to swiftly attach a wormhole.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Swift Attach</name>
								<script>swiftAttach = false
deleteLine()
sys("&lt;purple&gt;Swift Attach") cecho("&lt;red&gt;Used!")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You swiftly attach the wormhole.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Becloud</name>
								<script>deleteLine()
sys("&lt;purple&gt;Becloud") cecho("&lt;green&gt;UP")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You force your wormhole to whirl in an irregular motion, displaying fascinating patterns in the air.</string>
									<string>This location is already under the effect of becloud.</string>
									<string>You use Spatium Becloud.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Freeze</name>
								<script>deleteLine()
sys("&lt;blue&gt;Freeze") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You open your wormhole briefly and a stream of freezing air pours out, enveloping (.+).$</string>
									<string>^You use Spatium Freeze on (.+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Worm Obscure</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;purple&gt;Worm Obscure") cecho("&lt;gold&gt;"..matches[2])
	obscure = true
	enableTimer("obscure")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You force your wormhole to appear and float towards (\w+), disrupting \w+ perception of punctured toxins.$</string>
									<string>^You use Spatium Obscure on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Instill fail</name>
								<script>ms.afflicted["asthma"] = "notaff"</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You attempt to instill the effect, but find out that (\w+) is not afflicted with asthma.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Worm Choke</name>
								<script>
	deleteLine()
	sys("&lt;purple&gt;Worm Choke") cecho("&lt;gold&gt;"..matches[2])
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^As you carefully open your wormhole, it begins sucking in the air around (\w+), preventing \w+ from breathing.$</string>
									<string>^You use Spatium Choke on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Devour</name>
								<script>if matches[1]:find("sinister") or matches[1]:find("\(start\)") then
	deleteLine()
	sys("&lt;purple&gt;Devouring") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;1st Phase")
elseif matches[1]:find("widening") or matches[1]:find("\(tick\)") then
	deleteLine()
	sys("&lt;purple&gt;Devouring") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;2nd Phase")
end
ik = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With a sinister grin, you allow your wormhole to open wide and as it starts rapidly sucking in air, you concentrate on directing it towards (\w+), who struggles in vain as \w+ starts being sucked towards the opening\.$</string>
									<string>^You direct your wormhole towards (\w+) and concentrate intently on positioning it right above \w+ head. The widening blackness continues sucking in air and steadily becomes more and more powerful and violent\.$</string>
									<string>^You use Spatium Devour \(start\) on (\w+).$</string>
									<string>^You use Spatium Devour \(tick\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Spectre Ensare</name>
								<script>deleteLine()
sys("&lt;purple&gt;Spectre") cecho("&lt;gold&gt;"..matches[2].." &lt;yellow&gt;ENSNARED")
transfixed = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order a static spectre to ensnare (\w+), whose attention appears fully captivated.$</string>
									<string>^You use Spatium Summon \(ensnare\) on (\w+).$</string>
									<string>^You use Spatium Summon \(transfix\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Spectre</name>
								<script>deleteLine()
if matches[1]:find("form") then
  sys("&lt;purple&gt;Spectre") cecho("&lt;ivory&gt;Summoned")
else
  sys("&lt;purple&gt;Spectre") cecho("&lt;ivory&gt;Following")
end
spectre = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>With a flourish, you open your wormhole wide, and an ethereal glow starts emanating out of it, illuminating its surroundings with the power of magick. A majestic shape-shifting figure emerges out of the wormhole, floating silently above the surface. As the ethereal light slowly fades, the figure takes on the form of a black spectre, observing you with a longing look.</string>
									<string>A static spectre obediently falls into line behind you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Spectre</name>
								<script>if matches[2]:find(target) then
  spectre = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The final blow is too much, a static spectre has been slain by (\w+).$</string>
									<string>You cease leading a static spectre.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Hypnosis</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hypnotised</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hypnotised") cecho("&lt;gold&gt;"..matches[2])
if matches[2]:find(target) then
	hypnotised = true
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You fix (\w+) with an entrancing stare, and smile in satisfaction as you realise that \w+ mind is yours.$</string>
									<string>^(\w+) is already under your hypnotic spell.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Suggest</name>
								<script>deleteLine()
sys("&lt;purple&gt;Suggestion") cecho("&lt;gold&gt;"..(matches[3] or target).." &lt;ivory&gt;- &lt;green&gt;"..matches[2]:title())
if matches[2]:find("impatience") then
	seal = true
end
suggestCount = suggestCount + 1
table.remove(ms.ass.hypnoAffs, 1)
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You issue the suggestion of (\w+), concealing it deep within (\w+)'s mind.$</string>
									<string>^You use Hypnosis Suggest \((\w+)\).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sealed</name>
								<script>deleteLine()
sys("&lt;purple&gt;Sealed") cecho("&lt;gold&gt;"..(matches[2] or target))
if matches[2]:find(target) or matches[1]:find("cannot whisper") then
	seal = false
	sealed = true
	snap = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You draw (\w+) out of \w+ hypnotic daze, your suggestions indelibly printed on \w+ mind.$</string>
									<string>^The suggestions have already been sealed in (\w+)'s mind.$</string>
									<string>You use Hypnosis Seal.</string>
									<string>You cannot whisper suggestions to someone who already has some sealed in mind.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hypnotised down</name>
								<script>hypnotised = false
sealed = false
seal = false
snap = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is not under your hypnotic spell.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Snap</name>
								<script>deleteLine()
sys("&lt;ivory&gt;Snap") cecho("&lt;gold&gt;"..matches[2])
snap = false
sealed = false
seal = false
snapped = true
tempTimer(5, [[hypnotised = false;snapped = false]])

</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You snap your fingers in front of (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sealed</name>
								<script>sealed = true
seal = false
hypontised = true
snap = true
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cannot whisper suggestions to someone who already has some sealed in mind.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Whisper</name>
								<script>deleteLine()
sys("&lt;purple&gt;Whisper") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You whisper a few urgent words to (\w+).$</string>
									<string>^You use Hypnosis Whisper on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Snap failed</name>
								<script>sealed = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You snap your fingers.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Enthrall</name>
								<script>deleteLine()
sys("&lt;purple&gt;Enthrall") cecho("&lt;gold&gt;"..matches[2])
seal = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You cause your wormhole to spin rapidly, captivating and enthralling (\w+) and causing one of the deeply concealed suggestions to surface.$</string>
									<string>^You use Spatium Enthrall on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Sabotage</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shrug</name>
								<script>toxinShrugged = matches[2]
shrugcd = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You prepare to shrug off the effects of (\w+)\.$</string>
									<string>^You use Sabotage Shrugging \((.+)\)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek Flayed</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	if matches[1]:find("waxy") or matches[1]:find("fenugreek") then
		sys("&lt;green&gt;Fenugreek") cecho("&lt;yellow&gt;Flayed &lt;DimGrey&gt;\- &lt;ivory&gt;"..matches[2])
	elseif matches[1]:find("brutally") or matches[1]:find("Scourge") then
		sys("&lt;green&gt;Fenugreek") cecho("&lt;yellow&gt;Scourged &lt;DimGrey&gt;\- &lt;ivory&gt;"..matches[2])
	end
	fenugreek = false
	if matches[1]:find("brutally") or matches[1]:find("Scourge") then scourge = true end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You flay the waxy coating from (\w+)\.$</string>
									<string>^You lash out with your whip and brutally flay (\w+)'s skin from \w+ bones.$</string>
									<string>^\w+ lashes out with \w+ whip and brutally flays (\w+)'s skin from \w+ bones.$`</string>
									<string>^(\w+)'s flesh has already been scourged.$</string>
									<string>^You use Sabotage Scourge on (\w+).$</string>
									<string>^You use Sabotage Flay \(fenugreek\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek Returned</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("&lt;green&gt;Fenugreek") cecho("&lt;green&gt;Dried &lt;DimGrey&gt;\- &lt;ivory&gt;"..matches[2])
	fenugreek = true
  scourge = false
	if pta then enableTrigger("affPrompt") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A waxy shell of berry juice has dried to (\w+)'s skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxin</name>
								<script>	deleteLine()
	cecho(" &lt;DimGrey&gt;\-\&gt; &lt;green&gt;"..matches[2]:title())
if matches[3]:find(target) then
	if matches[2] == "cyanide" then aff("cyanide") end
	if matches[2] == "aconite" then aff("stupidity") end
	if matches[2] == "arsenic" then aff("weariness") end
	if matches[2] == "atropine" then aff("recklessness") end
	if matches[2] == "avidya" then aff("ignorance") end
	if matches[2] == "benzene" then aff("crippled right arm") if ms.afflicted["crippled right arm"] == "aff" then aff("crippled left arm") end end
	if matches[2] == "benzedrine" then aff("crippled right leg") if ms.afflicted["crippled right leg"] == "aff" then aff("crippled left leg") end end
	if matches[2] == "botulinum" then aff("nausea") end
	if matches[2] == "bromine" then aff("anorexia") end
	if matches[2] == "butisol" then aff("butisol") end
	if matches[2] == "calotropis" then aff("calotropis") end
	if matches[2] == "chloroform" then aff("epilepsy") end
	if matches[2] == "ciguatoxin" then aff("numbness") end
	if matches[2] == "digitalis" then aff("shyness") end
	if matches[2] == "ether" then aff("clumsiness") end
	if matches[2] == "hemotoxin" then aff("hemotoxin") end
	if matches[2] == "iodine" then aff("slickness") end
	if matches[2] == "lindane" then aff("dizziness") end
	if matches[2] == "luminal" then aff("slow elixers") end
	if matches[2] == "mazanor" then aff("slow herbs") end
	if matches[2] == "mebaral" then aff("slow equilibrium") end
	if matches[2] == "mercury" then aff("asthma") end
	if matches[2] == "metrazol" then aff("metrazol") end
	if matches[2] == "noctec" then aff("slow balance") end
 if matches[2] == "oxalis" then blind = false end
	if matches[2] == "strychnine" and not deaf then aff("sensitivity") elseif matches[2]:find("strychnine") and ms.afflicted["sensitivity"] == "notaff" and deaf then deaf = false end
	if matches[2] == "vitriol" then aff("disloyalty") end
	if matches[2] == "xeroderma" then aff("sunallergy") end
	if matches[2] == "sulfonal" then aff("sulfonal") end
	if matches[2] == "psilocybin" then aff("ineptude") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your (\w+) toxin has affected (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dstab gag</name>
								<script>deleteLine()
if matches[1]:find("Maintaining") then sys("&lt;green&gt;Dstab") cecho("&lt;gold&gt;"..matches[2]) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You prick (\w+) quickly with your dirk.$</string>
									<string>^Maintaining your balance\, you deftly prick (\w+) again.$</string>
									<string>^You use Sabotage Doublestab on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Envenom gag</name>
								<script>deleteLine()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You rub some \w+ on a .+ (?:tooth|dirk).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cobra</name>
								<script>deleteLine()
sys("&lt;DimGrey&gt;Cobra") cecho("&lt;gold&gt;"..matches[2])
-- if matches[2]:find(target) then ukaf = ukaf + 1 end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A .+ cobra's hood flares as it darts forward to bite (\w+).$</string>
									<string>^A .+ cobra opens its mouth wide and strikes (\w+) in the leg.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>My cobra</name>
								<script>if matches[2]:find(target) then
	cobra = false
	resetPets = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You order a .+ cobra to attack (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shrugging</name>
								<script>shrugging = false
if not shrugcd and healing then
	if (defiler or zerker) and not table.contains(ms.afflictions, "sensitivity") then send("shrug strychnine")
	elseif not asthma and assassin then send("shrug mercury")
	elseif table.contains(ms.afflictions, "slow balance") then send("shrug noctec")
	elseif not hemotoxin then send("shrug hemotoxin")
	elseif (not numbness or not paralysis) then send("shrug ciguatoxin")
	elseif not asthma then send("shrug mercury")
	elseif not slickness then send("shrug iodine")
	elseif not anorexia then send("shrug bromine")
	end
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You shrug off the effects of the toxin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shrug cd done</name>
								<script>shrugcd = false
if not shrugging and healing then
	if defiler and not table.contains(ms.afflictions, "sensitivity") then send("shrug strychnine")
  elseif not hemotoxin and shaman then send("shrug hemotoxin")
	elseif table.contains(ms.afflictions, "slow balance") then send("shrug noctec")
  elseif not asthma then send("shrug mercury")	
  elseif (not numbness or not paralysis) then send("shrug ciguatoxin")
	elseif not slickness then send("shrug iodine")
	elseif not anorexia then send("shrug bromine")
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are again able to focus on shrugging a toxin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Garrote</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Garrote") cecho("&lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You slip behind (.+) and garrote \w+ with your whip.$</string>
									<string>^You use Sabotage Garrote on (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek UP</name>
								<script>if matches[2]:find(target) then
	fenugreek = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You look to slit the veins of (\w+), but you cannot find one through the waxy skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Puncture Toxin</name>
								<script>	deleteLine()
	cecho(" &lt;DimGrey&gt;\-\&gt; &lt;green&gt;"..matches[2])
	local tox = matches[2]:lower()
	if tox == "cyanide" then aff("cyanide") end
	if tox == "aconite" then aff("stupidity") end
	if tox == "arsenic" then aff("weariness") end
	if tox == "atropine" then aff("recklessness") end
	if tox == "avidya" then aff("ignorance") end
	if tox == "benzene" and ms.afflicted["crippled left arm"] == "notaff" then aff("crippled left arm") end
	if tox == "benzene" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "aff" then aff("crippled right arm") end
	if tox == "benzedrine" and ms.afflicted["crippled left arm"] == "notaff" then aff("crippled left arm") end
	if tox == "benzedrine" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "aff" then aff("crippled right arm") end
	if tox == "botulinum" then aff("nausea") end
	if tox == "bromine" then aff("anorexia") end
	if tox == "butisol" then aff("butisol") end
	if tox == "calotropis" then aff("calotropis") end
	if tox == "chloroform" then aff("epilepsy") end
	if tox == "ciguatoxin" then aff("numbness") end
	if tox == "digitalis" then aff("shyness") end
	if tox == "ether" then aff("clumsiness") end
	if tox == "hemotoxin" then aff("hemotoxin") end
	if tox == "iodine" then aff("slickness") end
	if tox == "lindane" then aff("dizziness") end
	if tox == "luminal" then aff("slow elixers") end
	if tox == "mazanor" then aff("slow herbs") end
	if tox == "mebaral" then aff("slow equilibrium") end
	if tox == "mercury" then aff("asthma") end
	if tox == "metrazol" then aff("metrazol") end
	if tox == "noctec" then aff("slow balance") end
 if tox == "oxalis" then blind = false end
	if tox == "strychnine" and not deaf then aff("sensitivity") elseif tox:find("strychnine") and ms.afflicted["sensitivity"] == "notaff" and deaf then deaf = false end
	if tox == "vitriol" then aff("disloyalty") end
	if tox == "xeroderma" then aff("sunallergy") end
	if tox == "sulfonal" then aff("sulfonal");sulfonal = true end
	if tox == "psilocybin" then aff("ineptude") end
	if tox == "trioxin" then ptox = false end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) flows into \w+ open wound.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rb false</name>
								<script>rb = false
rbhit = false
engulf_tick = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your target has no aura for you to flay.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Puncture</name>
								<script>deleteLine()
sys("&lt;green&gt;Puncture") cecho("&lt;gold&gt;"..matches[2]:title())
ptox = true
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You prick (.+), exposing \w+ veins to your deadly toxins.$</string>
									<string>^You use Sabotage Puncture \(.+\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fenugreek Applied</name>
								<script>if matches[2]:find(target) then
	scourge = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) applies a fenugreek berry to \w+.$</string>
									<string>^You look to slit the veins of (\w+), but you cannot find one through the waxy skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dart Trap Devour</name>
								<script>if (matches[2]:find(target) or not table.contains(ms.allies, matches[2])) and healing and mono then
	noheal()
	mono = false
	send("queue eqbal worm attach rashirmir"..s.."worm devour "..matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A trap is sprung and a dart streaks from nowhere to slam into (\w+).$</string>
									<string>^A trap is sprung and a loop of rope entwines around (\w+), pulling \w+ off \w+ feet.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Slit</name>
								<script>deleteLine()
sys("&lt;red&gt;Slit") cecho("&lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Blood sprays like a gushing fountain as you viciously slit the throat of the helpless (\w+).$</string>
									<string>^You use Sabotage Slit on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Phatom Watch</name>
							<script>deleteLine()
phantomel = matches[3]
if not table.contains(ms.allies, matches[2]) then table.insert(ms.phantom, matches[2]) end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^A shadowy wraith alerts you that (.+) has (\w+) the area.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Hound Prompt</name>
							<script>if #ms.phantom &gt; 1 then sys("Phantom") cecho("&lt;gold&gt;"..table.concat(ms.phantom, ", ").." &lt;ivory&gt;"..phantomel.." area.") 
callout("[Phantom] "..table.concat(ms.phantom, ", "), phantomel.." area")
end
ms.phantom = {}
phantomel = ""</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>return isPrompt()</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>4</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Bard</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Songs</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Songs - def</name>
								<script>deleteLine()
if matches[2] == "room" then
sys("Song") cecho("&lt;cyan&gt;Lamia's Call&lt;ivory&gt;+") 
lamia = true
else
sys("Song") cecho("&lt;cyan&gt;"..matches[2].."&lt;ivory&gt;+")
if matches[2] == "Earthquake" then earthquake = true end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You begin to strum .+, preparing the Song of (.+). Adding your voice to the music you are playing, you bind the song to yourself.$</string>
									<string>^You begin to strum .+, preparing the (.+). Adding your voice to the music you are playing, you bind the song to yourself.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Therapeutics</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Therapeutics-")
if redosongs and ms.class["Bard"] then send("queue eqbal sing therapeutics me") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The gentle sounds of the Song of Therapeutics fade away, and the cocoon of musical healing energy disappears.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fortification</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Fortification-")
if redosongs and ms.class["Bard"] then send("queue eqbal sing fortify me") songs = 9 end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You feel your constitution decrease slightly as the Song of Fortification ends.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Awakening</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Awakening-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The clamor of the Song of Awakening fades from around you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Warding</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Warding-")
if healing and redosongs then send("queue reset all");send("queue eqbal top sing all") end
tempTimer(5, [[songs = 0]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The armour of hardened sonic waves dissipates from around you.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Restoration</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Restoration-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The dancing melody of the Song of Restoration fades beyond the threshold of your hearing.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Battlemarch</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Battlemarch-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The inspiring melody of the Battlemarch fades away.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flight</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Flight-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The magical cushion of air supporting you fades away as the Song of Flight comes to an end.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Requiem</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Requiem-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The mournful tones of the Requiem of Souls come to an end.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Empowerment</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Empowerment-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You feel your strength decrease slightly as the Song of Empowerment ends.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Corescate</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Corescation-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You feel your intelligence decrease slightly as the Song of Corescation ends.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Enlivenment</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Enlivenment-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You feel your dexterity decrease slightly as the Song of Enlivenment ends.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Song - Person</name>
								<script>if matches[3] == "yourself" then
else
deleteLine()
sys("Song") cecho("&lt;cyan&gt;"..matches[3].."+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;cyan&gt;"..matches[3].."+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;cyan&gt;"..matches[3].."+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
if matches[2] == "Dissonance" then dissonance = true end
if matches[2] == "Bedazzlement" then bedazzlement = true;enableTimer("Bedazzlement") end
if matches[2] == "Revelation" then revelation = true end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You begin to strum .+, preparing the Song of (.+). Adding your voice to the music you are playing, you bind the song to (\w+)\.$</string>
									<string>^You begin to sing in a high lilting voice, preparing the Song of (.+). With a sweeping gesture, you bind the song to (\w+)'s being\.$</string>
									<string>^You begin to strum .+, preparing the (.+). Adding your voice to the music you are playing, you bind the song to (\w+)\.$</string>
									<string>^You begin to sing in a high lilting voice, preparing the (.+). With a sweeping gesture, you bind the song to (\w+)'s being\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Revelation</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Revelation- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Revelation- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Revelation- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
revelation = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The lilting tones of a light melody surrounding (\w+) fade away into nothing.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bedazzlement</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("Song") cecho("&lt;red&gt;Bedazzlement- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Bedazzlement- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Bedazzlement- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
bedazzlement = false
disableTimer("Bedazzlement")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A whimsical tune surrounding (\w+) fades away into nothing.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dissonance</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Dissonance- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Dissonance- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Dissonance- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
dissonance = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The pounding sounds of a dissonant melody emanating from (\w+) fade away.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lullaby</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Lullaby- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Lullaby- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Lullaby- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A soothing tone fades from (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Geis</name>
								<script>deleteLine()
sys("Song") cecho("&lt;cyan&gt;Geis&lt;ivory&gt;+")
geis = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cradle your harp in your arms, strumming it gently, while you use your voice to bind the Geis and lay it in full effect upon your location.</string>
									<string>You cradle your a golden-stringed harp in your arms, strumming it gently, while you use your voice the bind the Geis and lay it in full effect upon your location.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Geis</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Geis-")
geis = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The Geis that held songs in stasis in this room has crumbled into nothing.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lamia's Call</name>
								<script>deleteLine()
sys("Song") cecho("&lt;red&gt;Lamia's Call-")
lamia = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The discordant melody of Lamia's Call fades away into silence.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cruel Lament</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("Song") cecho("&lt;cyan&gt;Cruel Lament+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;cyan&gt;Cruel Lament+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;cyan&gt;Cruel Lament+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
cl = true
dnote = "ta we"
we = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You raise your instrument and play the powerful, mournful tones of the Cruel Lament to (\w+). The strength of the music strikes (?:him|her) unprepared and you smile in satisfaction as \w+ leans closer to you, eager for more.$</string>
									<string>^You raise your instrument and play the powerful, mournful tones of the Cruel Lament to yourself. The strength of the music strikes you unprepared and you smile in satisfaction as (\w+) leans closer to you, eager for more.$</string>
									<string>^With a dangerous glint in (?:his|her) eye, \w+ raises (?:his|her) instrument and plays a powerful, mournful song to (\w+). The strength of the music strikes (?:him|her) unprepared and \w+ leans closer to \w+, eager for more.$</string>
									<string>^(\w+) is already affected by a cruel lament.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Disharmony</name>
								<script>deleteLine()
sys("Song") cecho("&lt;cyan&gt;Disharmony")
sys("Voice") cecho("&lt;red&gt;Resonance- 6")
resonance = resonance - 6</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Preparing the Song of Disharmony, you begin to play a high-pitched, shrieking noise on .+, directed at (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cruel Lament</name>
								<script>deleteLine()
if matches[2] == "You" then
sys("Song") cecho("&lt;red&gt;Cruel Lament- &lt;ivory&gt;-&gt; &lt;gold&gt;You")
sys("Song") cecho("&lt;red&gt;Cruel Lament- &lt;ivory&gt;-&gt; &lt;gold&gt;You")
sys("Song") cecho("&lt;red&gt;Cruel Lament- &lt;ivory&gt;-&gt; &lt;gold&gt;You")
else
sys("Song") cecho("&lt;red&gt;Cruel Lament- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Cruel Lament- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Song") cecho("&lt;red&gt;Cruel Lament- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
cl = false
dnote = "ta"
we = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) shakes (?:his|her) head as the effect of the melody leaves (?:him|her).$</string>
									<string>^(\w+) shake your head as the mournful melody lifts.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Revelation Tick</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Revelation") cecho("&lt;snow&gt;(Tick) &lt;gold&gt;"..matches[2])
if matches[2]:find(target) then
revelation = true
end

if deaf then
  deaf = false
elseif blind then
  blind = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The lilting melody of a rousing song swells briefly around (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>End Songs on Me</name>
								<script>if healing and ms.class["Bard"] then
	if matches[1]:find("Dissonance") then send("queue eqbal song end dissonance me")
	elseif matches[1]:find("Revelation") then send("queue eqbal song end revelation me")
	elseif matches[1]:find("Bedazzlement") then send("queue eqbal song end bedazzlement me")
	elseif matches[1]:find("Lullaby") then send("queue eqbal song end lullaby me")
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You feel the violent tones of the Song of Dissonance pound inside your head.</string>
									<string>The lilting melody of the Song of Revelation swells around you briefly, before subduing again to a level just inside your hearing range.</string>
									<string>The Song of Bedazzlement writhes in front of your eyes.</string>
									<string>You feel the soothing tones of the Lullaby lull you further into sleep.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Geis - Songs</name>
								<script>geised = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The Song of Geis echoes in a quick crescendo, capturing the songs before they can be lost.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Earthquake</name>
								<script>earthquake = false
deleteLine()
sys("Song") cecho("&lt;red&gt;Earthquake-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The quaking of the ground subsides as the reverberating pounding in the depths fades.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Songs Check</name>
								<script>if matches[2] == "Bedazzlement" then bedazzlement = true
elseif matches[2] == "Revelation" then revelation = true
elseif matches[2] == "Dissonance" then dissonance = true
elseif matches[2] == "Geis" then geis = true
elseif matches[2] == "Lamia's Call" then lamia = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(Bedazzlement|Revelation|Dissonace|Geis|Lamia's Call)\s+.*\d+$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Throwing Axes</name>
								<script>if tas == 1 then
	deleteLine()
	fecho("Thespia", "1st", "HANDAXE")
	tas = tonumber(2)
	send("queue eqbal throw handaxe at "..target)
elseif tas == 2 then
	deleteLine()
	fecho("Thespia", "2nd", "HANDAXE")
	tas = tonumber(3)
	send("queue eqbal throw handaxe at "..target)
elseif tas == 3 then
	deleteLine()
	fecho("Thespia", "3rd", "HANDAXE")
	tas = tonumber(0)
end
juggling = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You cock back your arm and throw a throwing axe at (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Juggling</name>
								<script>juggling = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You begin to juggle a throwing axe, a throwing axe, and a throwing axe with your free hand.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Envenom Axes</name>
								<script>expandAlias("#41 envenom "..matches[2].." with strychnine")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^handaxe(\d+)\s+.+$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Envenom Disable</name>
								<script>disableTrigger("Envenom Axes")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>return isPrompt()</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bedazzlement up</name>
								<script>sys("Song") cecho("&lt;cyan&gt;"..matches[2].."+ &lt;ivory&gt;-&gt; &lt;gold&gt;Bedazzlement")
sys("Song") cecho("&lt;cyan&gt;"..matches[2].."+ &lt;ivory&gt;-&gt; &lt;gold&gt;Bedazzlement")
sys("Song") cecho("&lt;cyan&gt;"..matches[2].."+ &lt;ivory&gt;-&gt; &lt;gold&gt;Bedazzlement")
if matches[2]:find(target) then bedazzlement = true end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You begin to play a constant, clear note on your flute while simultaneously picking a complex melody on your mandolin. The notes produced by the instruments are nearly visible as they begin to circle around (\w+)'s head.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dissonance Up</name>
								<script>sys("Song") cecho("&lt;cyan&gt;"..matches[2].."+ &lt;ivory&gt;-&gt; &lt;yellow&gt;Dissonance")
sys("Song") cecho("&lt;cyan&gt;"..matches[2].."+ &lt;ivory&gt;-&gt; &lt;yellow&gt;Dissonance")
sys("Song") cecho("&lt;cyan&gt;"..matches[2].."+ &lt;ivory&gt;-&gt; &lt;yellow&gt;Dissonance")
if matches[2]:find(target) then dissonance = true end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You start to chant in a low rhythmic voice, and begin to pound on a small oaken drum. Each successive pound is stronger than the last, and the sound waves from the drum slowly begin to coalesce around (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Earthquake up</name>
								<script>deleteLine()
sys("&lt;chocolate&gt;Earthquake") cecho("&lt;green&gt;UP")
sys("&lt;chocolate&gt;Earthquake") cecho("&lt;green&gt;UP")
sys("&lt;chocolate&gt;Earthquake") cecho("&lt;green&gt;UP")
earthquake = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You place a small drum on the ground and crouch down beside it. Pounding the drum, you play a low sonorous melody on your panpipes, calling upon the very bowels of the earth to shake and tremble.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lamia's Call Up</name>
								<script>deleteLine()
sys("Song") cecho("&lt;cyan&gt;Lamia's Call&lt;ivory&gt;+") 
lamia = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You begin to play a high-pitched, pervasive melody on your flute, focusing on your loyal allies across the land.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Voice</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Yoth</name>
								<script>if matches[2]:find(target) then deleteLine()
sys("Voice") cecho("&lt;cyan&gt;Yoth+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
disableTimer("Yoth") enableTimer("Yoth")
yothed = true
kiyan = false
affs = affs - 1
elseif matches[2]:find(ht) then deleteLine()
sys("Voice") cecho("&lt;cyan&gt;Yoth+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
disableTimer("hty") enableTimer("hty")
hty = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) widens (?:his|her) eyes in wonder as (?:his|her) hearing improves.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Yoth</name>
								<script>if matches[2]:find(target) then deleteLine()
sys("Voice") cecho("&lt;red&gt;Yoth- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
disableTimer("Yoth")
yothed = false
myried = false
zyothed = false
kiyan = false
affs = affs - 1
elseif matches[2]:find(ht) then deleteLine()
sys("Voice") cecho("&lt;red&gt;Yoth- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
disableTimer("hty")
hty = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) looks disappointed as (?:his|her) hearing returns to normal.$</string>
									<string>^(\w+) is deaf and cannot hear you.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Myried</name>
								<script>if matches[2]:find(target) then deleteLine()
sys("Voice") cecho("&lt;DodgerBlue&gt;Myried+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
myried = true
anote = "ta"
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A look of dread crosses (\w+)'s face.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Myried</name>
								<script>if matches[2]:find(target) then deleteLine()
sys("Voice") cecho("&lt;red&gt;Myried- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
  if ms.afflicted["recklessness"] == "aff" then
    aff("addiction")
    aff("impatience")
  else
    aff("recklessness")
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The Myried word took effect upon (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Resonance</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	resonance = tonumber(matches[3])
	disableTimer("Resonance") enableTimer("Resonance")
	sys("Voice") cecho("&lt;DimGrey&gt;Resonance+ "..matches[3])
elseif matches[2]:find(ht) then
	deleteLine()
	htr = tonumber(matches[3])
	sys("Voice") cecho("&lt;DimGrey&gt;Resonance+ "..matches[3])
	disableTimer("htr") enableTimer("htr")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s resonance has risen to (\d+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nuarinyu</name>
								<script>if matches[2]:find(target) then deleteLine()
sys("Voice") cecho("&lt;green&gt;Nuarinyu &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
  if lastCmd:find("ta") then
    saf = saf + 1
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A wave of sickness emanates briefly from (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Innyo - Reckless</name>
								<script>if matches[2]:find(target) then deleteLine()
sys("Voice") cecho("&lt;purple&gt;Reckless &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
aff("recklessness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) suddenly appears reckless.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shaite</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;red&gt;Shaite &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
affs = affs - 1</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(.+) grasps \w+ head, suffering intense pain from your words.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kawis</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;yellow&gt;Kawis &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Voice") cecho("&lt;yellow&gt;Kawis &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
sys("Voice") cecho("&lt;yellow&gt;Kawis &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
hk = false
if matches[2]:find(sundertarget) then sunder = false end
if matches[2]:find(target) then tprone = true end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your voice strikes (\w+), sending (?:him|her) sprawling.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Rubait</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;red&gt;Rubait &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The sound of your voice rips into (.+)'s organs, causing (?:him|her) to double over in pain.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Varaye</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;cyan&gt;Varaye+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
varaye = true
resnum = tonumber(36)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You release the word of power, attuning (\w+)'s body to the unaudible melody of the primordial notes.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Varaye</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;ivory&gt;Time - &lt;red&gt;"..matches[2])
tempTimer(matches[2], [[varaye = false]])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You discern that the attunement will last for (\d+) seconds.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Varaye</name>
								<script>if matches[2]:find(target) then deleteLine()
sys("Voice") cecho("&lt;red&gt;Varaye- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
resnum = tonumber(24)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The power of the primordial notes ceases reverberating within (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daemos</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;red&gt;Daemos- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
shield = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The sound of your voice shatters (\w+)'s invisible shield.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kantae</name>
								<script>deleteLine()
if ms.class["Bard"] then
sys("Voice") cecho("&lt;yellow&gt;KANTAE")
elseif ms.class["Mage"] then
sys("Pyroglacia") cecho("&lt;blue&gt;SUBMERSION")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Holding your mouth open wide, you force the word of power from your being, sustaining the single note.$</string>
									<string>^Setting your gaze upon \w+, you start focusing intensely on your connection with the raw element of water.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kantae/Submersion Stopped/Marduk</name>
								<script>heal()
kantae = false
ik = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cut off your emanation of the word of power.</string>
									<string>Your target can no longer hear your word of power.</string>
									<string>Your target is no longer here to hear the word of power.</string>
									<string>You cease your submersion attempt.</string>
									<string>You cease your attempt to summon Marduk.</string>
									<string>You end your concentration on carving out the heart of your hated foe.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kantae - 2nd Phase</name>
								<script>deleteLine()
if ms.class["Bard"] then
sys("Voice") cecho("&lt;yellow&gt;KANTAE - SECOND PHASE")
elseif ms.class["Mage"] then
sys("Pyroglacia") cecho("&lt;blue&gt;SUBMERSION - SECOND PHASE")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You project the word of power to the listening ears of (\w+).$</string>
									<string>^As you maintain your focus upon \w+, the sound of rushing water fills the air, drawing nearer and nearer with every passing second.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Oyiem</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;green&gt;Oyiem &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
oyiem = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You feel the power of your voice fill your soul, forcing one of your afflictions towards (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Yoth</name>
								<script>deleteLine();yothed = false;hty = false
sys("Voice") cecho("&lt;red&gt;Yoth-")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your words fall upon deaf ears.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Innyo - Addiction</name>
								<script>if matches[2]:find(target) then 
deleteLine()
sys("Voice") cecho("&lt;purple&gt;Addicted &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
aff("addiction")
if lastCmd:find("ta") or anote == "ta" or w1:find("ta") then aff("impatience") end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A look of longing crosses (\w+)'s face.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kiyan</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;cyan&gt;Kiyan &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
kiyan = false
aff("peace")
affs = affs + 1</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You command (\w+) to live a more peaceful life.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>We Damage</name>
								<script>if matches[2]:find(target) then
	deleteLine()
	sys("Voice") cecho("&lt;red&gt;We - &lt;gold&gt;"..target)
	we = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) appears disoriented as the power of the We note strikes (?:him|her).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Llan</name>
								<script>deleteLine()
sys("Voice") cecho("&lt;red&gt;[&lt;cyan&gt;Llan Heal&lt;red&gt;]")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A healing sensation washes over your being.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Daemos</name>
								<script>shield = false
deleteLine()
sys("Voice") cecho("&lt;red&gt;Daemos Ineffective")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The Daemos word has no effect.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Innyo - Confused</name>
								<script>if matches[2]:find(target) then 
deleteLine()
sys("Voice") cecho("&lt;purple&gt;Confused &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
aff("confusion")
if ko then oyiem = true
else kiyan = true end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) suddenly appears confused.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Yoth</name>
								<script>if matches[2]:find(target) then 
deleteLine()
sys("Voice") cecho("&lt;cyan&gt;Yoth+ &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
yothed = true end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The yoth word has no effect, as (\w+) already suffers its effects.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Nuarinyu Afflict</name>
								<script>deleteLine()
sys("&lt;green&gt;Nuarinyu Affliction") 
aff(matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The power word inflicts the (\w+) malady.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Sketches</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sketchlink Balance</name>
								<script>deleteLine()
sys("Sketch") cecho("&lt;red&gt;Sketch Balance- &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
if matches[2] == "Renegade" or matches[2] == "Hunter" then affs = affs + 1 end
slb = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You link yourself to the magick of a sketch of a (\w+) and force it to act.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sketchlink Balance</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Sketch") cecho("&lt;yellow&gt;Balance Returned")
slb = true
if ebal and bbal then
	if slba then slba = false;expandAlias("sd") end
	if gba then gba = false;expandAlias("gdmg") end
end
if escaping then send("sketchlink engage "..target) end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are again able to link yourself to a sketch.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Check Sketchbooks</name>
								<script>send("sketchlist "..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^"sketchbook(\d+)"</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sketchbook Stop</name>
								<script>disableTrigger("Check Sketchbooks")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>return isPrompt()</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Engage</name>
								<script>engage = false
sys("Sketch") cecho("&lt;red&gt;[ &lt;yellow&gt;"..target.." Engaged!! &lt;red&gt;]") 
iengage = false
escaping = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>2</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A sketch of a Runeguard moves in to engage (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sketch Dissolved</name>
								<script>sys("Sketch") cecho("&lt;red&gt;[ &lt;OrangeRed&gt;"..matches[2]:upper().." DISSOLVED &lt;red&gt;]")
sys("Sketch") cecho("&lt;red&gt;[ &lt;OrangeRed&gt;"..matches[2]:upper().." DISSOLVED &lt;red&gt;]")
sys("Sketch") cecho("&lt;red&gt;[ &lt;OrangeRed&gt;"..matches[2]:upper().." DISSOLVED &lt;red&gt;]")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A sketch of a (\w+) suddenly dissolves into nothing.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>FireBlast</name>
								<script>deleteLine()
sys("Sketches") cecho("&lt;red&gt;Fireblast &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A sketch of a Hunter rumbles ominously and splashes flame across (\w+)'s body, leaving (?:his|her) skin reddened and blistered.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fill in</name>
								<script>if matches[3] == "Runeguard" then send("fill in "..matches[2].." with yellow"..s.."fill in "..matches[2].." with purple"..s.."fill in "..matches[2].." with gold")
elseif matches[3] == "Renegade" then send("fill in "..matches[2].." with green"..s.."fill in "..matches[2].." with red"..s.."fill in "..matches[2].." with gold")
elseif matches[3] == "Hunter" then send("fill in "..matches[2].." with yellow"..s.."fill in "..matches[2].." with purple"..s.."fill in "..matches[2].." with gold")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^  (\d+) \- a sketch of a (\w+) \(\) \- 200 attacks$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dstab</name>
								<script>deleteLine()
sys("Sketch") cecho("&lt;gold&gt;Dstab")
 if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then
    aff("numbness")
  elseif ms.afflicted["stupidity"] == "notaff" then
    aff("stupidity")
  elseif ms.afflicted["slickness"] == "notaff" then
    aff("slickness")
  end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Maintaining \w+ balance, a sketch of a Renegade deftly pricks (\w+) again.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Call Sketches</name>
								<script>expandAlias("cs")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>There is no sketch here that could carry out this order.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Mage</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Crystal</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Crystal Enter</name>
								<script>crystal = true
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your crystal winks into existence, spinning rapidly.</string>
									<string>You take a massive crystal and with a flick of your hand send it spinning into the air.</string>
									<string>The crystal is already here!</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Augements</name>
								<script>deleteLine()
if matches[1]:find("absorbing") ~= nil then
augment = augment+1
sys("Crystal") cecho("&lt;DimGrey&gt;Augements - "..augment)
elseif matches[1]:find("one more spell") ~= nil then
augment = tonumber(1)
sys("Crystal") cecho("&lt;DimGrey&gt;Augements - 1")
elseif matches[1]:find("fully depleted") ~= nil or matches[1]:find("absorbed") ~= nil then
augment = tonumber(0)
sys("Crystal") cecho("&lt;DimGrey&gt;Augements - 0")
else
augment = tonumber(matches[2])
sys("Crystal") cecho("&lt;DimGrey&gt;Augements - "..matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your crystal can augment (\d+) more spells.$</string>
									<string>^Your crystal can augment one more spell.$</string>
									<string>^The magick of your crystal is fully depleted.$</string>
									<string>^Your crystal spins rapidly, absorbing the latent magick from its surroundings.$</string>
									<string>^Your crystal has not absorbed enough magick yet.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Crystal effects</name>
								<script>deleteLine()
sys("Crystal") cecho("&lt;yellow&gt;"..matches[2].." Effect")
if matches[2] == "Anorexia" then ms.afflicted["anorexia"]="aff"
elseif matches[2] == "Weariness" then ms.afflicted["weariness"]="aff"
elseif matches[2] == "Shock" then ms.afflicted["numbness"]="aff"
elseif matches[2] == "Loneliness" then ms.afflicted["loneliness"]="aff"
elseif matches[2] == "Paranoia" then ms.afflicted["paranoia"]="aff"
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You focus your spell through your crystal, which glows brightly as it enhances the spell with the (\w+) effect.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fatigue</name>
								<script>if matches[1]:find("weakened") ~= nil then
fatigue = fatigue+1
elseif matches[1]:find("fatigue") ~= nil then
fatigue = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You feel weakened and drained from the attempt.</string>
									<string>The fatigue from charging your crystal evaporates.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Pyroglacia/Terratheria</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Attunement</name>
								<script>if matches[2]:find(target) then
	if matches[3] == "lightly" then anum = tonumber(1)
		if matches[4] == "fire" then fat = tonumber(1) end
		if matches[4] == "water" then wat = tonumber(1) end
		if matches[4] == "earth" then eat = tonumber(1) end
		if matches[4] == "air" then aat = tonumber(1) end
	elseif matches[3] == "moderately" then anum = tonumber(2)
		if matches[4] == "fire" then fat = tonumber(2) end
		if matches[4] == "water" then wat = tonumber(2) end
		if matches[4] == "earth" then eat = tonumber(2) end
		if matches[4] == "air" then aat = tonumber(2) end
	elseif matches[3] == "significantly" then anum = tonumber(3)
		if matches[4] == "fire" then fat = tonumber(3) end
		if matches[4] == "water" then wat = tonumber(3) end
		if matches[4] == "earth" then eat = tonumber(3) end
		if matches[4] == "air" then aat = tonumber(3) end
	elseif matches[3] == "heavily" then anum = tonumber(4)
		if matches[4] == "fire" then fat = tonumber(4) end
		if matches[4] == "water" then wat = tonumber(4) end
		if matches[4] == "earth" then eat = tonumber(4) end
		if matches[4] == "air" then aat = tonumber(4) end
	elseif matches[3] == "fully" then anum = tonumber(5)
		if matches[4] == "fire" then fat = tonumber(5) end
		if matches[4] == "water" then wat = tonumber(5) end
		if matches[4] == "earth" then eat = tonumber(5) end
		if matches[4] == "air" then aat = tonumber(5) end
	elseif matches[3] == "no" then anum = tonumber(0)
		if matches[4] == "fire" then fat = tonumber(0) end
		if matches[4] == "water" then wat = tonumber(0) end
		if matches[4] == "earth" then eat = tonumber(0) end
		if matches[4] == "air" then aat = tonumber(0) end
	end
deleteLine()
if matches[3] == "no" then
	if matches[4] == "fire" then sys("Attunement") cecho("&lt;red&gt;[Fire &lt;ivory&gt;- &lt;cyan&gt;0&lt;red&gt;]") end
	if matches[4] == "water" then sys("Attunement") cecho("&lt;red&gt;[&lt;blue&gt;Water &lt;ivory&gt;- &lt;cyan&gt;0&lt;red&gt;]") end
	if matches[4] == "earth" then sys("Attunement") cecho("&lt;red&gt;[&lt;brown&gt;Earth &lt;ivory&gt;- &lt;cyan&gt;0&lt;red&gt;]") end
	if matches[4] == "air" then sys("Attunement") cecho("&lt;red&gt;[&lt;cyan&gt;Air &lt;ivory&gt;- &lt;cyan&gt;0&lt;red&gt;]") end
else
	if matches[4] == "fire" then sys("Attunement") cecho("&lt;red&gt;[Fire &lt;ivory&gt;- &lt;cyan&gt;"..anum.."&lt;red&gt;]") end
	if matches[4] == "water" then sys("Attunement") cecho("&lt;red&gt;[&lt;blue&gt;Water &lt;ivory&gt;- &lt;cyan&gt;"..anum.."&lt;red&gt;]") end
	if matches[4] == "earth" then sys("Attunement") cecho("&lt;red&gt;[&lt;brown&gt;Earth &lt;ivory&gt;- &lt;cyan&gt;"..anum.."&lt;red&gt;]") end
	if matches[4] == "air" then sys("Attunement") cecho("&lt;red&gt;[&lt;cyan&gt;Air &lt;ivory&gt;- &lt;cyan&gt;"..anum.."&lt;red&gt;]") end
end
end

</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You discern that (\w+) is now (\w+) attuned to the (\w+) element.$</string>
									<string>^(\w+) is (\w+) longer attuned to the (\w+) element.$</string>
									<string>^(\w+) is now (\w+) attuned to the (\w+) element.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>BloodBoil</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Bloodboil &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You raise your hand and (.+) screams in pain as \w+ whole body suddenly reddens and \w+ blood boils in \w+ veins.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Batter</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;brown&gt;Batter &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You flick your wrist and a rock materialises in mid-air, flying rapidly towards (.+) and battering \w+ painfully.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>LavaBlast</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Lavablast &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You raise your hands dramatically and snap your fingers towards (\w+). A torrent of molten lava suddenly erupts from the ground, hitting \w+ full on, burning \w+ horribly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Icicles</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;blue&gt;Icicles &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
if matches[3] == "weariness" then aff("weariness") end
icicles = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You point an outstretched palm towards (\w+) and thousands of little icicles materialise, flying rapidly towards \w+ and afflicting \w+ with (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Earthsense (exit)</name>
								<script>ia = ia or {}
deleteLine()
if table.contains(ia, matches[2]) then
	for k,v in ipairs(ia) do
		if matches[2]:find(v) then
			table.remove(ia, k)
			callout("Exited Area", matches[2]) return
		end
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sense that (\w+) has left the area.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Earthsense (enter)</name>
								<script>ia = ia or {}
deleteLine()
if not table.contains(ia, matches[2]) then
	table.insert(ia, matches[2])
	callout("Entered Area", matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sense that (\w+) has moved to .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Windbrace</name>
								<script>heal()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cease your attempts to embrace the wind.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Windbrace</name>
								<script>heal()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are no longer able to sustain your form of the wind.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flamebolt</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Flamebolt &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("burning nerves")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You form a bolt of pure flame and send it racing towards (\w+). As it reaches \w+, \w+ nerves begin twitching slightly under the heat.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Heat</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Heat &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You send a small jet of flame towards (\w+), heating up \w+ skin briefly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Scorch</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Scorch &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("sunallergy")
stripmass = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You form a wide arc of pure flame and send it to scorch (\w+)'s flesh. Upon contact, the crescent burns \w+ skin painfully, causing it to redden visibly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Scourge</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Scourge &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
fecho("Pyroglacia", "Scourge", "Active!")
scourge = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You snap your fingers and flames burst out around (\w+), negating \w+ attempts to protect \w+ from fire.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Calcify</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;brown&gt;Calcify &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
fecho("Terratheria", "Calcify", "Active!")
calcify = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You direct a stream of raw earthen energy at (\w+), calcifying \w+ innards.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Calcify Down</name>
								<script>if matches[2]:find(target) then
	calcify = false
	fecho("Terratheria", "Calcify", "Down!")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s innards recover from their calcified state.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Scourge Down</name>
								<script>if matches[2]:find(target) then
	scourge = false
	fecho("Pyroglacia", "Scourge", "Down!")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The flames around (\w+) dissipate.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hasten</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Hasten &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("impatience")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You spin your fingers in a circle and a flaming bolt appears, racing swiftly towards (\w+) and causing \w+ to lose \w+ patience.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shake</name>
								<script>deleteLine()
fecho("Terratheria", matches[2], "PRONED WITH SHAKE")
hk = false
if matches[2]:find(target) then tprone = true end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The shaking knocks (\w+) off \w+ feet.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Drain</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;cyan&gt;Drain &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
disableTimer("drain");enableTimer("drain")
draincd = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You open a channel of energy towards (\w+), draining strength from \w+ body and mind.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flamewhip</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Flamewhip &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("recklessness")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You form a fiery lash between your outstretched palms, and with a flick of a hand send it towards (\w+). The whip cracks repeatedly around \w+, driving \w+ into a reckless frenzy.$</string>
									<string>^The flaming whip continues cracking around (\w+), driving \w+ into a frenzy yet again.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Maelstrom</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;cyan&gt;Maelstrom &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("paranoia")
aff("confusion")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You conjure a rapidly whirling torrent of pure air and send it streaking towards (\w+), confusing \w+ as the screaming maelstrom assaults \w+ senses.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Knockout</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;brown&gt;Knockout &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("stupidity")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You conjure a magickal stone and send it crashing against (\w+)'s head.$</string>
									<string>^You conjure a magickal stone and send it crashing violently against (\w+)'s head, causing (?:him|her) to lose balance.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Firecircle on</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Fire Circle &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
firecircle = true
fcc = tonumber(0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You make a circular motion with your index finger and a circle of fire slowly forms around (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Firecircle down</name>
								<script>if matches[2]:find(target) then
	firecircle = false
	fecho("Pyroglacia", "Fire Circle", "Down!")
	fat = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The circle of fire around (\w+) sputters and disappears in a puff of smoke.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Firecircle fdmg</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Fire Circle Flare &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
fcount = fcount + 1</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The circle of fire around (\w+) spins violently, burning (?:his|her) flesh.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sludge on</name>
								<script>deleteLine()
fecho("Terratheria", matches[2], "Sludge Up")
sludge = true
callout("SLUDGED", matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You call upon your earthen power to cover (\w+) in sticky sludge, preventing (?:him|her) from moving away.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sludge down</name>
								<script>deleteLine()
fecho("Terratheria", matches[2], "Sludge Down")
sludge = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The sticky sludge falls off from (\w+)'s body.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lightning - Sight</name>
								<script>if matches[2]:find(target) then
deleteLine()
sys("Terratheria") cecho("&lt;yellow&gt;"..matches[2].." Sight Restored")
blind = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The bolt restores (\w+)'s sight.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Transfixed</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;cyan&gt;Transfixed &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
transfixed = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You weave a fascinating pattern in front of (\w+)'s eyes, transfixing (?:his|her) mind.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Sidesmash</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;brown&gt;Sidesmash &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
clumsy = true
aff("clumsiness")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^With an upwards motion of your hands, you cause nearby rocks to rise from the ground and levitate. Pushing against the rocks with your mind, you send them crashing against the side of (.+)'s head.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lightning</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;cyan&gt;Lightning &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
aff("vertigo")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You ball up your fists and a bolt of lightning suddenly strikes (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Gust</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;cyan&gt;Gust &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You direct a gust of wind towards (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dehydrate</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Dehydrate &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("butisol")
aff("dizziness")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You conjure a wave of heat and focus it towards (\w+), draining moisture from \w+ body. (\w+)'s skin glistens and \w+ appears dizzy as the wave of heat passes through.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Immerse - Slow elixirs</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;blue&gt;Immerse &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("slow elixirs")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You make a sweeping gesture and a spray of elemental water strikes (\w+), drenching (?:him|her) thoroughly.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Immerse - Asthma</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;blue&gt;Immerse &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("asthma")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You make a sweeping gesture and a spray of elemental water strikes (\w+), causing (?:him|her) to choke.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Suffuse</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;blue&gt;Suffuse &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("addiction")
aff("nausea")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You send a wave of water washing over (\w+), soaking (?:him|her) thoroughly and making (?:him|her) look quite nauseous.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Howl</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;cyan&gt;Howl &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])
aff("healthleech")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You invoke the howling winds, sending them baying against (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Suffuse - Nausea</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;blue&gt;Suffuse &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
aff("nausea")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You send a wave of water washing over (\w+), causing (?:him|her) to look quite nauseous.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Flame Pillar</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;red&gt;Flame Pillar Active")
fp = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You concentrate and slowly raise your hand upwards. Your index finger traces a fiery line in the air, which expands and grows, forming a massive pillar of flame.</string>
									<string>A pillar of flame is burning brightly here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>0</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Tremors</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;brown&gt;Tremors &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You send a series of small tremors to shake (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Spray</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;blue&gt;Spray &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You direct a spray of elemental water at (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Icicles - Up and Down</name>
								<script>if matches[3]:find(target) then
	deleteLine()
	if matches[2] == "continue" then ms.afflicted["weariness"]="aff";sys("Pyroglacia") cecho("&lt;blue&gt;Icicles &lt;ivory&gt;- &lt;green&gt;UP")
	else ms.afflicted["weariness"]="notaff";sys("Pyroglacia") cecho("&lt;blue&gt;Icicles &lt;ivory&gt;- &lt;red&gt;DOWN");icicles = false
	end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The icicles (continue|cease) beating at (\w+)'s skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Water Attunement</name>
								<script>if matches[2]:find(target) then
	wat = tonumber(2)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) needs to be significantly attuned to the water element.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxicsplash</name>
								<script>deleteLine()
sys("Terratheria") cecho("&lt;green&gt;Toxicsplash &lt;ivory&gt;-&gt; &lt;gold&gt;"..matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You snap your fingers and toxic droplets materialise in front of (\w+), seeping into (?:his|her) skin.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ignite</name>
								<script>deleteLine()
sys("Pyroglacia") cecho("&lt;OrangeRed&gt;Ignite &lt;ivory&gt;\-&gt; &lt;gold&gt;"..matches[2])
ablaze = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You make a sweeping gesture and (\w+) suddenly bursts into flames!$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Anti-Magick</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Priest</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Fayth</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Seraph Sear</name>
								<script>if matches[1]:find("ceases searing") then
  seraph_sear = false
elseif matches[1]:find("tick") then
  seraph_sear = true
  if matches[2]:find(target) then aff("ablaze") end
else
  seraph_sear = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Fayth Sear on (\w+)\.$</string>
									<string>^You use Fayth Sear \(tick\) on (\w+)\.$</string>
									<string>Your seraph ceases searing its victim.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Smash arm/leg</name>
								<script>if matches[3]:find(target) then
  aff("crippled "..matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Fayth Smash \((.+)\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Chasten</name>
								<script>if matches[3]:find(target) then
  aff(matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Fayth Chasten \((.+)\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Spiritwrack</name>
								<script>if matches[2]:find(target) then
  seraph_sw = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Fayth Spiritwrack on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Devotion</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Cleansing</name>
								<script>if matches[2] and matches[2]:find(target) and pc then
  pc = false
  tempTimer(20, [[pc = true]])
else
  pc = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Devotion Cleansing on (\w+)\.$</string>
									<string>You are once again able to perform a Devotional cleansing.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Kanai</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kanai Incense</name>
								<script>table.insert(kanai_incense, matches[2])
if matches[2]:find("linseed") then
  enableTimer("incense linseed")
elseif matches[2]:find("purple") then
  enableTimer("incense purple")
elseif matches[2]:find("hyssop") then
  enableTimer("incense hyssop")
elseif matches[2]:find("primrose") then
  enableTimer("incense primrose")
elseif matches[2]:find("myrrh") then
  enableTimer("incense myrrh")
elseif matches[2]:find("galingale") then
  enableTimer("incense galingale")
elseif matches[2]:find("yellow") then
  enableTimer("incense yellow")
else
  tempTimer(240, [[table.remove(kanai_incense, table.index_of(kanai_incense, ]]..matches[2]..[[))]])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You use Kanai Incense \((.+)\)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Incense Running out</name>
								<script>table.remove(kanai_incense, table.index_of(kanai_incense, matches[2]))
if matches[2]:find("linseed") then
  disableTimer("incense linseed")
elseif matches[2]:find("purple") then
  disableTimer("incense purple")
elseif matches[2]:find("hyssop") then
  disableTimer("incense hyssop")
elseif matches[2]:find("primrose") then
  disableTimer("incense primrose")
elseif matches[2]:find("myrrh") then
  disableTimer("incense myrrh")
elseif matches[2]:find("galingale") then
  disableTimer("incense galingale")
elseif matches[2]:find("yellow") then
  disableTimer("incense yellow")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The (.+) in your burner runs out and stops burning\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Blackout</name>
								<script>if matches[2]:find(target) then
  bo = true
  tempTimer(15, [[bo = false]])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Kanai Blackout on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Kanai Target</name>
								<script>kt = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Kanai Target \((\w+)\)\.$</string>
									<string>You are already focusing your fanatism against that infidel.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Firebrand</name>
								<script>kb = true
disableTimer("kb");enableTimer("kb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Kanai Firebrand on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Extinguish Incense</name>
								<script>disableTimer("incense linseed")
disableTimer("incense purple")
disableTimer("incense hyssop")
disableTimer("incense primrose")
disableTimer("incense myrrh")
disableTimer("incense galingale")
disableTimer("incense yellow")
kanai_incense = {}</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You use Kanai Extinguish (incense).</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Skill Gag</name>
							<script>deleteLine()
if matches[4] then
  sys("&lt;yellow&gt;"..matches[2]) cecho("&lt;snow&gt;"..matches[3].." - &lt;gold&gt;"..matches[4])
else
  sys("&lt;yellow&gt;"..matches[2]) cecho("&lt;snow&gt;"..matches[3])
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You use (\w+) (.+) on (\w+)\.$</string>
								<string>^You use (\w+) (.+) \(tick\) on (\w+)\.$</string>
								<string>^You use (\w+) (.+)\.$</string>
								<string>^You use (\w+) (.+) \(tick\)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Affliction Check</name>
							<script>if matches[3]:find(target) then
  aff(matches[2]:lower())
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You use \w+ (.+) on (\w+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Outrider</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Trailblazing</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Wyrmriding</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Hunting</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
						</TriggerGroup>
					</TriggerGroup>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Neutral</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shaman</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Curses</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Curse/Blight</name>
								<script>-- local ca = {
  -- clumsy = "clumsiness",
  -- impatience = "impatience",
  -- vertigo = "vertigo",
  -- agoraphobia = "agoraphobia",
  -- dizzy = "dizziness",
  -- claustrophobia = "claustrophobia",
  -- paranoia = "paranoia",
  -- masochism = "masochism",
  -- asthma = "asthma",
  -- reckless = "recklessness",
  -- epilepsy = "epilepsy",
  -- manaleech = "manaleech",
  -- peace = "peace",
  -- dementia = "dementia",
  -- numbness = "numbness",
  -- plague = "cyanide",
  -- addiction = "addiction",
  -- stupid = "stupidity",
  -- healthleech = "healthleech",
  -- sensitivity = "sensitivity",
  -- vomiting = "nausea",
  -- anorexia = "anorexia"
-- }
  -- 

deleteLine()
sys("&lt;purple&gt;Curse") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;"..matches[3]:title())
if matches[3] == "breach" then
  cw = false
elseif matches[3] == "sensitivity" and deaf then
  deaf = false
else
  aff(matches[3])
end
  </script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You point an imperious finger at (\w+), invoking the curse of (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Curseward</name>
								<script>if matches[2]:find(target) then
  cw = true
  forceAtk()
  disableTimer("cw")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You try to curse (\w+), but \w+ is warded.$</string>
									<string>^A shimmering curseward appears around (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bleed</name>
								<script>deleteLine()
sys("&lt;red&gt;Bleed") cecho("&lt;snow&gt;"..matches[2]:title())</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Blood begins to flow from (.+)'s pores\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Bonecasting</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Fetish</name>
								<script>if matches[2]:find(target) then
  heal()
  aff("numbness")
  aff("anorexia")
  sleeping = true
  expandAlias("tl")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s attention is grabbed and held by a butterfly image.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Shamanism</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Prophecy</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Prophecy "..matches[2]:title()) cecho("&lt;gold&gt;"..matches[3])
prophecy_cooldown = true
if matches[2] == "failure" then
  enableTimer("prophecy failure")
  prophecy_failure = true
  tempTimer(8, [[prophecy_failure = false]])
  prophecy_failure_cooldown = true
elseif matches[2] == "wasting" then
  enableTimer("prophecy wasting")
  prophecy_wasting_cooldown = true
elseif matches[2] == "rejection" then
  enableTimer("prophecy rejection")
  prophecy_rejection_cooldown = true
elseif matches[2] == "doom" then
  tempTimer(3, [[prophecy_doom_cooldown = false]])
  prophecy_doom_cooldown = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You muster up your knowledge of the shamanic arts and utter a terrible prophecy involving (\w+) and (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Prophecy cooldown</name>
								<script>prophecy_cooldown = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are again able to deliver a prophecy.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Brand</name>
								<script>deleteLine()
if matches[1]:find("Porcupine") then sys("&lt;purple&gt;Brands - "..matches[2].." and Porcupine") cecho("&lt;gold&gt;"..matches[2])
else sys("&lt;purple&gt;Brands - Rat and Vampirebat") cecho("&lt;gold&gt;"..matches[2]) end
marked = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You reach out and swiftly scrawl the Mark of the (\w+) and the Mark of the Porcupine on (\w+).$</string>
									<string>^You reach out and swiftly scrawl the Mark of the Rat and the Mark of the Vampirebat on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ignite Mark</name>
								<script>deleteLine()
sys("&lt;red&gt;"..matches[2].." Ignited") cecho("&lt;gold&gt;"..target)
ignited = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You focus your eyes upon the Mark of the (\w+) on (\w+) and spit out the word, \"Burn\!\".$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Mark down</name>
								<script>deleteLine()
sys(f"&lt;red&gt;Ignited Mark Ended - {matches[2]}") cecho(f"&lt;gold&gt;{matches[3]}") 
marked = false
ignited = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The burning Mark of the (\w+) on (\w+)'s body disappears without a trace as the flames finally consume it.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Dust Throws</name>
								<script></script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList />
								<regexCodePropertyList />
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Numbness</name>
									<script>deleteLine()
sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Numbness")
aff("numbness")</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You throw some red bone dust at (\w+) and as it reaches \w+, \w+ seems to have difficulties moving \w+ muscles.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Weariness</name>
									<script>deleteLine()
sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Weariness")
aff("weariness")</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You throw some blue bone dust at (\w+), causing \w+ to feel weak.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Disloyalty</name>
									<script>deleteLine()
sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Disloyalty")
aff("disloyalty")</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You throw some red bone dust in (\w+)'s face, disfiguring it horribly.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Recklessness</name>
									<script>deleteLine()
sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Recklessness")
aff("recklessness")</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You throw some blue bone dust at (\w+), whose features contort into an enraged expression.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Slickness</name>
									<script>deleteLine()
sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Slickness")
aff("slickness")</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You mix some yellow bone dust with water and throw it at (\w+), enveloping \w+ in a slick substance.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Aeon</name>
									<script>deleteLine()
sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Aeon")
aff("aeon")</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You mix some purple and blue bone dust and throw it at (\w+), watching \w+ movements slow down to a crawl.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Inhibit</name>
									<script>deleteLine()
if ia("dizziness") and ia("confusion") then
  sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Lethargy")
  aff("lethargy")
else
  sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Confusion")
  aff("confusion")
end
</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You mix some yellow and red bone dust and throw it lightly at (\w+). As the dust reaches \w+, \w+ movements slow down and a confused look crosses \w+ features.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Freeze</name>
									<script>deleteLine()
sys("&lt;snow&gt;Dustthrow") cecho("&lt;gold&gt;"..matches[2].." &lt;snow&gt;- &lt;green&gt;Freeze")
if not caloric and ina("shivering") then
  aff("shivering")
elseif not caloric and ina("frozen") then
  aff("frozen")
else
  caloric = false
end</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>^You throw some blue bone dust at (\w+), chilling \w+ to the bone.$</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
							</TriggerGroup>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Confound</name>
								<script>deleteLine()
sys("&lt;purple&gt;Confound") cecho("&lt;gold&gt;"..target)
shaman_confound = true
enableTimer("shaman confound")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You quickly fling some red dust at (\w+), confounding \w+.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hunter</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Shapeshifting</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Form</name>
								<script>send("queue eqbal top "..matches[2]:lower().." transform")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You need to (\w+) TRANSFORM before you can do that.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Claw Affliction</name>
								<script>deleteLine()
toxUsed = matches[2]
if shocked and not shockUsed then
  shockUsed = true
end
	-- if matches[2] == "cyanide" then aff("cyanide") end
	-- if matches[2] == "aconite" then aff("stupidity") end
	-- if matches[2] == "arsenic" then aff("weariness") end
	-- if matches[2] == "atropine" then aff("recklessness") end
	-- if matches[2] == "avidya" then aff("ignorance") end
	-- if matches[2] == "benzene" then aff("crippled right arm") if ms.afflicted["crippled right arm"] == "aff" then aff("crippled left arm") end end
	-- if matches[2] == "benzedrine" then aff("crippled right leg") if ms.afflicted["crippled right leg"] == "aff" then aff("crippled left leg") end end
	-- if matches[2] == "botulinum" then aff("nausea") end
	-- if matches[2] == "bromine" then aff("anorexia") end
	-- if matches[2] == "butisol" then aff("butisol") end
	-- if matches[2] == "calotropis" then aff("calotropis") end
	-- if matches[2] == "chloroform" then aff("epilepsy") end
	-- if matches[2] == "ciguatoxin" then aff("numbness") end
	-- if matches[2] == "digitalis" then aff("shyness") end
	-- if matches[2] == "ether" then aff("clumsiness") end
	-- if matches[2] == "hemotoxin" then aff("hemotoxin") end
	-- if matches[2] == "iodine" then aff("slickness") end
	-- if matches[2] == "lindane" then aff("dizziness") end
	-- if matches[2] == "luminal" then aff("slow elixers") end
	-- if matches[2] == "mazanor" then aff("slow herbs") end
	-- if matches[2] == "mebaral" then aff("slow equilibrium") end
	-- if matches[2] == "mercury" then aff("asthma") end
	-- if matches[2] == "metrazol" then aff("metrazol") end
	-- if matches[2] == "noctec" then aff("slow balance") end
	-- if matches[2] == "strychnine" and not deaf then aff("sensitivity") elseif matches[2]:find("strychnine") and ms.afflicted["sensitivity"] == "notaff" and deaf then deaf = false end
	-- if matches[2] == "vitriol" then aff("disloyalty") end
	-- if matches[2] == "xeroderma" then aff("sunallergy") end
	-- if matches[2] == "sulfonal" then aff("sulfonal") end
	-- if matches[2] == "psilocybin" then aff("ineptude") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your (\w+) toxin has affected (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Claw Attack</name>
								<script>deleteLine()
if matches[2] then sys("&lt;red&gt;"..ms.save["hunter_form"].." Claw") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;\-\&gt; ") end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Claw on (.+)\.$</string>
									<string>^Your claws seep \w+ into \w+'s bloodstream.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Summon Fire/Ice</name>
								<script>if matches[1]:find("Frosty") then
  ice = ice + 30
  if ice &gt; 100 then ice = tonumber(100) end
  deleteLine()
  sys("&lt;cyan&gt;Ice") cecho("&lt;cyan&gt;Ice \- +"..tostring(ice))
elseif matches[1]:find("Black") then
  fire = fire + 30
  if fire &gt; 100 then fire = tonumber(100) end
  deleteLine()
  sys("&lt;red&gt;Fire") cecho("&lt;red&gt;Fire \- +"..tostring(fire))
end
--
if ice &gt; 50 and fire &gt; 0 then
  ice = tonumber(50)
elseif fire &gt; 50 and ice &gt; 0 then
  fire = tonumber(50)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Frosty air spews from your nostrils as you summon a reservoir of ice.</string>
									<string>Black smoke pours from your nostrils as you summon a belch of flame.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ice/Fire Full</name>
								<script>if matches[1]:find("flame") then
  if ice &gt; 0 then
    fire = tonumber(50)
  else
    fire = tonumber(100)
  end
elseif matches[1]:find("ice") then
  if fire &gt; 0 then
    ice = tonumber(50)
  else
    ice = tonumber(100)
  end
end
--
if ice &gt; 50 and fire &gt; 0 then
  ice = tonumber(50)
elseif fire &gt; 50 and ice &gt; 0 then
  fire = tonumber(50)
end
--
send("queue reset all"..s.."queue eqbal top bat summon", false)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Tongues of flame lick your gullet: your stores of fire have been filled.</string>
									<string>You have filled your stores of accumulated ice.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Ice/Fire Emptied</name>
								<script>if matches[1]:find("stores of ice are") then
	ice = tonumber(0)
elseif matches[1]:find("stores of fire are") then
	fire = tonumber(0)
else
	ice = tonumber(0)
	fire = tonumber(0)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You release your stores of fire and ice.</string>
									<string>Your stores of ice are not adequate for that task.</string>
									<string>Your stores of fire are not adequate for that task.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Iceblast</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Iceblast") cecho("&lt;gold&gt;"..matches[2])
ice = ice - 8
shield = false
if shocked and not shockUsed then
  shockUsed = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Iceblast (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxicshock Up</name>
								<script>deleteLine()
sys("&lt;purple&gt;Toxicshock") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;UP")
shocked = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Toxicshock \(hit\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Toxicshock Down</name>
								<script>if matches[2]:find(target) then
  deleteLine()
  sys("&lt;purple&gt;Toxicshock") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;DOWN")
  shocked = false
  shockUsed = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) seems less pale as \w+ body's toxic shock ends.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Deaden up</name>
								<script>deleteLine()
sys("&lt;purple&gt;Deaden") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;UP")
deadened = true
aff("stupidity")
enableTimer("deaden")
if shocked and not shockUsed then
  shockUsed = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Deaden on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Deaden Down</name>
								<script>if matches[2]:find(target) then
  deleteLine()
  sys("&lt;purple&gt;Deaden") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;DOWN")
  deadened = false
  disableTimer("deaden")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is again susceptible to the deadening venom.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bloodpoison</name>
								<script>deleteLine()
sys("&lt;red&gt;Bloodpoison") cecho("&lt;gold&gt;"..matches[2])
if matches[2]:find(target) then
  bp = bp + 1
  aff("poisoned blood")
  if shocked and not shockUsed then
   shockUsed = true
   tempTimer(3-getNetworkLatency(), [[ms.afflicted["poisoned blood"] = "aff";bp = bp +1]])
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Bloodpoison on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Trigger Count Check</name>
								<script>triggerCount = tonumber(2)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+)'s mind already holds two affliction triggers and cannot contain more.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Poisoned Mind</name>
								<script>deleteLine()
sys("&lt;purple&gt;Poisoned Mind") cecho("&lt;gold&gt;"..matches[2])
aff("poisoned mind")
if shocked and not shockUsed then
  shockUsed = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Poisonmind on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Transfer</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Transfer") cecho("&lt;gold&gt;"..matches[2])
transfer = true
if shocked and not shockUsed then
  shockUsed = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You plunge your tail into (\w+)'s body, pumping \w+ with mutating Wyvern venom.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Moon Aura</name>
								<script>if matches[2]:find(target) and matches[3] ~= "stun" then
  deleteLine()
  sys("&lt;ivory&gt;Moonaura") cecho("&lt;gold&gt;"..matches[2])
  moonaura = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your Moon Aura glows a Sukhder crimson before hurling the toxin back at (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Frostbite</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Frostbite") cecho("&lt;gold&gt;"..matches[2])
aff("frostbite")
if not caloric then
  aff("shivering")
  aff("frozen")
else
  caloric = false
end
ice = ice - 40
if shocked and not shockUsed then
  shockUsed = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Frostbite on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Firebreath</name>
								<script>deleteLine()
fbDir = fbDir or ""
sys("&lt;red&gt;Firebreath") cecho("&lt;cyan&gt;Icewall &lt;red&gt;melted &lt;ivory&gt;\-\&gt; &lt;yellow&gt;\:"..fbDir:title())
fire = fire - 10</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You use Shapeshifting Firebreath (Firebreath).</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Freeze Ground</name>
								<script>ice = ice - 10</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You use Shapeshifting Icebreath (freeze).</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Disease up</name>
								<script>deleteLine()
sys("&lt;green&gt;Disease") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;UP")
diseased = true
aff("nausea")
enableTimer("disease")
if shocked and not shockUsed then
  shockUsed = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Disease on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Disease down</name>
								<script>deleteLine()
sys("&lt;green&gt;Disease") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;DOWN")
diseased = false
disableTimer("disease")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is again susceptible to the disease\-inducing venom.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Failed Rupture</name>
								<script>if matches[2]:find(target) then
  deleteLine()
  sys("&lt;red&gt;RUPTURE") cecho("&lt;gold&gt;"..matches[2])
  bp = bp - 1
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Rupture on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Incinerate</name>
								<script>deleteLine()
sys("&lt;red&gt;Incinerate") cecho("&lt;gold&gt;"..matches[2])
fire = fire - 85</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Incinerate on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Smash</name>
								<script>deleteLine()
sys("&lt;red&gt;"..ms.save["hunter_form"].." Smash") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;Arms")
if matches[2]:find(target) then
  aff("crippled left arm")
  aff("crippled right arm")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Smash \(arms\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Icebreath</name>
								<script>deleteLine()
sys("&lt;cyan&gt;Icebreath") cecho("&lt;gold&gt;"..matches[2])
if matches[2]:find(target) then
  if caloric then
    caloric = false
  elseif ms.afflicted["shivering"] == "notaff" then
    aff("shivering")
  elseif ms.afflicted["frozen"] == "notaff" then
    aff("frozen")
  end
end
    </script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Shapeshifting Icebreath on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Supremacy</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Trigger Set</name>
								<script>deleteLine()
sys("&lt;yellow&gt;Trigger") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;\-\&gt; Affs Set to &lt;yellow&gt;"..bAffCure..": &lt;green&gt;"..bAff1..", "..bAff2)

ms.hunter.triggers[bAffCure] = {bAff1, bAff2}

table.insert(ms.hunter.cures, bAffCure)
triggerCount = triggerCount + 1
disableTimer("batTriggers")
enableTimer("batTriggers")
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Supremacy Trigger hit on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Trigger Faded</name>
								<script>if matches[3]:find(target) then
  triggerCount = triggerCount - 1
  disableTimer("batTriggers")
  if triggerCount == 1 then enableTimer("batTriggers") end
  deleteLine()
  sys("&lt;yellow&gt;Trigger") cecho("&lt;gold&gt;"..matches[3].." &lt;ivory&gt;\-\&gt; &lt;red&gt;"..matches[2].." Faded")
  if matches[2]:find("health") then
	if triggerCount == 2 then
		ms.hunter.triggers["damage1"] = nil
	else
		ms.hunter.triggers["damage2"] = nil
	end
  else
	ms.hunter.triggers[matches[2]] = nil
  end
  if triggerCount &lt; 0 then triggerCount = tonumber(0) end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your bat notifies you that it senses (?:a|an) (\w+) curing trigger fading from (\w+)'s mind.$</string>
									<string>^Your bat notifies you that it senses (?:a|an) (health) trigger fading from (\w+)'s mind.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Trigger Fired</name>
								<script>if matches[2]:find(target) then
  ac1 = matches[3]
  ac2 = matches[4]
  deleteLine()
  sys("&lt;yellow&gt;Trigger") cecho("&lt;gold&gt;"..matches[2].." &lt;ivory&gt;\-\&gt; Afflicted: "..matches[3]..", "..matches[4])
  if ms.afflicted["poisoned mind"] == "aff" then bp = bp + 1 end
  triggerCount = triggerCount - 1
  disableTimer("batTriggers")
  if triggerCount == 1 then enableTimer("batTriggers") end
  if triggerCount &lt; 0 then triggerCount = tonumber(0) end
  if triggerCount == 1 and (matches[3]:find("lash") or matches[4]:find("lash")) then
	ms.hunter.triggers["damage2"] = nil
  elseif triggerCount == 2 and (matches[3]:find("lash") or matches[4]:find("lash")) then
	ms.hunter.triggers["damage1"] = nil
  elseif not matches[3]:find("lash") and not matches[4]:find("instability") then
	  aff(matches[3]) 
    aff(matches[4])
  elseif matches[4]:find("instability") then
    instability = true
    aff(matches[3])
  end
  for cure, affs in pairs(ms.hunter.triggers) do
    if table.contains(ms.hunter.triggers[cure], ac1) and table.contains(ms.hunter.triggers[cure], ac2) then
      cureAff = tostring(cure)
      notaff(cureAff)
      ms.hunter.triggers[cure] = nil
      return
    end
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The trigger affects (\w+) with (\w+) and (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Discernment</name>
								<script>if matches[2]:find(target) and matches[3] ~= "stun" and matches[3] ~= "fear" and matches[3] ~= "entangled" then
  notaff(matches[3])
  if matches[3]:find("poisoned blood") then bp = tonumber(0) end
        last_cured()
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your .+ notifies you that (\w+) has cured the effects of (.+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Snare up</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hunter") cecho("&lt;green&gt;Snare Active")
snare = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You use Supremacy Snare (Snare).</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter snare used</name>
								<script>if matches[2]:find(target) then
  deleteLine()
  sys("&lt;purple&gt;Hunter") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;Snare Down")
  snare = false
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^A .+ bat curls its snout at (\w+) as it wraps its wings about \w+ body, ensnaring \w+ within.$</string>
									<string>^A .+ bat's eyes gleam dangerously as it lashes out at (\w+) with its tail, ensnaring \w+ within it.$</string>
									<string>^You use Supremacy Invoke \(\w+\) on .+\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Loyal Affliction</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hunter") cecho("&lt;gold&gt;"..matches[3].." &lt;green&gt;"..matches[2])
aff(matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Supremacy Affliction (\w+) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Insanity used</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hunter") cecho("&lt;red&gt;Insanity Down")
insanity = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) slumps down slightly as another burden plagues \w+ mind.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter insanity applied</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hunter") cecho("&lt;purple&gt;Insanity Active")
insanity = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Supremacy Insanity on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Instability</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hunter") cecho("&lt;purple&gt;Instability Active")
instability = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Supremacy Instability on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter instability tree fail</name>
								<script>deleteLine()
sys("&lt;purple&gt;Hunter") cecho("&lt;red&gt;Instability Down")
instability = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) appears haunted as the tattoo fails to cure \w+ body.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Lash</name>
								<script>if matches[2]:find(target) then
  deleteLine()
  sys("&lt;purple&gt;Lash") cecho("&lt;gold&gt;"..matches[2])
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Supremacy Lash on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Hunter Cleanse</name>
								<script>ms.hunter.triggers = {}
triggerCount = tonumber(0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Supremacy Trigger cleanse on (\w+).$</string>
									<string>^(\w+) doesn't have any triggers implanted.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Summon Loyal</name>
								<script>if healing then
  send("queue eqbal top bat summon")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You need to summon the bat first.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Entangle</name>
								<script>deleteLine()
sys("&lt;green&gt;Hunter") cecho("&lt;gold&gt;"..matches[2].." &lt;red&gt;Entangled-")
entangled = false
snare = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) has writhed free of \w+ entanglement by ropes.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Terrestrialism</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Vitality</name>
								<script>if healing then
  send("queue eqbal top vitality")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You can again call upon your vitality.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Pursue</name>
								<script>targetLoc = matches[3]</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) moved to .+, relatively unscathed \((\d+)\)$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Campfire needs stoked</name>
								<script>sys("&lt;red&gt;Campfire") cecho("&lt;DimGrey&gt;Needs Stoked")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The campfire dies down some and smolders more heavily.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Pursue</name>
								<script>callout("[Pursue]", matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You begin tracking the movements of (\w+) around the lands.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Engineer</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
					</TriggerGroup>
					<TriggerGroup isActive="no" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Berserker</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Maiming</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Smash</name>
								<script>if matches[2]:find(target) then
  if ina("nausea") then
    aff("nausea")
  elseif ina("clumsiness") then
    aff("clumsiness")
  elseif ina("weariness") then
    aff("weariness")
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Smash on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Smash (Weaken)</name>
								<script>if matches[2]:find(target) then
  aff("nausea")
  aff("clumsiness")
  aff("weariness")
  zerk_weaken = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Smash \(weaken\) on (\w+).$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Trip</name>
								<script>if matches[2]:find(target) then
  tprone = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Trip on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Distract</name>
								<script>if matches[2]:find(target) then
  aff("disruption")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Distract on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Spin</name>
								<script>if matches[2]:find(target) then
  aff("recklessness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Spin on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bash</name>
								<script>if matches[2]:find(target) then
  if deaf then
    deaf = false
  elseif ina("sensitivity") then
    aff("sensitivity")
  elseif ina("numbness") and ina("paralysis") then
    aff("numbness")
  elseif ina("ignorance") then
    aff("ignorance")
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Bash on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bash (Enhanced)</name>
								<script>if matches[2]:find(target) then
  aff("sensitivity")
  if ina("paralysis") then aff("numbness") end
  aff("ignorance")
  zerk_enhanced = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Bash \(enhanced\) on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Batter</name>
								<script>if matches[2]:find(target) then
  if ina("stupidity") then
    aff("stupidity")
  elseif ina("vertigo") then
    aff("vertigo")
  elseif ina("dementia") then
    aff("dementia")
  end
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Batter on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Batter (Susceptible)</name>
								<script>if matches[2]:find(target) then
  aff("stupidity")
  aff("vertigo")
  aff("dementia")
  zerk_susceptible = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is now more susceptible to battering blows\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Knockout</name>
								<script>if matches[2]:find(target) then
  aff("dizziness")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Knockout on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Crush</name>
								<script>if matches[2]:find(target) then
  zerk_crush = true
  disableTimer("zerk_crush");enableTimer("zerk_crush")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Maiming Crush on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Crush Active</name>
								<script>if matches[2]:find(target) then
  zerk_crush = true
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is already affected by shield crush\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Rampage</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
						</TriggerGroup>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Warchants</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bloodflow</name>
								<script>if matches[2]:find(target) then
  aff("haemophilia")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Warchants Bloodflow hit on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shake</name>
								<script>if matches[2]:find(target) then
  zerk_shake = true;zerk_shake_cd = true
  disableTimer("zerk_shake");enableTimer("zerk_shake")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Warchants Shake on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Focus</name>
								<script>zerk_focus_cd = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You can again focus on enhancing the Berserker's rage.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Focus CD</name>
								<script>zerk_focus_cd = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cannot focus on the Berseker's rage again so soon.</string>
									<string>You are unable to focus on your rage any longer.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Warchants cd</name>
								<script>zerk_warchant_cd = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You use Warchants \w+ on (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Warchants cd</name>
								<script>zerk_warchant_cd = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You are again able to use a warchant.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Skill Gag</name>
							<script>deleteLine()
if matches[1]:find("Elusion") then
  zerk_elusion = true
elseif matches[1]:find("Beguile") then
  zerk_beguile = true
elseif matches[1]:find("Eviscerate") then
  zerk_eviscerate = true
elseif matches[1]:find("Spurn") then
  zerk_spurn = true
elseif matches[1]:find("Rage") then
  zerk_rage = true
elseif matches[4] then
  sys("&lt;yellow&gt;"..matches[2]) cecho("&lt;snow&gt;"..matches[3].." - &lt;gold&gt;"..matches[4])
else
  sys("&lt;yellow&gt;"..matches[2]) cecho("&lt;snow&gt;"..matches[3])
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You use (\w+) (.+) on (\w+)\.$</string>
								<string>^You use (\w+) (.+) \(tick\) on (\w+)\.$</string>
								<string>^You use (\w+) (.+)\.$</string>
								<string>^You use (\w+) (.+) \(tick\)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
				</TriggerGroup>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Hunting</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Tapped Coin</name>
					<script>enableTimer("Bent Coin")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You tap a bent copper coin and it falls to the ground, crumbling away\.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Hunting Shrine</name>
					<script>if healing and bash then expandAlias("b") end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^Drawn to the power of the relic, .+ rushes into the room.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Reaper</name>
					<script>if matches[1]:find(gmcp.Char.Status.name) then send("queue eqbal top frontflip "..ms.exits[1]) end
send("rt reaper is targeting "..matches[2])</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The reaper is targetting (.+).$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Wickerman</name>
					<script>send("queue eqbal top break out")</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The Wickerman takes hold of you and shoves you into his fiery trap, which sears your flesh.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Affliction Tracking</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Cured</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Stupidity</name>
						<script>if matches[2]:find(target) then
last_cured()
	notaff("stupidity")
	disableTrigger("passiveprompt")
  saf = saf - 1
	if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s expression no longer looks so vacant.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sunallergy</name>
						<script>if matches[2]:find(target) then
last_cured()
disableTrigger("passiveprompt")
deleteLine()
notaff("sunallergy")
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) looks relieved as \w+ skin loses its reddish hue.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Transfix</name>
						<script>if matches[2]:find(target) then
	transfixed = false
  snare = false
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) has writhed free of \w+ state of transfixation.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Butisol</name>
						<script>if matches[2]:find(target) then
last_cured()
disableTrigger("passiveprompt")
deleteLine()
notaff("butisol")
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s skin color returns to normal and \w+ sweating subsides.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sulfonal</name>
						<script>if matches[2]:find(target) then
last_cured()
disableTrigger("passiveprompt")
notaff("sulfonal")
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
      last_cured()
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) appears less dizzy.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Ablaze</name>
						<script>if matches[2]:find(target) then
-- last_cured()
deleteLine()
notaff("ablaze")
ablaze = false
saf = saf - 1
if pta then enableTrigger("affPrompt") end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The raging fire about (\w+)'s skin is put out.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Smoked</name>
						<script>if matches[2]:find(target) then
	smoked = true
	ms.afflicted["asthma"] = "notaff"
	if not fitnessUsed then instill = true end
	if matches[3]:find("white haze") then
		tempTimer(6-getNetworkLatency(), [[rbCheck()]])
    disableTimer("rebounding");enableTimer("rebounding")
	end
	if fool and ms.class["Summoner"] then expandAlias("taff");fool = false end
	if ashcloud then tempTimer(3, [[smoked = false]]) else tempTimer(2, [[smoked = false]]) end
	if matches[3]:find("musty") and ms.afflicted["madness"] == "aff" then send("queue reset all");ms.afflicted["madness"] = "notaff" end
if pta then enableTrigger("affPrompt") end
saf = saf - 1
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) takes a long drag off \w+ pipe, exhaling a (thick, musty smoke|light, bluish mist|thick, white haze).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Justice</name>
						<script>if multimatches[2][2]:find(target) then
	ms.afflicted["justice"]="notaff"
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(Damage Taken:) (\d+) (.+) (\(raw damage: (\d+)\))$</string>
							<string>^You feel your aura distend and whip back at (\w+), returning some of the damage that was meant for you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hemotoxin</name>
						<script>if matches[2]:find(target) then
last_cured()
	disableTrigger("passiveprompt")
	notaff("hemotoxin")
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s colour returns to \w+ face\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Fitness</name>
						<script>if matches[2]:find(target) then
last_cured()
	notaff("asthma")
	fitnessUsed = true
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
end
--In case I need this later </script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) inhales deeply, then slowly exhales\.$</string>
							<string>^(\w+) looks much less fit after the attack\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Prone Cured</name>
						<script>if matches[2]:find(target) then
	tprone = false
	sleeping = false
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) stands up and stretches \w+ arms out wide.$</string>
							<string>^With a look of agony on \w+ face, (\w+) manages to writhe \w+ free of the weapon which impaled \w+\.$</string>
							<string>^(\w+) springs up from the ground to \w+ feet.$</string>
							<string>^(\w+) uses Kipup.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Disfigurement</name>
						<script>if matches[2]:find(target) then
last_cured()
	disableTrigger("passiveprompt")
	notaff("disfigurement")
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s horribly disfigured body is restored\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shriveled</name>
						<script>if matches[2]:find(target) then
	for aff,state in ms.afflicted:pairs() do
		if state == "aff" and matches[3] == "legs" and (aff == "crippled right leg" or aff == "crippled left leg") then
			ms.afflicted[aff] = "notaff"
			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
			break
		elseif state == "aff" and matches[3] == "arms" and (aff == "crippled right arm" or aff == "crippled left arm") then
			ms.afflicted[aff] = "notaff"
			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
			break
		end
	end
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) rubs some salve on \w+ (legs|arms)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Restore</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["crippled right leg"] = "notaff"
	ms.afflicted["crippled right arm"] = "notaff"
	ms.afflicted["crippled left leg"] = "notaff"
	ms.afflicted["crippled left arm"] = "notaff"
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) crackles with blue energy that wreathes itself about \w+ limbs\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Leech Fail</name>
						<script>ms.afflicted["paralysis"] = "notaff"
tprone = false</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your target must be prone or bound in some way.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Paralysis Check</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["paralysis"] = "notaff"
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) swings .+ at</string>
							<string>^(\w+) viciously slashes</string>
							<string>^With a lightning-quick motion, (\w+) slashes</string>
							<string>^(\w+) quickly flings a card with the image</string>
							<string>^(\w+) slashes into</string>
							<string>^(\w+) stabs forth</string>
							<string>^(\w+) connects to</string>
							<string>^Your .+ threatens to buckle as (\w+)</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Anorexia</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["anorexia"] = "notaff"
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) empties out .+ into \w+ mouth\.$</string>
							<string>^(\w+) takes a drink from .+\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Pacifism</name>
						<script>if matches[2]:find(target) then
last_cured()
notaff("pacifism")
notaff("peace")
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) glares angrily, driving off the pacifying attempt\.$</string>
							<string>^(\w+)'s eyes flash with rage\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Demon Flay</name>
						<script>if coalition then send("rt Flayed "..matches[2].." - cured "..matches[3]) end
notaff(matches[3])</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The onslaught has relieved (\w+) of (.+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Rigidity</name>
						<script>if matches[2]:find(target) then
last_cured()
disableTrigger("passiveprompt")
notaff("rigidity")
saf = saf - 1
sys("&lt;green&gt;Rigidity") cecho("&lt;green&gt;CURED")
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) has mustered enough strength to shake off the rigidity for good\.$</string>
							<string>^(\w+)'s limbs no longer look so rigid.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sensitivity</name>
						<script>if matches[2]:find(target) then
last_cured()
disableTrigger("passiveprompt")
deleteLine()
notaff("sensitivity")
saf = saf - 1
sys("&lt;yellow&gt;Glowing Wraith") cecho("&lt;green&gt;Sensitivity CURED")
if pta then enableTrigger("affPrompt") end
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The glowing wraith flickers briefly as (\w+) cures the effects of sensitivity.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shrugging Used</name>
						<script>if multimatches[2][2]:find(target) then
	toxShrugged = multimatches[1][2]
	if multimatches[1][2] == "cyanide" then notaff("cyanide") 
	elseif multimatches[1][2] == "aconite" then notaff("stupidity") 
	elseif multimatches[1][2] == "arsenic" then notaff("weariness") 
	elseif multimatches[1][2] == "atropine" then notaff("recklessness") 
	elseif multimatches[1][2] == "avidya" then notaff("ignorance") 
	elseif multimatches[1][2] == "benzene" and ms.afflicted["crippled left arm"] == "notaff" then notaff("crippled left arm")
	elseif multimatches[1][2] == "benzene" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "aff" then notaff("crippled right arm")
	elseif multimatches[1][2] == "benzedrine" and ms.afflicted["crippled left leg"] == "notaff" then notaff("crippled left leg")
	elseif multimatches[1][2] == "benzedrine" and ms.afflicted["crippled right leg"] == "notaff" and ms.afflicted["crippled left leg"] == "aff" then notaff("crippled right leg")
	elseif multimatches[1][2] == "botulinum" then notaff("nausea") 
	elseif multimatches[1][2] == "bromine" then notaff("anorexia") 
	elseif multimatches[1][2] == "butisol" then notaff("butisol") 
	elseif multimatches[1][2] == "calotropis" then notaff("calotropis") 
	elseif multimatches[1][2] == "chloroform" then notaff("epilepsy") 
	elseif multimatches[1][2] == "ciguatoxin" then notaff("numbness") 
	elseif multimatches[1][2] == "digitalis" then notaff("shyness") 
	elseif multimatches[1][2] == "ether" then notaff("clumsiness") 
	elseif multimatches[1][2] == "hemotoxin" then notaff("hemotoxin") 
	elseif multimatches[1][2] == "iodine" then notaff("slickness") 
	elseif multimatches[1][2] == "lindane" then notaff("dizziness") 
	elseif multimatches[1][2] == "luminal" then notaff("slow elixers") 
	elseif multimatches[1][2] == "mazanor" then notaff("slow herbs") 
	elseif multimatches[1][2] == "mebaral" then notaff("slow equilibrium") 
	elseif multimatches[1][2] == "mercury" then notaff("asthma") 
	elseif multimatches[1][2] == "metrazol" then notaff("metrazol") 
	elseif multimatches[1][2] == "noctec" then notaff("slow balance") 
	elseif multimatches[1][2] == "strychnine" and ms.afflicted["sensitivity"] == "notaff" and deaf then deaf = true;cecho(" &lt;green&gt;"..multimatches[1][2]:title())
	elseif multimatches[1][2] == "strychnine" and not deaf then notaff("sensitivity") 
	elseif multimatches[1][2] == "vitriol" then notaff("disloyalty") 
	elseif multimatches[1][2] == "xeroderma" then notaff("sunallergy") 
	elseif multimatches[1][2] == "sulfonal" then notaff("sulfonal") 
	elseif multimatches[1][2] == "psilocybin" then notaff("ineptude") 
	end
  disableTrigger("passiveprompt")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your (\w+) toxin has affected (\w+).$</string>
							<string>^(\w+) shrugs off the effects of the toxin.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Transfer</name>
						<script>if matches[2]:find(target) then
	hunterTransfer = true
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) plunges \w+ chelicerae into your body, pumping you with Weaver venom.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Oyiem</name>
						<script>if matches[2]:find(target) then
	bardTransfer = true
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s voice fills your mind and you feel ill as though something has overcome you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Defiler Transfer</name>
						<script>if multimatches[1][2]:find(target) then
  notaff(multimatches[2][2])
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Shadows whirl around you, imposing one of \w+'s maladies upon you.$</string>
							<string>^You are afflicted with (.+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Withered Throat</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["withered throat"] = "notaff"
  saf = saf - 1
if pta then enableTrigger("affPrompt") end
last_cured()
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) breathes in relief as \w+ withered throat is restored.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Afflicted</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Numbness</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["numbness"] = "aff"
  saf = saf + 1
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) appears terrified as \w+ muscles seem to become difficult to control.$</string>
							<string>^As the tarot card hits (\w+), \w+ muscles suddenly stiffen.$</string>
							<string>^\w+ throws some red bone dust at (\w+) and as it reaches \w+, \w+ seems to have difficulties moving \w+ muscles.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Afflicted Clan</name>
						<script>deleteLine()
if matches[2]:title():find(target) and not matches[1]:find("You say") then
  if matches[1]:find("Caloric") then caloric = false
	elseif matches[3] == "sun allergy" then ms.afflicted["sunallergy"] = "aff"
	elseif table.contains(ms.affList, matches[3]:lower()) then ms.afflicted[matches[3]:lower()] = "aff"
	end
	if matches[3]:lower() == "sensitivity" then deaf = false end
	sys(target) cecho("&lt;green&gt;Afflicted - &lt;gold&gt;( "..matches[3].." )")
	if matches[4] then ms.afflicted[matches[4]:lower()] = "aff" end
end
if pta then enableTrigger("affPrompt") end
enableTrigger("GP")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\(\w+\)\: \w+ says?, "(?:Afflicted|Affliction) (\w+) with (.+)\."$</string>
							<string>^\(\w+\)\: \w+ says?, "(\w+) afflicted with (.+)\."$</string>
							<string>^\(\w+\)\: \w+ says?, "Afflicted (\w+) (.+)\."$</string>
							<string>^\(\w+\)\: \w+ says?, "(\w+) afflicted with (.+) and (.+)\."$</string>
							<string>^\(\w+\)\: \w+ says?, "(\w+)\: Stripped Caloric\."$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Justice</name>
						<script>if multimatches[2][2]:find(target) then
	ms.afflicted["justice"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>2</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(Damage Taken:) (\d+) (.+) (\(raw damage: (\d+)\))$</string>
							<string>^Justice is dealt out and (\w+)'s attack rebounds onto \w+.$</string>
							<string>^You feel your aura distend and whip back at (\w+), returning some of the damage that was meant for you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Paralysis</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["numbness"] = "notaff";sys("&lt;green&gt;Numbness") cecho("&lt;green&gt;CURED")
	ms.afflicted["paralysis"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s muscles lock up in paralysis.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hemotoxin</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["hemotoxin"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) pales suddenly and slumps perceptibly\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Slow Balance</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["slow balance"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) stumbles and appears off balance.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Slow Equilibrium</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["slow equilibrium"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) appears confused.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Butisol</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["butisol"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) appears flushed, \w+ skin sweating heavily\.$</string>
							<string>^\w+ stares at (\w+) and heat is suddenly emanating from \w+. \w+ looks drained as clouds of steam rise from \w+ ears.$</string>
							<string>^(\w+) looks drained as clouds of steam rise from \w+ ears.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Nausea</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["nausea"] = "aff"
	disableTimer("nausea");enableTimer("nausea")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) doubles over, vomiting violently.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Masochism</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["masochism"] = "aff"
  rb = false
  shield = false
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) drives a clenched fist into \w+ gut.$</string>
							<string>^With the heel of \w+ palm, (\w+) smacks \w+ upside the head.$</string>
							<string>^(\w+) uses \w+ right foot to stomp on \w+ left as hard as possible\.$</string>
							<string>^(\w+) smiles as \w+ rams \w+ fist into \w+ jaw\.$</string>
							<string>^A look of extreme pain contorts (\w+)'s face.$</string>
							<string>^An odd expression flits quickly upon (\w+)'s face.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hallucinations</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["hallucinations"] = "aff"
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) leaps up in what is apparently an attempt at a graceful swan dive. \w+ flies into the air and smacks headfirst into the ground.$</string>
							<string>^(\w+) squints strangely at you\.$</string>
							<string>^(\w+) looks around \w+ with feverish eyes, \w+ eyes focusing on something that is not there.$</string>
							<string>^As the tarot card hits (\w+), \w+ features contort in a visage of pain\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Clumsiness</name>
						<script>if matches[2]:find(target) then
	ccd = true
	tempTimer(4, [[ccd = false]])
	ms.afflicted["clumsiness"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) is too clumsy to lessen the impact.$</string>
							<string>^(\w+) lurches forward, but misses you with .+\.$</string>
							<string>^(\w+) lashes out clumsily, and misses\.$</string>
							<string>^(\w+) shakes \w+ head dizzily.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Weariness</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["weariness"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) slumps with a weary groan\.$</string>
							<string>^Strength drains out of (\w+)'s body as \w+ throws some blue bone dust at \w+.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Epilepsy</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["epilepsy"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) begins to jerk and shakae violently, foaming at the mouth.$</string>
							<string>^(\w+) twitches imperceptibly\.$</string>
							<string>^\w+ makes a tapping motion in front of (\w+). \w+ is enveloped briefly in a cocoon of rapidly blinking light.$</string>
							<string>^(\w+) is enveloped briefly in a cocoon of rapidly blinking light.$</string>
							<string>^(\w+) suddenly appears pained and disturbed over something\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Cyanide - 1</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["cyanide"] = "aff"
	disableTimer("cyanide1");enableTimer("cyanide2")
end
	sys("&lt;yellow&gt;CYANIDE") cecho("&lt;cyan&gt;FIRST PHASE")
	callout(matches[2], "Cyanide - 1/5")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Blood begins to slowly drip from (\w+)'s nose.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Cyanide - 2</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["cyanide"] = "aff"
	disableTimer("cyanide2");enableTimer("cyanide3")
end
	sys("&lt;yellow&gt;CYANIDE") cecho("&lt;cyan&gt;SECOND PHASE")
	callout(matches[2], "Cyanide - 2/5")
if autoKill then expandAlias("bhc") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) coughs suddenly, expelling black fluid with bits of what looks to be tissue suspended in it.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Cyanide - 3</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["cyanide"] = "aff"
	disableTimer("cyanide3");enableTimer("cyanide4")
	if bhc then expandAlias("bh") end
end
	sys("&lt;yellow&gt;CYANIDE") cecho("&lt;cyan&gt;THIRD PHASE")
	callout(matches[2], "Cyanide - 3/5")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) trembles slightly as a yellow jaundice begins to creep through \w+ now-pale features.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Cyanide - 4</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["cyanide"] = "aff"
	disableTimer("cyanide4");enableTimer("cyanide5")
end
	sys("&lt;yellow&gt;CYANIDE") cecho("&lt;cyan&gt;FINAL PHASE")
	callout(matches[2], "Cyanide - 4/5")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You watch in horror as blood begins to seep from every pore in (\w+)'s body.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Disfigure/Disloyalty</name>
						<script>if matches[2]:find(target) then
deleteLine()
sys(matches[2]) cecho("&lt;yellow&gt;Disfigurement/Disloyalty")
aff("disfigurement")
aff("disloyalty")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You concentrate and curse (\w+) with the visage of a rotting corpse\.$</string>
							<string>^\w+ utters a terrible curse and points a finger at (\w+). \w+'s body seems to weaken and appears more primitive.$</string>
							<string>^(\w+)'s body seems to weaken and appears more primitive.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shriveled</name>
						<script>if matches[2]:find(target) then
	aff("crippled "..matches[3])
	if matches[4] then 
		aff("crippled "..matches[4])
	end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your hand infects (\w+)'s (.+) and (.+)\.$</string>
							<string>^Rotting arms claw at (\w+)'s from the ground, shrivelling \w+ (.+) beneath</string>
							<string>^Your hand infects (\w+)'s (left leg|right leg|left arm|right arm)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Slow Elixirs</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["slow elixirs"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) grimaces, gripping at \w+ throat.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Addiction</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["addiction"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^At \w+'s command, .+treant.+ shreds (\w+)'s skin with its branches, thorns cutting painfully into \w+ flesh\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Metrazol</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["metrazol"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s .+ suddenly go limp.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sunallergy</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["sunallergy"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) skin suddenly reddens\.$</string>
							<string>^(\w+) screams in agony, skin steaming in the sunlight.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Burnt Nerves</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["burning nerves"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s body starts twitching uncontrollably, as if \w+ nerves were on fire.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Impatience</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["impatience"] = "aff"
end

if sealed then
	sealed = false
end
	</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Air moves chaotically around (\w+), \w+ patience visibly wearing thin.$</string>
							<string>^(\w+) appears less patient again.$</string>
							<string>^(\w+) shuffles \w+ feet in boredom.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Prone</name>
						<script>if matches[2]:find(target) or matches[2]:find(ptar) then
	tprone = true
	hk = false
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) falls heavily to the ground.$</string>
							<string>^A buffer of wind hits (\w+), knocking \w+ to the ground.$</string>
							<string>^(\w+) falls to \w+ knees as the shaft of sound strikes \w+\.$</string>
							<string>^You sketch the Sett symbol in the air, and an unseen force drags (\w+) towards the ground.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sensitivity</name>
						<script>if matches[2]:find(target) then
	if not deaf then ms.afflicted["sensitivity"] = "aff"
	else deaf = false
	end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s nerves start tingling and twitching on their own accord.$</string>
							<string>^\w+ sketches a symbol in the air, and (\w+) seems more susceptible to damage.$</string>
							<string>^A glowing wraith suddenly grows bigger and floats towards (\w+), who looks around uncomfortably.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Vertigo</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["vertigo"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The air around (\w+) shifts in a disorienting pattern, burning \w+ skin painfully.$</string>
							<string>^(\w+) stumbles suddenly, unable to catch \w+ balance.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Vertigo/Clumsiness</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["vertigo"] = "aff"
	ms.afflicted["clumsiness"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The air around (\w+) shifts in a disorienting pattern, burning \w+ skin painfully and leaving \w+ fumbling around.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Masochism/Stupidity</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["masochism"] = "aff"
	ms.afflicted["stupidity"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A look of extreme pain contorts (\w+)'s face, followed by a vacant expression.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hellsight</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["hellsight"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s eyes appear unfocused and haunted.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Whisperingmadness</name>
						<script>if matches[2]:find(target) then
	fecho("Noctu", matches[2], "WHISPERING MADNESS")
	ms.afflicted["madness"] = "aff"
	if hp &lt; 70 and ms.afflicted["asthma"] == "aff" then callout("Use enlighten", matches[2]) end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ passes \w+ hand in front of (\w+). \w+ trembles and \w+ eyes widen in terror.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hallucinations/Addiction</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["hallucinations"] = "aff"
	ms.afflicted["addiction"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The visage glares at (\w+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Confusion</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["confusion"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) raises \w+ weapons for a strike, but then lowers them.$</string>
							<string>^A glazed look descends over the features of (\w+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Calotropis (poor herbs)</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["calotropis"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s skin suddenly turns pale and \w+ begins sweating profusely.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Haemophilia</name>
						<script>if matches[2]:find(target) then
	aff("haemophilia")
	sys("&lt;green&gt;Toxin") cecho("&lt;ivory&gt;haemophilia")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s blood starts flowing more freely.$</string>
							<string>^You shred (\w+)'s skin viciously with .+, causing a nasty infection.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sleep</name>
						<script>if matches[2]:find(target) or matches[2]:find(ptar) then
tumbling = false
  if matches[2]:find(target) then tprone = true end
sleeping = true
blackwind = false
pta = true;forceAtk()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s eyes close suddenly as \w+ falls asleep.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Slickness</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["slickness"] = "aff"
	if fitnessUsed then instill = true end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ mixes some yellow bone dust with water and throws it at (\w+), enveloping \w+ in a slick substance.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Recklessness</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["recklessness"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ throws some blue bone dust at (\w+), whose features contort into an enraged expression.$</string>
							<string>^(\w+) grits \w+ teeth and a resolve flashes fiercely across \w+ features.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Disruption</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["disruption"] = "aff"
	if matches[1]:find("shivers") then
		ms.afflicted["shivering"] = "aff"
	end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your Ouroboros gazes fiercely at (\w+) with its many eyes, upsetting \w+ equilibrium.$</string>
							<string>^Suddenly (\w+) shivers intensely\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Rigidity</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["rigidity"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Upon \w+'s command, a .+ stabs (/w+) repeatedly with its sharp branches, until \w+ limbs stiffen with rigidity.$</string>
							<string>^(\w+) groans as \w+ weakened muscles stiffen with rigidity once again\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Entropy</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["entropy"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ leans towards (\w+) with a contemptuous sneer and whispers a few words. \w+'s eyes suddenly grow wide with fear\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hypochondria</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["hypochondria"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A look of sheer longing passes over (\w+)'s face.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Addiction</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["addiction"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A look of sheer longing passes over (\w+)'s face.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Loneliness</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["loneliness"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) glances nervously around the room.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Claustrophobia</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["claustrophobia"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) begins to pant in terror.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Stuttering</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["stuttering"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) makes an oddly stuttered sound.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hallucinations</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["hallucinations"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) squints strangely at you.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Pacifism</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["peace"] = "aff"
  peacecd = true;tempTimer(5, [[peacecd = false]])
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) smiles, a look of radiant peace spread across \w+ features.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hypersomnia</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["hypersomnia"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s eyes grow heavy and start to close.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Dementia</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["dementia"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) stares about \w+ frenziedly, wild\-eyed.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Deadening</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["deadening"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) looks about with a dazed expression on \w+ face.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Agoraphobia</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["agoraphobia"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) is gripped with fear, staring out with terrified eyes.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Paranoia</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["paranoia"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) narrows \w+ eyes at you unnervingly.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Heroism</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["heroism"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) stands upright and flexes \w+ muscles.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Lethargy</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["lethargy"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) suddenly slumps down wearily.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Anorexia</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["anorexia"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) suddenly looks nauseous.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Toxin Affliction</name>
						<script>	deleteLine()
	toxUsed = matches[2]
if matches[3]:find(target) and not ptox then
	if matches[2] == "cyanide" then aff("cyanide");paf = "cyanide"
	elseif matches[2] == "aconite" then aff("stupidity");paf = "stupidity" 
	elseif matches[2] == "arsenic" then aff("weariness");paf = "weariness" 
	elseif matches[2] == "atropine" then aff("recklessness");paf = "recklessness" 
	elseif matches[2] == "avidya" then aff("ignorance");paf = "ignorance" 
	elseif matches[2] == "benzene" and ms.afflicted["crippled left arm"] == "notaff" then aff("crippled left arm");paf = "crippled left arm"
	elseif matches[2] == "benzene" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "aff" then aff("crippled right arm");paf = "crippled right arm"
	elseif matches[2] == "benzedrine" and ms.afflicted["crippled left leg"] == "notaff" then aff("crippled left leg");paf = "crippled left leg"
	elseif matches[2] == "benzedrine" and ms.afflicted["crippled right leg"] == "notaff" and ms.afflicted["crippled left leg"] == "aff" then aff("crippled right leg");paf = "crippled right leg"
	elseif matches[2] == "botulinum" then aff("nausea");paf = "nausea" 
	elseif matches[2] == "bromine" then aff("anorexia");paf = "anorexia" 
	elseif matches[2] == "butisol" then aff("butisol");paf = "butisol" 
	elseif matches[2] == "calotropis" then aff("calotropis");paf = "calotropis" 
	elseif matches[2] == "chloroform" then aff("epilepsy");paf = "epilepsy" 
	elseif matches[2] == "ciguatoxin" then aff("numbness");paf = "numbness" 
	elseif matches[2] == "digitalis" then aff("shyness");paf = "shyness" 
	elseif matches[2] == "ether" then aff("clumsiness");paf = "clumsiness" 
	-- elseif matches[2] == "hemotoxin" then aff("hemotoxin");paf = "hemotoxin" 
	elseif matches[2] == "iodine" then aff("slickness");paf = "slickness" 
	elseif matches[2] == "lindane" then aff("dizziness");paf = "dizziness" 
	elseif matches[2] == "luminal" then aff("slow elixers");paf = "slow elixers" 
	elseif matches[2] == "mazanor" then aff("slow herbs");paf = "slow herbs" 
	elseif matches[2] == "mebaral" then aff("slow equilibrium");paf = "slow equilibrium" 
	elseif matches[2] == "mercury" then aff("asthma");paf = "asthma" 
	elseif matches[2] == "metrazol" then aff("metrazol");paf = "metrazol" 
	elseif matches[2] == "noctec" then aff("slow balance");paf = "slow balance" 
  elseif matches[2] == "oxalis" then blind = false;cecho(" &lt;green&gt;"..matches[2]:title())
	elseif matches[2] == "strychnine" and ms.afflicted["sensitivity"] == "notaff" and deaf then deaf = false;cecho(" &lt;green&gt;"..matches[2]:title())
	elseif matches[2] == "strychnine" and not deaf then aff("sensitivity");paf = "sensitivity" 
	elseif matches[2] == "vitriol" then aff("disloyalty");paf = "disloyalty" 
	elseif matches[2] == "xeroderma" then aff("sunallergy");paf = "sunallergy" 
	elseif matches[2] == "sulfonal" then aff("sulfonal");paf = "sulfonal" 
	elseif matches[2] == "psilocybin" then aff("ineptude");paf = "ineptude" 
	elseif not ptox then
		 cecho(" &lt;green&gt;"..matches[2]:title())
	end
end
ptox = false</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your (\w+) toxin has affected (\w+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Clumsiness Cooldown</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) lashes out clumsily, and misses.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Gutwyrm up</name>
						<script>if matches[2]:find(target) then
  gutwyrm = true
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ raises \w+ hands with a malignant sneer and chants a brief mantra. A demonic portal opens and spits out a gutwyrm, which leaps immediately onto (\w+) and starts burrowing deep into \w+ abdomen.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Gutwyrm down</name>
						<script>if matches[2]:find(target) then
  gutwyrm = false
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The gutwyrm screams in rage deep inside (\w+) as \w+ swallows the plant.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Batter</name>
						<script>if ms.afflicted["vertigo"] == "notaff" then
  aff("vertigo")
elseif ms.afflicted["dementia"] == "notaff" and ms.afflicted["stupidity"] == "aff" then
  aff("dementia")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+ batters (\w+) with .+ shield, causing \w+ to reel.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Disorient</name>
						<script>if ms.afflicted["dementia"] == "notaff" then
  aff("dementia")
elseif ms.afflicted["hypersomnia"] == "notaff" then
  aff("hypersomnia")
elseif ms.afflicted["paranoia"] == "notaff" then
  aff("paranoia")
elseif ms.afflicted["vertigo"] == "notaff" then
  aff("vertigo")
elseif ms.afflicted["hallucinations"] == "notaff" then
  aff("hallucinations")
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The thrill of the battle flowing through \w+ body, \w+ hurls a powerful disorienting scream towards (\w+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Justice</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["justice"] = "aff"
justiceCheck = true
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Justice is dealt out and (\w+)'s attack rebounds onto \w+.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Withered Throat</name>
						<script>if matches[2]:find(target) then
	ms.afflicted["withered throat"] = "aff"
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) panics, grasping at \w+ shriveling throat.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Passives/Active Cures</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Antibodies</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Shadows whirl around (\w+), curing \w+ maladies.$</string>
							<string>^(\w+) uses Shadowbinding Antibodies \(tick\).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Ouroboros</name>
						<script>if matches[2]:find(target) then
  passive()
diabolist = true
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+)'s Ouroboros envelops \w+ in a red glow.$</string>
							<string>^(\w+) uses Malignosis Syphon \(tick\).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Healing Rite</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A soothing light envelops (\w+) momentarily.$</string>
							<string>^(\w+) uses Devotion Healing \(tick\).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Cadmus</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) focuses on \w+ link with Cadmus, the cursed shaman.$</string>
							<string>^(\w+) uses Enslavery Cadmus.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Priest passive</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The spiritual power of a seraph touches (\w+) momentarily\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Mage passive</name>
						<script>if matches[2]:find(target) then
  passive()
  mage = true
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) calls upon the purifying waters to ease up \w+ maladies\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Dust</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) takes some green bone dust and sprinkles it lightly over \w+\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Therapeutics</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^The musical healing energy of the Song of Therapeutics draws an affliction from (\w+)'s body.$</string>
							<string>^(\w+) uses Thespia Therapeutics \(tick\).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>0</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>passiveprompt</name>
						<script>passive()
disableTrigger("passiveprompt")
-- ukaf = ukaf - 1
if healing and pta then
  forceAtk()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>return isPrompt()</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>4</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Beserker</name>
						<script>deleteLine()
if matches[2]:find(target) then
  sys("&lt;green&gt;MS Beserker") cecho("&lt;snow&gt;Passive/Active Heal")
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^With a defiant yell, (\w+) focuses on the flow of battle and rids \w+ of another ailment\.$</string>
							<string>^(\w+) uses Warchants Heal.$</string>
							<string>^(\w+) uses Rampage Spurn \(tick\).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Diab Link</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) sketches a symbol in the air, and \w+ \w+ looks somewhat healthier.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Arinyu</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) is momentarily surrounded by a soft white light.$</string>
							<string>^(\w+) uses Voice Arinyu.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Priest passive</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) looks healthier and cleansed\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>passive trigger</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Specks of multicolored light swirl around (\w+), who looks somewhat healthier.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Brainmelt/Annihilate</name>
						<script>passive()
probe = true</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You command .+ bat to unleash a massive energy towards (\w+). .+ bat flaps its wings wildly about \w+'s head, releasing nearly inaudible sounds, causing \w+ to wail and scream in agony as the assaults melts connections within \w+ weakened brain.$</string>
							<string>You cease your attempt to annihilate your victim's mind.</string>
							<string>^You use Supremacy Brainmelt on (\w+).$</string>
							<string>^You use Spatium Annihilate on (\w+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>3</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Predator heal</name>
						<script>if matches[2]:find(target) then
  passive()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) focuses deep within \w+ and appears stronger than before.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Curables</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Herbs</name>
						<script>if matches[2]:find(target) and matches[3] == "juniper berry" then undeaf = false;deaf = true;ms.afflicted["sensitivity"] = "notaff" end
if matches[2]:find(target) and prophecy_failure and pf:find("plant") then
  sys("&lt;cyan&gt;Prophecy Used") cecho("&lt;gold&gt;"..matches[2].." ate plant")
  prophecy_failure = false
elseif matches[2]:find(target) and not herbcd then
if not matches[3]:find("juniper") and not matches[3]:find("hyssop") and not matches[3]:find("toadstool") then herbcd = true;tempTimer(1, [[herbcd = false]]) end
cured = false
herbUsed = true
if ms.afflicted["anorexia"] == "aff" then sys("&lt;green&gt;Anorexia") cecho("&lt;green&gt;CURED") end
ms.afflicted["anorexia"] = "notaff"
plant = matches[3]
if plant == "hyssop stem" then blind = true end
selectCaptureGroup(3)
replace(matches[3], fg("green"))
deselect()
resetFormat()
for af,state in ms.afflicted:pairs() do
	if state == "aff" then
		if plant == "mandrake root" and not table.contains(ms.shadowplant, plant) and (af == "poisoned mind" or af == "hypochondria" or af == "deadening" or af == "heroism" or af == "recklessness" or af == "impatience") then
      notaff(af)
			cured = true
      break
		elseif plant == "piece of kelp" and not table.contains(ms.shadowplant, plant) and (af == "healthleech" or af == "rigidity" or af == "weariness" or af == "clumsiness" or af == "asthma") then
      notaff(af)
			if af == "asthma" and not fitnessUsed then instill = true end
			cured = true
      break
		elseif plant == "wormwood root" and not table.contains(ms.shadowplant, plant) and (af == "jinxed" or af == "addiction" or af == "entropy" or af == "confusion" or af == "ineptude" or af == "paranoia"  or af == "dementia" or af == "hallucinations" or af == "hypersomnia") then
      notaff(af)
			cured = true
      break
		elseif plant == "maidenhair leaf" and not table.contains(ms.shadowplant, plant) and (af == "slickness" or af == "frostbite" or af == "metrazol" or (af == "sensitivity" and not glow) or af == "numbness" or af == "paralysis") then
      notaff(af)
			if af == "slickness" and fitnessUsed then instill = true end
			cured = true
		elseif plant == "nightshade root" and not table.contains(ms.shadowplant, plant) and (af == "recurring freezing" or af == "haemophilia" or af == "dryblood" or af == "lethargy" or af == "burning nerves" or af == "taint attunement" or af == "nausea" or af == "sulfonal") then
			notaff(af)
			if af == "nausea" then disableTimer("nausea") end
			cured = true
      break
		elseif plant == "orphine seed" and not table.contains(ms.shadowplant, plant) and (af == "vertigo" or af == "loneliness" or af == "claustrophobia" or af == "agoraphobia" or af == "masochism" or af == "ignorance") then
			notaff(af)
			if af == "masochism" then disableTimer("masochism") end
			cured = true
      break
		elseif plant == "galingale flower" and not table.contains(ms.shadowplant, plant) and (af == "justice" or af == "peace" or af == "pacifism") then
			notaff(af)
			cured = true
      break
    elseif plant == "ginger root" and not table.contains(ms.shadowplant, plant) and (af == "poisoned blood" and not gutwyrm) then
			if bp == 1 then
        notaff("poisoned blood");bp = tonumber(0) 
      else
        bp = bp - 1
        sys("&lt;red&gt;Bloodpoison") cecho(tostring(bp))
      end
			cured = true
			forceAtk()
      break
		end
	end
end
	if not cured then
		for af,state in ms.afflicted:pairs() do
			if state == "aff" and not table.contains(ms.passives, aff) then
				if plant ~= "juniper berry" and plant ~= "hyssop stem" and plant ~= "toadstool" then
				  notaff(af)
				  cured = true
          break
				end
			end
		end
	end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) quickly eats (?:a|an|some) (.+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Focus</name>
						<script>if matches[2]:find(target) and prophecy_failure and pf:find("focus") then
  sys("&lt;cyan&gt;Prophecy Used") cecho("&lt;gold&gt;"..matches[2].." used focus")
  prophecy_failure = false
elseif matches[2]:find(target) then
fob = true;disableTimer("fob");enableTimer("fob")
kiyan = false
cured = false
focusUsed = true
insanity = false
if ms.afflicted["impatience"] == "aff" then 
	ms.afflicted["impatience"] = "notaff"
	sys("&lt;green&gt;Impatience") cecho("&lt;green&gt;CURED")
end
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if aff == "madness" or aff == "vertigo" or aff == "agoraphobia" or aff == "deadening" or aff == "hellsight" or aff == "addiction" or aff == "epilepsy" or aff == "confusion" or aff == "ignorance" or aff == "disloyalty" or aff == "claustrophobia" or aff == "paranoia" or aff == "dementia" or aff == "loneliness" or aff == "disloyalty" or aff == "stuttering" or aff == "hallucinations" or aff == "hypersomnia" or aff == "heroism" or aff == "recklessness" or aff == "anorexia" or aff == "masochism" or aff == "peace" or aff == "pacifism" then
			notaff(aff)
			if aff == "masochism" then disableTimer("masochism") end
      cured = true
			break
		end
	end
end
	if not cured then
		for aff,state in ms.afflicted:pairs() do
			if state == "aff" and not table.contains(ms.passives, aff) then
				notaff(aff)
				cured = true
        break
			end
		end
	end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A look of extreme focus crosses the face of (\w+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Purge Blood</name>
						<script>if matches[2]:find(target) and prophecy_failure and pf:find("purge") then
  sys("&lt;cyan&gt;Prophecy Used") cecho("&lt;gold&gt;"..matches[2].." purged")
  pbob = true;disableTimer("pbob");enableTimer("pbob")
  prophecy_failure = false
elseif matches[2]:find(target) then
pbob = true;disableTimer("pbob");enableTimer("pbob")
cured = false
if ms.afflicted["hemotoxin"] == "aff" then 
	ms.afflicted["hemotoxin"] = "notaff"
	sys("&lt;green&gt;Hemotoxin") cecho("&lt;green&gt;CURED")
end
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if aff == "epilepsy" or aff == "weariness" or aff == "clumsiness" or aff == "slow herbs" or aff == "ineptude" or aff == "disloyalty" or aff == "slow balance" or aff == "slow equilibrium" or aff == "calotropis" or aff == "metrazol" or (aff == "sensitivity" and not glow) or aff == "disloyalty" or aff == "luminal" or aff == "recklessness" or aff == "slickness" or aff == "asthma" or aff == "anorexia" or aff == "numbness" or aff == "paralysis" or aff == "nausea" or aff == "sulfonal" then
			purgeUsed = true
      notaff(aff)
			if aff == "nausea" then disableTimer("nausea") end
			if aff == "asthma" and not fitnessUsed then instill = true end
			if aff == "slickness" and fitnessUsed then instill = true end
      cured = true
			break
		end
	end
end
	if not cured then
		for aff,state in ms.afflicted:pairs() do
			if state == "aff" and not table.contains(ms.passives, aff) then
        purgeUsed = true
				notaff(aff)
				cured = true
        break
			end
		end
	end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) concentrates on purging toxins from \w+ body.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Tree</name>
						<script>if matches[2]:find(target) and prophecy_failure and pf:find("tree") then
  sys("&lt;cyan&gt;Prophecy Used") cecho("&lt;gold&gt;"..matches[2].." used tree")
  tob = true;disableTimer("tree");enableTimer("tree")
  prophecy_failure = false
elseif matches[2]:find(target) then
tob = true;disableTimer("tree");enableTimer("tree")
instability = false
treeUsed = true
if ms.afflicted["numbness"] == "aff" then sys("&lt;green&gt;Numbness") cecho("&lt;green&gt;CURED") end
ms.afflicted["numbness"]="notaff"
if ms.afflicted["paralysis"] == "aff" then sys("&lt;green&gt;Paralysis") cecho("&lt;green&gt;CURED") end
ms.afflicted["paralysis"]="notaff"
for aff,state in ms.afflicted:pairs() do
	if state == "aff" and not table.contains(ms.passives, aff) and aff ~= "numbness" and aff ~= "madness" and not table.contains(ms.passives, aff) then
		notaff(aff)
		if aff == "asthma" and not fitnessUsed then instill = true end
		if aff == "slickness" and fitnessUsed then instill = true end
		break
	end
end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) touches a tree of life tattoo.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Salve</name>
						<script>if matches[2]:find(target) and not mass then
cured = false
salveUsed = true
caloric = true
if ms.afflicted["slickness"] == "aff" then sys("&lt;green&gt;Slickness") cecho("&lt;green&gt;CURED") end
ms.afflicted["slickness"]="notaff"
if fitnessUsed then instill = true end
if ms.afflicted["shivering"] == "notaff" and ms.afflicted["frozen"] == "notaff" then tcal = true end
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if aff == "frozen" or aff == "shivering" or aff == "slow herbs" or aff == "luminal" or aff == "stuttering" or aff == "calotropis" or aff == "anorexia" then
			notaff(aff)
			cured = true
      break
		end
	end
end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
else mass = false
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) rubs some salve on \w+ skin.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Smoke</name>
						<script>if matches[2]:find(target) then
cured = false
smokeUsed = true
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if matches[3] == "thick, musty smoke" and (aff == "aeon" or aff == "hellsight" or aff == "epilepsy" or aff == "slow equilibrium") then
			notaff(aff)
			if aff == "aeon" then aeon = false end
			cured = true
      break
		elseif matches[3] == "light, bluish mist" and (aff == "disloyalty" or aff == "manaleech" or aff == "slow balance") then
			notaff(aff)
			cured = true
      break
		end
	end
end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) takes a long drag off \w+ pipe, exhaling a (.+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Purge Blood - Defiler</name>
						<script>if multimatches[1][2]:find(target) then
defiler = true
cured = false
purgeUsed = true
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if aff == "epilepsy" or aff == "weariness" or aff == "clumsiness" or aff == "slow herbs" or aff == "disloyalty" or aff == "slow balance" or aff == "slow equilibrium" or aff == "ineptude" or aff == "calotropis" or aff == "metrazol" or (aff == "sensitivity" and not glow) or aff == "disloyalty" or aff == "luminal" or aff == "recklessness" or aff == "slickness" or aff == "asthma" or aff == "anorexia" or aff == "numbness" or aff == "paralysis" or aff == "nausea" then
			ms.afflicted[aff]="notaff"
			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
			if aff == "nausea" then disableTimer("nausea") end
			if aff == "asthma" and not fitnessUsed then instill = true end
			if aff == "slickness" and fitnessUsed then instill = true end
			cured = true;return
		end
	end
end
	if not cured then
		for aff,state in ms.afflicted:pairs() do
			if state == "aff" and not table.contains(ms.passives, aff) then
				ms.afflicted[aff] = "notaff"
				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
				cured = true;return
			end
		end
	end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) concentrates on purging toxins from \w+ body\.$</string>
							<string>^As you attack, the swirling cloud of bile surrounding (\w+) seeps into your lungs, causing you to cough violently.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Focus - Defiler</name>
						<script>if multimatches[1][2]:find(target) then
defiler = true
fob = true;disableTimer("fob");enableTimer("fob")
cured = false
kiyan = false
focusUsed = true
if ms.afflicted["impatience"] == "aff" then 
	ms.afflicted["impatience"] = "notaff"
	sys("&lt;green&gt;Impatience") cecho("&lt;green&gt;CURED")
end
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if aff == "madness" or aff == "vertigo" or aff == "agoraphobia" or aff == "hellsight" or aff == "addiction" or aff == "epilepsy" or aff == "confusion" or aff == "claustrophobia" or aff == "paranoia" or aff == "dementia" or aff == "loneliness" or aff == "disloyalty" or aff == "hallucinations" or aff == "hypersomnia" or aff == "heroism" or aff == "recklessness" or aff == "anorexia" or aff == "masochism" or aff == "peace" then
			ms.afflicted[aff]="notaff"
			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
			if aff == "masochism" then disableTimer("masochism") end
			cured = true;return
		end
	end
end
	if not cured then
		for aff,state in ms.afflicted:pairs() do
			if state == "aff" and not table.contains(ms.passives, aff) then
				ms.afflicted[aff] = "notaff"
				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
				cured = true;return
			end
		end
	end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A look of extreme focus crosses the face of (\w+).$</string>
							<string>^As you attack, the swirling cloud of bile surrounding (\w+) seeps into your lungs, causing you to cough violently.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Mass</name>
						<script>mass = true</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A great weight seems to have been lifted from (\w+).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Toadstool</name>
						<script>if matches[2]:find(target) then
if ms.afflicted["recklessness"] == "aff" then sys("&lt;green&gt;Recklessness") cecho("&lt;green&gt;CURED") end
if ms.afflicted["anorexia"] == "aff" then sys("&lt;green&gt;Anorexia") cecho("&lt;green&gt;CURED") end
ms.afflicted["recklessness"] = "notaff"
ms.afflicted["anorexia"] = "notaff"
deleteLine()
sys("Health/Mana") cecho("&lt;gold&gt;"..matches[2].." &lt;green&gt;Toadstool")
if dcath and healing then
	msTA(matches[2])
end
if healing and trueassess and fiery &lt; 1 then msTA(target);trueassess = false;tempTimer(5, [[trueassess = true]]) end
hp = hp+10
mp = mp+10
if hp &gt; 100 then hp = tonumber(100) end
if mp &gt; 100 then mp = tonumber(100) end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end
--
if bleed &gt; 0 then
	local bleedshow = bleed
	cecho(" &lt;SteelBlue&gt;[B:&lt;red&gt;"..bleedshow.."&lt;SteelBlue&gt;]\n") 
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) quickly eats a toadstool.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Sipped</name>
						<script>if matches[2]:find(target) then
if ms.afflicted["recklessness"] == "aff" then sys("&lt;green&gt;Recklessness") cecho("&lt;green&gt;CURED") end
if ms.afflicted["anorexia"] == "aff" then sys("&lt;green&gt;Anorexia") cecho("&lt;green&gt;CURED") end
ms.afflicted["recklessness"] = "notaff"
ms.afflicted["anorexia"] = "notaff"
deleteLine()
sys("Health/Mana") cecho("&lt;gold&gt;"..matches[2].." &lt;OrangeRed&gt;Sipped")
sipped = true
absorbed = false
zerk_shake = false
disableTimer("absorbed")
if dcath and not trueassess then
	msTA(matches[2])
end
if not speed then tempTimer(5, [[speed = true]]) end
tempTimer(4, [[sipped = false]])
if (hp &lt; mp and ms.afflicted["addiction"] == "notaff") or (hp &gt; mp and ms.afflicted["addiction"] == "aff") then hp = hp+20
elseif (mp &lt; hp and ms.afflicted["addiction"] == "notaff") or (mp &gt; hp and ms.afflicted["addiction"] == "aff") then mp = mp+20
end
if healing and trueassess and fiery &lt; 1 then 
	msTA(matches[2])
	trueassess = false
	tempTimer(5, [[trueassess = true]]) 
end
if hp &gt; 100 then hp = tonumber(100) end
if mp &gt; 100 then mp = tonumber(100) end
if pta then enableTrigger("affPrompt") end
end
--
if bleed &gt; 0 then
	local bleedshow = bleed
	cecho(" &lt;SteelBlue&gt;[B:&lt;red&gt;"..bleedshow.."&lt;SteelBlue&gt;]\n") 
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) takes a drink from (.+).$</string>
							<string>^(\w+) empties out (.+) into \w+ mouth\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Shivering Cured</name>
						<script>if matches[2]:find(target) then
  if ms.afflicted["frozen"] then
    notaff("frozen")
  elseif ms.afflicted["shivering"] then
	  notaff("shivering")
  else
    caloric = true
  end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) creases \w+ brow in concentration.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Salve on limb</name>
						<script>if matches[2]:find(target) then
	if matches[3] == "arms" then
		soa = soa + 1
		if soa &gt;= 2 then
			soa = tonumber(0)
			if lam and ram then
				lam = false
			elseif ram then
				ram = false
			elseif lam then
				lam = false
			end
		end
	elseif matches[3] == "legs" then
		sol = sol + 1
		if sol &gt;= 2 then
			sol = tonumber(0)
			if llm and rlm then
				llm = false
			elseif rlm then
				rlm = false
			elseif llm then
				llm = false
			end
		end
	end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) rubs some salve on \w+ (arms|legs).$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Emetic Pill</name>
						<script>if matches[2]:find(target) then
engineer = true
cured = false
epUsed = true
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if aff == "epilepsy" or aff == "weariness" or aff == "clumsiness" or aff == "slow herbs" or aff == "ineptude" or aff == "disloyalty" or aff == "slow balance" or aff == "slow equilibrium" or aff == "calotropis" or aff == "metrazol" or (aff == "sensitivity" and not glow) or aff == "disloyalty" or aff == "luminal" or aff == "recklessness" or aff == "slickness" or aff == "asthma" or aff == "anorexia" or aff == "numbness" or aff == "paralysis" or aff == "nausea" or aff == "sulfonal" then
			ms.afflicted[aff]="notaff"
			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
			if aff == "nausea" then disableTimer("nausea") end
			if aff == "asthma" and not fitnessUsed then instill = true end
			if aff == "slickness" and fitnessUsed then instill = true end
      		cured = true
			return
		end
	end
end
	if not cured then
		for aff,state in ms.afflicted:pairs() do
			if state == "aff" and not table.contains(ms.passives, aff) then
				ms.afflicted[aff] = "notaff"
				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
				cured = true;break
			end
		end
	end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) quickly eats an emetic pill.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Antipathetic Pill</name>
						<script>if matches[2]:find(target) then
engineer = true
cured = false
apUsed = true
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		if aff == "madness" or aff == "vertigo" or aff == "agoraphobia" or aff == "deadening" or aff == "hellsight" or aff == "addiction" or aff == "epilepsy" or aff == "confusion" or aff == "ignorance" or aff == "disloyalty" or aff == "claustrophobia" or aff == "paranoia" or aff == "dementia" or aff == "loneliness" or aff == "disloyalty" or aff == "stuttering" or aff == "hallucinations" or aff == "hypersomnia" or aff == "heroism" or aff == "recklessness" or aff == "anorexia" or aff == "masochism" or aff == "peace" then
			ms.afflicted[aff] = "notaff"
			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
			if aff == "masochism" then disableTimer("masochism") end
      		cured = true
			break
		end
	end
end
	if not cured then
		for aff,state in ms.afflicted:pairs() do
			if state == "aff" and not table.contains(ms.passives, aff) then
				ms.afflicted[aff] = "notaff"
				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
				cured = true;break
			end
		end
	end
if pta then enableTrigger("affPrompt") end
-- ukaf = ukaf - 1
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) quickly eats an antipathetic pill.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Crystal Tattoo</name>
						<script>if matches[2]:find(target) then
  hp = tonumber(100)
  msTA(matches[2])
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^A look of relief crosses (\w+)'s face as \w+ touches a crystal tattoo.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Spectacles</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Diag Other</name>
						<script>if matches[2]:find(target) then
probe = false
saf = tonumber(0)
for aff,state in ms.afflicted:pairs() do
	ms.afflicted[aff] = "notaff"
end
enableTrigger("affp")
end
bpCheck = true</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^(\w+) is\:$</string>
							<string>^(\w+) suffers from these afflictions\:$</string>
							<string>^You order .+ bat to probe the mind of (\w+).$</string>
							<string>^You use Supremacy Probe on (\w+).$</string>
							<string>^You take some blue bone dust, blow it lightly at (\w+) and watch its movement carefully.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>affp</name>
						<script>acount = tonumber(0)
ukaf = tonumber(0)
if matches[2] == "deaf" then
	deaf = true
else
  for aff,state in ms.afflicted:pairs() do
    if aff == matches[2] then
      ms.afflicted[aff] = "aff"
      saf = saf + 1
    end
  end
end
if matches[2]:find("poisoned blood") then bpCheck = false end
enableTrigger("affprompt")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^afflicted with (.+)\.$</string>
							<string>^(deaf)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>affprompt</name>
						<script>if bpCheck then bp = tonumber(0) end
forceAtk()
disableTrigger("affp")
disableTrigger("affprompt")</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>return isPrompt()</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>4</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bow Shield up</name>
					<script>shield = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(?:A|An) .+ arrow bounces off (\w+)'s shield.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Bow shield down</name>
					<script>shield = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^The arrow punches a hole through \w+'s shield, and it falls to the ground in ethereal shards.$</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Math Mapper</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Login</name>
					<script>raiseEvent("mmp logged in", "Imperian")
mmp.game = "imperian"
checkMSVersion()</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>Password correct. Welcome to Imperian.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Parse wholist MS</name>
					<script>selectCaptureGroup(2)
replace("")
mmp.locateAndEchoSideMS(matches[3])
 </script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>.+( \- [A-Z].+?\s*?) \- (.+)</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Consolidate Exits</name>
					<script>if not rtName:find("A twisting maze") then
  deleteLine()
  sys("&lt;SteelBlue&gt;Exits:")
    for exit, rn in pairsByKeys(gmcp.Room.Info.exits) do
      rn = tostring(rn)
      cechoLink("&lt;SteelBlue&gt;[&lt;snow&gt;"..exit.."&lt;SteelBlue&gt;] ", 'mmp.gotoRoom('..rn..')', string.format("Go to %s", rn), true)
    end
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^You see exits .+</string>
						<string>^You see a single exit</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>MS Allies</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>City Citizens</name>
					<script>enableTrigger("add ally")
tempPromptTrigger(function() disableTrigger("add ally") end, 1)</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The following are ACTIVE citizens of the City of Stavenn:</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>add ally</name>
					<script>if not table.contains(ms.allies, matches[2]) then
  expandAlias("msa "..matches[2])
end
</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>^(\w+)\s</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>1</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>Smithing</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName></packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Forge lit</name>
					<script>forge = true</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>You light the forge, and work the bellows until the fire within is burning brightly.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
					</regexCodePropertyList>
				</Trigger>
				<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>Forge died</name>
					<script>forge = false</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList>
						<string>The fires in the forge start to flicker and then burn out.</string>
						<string>The forge is dark and cold.</string>
						<string>A sturdy iron forge stands here, cold and dark.</string>
					</regexCodeList>
					<regexCodePropertyList>
						<integer>3</integer>
						<integer>3</integer>
						<integer>0</integer>
					</regexCodePropertyList>
				</Trigger>
			</TriggerGroup>
			<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
				<name>additional packages</name>
				<script></script>
				<triggerType>0</triggerType>
				<conditonLineDelta>0</conditonLineDelta>
				<mStayOpen>0</mStayOpen>
				<mCommand></mCommand>
				<packageName>additional packages</packageName>
				<mFgColor>#ff0000</mFgColor>
				<mBgColor>#ffff00</mBgColor>
				<mSoundFile></mSoundFile>
				<colorTriggerFgColor>#000000</colorTriggerFgColor>
				<colorTriggerBgColor>#000000</colorTriggerBgColor>
				<regexCodeList />
				<regexCodePropertyList />
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>mudlet-mapper-MS</name>
					<script>if exists("mudlet-mapper", "trigger")==1 then
  disableAlias("mudlet-mapper-MS")
end</script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Have to swim</name>
						<script>mmp.swim()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>There's water ahead of you. You'll have to swim in that direction to make it through.</string>
							<string>There's water ahead of you. You'll have to swim in that direction to make it </string>
							<string>There's water ahead of you. You'll have to SWIM </string>
							<string>You'll have to swim to make it through the water in that direction.</string>
							<string>The water is too deep for you to walk that way, you must swim.</string>
							<string>You'll have to SWIM</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
							<integer>2</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>2</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Rubble at the exit</name>
						<script>mmp.customwalkdelay(2)</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You begin to slowly clamber over the rubble that blocks your way.</string>
							<string>You begin to slowly clamber over a pile of rubble that blocks your way.</string>
							<string>You start plodding carefully across the constructed trenches.</string>
							<string>You struggle to climb over the snow drift in your way.</string>
							<string>You struggle to climb over the sand dune in your way.</string>
							<string>You slowly clamber over the rubble in your path.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Too quick</name>
						<script>if mmp.autowalking then
  mmp.hasty = true
  mmp.setmovetimer(0.5)
  mmp.deleteLineP()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>99</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>Now now, don't be so hasty!</string>
							<string>You can not move that fast!</string>
							<string>You cannot move that fast, slow down!</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Hobbling</name>
						<script>mmp.customwalkdelay(2)</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You slowly hobble</string>
							<string>The shot in your leg slows you as you hobble away.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>2</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Frozen</name>
						<script>mmp.customwalkdelay(2)</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You begin moving your frozen body slowly</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>2</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>People here</name>
						<script>mmp.pdb_lastupdate = {}</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You see the following people here:</string>
							<string>1</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>5</integer>
						</regexCodePropertyList>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Person</name>
							<script>for i = 1, #matches, 2 do
  mmp.pdb[matches[i]] = mmp.currentroomname
  mmp.pdb_lastupdate[matches[i]] = true
  raiseEvent("mmapper updated pdb")
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#aaff00</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>([A-Z][a-z]+)</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Retardation/aeon walk delay</name>
						<script>mmp.customwalkdelay(2)</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You move sluggishly into action.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Scent (Achaea+Imperian)</name>
						<script>mmp.roomEcho(matches[2]) </script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You detect traces of scent from (.+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Alertness (Achaea+Imperian)</name>
						<script>mmp.alertness = mmp.alertness or {}
local alertness = mmp.alertness

local roomexists, getRoomName, anytolong, matches, deleteLine = mmp.roomexists, getRoomName, mmp.anytolong, matches, deleteLine

if mmp.debug then
 mmp.alertnessTime = mmp.alertnessTime or createStopWatch()
 startStopWatch(mmp.alertnessTime)
end

if matches[4] ~= "location" then
  local longexitname = matches[4]
  alertness[longexitname] = alertness[longexitname] or {}
  alertness[longexitname][#alertness[longexitname]+1] = matches[2]
  deleteLine()
elseif matches[4] == "location" then
  local currentroomname = mmp.cleanroomname(mmp.currentroomname)
  if matches[3] == currentroomname then
    alertness.here = alertness.here or {}
    alertness.here[#alertness.here+1] = matches[2]
    deleteLine()
  end
end


if not mmp.firstAlert then
	mmp.firstAlert = true
	mmp.pdb_lastupdate = {}
end

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true

enableTrigger"Mudlet Mapper prompt trigger"

if mmp.debug then mmp.echo("alertness trigger for "..matches[2].." took "..stopStopWatch(mmp.alertnessTime).."s.") end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Your enhanced senses inform you that (\w+) has entered (.+?)(?:, to the| at your) (\w+)\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Mudlet Mapper prompt trigger</name>
						<script>-- to be enabled by functions that need it and disabled after it's done. Sort of like a cheap prompttrigger from Svo.
mmp.firstAlert = false
-- handle alertness
if mmp.alertness and next(mmp.alertness) then

  local dirs = {}
  for direction, _ in pairs(mmp.alertness) do dirs[#dirs+1] = direction end
  local people = select(2, next(mmp.alertness)) or {}

  moveCursor(0, getLineNumber())

  if ndb then
    local getcolor = ndb.getcolor
    for i = 1, #people do
      people[i] = getcolor(people[i])..people[i]
    end
  end

  cinsertText("&lt;red&gt;[&lt;cyan&gt;" .. table.concat(dirs, ', ') .. " &lt;red&gt;-"..(#dirs &gt; 1 and ("\n  ") or '').." &lt;white&gt;" .. ((svo and svo.concatand) and svo.concatand(people) or table.concat(people, ', ')) .. "&lt;cyan&gt; ("..#people..")&lt;red&gt;]\n")

  moveCursorEnd()

  mmp.alertness = nil

  raiseEvent("mmapper updated pdb")
end

-- reset names we last seen, so scripts can be efficient
-- not finished yet
--if next(mmp.pdb_lastupdate) then
--  mmp.pdb_lastupdate = {}
--end

disableTrigger"Mudlet Mapper prompt trigger"</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string></string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>7</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Wormhole</name>
						<script>mmp.customwalkdelay(4)</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>You hurl yourself forwards through the air, and sure enough a swirling vortex of colours springs into existence to swallow you.</string>
							<string>You reach out with the vibrating stick to probe for a wormhole, and as it connects with one, you are sucked through.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>No wormhole</name>
						<script>if mmp.speedWalkDir and mmp.speedWalkDir[mmp.speedWalkCounter] and mmp.speedWalkDir[mmp.speedWalkCounter]=="worm warp" then
  mmp.echo("Missing wormhole detected, locking wormhole and trying new path...")

  lockSpecialExit(mmp.currentroom, mmp.speedWalkPath[mmp.speedWalkCounter], "worm warp", true)

  local destination = mmp.speedWalkPath[#mmp.speedWalkPath]

  mmp.stop()

  mmp.clearpathcache() -- clear cache so mmp.getPath accounts for the new way

  if not mmp.getPath(mmp.currentroom, destination) then
    mmp.echo(string.format("Don't know how to get to %d (%s) anymore :( Move into a room we know of to continue", destination, getRoomName(destination)))
  else
    mmp.gotoRoom(destination)
  end
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>There is no wormhole here.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Achaea</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "Achaea")
mmp.game = "achaea"
mmp.echo("We're connected to Achaea.")</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Password correct. Welcome to Achaea.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>0</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Farsee initial</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You see that </string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Local farsee</name>
								<script>mmp.locateAndEcho(matches[3], matches[2], gmcp.Room.Info.area)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You see that (\w+) is at (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Veil farsee</name>
								<script>mmp.locateAndEcho(matches[3], matches[2], matches[4])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You see that (\w+) is located at (.+) in (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Entering wilderness</name>
							<script>mmp.customwalkdelay(6)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>99</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You begin to look for that place to enter the wilderness. It's around here somewhere!</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Icon enter/leave</name>
							<script>mmp.customwalkdelay(10)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You reach out and touch a powerful Icon. For a moment, nothing happens, but soon you feel a humming deep inside you.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Underworld root</name>
							<script>mmp.customwalkdelay(2)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>As you touch a huge grey root, you feel dark energies coursing up your hand and throughout your body.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Mindsense</name>
							<script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You seek out the mind of</string>
								<string>^You seek out the mind of (\w+) and an image of (.+) appears in your mind\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Destroyed room</name>
							<script>mmp.customwalkdelay(3)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your movement is slowed as you move through the decimated remains.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Underworld entry</name>
							<script>mmp.customwalkdelay(3)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>A huge grey root numbs your fingertips as you reach out to touch it.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Angel sense</name>
							<script>local t = mmp.getnums(multimatches[2][2], true)
if not t then return end
if #t == 1 then
	cecho(" &lt;orange_red&gt;("..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..")")
else
	cecho(" &lt;orange_red&gt;Maybe ("..mmp.cleanAreaName(mmp.areatabler[getRoomArea(t[1])])..")")
end
echo " "; mmp.echonums(multimatches[2][2])

mmp.temp_room = multimatches[2][2]</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your guardian angel senses </string>
								<string>^Your guardian angel senses .+? at (.+?),</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each person</name>
								<script>mmp.pdb[matches[2]] = mmp.temp_room
mmp.pdb_lastupdate[matches[2]] = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string> is with (\w+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop</name>
								<script>setTriggerStayOpen("Angel sense", 0)
mmp.temp_room = nil
raiseEvent("mmapper updated pdb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>99</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Dragonsense</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2], multimatches[2][4])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Tapping into the unfathomable depths of your power, you sense that</string>
								<string>Tapping into the unfathomable depths of your power, you sense that (\w+) is at (.+), in (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Defilement</name>
							<script>mmp.locateAndEchoSide(multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>(Order): </string>
								<string>^\(Order\): \w+'s Herald says, "A shrine is being defiled at (.+)!"$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Defiled</name>
							<script>mmp.locateAndEcho(multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>(Order):</string>
								<string>^\(Order\): \w+'s Herald says, "A shrine has been destroyed at (.+)!"$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>View</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You see</string>
								<string>^You see (\w+) at (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Elementalism scry</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You create a pool of water in the air in front of you and look through it, sensing</string>
								<string>You create a pool of water in the air in front of you and look through it, sensing (\w+) at (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Parse wholist</name>
							<script>-- this trigger should be off by default. It's inefficient and gets auto-enabled
-- when you check 'who'
mmp.locateAndEcho(matches[3], matches[2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>99</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^(\w+) +\((.+)\)$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Piety on astralform</name>
							<script>mmp.customwalkdelay(3)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>A rite of piety slows your movement as it pulls at your ephemeral body.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Angel/Demon presences</name>
							<script>disableTrigger("Angel sense")
disableTrigger("Demon sense")
mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You bid your guardian angel to seek out life presences nearby.</string>
								<string>You bid your Baalzadeen to seek out life presences nearby.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each person</name>
								<script>mmp.locateAndEchoSide(matches[3], matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Your guardian angel senses (\w+) at (.+?),</string>
									<string>^Your Baalzadeen senses (\w+) at (.+?),</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop (angel presences)</name>
								<script>setTriggerStayOpen("Angel/Demon presences", 0)
enableTrigger("Angel sense")
enableTrigger("Demon sense")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Demon sense</name>
							<script>mmp.locateAndEchoSide(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your Baalzadeen senses </string>
								<string>^Your Baalzadeen senses (\w+) at (.+), on a health of</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Annwyn circle</name>
							<script>mmp.customwalkdelay(12)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>The melody of a strange song rises unbidden to your lips as you skip around the circle of mushrooms.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Scrying bowl</name>
							<script>mmp.locateAndEcho(multimatches[3][3], multimatches[2][2], multimatches[3][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You dip your fingers into the cool water of the bowl, willing it to reveal the location of</string>
								<string>^You dip your fingers into the cool water of the bowl, willing it to reveal the location of (\w+)\.$</string>
								<string>^An image of (.+) appears reflected within the bowl, shifting with the rippling water to display (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Occultist entities</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>1000</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>The following entities reside on the Prime Material plane:</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each doppleganger</name>
								<script>mmp.locateAndEcho(matches[3], matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) is at (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop</name>
								<script>setTriggerStayOpen("Occultist entities", 0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Party traces/locaters</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>(Party):</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>regex (party locate)</name>
								<script>mmp.locateAndEcho(matches[3], matches[2], matches[4])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^\(Party\): \w+ says, "(\w+) moved to (.+)\."$</string>
									<string>^\(Party\): \w+ says, "(\w+) is at (.+), in (.+)\."</string>
									<string>^\(Party\): \w+ says, "Trace: (\w+) moved to (.+)\."</string>
									<string>^\(Party\): \w+ says, "(\w+) - (.+), in (.+)\."$</string>
									<string>^\(Party\): \w+ says, "(\w+) is at (.+) \(.+\)\."</string>
									<string>^\(Party\): \w+ says, "Trace: (\w+) entered (.+) in (.+)\."</string>
									<string>^\(Party\): \w+ says, "Trace: (\w+) entered (.+)\."</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Arena event (Achaea)</name>
							<script>mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>3</conditonLineDelta>
							<mStayOpen>1000</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Current event</string>
								<string>Player               Location</string>
								<string>----------------------------------------------------------------------</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>3</integer>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each person</name>
								<script>echo((" "):rep(60-#line))
echo"(" mmp.echonums(matches[3]) echo")"

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) +(.+)$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop (arena event)</name>
								<script>setTriggerStayOpen("Arena event (Achaea)", 0)

raiseEvent("mmapper updated pdb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Angel trace</name>
							<script>selectCurrentLine() replace("")
cecho("&lt;grey&gt;Angel trace: &lt;a_darkcyan&gt;"..multimatches[2][2].."&lt;grey&gt; moved to &lt;a_darkcyan&gt;" .. multimatches[2][3])
mmp.locateAndEchoInternal(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your guardian angel reports that</string>
								<string>^Your guardian angel reports that (\w+) has moved to (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>KoTH (mudlet mapper)</name>
							<script>mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>5</conditonLineDelta>
							<mStayOpen>1000</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Current event: King of the Hill</string>
								<string>5</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>5</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each person</name>
								<script>echo((" "):rep(60-#line))
echo"(" mmp.echonums(matches[3]) echo")"

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) .+? ([A-Z][a-z ]+?)$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop (koth)</name>
								<script>setTriggerStayOpen("KoTH (mudlet mapper)", 0)

raiseEvent("mmapper updated pdb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Fullsense (mudlet mapper)</name>
							<script>mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You seek out all mental presences within your reach:</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each person</name>
								<script>echo((" "):rep(60-#line))
echo"(" mmp.echonums(matches[3]) echo")"

mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sense (\w+) at (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop</name>
								<script>setTriggerStayOpen("Fullsense (mudlet mapper)", 0)

raiseEvent("mmapper updated pdb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Alchemist ether seek</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You reach out into the ether, folding it aside to reveal</string>
								<string>^You reach out into the ether, folding it aside to reveal (\w+)\. As you peer into the opening, the image of (.+) swims into view, then fades away as the ether seeps back into place\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Oppression Predator</name>
							<script>mmp.locateAndEchoSide(multimatches[3][3], multimatches[3][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your oppressive gaze sweeps across the land, seeking out your prey.</string>
								<string>1</string>
								<string>^You see that (\w+) (?:conquers|) at (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>5</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Allsight</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Allsight:</string>
								<string>^Allsight: (\w+) enters (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Polished skull locater</name>
							<script>mmp.locateAndEcho(matches[2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^An image of (.*) appears in your mind\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Downed shrine in Order logs</name>
							<script>local room = multimatches[2][2]

mmp.locateAndEcho(room)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>- A shrine at</string>
								<string>- A shrine at '(.+)' was destroyed\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>0</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>chrono divine</name>
							<script>mmp.locateAndEcho(multimatches[3][2], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Tapping into the timelines, you trace them to locate</string>
								<string>^Tapping into the timelines, you trace them to locate (\w+)\.$</string>
								<string>^You determine that s?he is at (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Shadow preeminence</name>
							<script>mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You cast your will out across the land, surveying all that stand within shadow's embrace.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each person</name>
								<script>mmp.locateAndEchoSide(matches[3], matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You sense (\w+) at (.+?)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>prompt</name>
								<script>setTriggerStayOpen("Shadow preeminence", 0)
enableTrigger("Shadow preeminence")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="yes" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Directory - Catch shop entry</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^((?:\d+)(?:mc|gp|cr).+)$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Make shop name clickable</name>
								<script>selectCaptureGroup(2)
replace("")
rooms = mmp.searchRoomExact(matches[2])
local roomnum=next(rooms,nil)
if roomnum == nil or next(rooms, roomnum) then
  cecho("&lt;white&gt;(&lt;sky_blue&gt;" .. matches[2] .. "&lt;white&gt;)")
else
  local r, g, b = unpack(color_table["cyan"])
  cecho("&lt;white&gt;(")
  setTextFormat("", 0, 0, 0, r, g, b, false, true, false)
  echoLink(matches[2], [[mmp.gotoRoom(]] .. roomnum .. [[)]], "Walk to " .. matches[2] .. ".", true)
  cecho("&lt;white&gt;)")
  resetFormat()
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^.{45} (.+)$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Aero Whisper</name>
							<script>mmp.locateAndEcho(matches[3], matches[2], matches[4])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^Whispering a request to the omnipresent winds, you sense that (\w+) is at (.+), in (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Soulmark Scry</name>
							<script>mmp.locateAndEcho(matches[3], matches[2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^Questing for the mark placed upon h(?:is|er) soul, you determine that (\w+) can be found at (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>City has orb of confinement</name>
							<script> -- disabled since the orb is now an rng chance and not a 100% blocker

local orbTable = mmp.getAchaeaOrbTable()
local areaID = getRoomArea(mmp.currentroom) or 0
if areaID == 0 or mmp.game ~= "achaea" then
  return
end
--don't know where we are
for city, areas in pairs(orbTable) do
  if table.contains(areas, areaID) then
    if not mmp.settings["orb" .. city] then
      mmp.settings:setOption("orb" .. city, true)
      mmp.inside = true
      raiseEvent("mmapper went inside")
      if mmp.autowalking then
        mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
      end
    end
    return
  end
end
if mmp.autowalking then
  mmp.stop()
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>A shimmering orb covers the city</string>
								<string>A shimmering orb covers the city, preventing you from rising to the skies.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Forestwatch</name>
							<script>mmp.locateAndEcho(matches[3], matches[2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^(\w+) has entered the forest at (.+)\.$</string>
								<string>^(\w+) leaves the forest from (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Grove Eyes</name>
							<script>mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You detect the following people disturbing the tranquility of the forest.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each person</name>
								<script>mmp.locateAndEchoSide(matches[3], matches[2])</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) at (.+?)$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>prompt</name>
								<script>setTriggerStayOpen("Grove Eyes", 0)
enableTrigger("Grove Eyes")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Aetolia</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>1</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "Aetolia")
mmp.game = "aetolia"</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>99</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Password correct. Welcome to Aetolia.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Aetolia Survey</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>10</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You discern that you are standing in </string>
								<string>You stand, brilliantly illuminated, within</string>
								<string>You are standing </string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>2</integer>
								<integer>2</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Grab continent</name>
								<script>mmp.aetoliaContinent = matches[2]</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You stand upon (.+?)(\.|,)</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Grab Plane</name>
								<script>mmp.aetoliaPlane = matches[2]</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You are in (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Aetolia Gag Survey</name>
								<script>deleteLine()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>return true</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>4</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Close Aetolia Survey</name>
								<script>setTriggerStayOpen("Aetolia Survey",0)
disableTrigger("Aetolia Gag Survey")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>mmp Aetolia Scent</name>
							<script>mmp.tempscent = {}
mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You tilt your head back and deeply inhale any scents from the air.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Got line</name>
								<script>selectString(line, 1) replace""

-- get the name
cecho("&lt;green&gt;"..matches[2].."&lt;reset&gt;: ")

-- ids
mmp.echonums(matches[3])

-- pad spaces so we have aligned roomname
echo(string.rep(" ", 25 - #getCurrentLine()))

-- and finally, the roomname
echo(matches[3])


if mmp.tempscent[matches[3]] then
	mmp.tempscent[matches[3]][#mmp.tempscent[matches[3]]+1] = matches[2]
else
	mmp.tempscent[matches[3]] = {matches[2]}
end

-- save in our person tracking db
mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You pick up the faint scent of (\w+) at (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>stop capturing</name>
								<script>setTriggerStayOpen("mmp Aetolia Scent", 0)
raiseEvent("mmapper updated pdb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Arrow wounds</name>
							<script>mmp.customwalkdelay(2)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You clutch your wounds and slowly make your way to the </string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Backstabbed</name>
							<script>mmp.customwalkdelay(2)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your injured back delays your movement.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Asteria</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "Asteria")
mmp.game = "asteria"</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>99</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Welcome to Asteria.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Dragonswords</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "dragonswords")
mmp.game = "dragonswords"
mmp.echo("We're connected to Dragon Swords.")</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Welcome to Dragon Swords.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Lusternia</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "Lusternia")
mmp.game = "lusternia"</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>5</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>                        A G E  O F  A S C E N S I O N</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>mmp Lusternia Scent</name>
							<script>mmp.tempscent = {}
mmp.pdb_lastupdate = {}</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>99</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You scent at the air, your skilled nose picking up the faint traces of others in the surrounding area.</string>
								<string>You snort and snuffle at the air, sensing through a ridiculous pig nose upon your face the faint traces of others in the surrounding area.</string>
								<string>A pert little nose takes in a delicate whiff of your surroundings, sensing the faint traces of others in the nearby area.</string>
								<string>You tilt back your head and inhale deeply through your nose, the whiskers of a wolf's snout upon your face twitching as you sense the faint traces of others in the surrounding area.</string>
								<string>You flutter your nose at the air, sensing through a cute little rabbit nose upon your face the faint traces of others in the surrounding area.</string>
								<string>You sniff disdainfully at the air with a snobby snoot, wrinkling your nose as you sense the faint traces of others in the nearby area.</string>
								<string>Your snout twitches and trembles at the air, sensing through a striped badger nose upon your face the faint traces of others in the surrounding area.</string>
								<string>You twitch your snout and scent the air, sensing through a scaled fink nose upon your face the faint traces of others in the surrounding area.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Got line</name>
								<script>--deleteLine()

selectString(line, 1) replace""

-- get the name
cecho("&lt;green&gt;"..matches[2].."&lt;reset&gt;: ")

-- ids
mmp.echonums(matches[3])

-- pad spaces so we have aligned roomname
echo(string.rep(" ", 25 - #getCurrentLine()))

-- and finally, the roomname
echo(matches[3])


if mmp.tempscent[matches[3]] then
	mmp.tempscent[matches[3]][#mmp.tempscent[matches[3]]+1] = matches[2]
else
	mmp.tempscent[matches[3]] = {matches[2]}
end

-- save in our person tracking db
mmp.pdb[matches[2]] = matches[3]
mmp.pdb_lastupdate[matches[2]] = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You make out the scent of (\w+) coming from (.+)\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop capturing</name>
								<script>setTriggerStayOpen("mmp Lusternia Scent", 0)

--[[for area, names in pairs(mmp.tempscent) do
	for _, name in ipairs(names) do

-- get the name
cecho("\n&lt;green&gt;"..name.."&lt;reset&gt;: ")

-- ids
mmp.echonums(area)

-- pad spaces so we have aligned roomname
echo(string.rep(" ", 25))

-- and finally, the roomname
echo(area)
end
end]]


raiseEvent("mmapper updated pdb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>mmp Lusternia kaleidoscope</name>
							<script>mmp.tempscent = {}
mmp.pdb_lastupdate = {}

</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>100</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You hold a kaleidoscopic telescope to your eye, you twist the end and stare intently through its twinkling surfaces.</string>
								<string>Through the glittering faceted planes, you see:</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Got line</name>
								<script>local person, room = matches[2], matches[3]:trim()


selectString(line, 1) replace""

-- get the name
cecho("&lt;green&gt;"..person.."&lt;reset&gt;: ")

-- ids
--mmp.echonums()

-- pad spaces so we have aligned roomname
echo(string.rep(" ", 13 - #getCurrentLine()))

-- and finally, the roomname
echo(room)

mmp.locateAndEchoSide(room, person)


if mmp.tempscent[room] then
	mmp.tempscent[room][#mmp.tempscent[room]+1] = person
else
	mmp.tempscent[room] = {person}
end

-- save in our person tracking db
mmp.pdb[person] = room
mmp.pdb_lastupdate[person] = true</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) - ([^\(]+)</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop capturing</name>
								<script>setTriggerStayOpen("mmp Lusternia kaleidoscope", 0)

--[[for area, names in pairs(mmp.tempscent) do
	for _, name in ipairs(names) do

-- get the name
cecho("\n&lt;green&gt;"..name.."&lt;reset&gt;: ")

-- ids
mmp.echonums(area)

-- pad spaces so we have aligned roomname
echo(string.rep(" ", 25))

-- and finally, the roomname
echo(area)
end
end]]


raiseEvent("mmapper updated pdb")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Deathsight</name>
							<script>mmp.locateAndEcho(multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You see the death occur at</string>
								<string>^You see the death occur at (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Wildnodes nodes</name>
							<script>mmp.locateAndEcho(matches[2]:sub(1,1):lower()..string.sub(matches[2], 2))</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>99</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^\(Planted\) Node \d+ - (.*)\.$</string>
								<string>^ +Node \d+ - (.*)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Window search</name>
							<script>mmp.locateAndEcho(matches[4], matches[2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>39</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You open up a window in the cosmic fabric and search out (\w+). Through the cosmic window, you see (\w+) at (.+?)(?: \(.*\))?\.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Scry search</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You rub .* and it begins to glow with a pulsating light\.$</string>
								<string>Within the enchanted item, an image forms of (\w+) at (.+?)(?: \(.*\))?\.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Map artefact</name>
							<script>mmp.gotoRoom(multimatches[4][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>3</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>As you inscribe the name of </string>
								<string>^As you inscribe the name of \w+ with a flourish, lines crawl across the surface of the map, centered upon (.*)\.$</string>
								<string>You see the following in detail:</string>
								<string>v(\d+)</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
								<integer>3</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Masquerade ball snowglobe</name>
							<script>mmp.gotoRoom(multimatches[3][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>2</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You trace the name of \w+ on the surface of a splendid masquerade ball snowglobe, and then shake the globe vigorously\. As the swirling particles within clear, you see the vague outline of .+?\.$</string>
								<string>You see the following in detail:</string>
								<string>v(\d+)</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>3</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>map scry</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>As you inscribe the name of</string>
								<string>^As you inscribe the name of (\w+) with a flourish, lines crawl across the surface of the map, centered upon (.*)\.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>World events</name>
							<script>mmp.locateAndEcho(matches[2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^The Staff of Ascension is at (.*)\.$</string>
								<string>^The Purple Hamster of Chaos is at (.*)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Seeing stone</name>
							<script>mmp.locateAndEcho(multimatches[3][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>3</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You gaze into a seeing stone.</string>
								<string>1</string>
								<string>^(.*)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>5</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Birdseye</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>From your vantage point in the sky, your crow senses perceive that</string>
								<string>^From your vantage point in the sky, your crow senses perceive that (\w+) is (.*) within the vicinity of (.*)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Bond look</name>
							<script>mmp.locateAndEcho(multimatches[3][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>3</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You look through the mind of (.*)\:$</string>
								<string>1</string>
								<string>^(.*)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>5</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Pyramid probe #</name>
							<script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo"\n"

if #t == 1 then
	cecho("&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
else
	cecho("&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of</string>
								<string>^You lightly caress a button on a paradox puzzle pyramid and suddenly a hazy image of (.*) flashes momentarily in front of you\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Pentagon probe #</name>
							<script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo"\n"

if #t == 1 then
	cecho("&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
else
	cecho("&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of</string>
								<string>^You lightly caress a button on a paradox puzzle pentagon and suddenly a hazy image of (.+) \(room \#\d+\) flashes momentarily in front of you\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Pyramid port</name>
							<script>local t = mmp.getnums(multimatches[2][2])
if not t then return end

echo"\n"

if #t == 1 then
	cecho("&lt;red&gt;Porting to &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
else
	cecho("&lt;red&gt;Might be porting to &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;.")
end	</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of</string>
								<string>^Your hands become a blur as you twist and turn a paradox puzzle pyramid until each side is made up of the same colour, solving the puzzle in mere moments. Suddenly the image of (.*) appears in the back of your mind and you feel drawn towards it\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Pyramid probe</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>99</conditonLineDelta>
							<mStayOpen>4</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You lightly caress a few buttons on a paradox puzzle pyramid and suddenly a series of hazy images flashes momentarily in front of you.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Each location</name>
								<script>local t = mmp.getnums(matches[2])
if not t then return end

if #t == 1 then
	cecho("&lt;red&gt; (in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;)")
else
	cecho("&lt;red&gt; (might be in &lt;orange_red&gt;"..mmp.areatabler[getRoomArea(t[1])].."&lt;red&gt;)")
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^Puzzle point \d+ is set to (.+) \(</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Astrology scry</name>
							<script>mmp.locateAndEcho(multimatches[2][3], multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Gazing up at the sky, you bring the image of</string>
								<string>^Gazing up at the sky, you bring the image of (\w+) into your mind's eye and overlay it on the constellations\. The power of the stars manifests as an image of (.+?) forms before your eyes\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Tierstone</name>
							<script>mmp.locateAndEcho(multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You gaze into a glittering tierstone.</string>
								<string>^\w+ is at (.+?) in (.*)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Quicksand</name>
							<script>mmp.customwalkdelay(4)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You struggle slowly through the quicksand as you move</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Gravity</name>
							<script>mmp.customwalkdelay(4)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>The dragging force of a war shrine of</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Crow spy</name>
							<script>mmp.locateAndEcho(multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>An image of</string>
								<string>^An image of \w+ (?:entering|leaving) (.+?) appears in the centre of the nest\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Crow spy remote</name>
							<script>mmp.locateAndEcho(multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your nest projects into your head an image</string>
								<string>^Your nest projects into your head an image of \w+ (?:entering|exiting) (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Chemwood walk delay</name>
							<script>mmp.customwalkdelay(2)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You struggle to push through \w+'s thick, swirling mists\.$</string>
								<string>^You struggle to move with \w+'s amplified fields disrupting your muscular impulses, but you stumble determinedly in an effort to leave\.$</string>
								<string>^\w+'s whirling leaves harry you as you try to leave, slowing your egress\.$</string>
								<string>^You begin moving through the thick, swirling flurries of \w+'s spores\.$</string>
								<string>You stumble through the thick smog, coughing and sputtering as you try to find cleaner air.</string>
								<string>^You stumble around stupidly as \w+'s mind-dulling effluvia seeps into you, fighting against a strangely dull mind to make your legs take you out of here\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>3</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>City/commune shops menu</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>3</conditonLineDelta>
							<mStayOpen>500</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>[ Local shops selling</string>
								<string>3</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>0</integer>
								<integer>5</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shop</name>
								<script>local shop = line:sub(1, 25):trim()
if shop:sub(1,1) == '*' then return end

cecho("  &lt;orange_red&gt;(")
mmp.echonums(shop)
cecho("&lt;orange_red&gt;)")</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Stop (city/commune shops menu)</name>
								<script>setTriggerStayOpen("City/commune shops menu", 0)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string></string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>7</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Rifts and Paths</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Successful transverse</name>
								<script>if mmp.game~= "lusternia" then return end
if validTransverse then
  mmp.registerTransverseExit()
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You (place your hands on|reach out to) .+ and find the link to .+\. Pulsating energy flares throughout your field of vision, and you find yourself tumbling through the aether pathways\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Failed transverse</name>
								<script>if mmp.game~= "lusternia" then return end
mmp.clearTransverse()
validTransverse = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cannot find a planar gate here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Successful pathfind</name>
								<script>if mmp.game~= "lusternia" then return end
if validTransverse then
  mmp.clearPathfind()
  mmp.registerPathfind()
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You squat down and narrow your eyes, finally finding a mystic pathway that twists and turns in the distance. Before it slips away, you dash forward and rush along its winding tracks.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>failed pathfind</name>
								<script>if mmp.game~= "lusternia" then return end
mmp.clearPathfind()
validTransverse = false</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You cannot find a pathway here.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Forced Movement</name>
							<script>if mmp.autowalking then
  mmp.hasty = true
  mmp.setmovetimer(0.5)
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>The soft ground around you suddenly gives way and you find yourself sliding down a muddy embankment, ending up in an undignified heap on the floor of a dark chamber.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Delayed bix movement.</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Teleport Delays</name>
								<script>mmp.customwalkdelay(10)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>You run your fingers across the surface of .* and still your mind, preparing for the journey ahead.</string>
									<string>^You reach out and touch the \w+-facing landmark of the Compass of the Basin, and the spinning needle within fixes on that direction. The compass begins vibrating sympathetically with strands of aether\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Immediately retry on failed teleport</name>
								<script>if mmp.autowalking then
  mmp.customwalkdelay(0)
  mmp.move()
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Your action disrupts your concentration and you cease reaching out to harness</string>
									<string>You cease concentrating on traveling the planar paths.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>2</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Imperian</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>99</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "Imperian")
mmp.game = "imperian"</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Password correct. Welcome to Imperian.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Wormholes</name>
							<script>local room1 = mmp.roomEcho(multimatches[2][2])
local room2 = mmp.roomEcho(multimatches[2][3])
selectCurrentLine()
replace("")
mmp.echon("Stable wormhole between " .. room1)
mmp.roomEcho(room1)
echo(" and " .. room2)
mmp.roomEcho(room2)
echo(".\n")</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You sense a stable wormhole between</string>
								<string>^You sense a stable wormhole between (.+?) and (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Personal wormholes</name>
							<script>selectCurrentLine()
replace("")
mmp.echon("Personal wormhole at " .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(". It is attached to " .. multimatches[2][3] .. ".\n")</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You sense a personal wormhole at</string>
								<string>^You sense a personal wormhole at (.+). It is attached to (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Parse wholist</name>
							<script>selectCaptureGroup(2)
replace("")
mmp.roomEcho(matches[3])
 </script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>.+( \- [A-Z].+?\s*?) \- (.+)</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Trap went off</name>
							<script>selectCurrentLine()
replace("")
mmp.echon("Your trap at " .. multimatches[2][2])
mmp.roomEcho(multimatches[2][2])
echo(" was set off by " .. multimatches[2][3] .. "!!!\n")</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Your alarm at</string>
								<string>^Your alarm at \'(.+)\' has been set off by (\w+)\!$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Trap List</name>
							<script>-- the first pattern is not blank, there are spaces there

selectCurrentLine()
replace("")
echo("[" .. multimatches[2][2] .. "] (" .. multimatches[2][3] .. ") at " .. multimatches[2][4])
mmp.roomEcho(multimatches[2][4]) </script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>   </string>
								<string>^   (\w+) \((\w+)\) at (.+)$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Scout</name>
							<script>-- bad, overzealous trigger - the pattern needs to be improved
mmp.roomEcho(multimatches[2][2]) </script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>   </string>
								<string>^   .+ at (.+)$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="no" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Hunt</name>
							<script>selectCurrentLine()
replace("")
cecho("&lt;chocolate&gt;" .. matches[2] .. "&lt;grey&gt; moved to &lt;sienna&gt;" .. matches[3] .. ", &lt;white&gt;" ..matches[4])
mmp.roomEcho(matches[3]) </script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^You sense that (\w+) has entered (.+)\, (.+)\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Sewer grate</name>
							<script>mmp.enterGrate()</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>A sewer grate prevents you from moving down into the sewers.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Caravan</name>
							<script>mmp.customwalkdelay(15)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You begin leading a caravan</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Starmourn</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>99</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Lifts</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>No Lift to ENTER</name>
								<script>mmp.customwalkdelay(15)</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The interface changes color, calling the lift car to your location.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lift moving</name>
								<script>if mmp.autowalking then
	mmp.customwalkdelay(15)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The ground beneath your feet seems to shift for a split second as the lift begins to move.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lift at correct floor</name>
								<script>if mmp.autowalking then
	mmp.liftFloor(nil,nil,true)
	mmp.customwalkdelay(0)
	mmp.deleteLineP()
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Nothing happens, as the lift is already at the requested destination.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lift arrival (inside)</name>
								<script>if mmp.autowalking then
	send("KEY LIFT", false)
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The lift comes to a complete stop, a ping echoing from the control interface. You can now EXIT LIFT.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lift arrival (outside)</name>
								<script>mmp.customwalkdelay(0)
mmp.move()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>An indicator light flashes above the lift as it arrives at this floor. You can ENTER LIFT to board the lift.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lift interaction failed</name>
								<script>mmp.customwalkdelay(6)
mmp.deleteLineP()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The lift is currently in motion and the interface is locked down.</string>
									<string>You may not exit the lift while it is in motion if you wish to remain in one piece.</string>
									<string>The lift is already moving, further attempts will not speed up the process.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
									<integer>3</integer>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>KEY LIFT table</name>
								<script>if mmp.autowalking then
	mmp.deleteLineP()
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>30</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>Linking into the interface of lift network</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>2</integer>
								</regexCodePropertyList>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>each lift floor</name>
									<script>if mmp.autowalking then
  if matches[4] == "HERE" then
  	mmp.liftFloor(matches[3],matches[2],true)
		mmp.correctLiftFloor = true
  else
		if not mmp.correctLiftFloor then
  		mmp.liftFloor(matches[3],matches[2],false)
		end
  end
	mmp.deleteLineP()
end</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string>\((\d)\).+"(.+)"(?:\s\[)?(HERE)?(?:]\s)?</string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>1</integer>
									</regexCodePropertyList>
								</Trigger>
								<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
									<name>Stop (Key Lift)</name>
									<script>setTriggerStayOpen("KEY LIFT table", 0)
mmp.correctLiftFloor = nil</script>
									<triggerType>0</triggerType>
									<conditonLineDelta>0</conditonLineDelta>
									<mStayOpen>0</mStayOpen>
									<mCommand></mCommand>
									<packageName></packageName>
									<mFgColor>#ff0000</mFgColor>
									<mBgColor>#ffff00</mBgColor>
									<mSoundFile></mSoundFile>
									<colorTriggerFgColor>#000000</colorTriggerFgColor>
									<colorTriggerBgColor>#000000</colorTriggerBgColor>
									<regexCodeList>
										<string></string>
									</regexCodeList>
									<regexCodePropertyList>
										<integer>7</integer>
									</regexCodePropertyList>
								</Trigger>
							</Trigger>
						</TriggerGroup>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "Starmourn")
mmp.game = "starmourn"</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Please enter the name of your Starmourn character.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Path Blocked</name>
							<script>mmp.failpath()</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>^.+ blocks your attempt to leave. You can attempt to CRASH \w+ to escape\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Flying</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>move indoors failed by flying</name>
							<script>--this will force land
--may be preferable to fail pathfinding or have option to determine users desire

if mmp.game == "starmourn" then
		send("queue land")
		mmp.customwalkdelay(4)
end
</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You must land before you can move indoors.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Wait for landing</name>
							<script>mmp.customwalkdelay(4)</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You continue your descent.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Lithmeria</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "Lithmeria")
mmp.game = "lithmeria"
mmp.echo("We're connected to Lithmeria.")</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>Welcome to your account!</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>StickMUD</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Login</name>
							<script>raiseEvent("mmp logged in", "StickMUD")
mmp.game = "stickmud"
mmp.echo("We're connected to StickMUD.")</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>StickMUD rebooted</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Wall</name>
						<script>mmp.failpath()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>A wall blocks your way.</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>3</integer>
						</regexCodePropertyList>
					</Trigger>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Doors</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Closing doors</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>1</conditonLineDelta>
							<mStayOpen>1</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You open the door to the</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
							</regexCodePropertyList>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Lack of piety</name>
								<script>mmp.failpath()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^You try to open the door to the (\w+) but find it slams closed in your face, symbolic of your lack of piety\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Slam Shut</name>
								<script>mmp.failpath()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>1</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The door slams shut!</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Denied entry</name>
								<script>mmp.failpath()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The door suddenly slams shut, denying you entry.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>CIJ</name>
								<script>mmp.failpath()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>A section of the door slides aside, and a rubber-gloved fist on a spring pops out and punches you in the nose!</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Springs back</name>
								<script>mmp.failpath()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The door budges, and then springs immediately back into place.</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Bolted</name>
								<script>mmp.failpath()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^The door to the (\w+) is closed forcefully from the other side and the sound of a bolt being slammed home makes your lack of admittance clear\.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Self-closing door</name>
								<script>mmp.failpath()</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>The door closes swiftly with a loud 'BANG'!</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>3</integer>
								</regexCodePropertyList>
							</Trigger>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Door closed</name>
							<script>mmp.failpath()</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>2</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You open the door to the</string>
								<string></string>
								<string>^The door to the \w+ closes with a click\.$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>7</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Failed to open door</name>
							<script>mmp.failpath()

</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You are not carrying a key for this door.</string>
								<string>This door has been magically locked shut.</string>
								<string>Not recognising you as cast or crew, stagehands firmly close the door on you.</string>
								<string>You push against the door in vain as you try to open it.</string>
								<string>You do not have access to open this door.</string>
								<string>The door beeps quietly. It appears to be locked.</string>
								<string>This (?:walnut|pine|oak|iron|reinforced) door has been magically locked shut\.</string>
								<string>You are not carrying a key for this (?:walnut|pine|oak|iron|reinforced) door\.</string>
								<string>The door has been magically locked shut.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>3</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Door Locked</name>
							<script>mmp.unlockDoor()</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>The door is locked.</string>
								<string>The (?:walnut|pine|oak|iron|reinforced) door is locked\.</string>
								<string>The door is locked shut.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>3</integer>
								<integer>1</integer>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Door in the way</name>
							<script>mmp.openDoor()</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>There is a door in the way, to the</string>
								<string>There is a door in the way.</string>
								<string>A closed door is in the way. You need to OPEN DOOR</string>
								<string>There is an? (?:walnut|pine|oak|iron|reinforced) door in the way.</string>
								<string>The door to the (\w+) is closed.</string>
								<string>There is a closed door in the way.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>3</integer>
								<integer>2</integer>
								<integer>1</integer>
								<integer>1</integer>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Wormholes</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Worm sources</name>
							<script>deleteLine()
local from,fromhouse = multimatches[2][2]:gsub(" %(house%)","")
local to,tohouse = multimatches[2][3]:gsub(" %(house%)","")
if fromhouse &gt;= 1 then fromhouse = " (house)" else fromhouse = "" end
if tohouse &gt;= 1 then tohouse = " (house)" else tohouse = "" end
cecho("\nYou see a connection between ".. from .. fromhouse .. " (")
mmp.echonums(from, gmcp.Room.Info.area)
cecho(") and "..to..tohouse.." (")
mmp.echonums(to)
cecho(")")
</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You sense a connection between</string>
								<string>^You sense a connection between (.*) and (.*).$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Worm seek</name>
							<script>mmp.locateAndEcho(multimatches[2][2])</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You sense a wormhole leading to</string>
								<string>^You sense a wormhole leading to (.*).$</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>1</integer>
							</regexCodePropertyList>
						</Trigger>
						<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Wormhole Vision™</name>
							<script>--if not getSpecialExitsSwap or mmp.settings.lockwormholes then return end
if not getSpecialExitsSwap then return end

local exits = getSpecialExitsSwap(mmp.currentroom)
if exits and exits["worm warp"] then
  cecho(string.format("\n&lt;DarkSlateGrey&gt;A wormhole is here, leading to: &lt;orange_red&gt;%s (#%d)&lt;DarkSlateGrey&gt; in %s.\n", getRoomName(exits["worm warp"]), exits["worm warp"], mmp.cleanAreaName(mmp.getAreaName(exits["worm warp"]))))
end</script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList>
								<string>You see exits</string>
								<string>You see a single exit</string>
								<string>There are no obvious exits.</string>
							</regexCodeList>
							<regexCodePropertyList>
								<integer>2</integer>
								<integer>2</integer>
								<integer>3</integer>
							</regexCodePropertyList>
						</Trigger>
					</TriggerGroup>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>YATCO-23</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName>YATCO-23</packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Demonnic</name>
						<script></script>
						<triggerType>0</triggerType>
						<conditonLineDelta>39</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList />
						<regexCodePropertyList />
						<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
							<name>Tabbed Chat</name>
							<script></script>
							<triggerType>0</triggerType>
							<conditonLineDelta>0</conditonLineDelta>
							<mStayOpen>0</mStayOpen>
							<mCommand></mCommand>
							<packageName></packageName>
							<mFgColor>#ff0000</mFgColor>
							<mBgColor>#ffff00</mBgColor>
							<mSoundFile></mSoundFile>
							<colorTriggerFgColor>#000000</colorTriggerFgColor>
							<colorTriggerBgColor>#000000</colorTriggerBgColor>
							<regexCodeList />
							<regexCodePropertyList />
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="yes" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Speech Channel</name>
								<script>copy();demonnic.chat:append("Speech")
deselect()
resetFormat()
if not matches[2] then
	deleteLine()
	cecho(" &lt;OrangeRed&gt;"..matches[1])
end
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ffff00</mFgColor>
								<mBgColor>#000000</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#ffff00</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^(\w+) tells you, \"(.+)\"$</string>
									<string>^(You) tell (.+), \"(.+)\"$</string>
									<string>^.+\s(\w+) tells you, \"(.+)\"$</string>
									<string>^.+\s(\w+) tells you, in .+, \"(.+)\"$</string>
									<string>^(\w+) tells you, in .+, \"(.+)\"$</string>
									<string>^\w+ tells \w+, \".+\"$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="yes" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Says</name>
								<script>copy();demonnic.chat:append("Speech")
deselect()
resetFormat()
--light cyan, black</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#00ffff</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>FG13BG2</string>
									<string>^.+\, \".+\"$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>6</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="yes" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Deaths</name>
								<script>if string.find(matches[1], 'slain by') or string.find(matches[1], "has been executed") or string.find(matches[1], "to death by") or string.find(matches[1], 'killed by') or string.find(matches[1], 'has been slain') then 
  demonnic.chat:append("Deaths")
  deselect()
  resetFormat()
--red, black
end</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#800000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>FG4BG2</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>6</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Chat Window</name>
								<script>selectCaptureGroup(2)
if matches[2]:find("Ring") then replace(matches[2]:upper(), fg("green"))
else replace(matches[2]:upper(), fg("SteelBlue"))
end
if matches[2] == ms.city then copy();demonnic.chat:append("Circle")
elseif matches[2] == ms.guild then copy();demonnic.chat:append("Circle")
elseif matches[2] == "Ring" then copy();demonnic.chat:append("Ring")
elseif matches[2] == "Market" then copy();demonnic.chat:append("Market")
elseif matches[4] then
  local txt = matches[4]:lower()
  if not txt:find("afflicted") then
    copy();demonnic.chat:append("Clans")
  end
else
  copy();demonnic.chat:append("Clans")
end
deselect()
resetFormat()
</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#000000</colorTriggerFgColor>
								<colorTriggerBgColor>#000000</colorTriggerBgColor>
								<regexCodeList>
									<string>^\((\w+)\)\: (.+) says?, (\".+\")$</string>
									<string>^\&lt;\&lt;(\w+)\&gt;\&gt;\: (.+) says?, (\".+\")$</string>
									<string>^\((\w+)\)\: .+ has left your ring\.$</string>
									<string>^\((\w+)\)\: \w+ has invited \w+ to join your ring.$</string>
									<string>^\((\w+)\)\: \w+ has joined your ring.$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
							<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="yes" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="yes" isColorTriggerFg="no" isColorTriggerBg="no">
								<name>Shouts</name>
								<script>copy();demonnic.chat:append("Shouts")
deselect()
resetFormat()
--light cyan, blue</script>
								<triggerType>0</triggerType>
								<conditonLineDelta>0</conditonLineDelta>
								<mStayOpen>0</mStayOpen>
								<mCommand></mCommand>
								<packageName></packageName>
								<mFgColor>#ff0000</mFgColor>
								<mBgColor>#ffff00</mBgColor>
								<mSoundFile></mSoundFile>
								<colorTriggerFgColor>#00ffff</colorTriggerFgColor>
								<colorTriggerBgColor>#000080</colorTriggerBgColor>
								<regexCodeList>
									<string>FG13BG10</string>
									<string>^.+\, \".+\"$</string>
								</regexCodeList>
								<regexCodePropertyList>
									<integer>6</integer>
									<integer>1</integer>
								</regexCodePropertyList>
							</Trigger>
						</TriggerGroup>
					</TriggerGroup>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>date plant subbing</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>39</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>date line 2 gag</name>
						<script>deleteLine()</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^\w+[,|] the \d+\w+ of \w+, in the year \d+.$</string>
							<string>^the \d+\w+ of \w+, in the year \d+.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>plant date trigger</name>
						<script>deleteLine()
local outputstring = ""
echo("\nIt is the "..matches[2]..matches[3].." day of "..matches[4]..".")
echo("\nIt is the "..months[matches[4]].." of "..matches[5]..".\n")
for k,v in pairs(plantdb) do
--	echo(v["letum"]==false and "false" or "true")
	if v[string.lower(matches[4])] then
			outputstring = outputstring.."\n"..string.format("| %13s | %11s |",k,plantloc[k])
	end
end
if outputstring~="" then
	echo("\n+-----------------------------+\n|  Plants grown this month:   |\n+-----------------------------+\n|     Plant     | Environment |\n+---------------+-------------+"..outputstring.."\n+---------------+-------------+")
else
	echo("No plants grow this month.")
end
</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>39</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Today is the (\d+)(\w+) day of (\w+), in the year (\d+) AD.+$</string>
							<string>^Today is the (\d+)(\w+) day of (\w+).+, in the year (\d+) AM. In your world it is \w+, the .+ of \w+, in the year \d+.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>crit counter</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName></packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Damage dealt</name>
						<script>attackCounter = attackCounter + 1</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^Damage dealt: \d+</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>CritX4</name>
						<script>critX4 = critX4 + 1
totalCrits = totalCrits + 1
deleteLine()
critx = 4</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>39</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You have scored a hit on the vitals of your enemy!$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>critX16</name>
						<script>critX16 = critX16 + 1
totalCrits = totalCrits + 1
deleteLine()
critx = 16</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>39</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You have scored a shockingly powerful blow!$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>critX2</name>
						<script>critX2 = critX2 + 1
totalCrits = totalCrits + 1
deleteLine()
critx = 2</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>39</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You have scored a staggering blow!$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>critX8</name>
						<script>critX8 = critX8 + 1
totalCrits = totalCrits + 1
deleteLine()
critx = 8</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>39</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You have scored a surprisingly effective hit!$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>critX32</name>
						<script>critX32 = critX32 + 1
totalCrits = totalCrits + 1
deleteLine()
critx = 32</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>39</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You have scored an awe inspiring hit to your target!!!$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Critx 0</name>
						<script>critx = 0</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#ff0000</mFgColor>
						<mBgColor>#ffff00</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>^You stab .+ quickly with .+ daegger.$</string>
							<string>^Ice encases .+ daegger as you stab .+.$</string>
							<string>^Blood and gore flying, you repeatedly stab .+ with .+\.$</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
							<integer>1</integer>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
				<TriggerGroup isActive="yes" isFolder="yes" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="no" isColorizerTrigger="no" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
					<name>clickableURLs</name>
					<script></script>
					<triggerType>0</triggerType>
					<conditonLineDelta>0</conditonLineDelta>
					<mStayOpen>0</mStayOpen>
					<mCommand></mCommand>
					<packageName>clickableURLs</packageName>
					<mFgColor>#ff0000</mFgColor>
					<mBgColor>#ffff00</mBgColor>
					<mSoundFile></mSoundFile>
					<colorTriggerFgColor>#000000</colorTriggerFgColor>
					<colorTriggerBgColor>#000000</colorTriggerBgColor>
					<regexCodeList />
					<regexCodePropertyList />
					<Trigger isActive="yes" isFolder="no" isTempTrigger="no" isMultiline="no" isPerlSlashGOption="yes" isColorizerTrigger="yes" isFilterTrigger="no" isSoundTrigger="no" isColorTrigger="no" isColorTriggerFg="no" isColorTriggerBg="no">
						<name>Clickable URL's</name>
						<script>for i,v in ipairs(matches) do
  selectString(matches[i], 1)
  setLink([[openUrl("]]..matches[i]..[[")]], matches[i])
  cecho("winAll", "&lt;SteelBlue&gt;[URL]")
  cechoLink("winAll", "&lt;cyan&gt;"..matches[i], [[openUrl("]]..matches[i]..[[")]], tostring(matches[i]), true)
  echo("winAll", "\n")
  deselect()
  resetFormat()
end</script>
						<triggerType>0</triggerType>
						<conditonLineDelta>0</conditonLineDelta>
						<mStayOpen>0</mStayOpen>
						<mCommand></mCommand>
						<packageName></packageName>
						<mFgColor>#55aaff</mFgColor>
						<mBgColor>#000000</mBgColor>
						<mSoundFile></mSoundFile>
						<colorTriggerFgColor>#000000</colorTriggerFgColor>
						<colorTriggerBgColor>#000000</colorTriggerBgColor>
						<regexCodeList>
							<string>\b(?:(?:(?:https?|ftp|telnet|Http|Https)://[\w\d:#@%/;$()~_?\+\-=&amp;]+|www|ftp|Www)(?:\.[\w\d:#@%/;$()~_?\+\-=&amp;]+)+|[\w\d._%+\-]+@[\w\d.\-]+\.[\w]{2,4})\b</string>
						</regexCodeList>
						<regexCodePropertyList>
							<integer>1</integer>
						</regexCodePropertyList>
					</Trigger>
				</TriggerGroup>
			</TriggerGroup>
		</TriggerGroup>
	</TriggerPackage>
	<TimerPackage>
		<TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
			<name>MS</name>
			<script></script>
			<command></command>
			<packageName>MS</packageName>
			<time>00:00:00.000</time>
			<TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
				<name>Timers</name>
				<script></script>
				<command></command>
				<packageName>Mathiaus</packageName>
				<time>00:00:00.000</time>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Yoth</name>
					<script>disableTimer("Yoth")
yothed = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:13.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Resonance</name>
					<script>resonance = resonance - 4
sys(target) cecho("&lt;red&gt;Resonance- 4")
if resonance &lt; 0 then disableTimer("Resonance") end</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:04.500</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Zriku</name>
					<script>zyothed = false
sys(target) cecho("&lt;red&gt;Yothed-")
disableTimer("Zriku")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:12.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>monolith</name>
					<script>disableTimer("monolith")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>ClearFS</name>
					<script>ms.fs = {}
fs = true
sys("Foreboding Stone") cecho("&lt;red&gt;[&lt;ivory&gt;Foreboding Stone Cleared&lt;red&gt;]")
disableTimer("ClearFS")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:30.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>drain</name>
					<script>draincd = false
sys("Terratheria") cecho("&lt;cyan&gt;Drain CD Finished")
disableTimer("drain")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Passive</name>
					<script>disableTimer("Passive")
for aff,state in ms.afflicted:pairs() do
	if state == "aff" and not table.contains(ms.passives, aff) then
		ms.afflicted[aff]="notaff"
		sys("&lt;green&gt;Passive") cecho("&lt;green&gt;"..aff:title().." CURED")
		return
	end
end
passiveheal = false
</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:00.250</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>nausea</name>
					<script>ms.afflicted["nausea"] = "notaff"
sys("&lt;green&gt;Nausea") cecho("&lt;green&gt;CURED")
disableTimer("nausea")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:20.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>masochism</name>
					<script>ms.afflicted["masochism"] = "notaff"
sys("&lt;green&gt;Masochism") cecho("&lt;green&gt;CURED")
disableTimer("masochism")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Yoth</name>
					<script>disableTimer("hty")
hty = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:13.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>htr</name>
					<script>htr = htr - 4
sys(ht) cecho("&lt;red&gt;Resonance- 4")
if htr &lt; 0 then disableTimer("htr");htr = tonumber(0) end</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:04.500</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>hierophant</name>
					<script>disableTimer("hierophant")
fecho("Tarot", "Hierophant", "Deactivated")
hierophant = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:01:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>ta</name>
					<script>disableTimer("ta")
trueassess = true</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:04.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Market Timer</name>
					<script>send("market Seeking a length of truesilver wire at the price of 50 credits please. Thank you.")</script>
					<command></command>
					<packageName></packageName>
					<time>00:30:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>cyanide1</name>
					<script>disableTimer("cyanide1")
ms.afflicted["cyanide"] = "notaff"</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:11.500</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>cyanide2</name>
					<script>disableTimer("cyanide2")
ms.afflicted["cyanide"] = "notaff"</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:06.500</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>cyanide3</name>
					<script>disableTimer("cyanide3")
ms.afflicted["cyanide"] = "notaff"</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:06.500</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>cyanide4</name>
					<script>disableTimer("cyanide4")
ms.afflicted["cyanide"] = "notaff"</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:06.500</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>cyanide5</name>
					<script>disableTimer("cyanide5")
ms.afflicted["cyanide"] = "notaff"</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:06.500</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>cw</name>
					<script>cw = true
sys(target) cecho("&lt;yellow&gt;Curseward regained")
forceAtk(true)
disableTimer("cw")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>affreset</name>
					<script>for aff,state in ms.afflicted:pairs() do
	ms.afflicted[aff] = "notaff"
end
disableTimer("affreset")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:04.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>inf</name>
					<script>inf = "none"
decay = false
inflammation = false
infirmity = false
disableTimer("inf")</script>
					<command></command>
					<packageName></packageName>
					<time>00:01:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>ashcloud</name>
					<script>disableTimer("ashcloud")
ashcloud = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:30.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>pbob</name>
					<script>pbob = false
disableTimer("pbob")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:15.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>fob</name>
					<script>fob = false
disableTimer("fob")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:04.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>tob</name>
					<script>tob = false
disableTimer("tob")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:15.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>bruised</name>
					<script>bruised = false
pbp = tonumber(0)
tht = tonumber(0)
thit = tonumber(0)
disableTimer("bruised")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:59.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>disruption</name>
					<script>if healing then send("concentrate") end
disableTimer("disruption")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:11.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>monotime</name>
					<script>monotime = tonumber(0)
mononame = "reset"
disableTimer("monotime")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:20.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>trainpet</name>
					<script>send(trainpet)
</script>
					<command></command>
					<packageName></packageName>
					<time>00:35:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>tbleed</name>
					<script>disableTimer("tbleed")
tbleed = tonumber(0)</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>sun</name>
					<script>disableTimer("sun")
suncd = false
sun = true
moon = true</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:30.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>ghost</name>
					<script>disableTimer("ghost")
if healing and ms.class["Assassin"] and ebal and bbal then send("conjure ghost") end</script>
					<command></command>
					<packageName></packageName>
					<time>00:20:05.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>confound</name>
					<script>confound = true
disableTimer("confound")
</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:22.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>obscure</name>
					<script>disableTimer("obscure")
sulfonal = false
obscure = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>agony</name>
					<script>agony = true
disableTimer("agony")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:08.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>negating</name>
					<script>negating = true
disableTimer("negating")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>teeth</name>
					<script>teeth = true
disableTimer("teeth")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:07.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>soulquench</name>
					<script>soulquench = true
disableTimer("soulquench")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:05.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>fleshburn</name>
					<script>fleshburn = true
disableTimer("fleshburn")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:04.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>rending</name>
					<script>rending = true
disableTimer("rending")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:08.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>draining</name>
					<script>draining = true
disableTimer("draining")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:06.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Bent Coin</name>
					<script>if healing and bash then 
	send("tap 5986"..s.."tap 250817"..s.."tap 82257")
	send("queue eqbal top ql")
else
	disableTimer("Bent Coin")
end</script>
					<command></command>
					<packageName></packageName>
					<time>00:10:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>ashcloud check</name>
					<script>disableTimer("ashcloud")
disableTimer("ashcloud check")
ashcloud = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:04.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>foreboding</name>
					<script>disableTimer("foreboding")
if (gmcp.Room.Info.area == "the Khandava Council" or gmcp.Room.Info.area == "the City of Stavenn" or gmcp.Room.Info.area == "the Ithaquan Council" or autoKill) and healing then
	send("queue eqbal top touch foreboding")
end</script>
					<command></command>
					<packageName></packageName>
					<time>01:00:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Right Arm</name>
					<script>disableTimer("Right Arm")
		rab = false
		rat = false
		raBP = tonumber(0)
		raHit = tonumber(0)
		ram = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:01:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Left Arm</name>
					<script>disableTimer("Left Arm")
		lab = false
		lat = false
		laBP = tonumber(0)
		laHit = tonumber(0)
		lam = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:01:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Right Leg</name>
					<script>disableTimer("Right Leg")
		rlb = false
		rlt = false
		rlBP = tonumber(0)
		rlHit = tonumber(0)
		rlm = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:01:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Left Leg</name>
					<script>disableTimer("Left Leg")
		llb = false
		llt = false
		llBP = tonumber(0)
		llHit = tonumber(0)
		llm = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:01:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>rebounding</name>
					<script>rbCheck()</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:06.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>shock</name>
					<script>shock = false
disableTimer("shock")
</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:30.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>deaden</name>
					<script>deadened = false
disableTimer("deaden")
</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>disease</name>
					<script>disableTimer("disease")
diseased = false</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>batTriggers</name>
					<script>
ms.hunter.triggers = {}
disableTimer("batTriggers")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:41.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>first time setup</name>
					<script>if ms.save["firstTime"] then
  fecho("MS Setup", "Welcome to Math's Combat System!!", "\(MS\)")
  sys("&lt;green&gt;MS Setup") cecho("&lt;snow&gt;Please type &lt;green&gt;ms help &lt;snow&gt;or &lt;green&gt;ms &lt;snow&gt;for further assistance and setup.\n\n")
else
  disableTimer("first time setup")
end
  </script>
					<command></command>
					<packageName></packageName>
					<time>00:00:30.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Bedazzlement</name>
					<script>saf = saf + 1
</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:08.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>absorbed</name>
					<script>absorbed = false
disableTimer("absorbed")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:05.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Cursed</name>
					<script>cursed = false
disableTimer("cursed")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:40.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>Druid Shock</name>
					<script>druid_shock = false
disableTimer("Druid Shock")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:30.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>prophecy failure</name>
					<script>prophecy_failure_cooldown = false
disableTimer("prophecy failure")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:20.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>shaman confound</name>
					<script>shaman_confound = false
disableTimer("shaman confound")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:21.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>prophecy wasting</name>
					<script>prophecy_wasting_cooldown = false
disableTimer("prophecy wasting")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:12.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>prophecy rejection</name>
					<script>prophecy_rejection_cooldown = false
disableTimer("prophecy rejection")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:12.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>incense yellow</name>
					<script>table.remove(kanai_incense, table.index_of(kanai_incense, "yellow incense stick"))
disableTimer("incense yellow")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>incense linseed</name>
					<script>table.remove(kanai_incense, table.index_of(kanai_incense, "linseed"))
disableTimer("incense linseed")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>incense purple</name>
					<script>table.remove(kanai_incense, table.index_of(kanai_incense, "purple incense stick"))
disableTimer("incense purple")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>incense hyssop</name>
					<script>table.remove(kanai_incense, table.index_of(kanai_incense, "hyssop"))
disableTimer("incense hyssop")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>incense primrose</name>
					<script>table.remove(kanai_incense, table.index_of(kanai_incense, "primrose"))
disableTimer("incense primrose")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>incense myrrh</name>
					<script>table.remove(kanai_incense, table.index_of(kanai_incense, "myrrh"))
disableTimer("incense myrrh")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>incense galingale</name>
					<script>table.remove(kanai_incense, table.index_of(kanai_incense, "galingale"))
disableTimer("incense galingale")</script>
					<command></command>
					<packageName></packageName>
					<time>00:04:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>kb</name>
					<script>kb = false
disableTimer("kb")
sys("&lt;red&gt;Firebrand") cecho("&lt;DimGray&gt;Down")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:40.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>zerk_crush</name>
					<script>zerk_crush = false
disableTimer("zerk_crush")</script>
					<command></command>
					<packageName></packageName>
					<time>00:01:00.000</time>
				</Timer>
				<Timer isActive="no" isFolder="no" isTempTimer="no" isOffsetTimer="no">
					<name>zerk_shake</name>
					<script>zerk_shake_cd = false
disableTimer("zerk_shake")</script>
					<command></command>
					<packageName></packageName>
					<time>00:00:10.000</time>
				</Timer>
			</TimerGroup>
			<TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
				<name>additional packages</name>
				<script></script>
				<command></command>
				<packageName>additional packages</packageName>
				<time>00:00:00.000</time>
				<TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
					<name>mudlet-mapper-MS</name>
					<script>if exists("mudlet-mapper", "timer")==1 then
  disableAlias("mudlet-mapper-MS")
end</script>
					<command></command>
					<packageName>mudlet-mapper</packageName>
					<time>00:00:00.000</time>
					<TimerGroup isActive="yes" isFolder="yes" isTempTimer="no" isOffsetTimer="no">
						<name>Mudlet Mapper</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<time>00:00:00.000</time>
						<Timer isActive="yes" isFolder="no" isTempTimer="no" isOffsetTimer="no">
							<name>Check for updates periodically</name>
							<script>mmp.checkforupdate()</script>
							<command></command>
							<packageName></packageName>
							<time>01:00:00.000</time>
						</Timer>
					</TimerGroup>
				</TimerGroup>
			</TimerGroup>
		</TimerGroup>
	</TimerPackage>
	<AliasPackage>
		<AliasGroup isActive="yes" isFolder="yes">
			<name>MS</name>
			<script></script>
			<command></command>
			<packageName>Mathiaus_USB</packageName>
			<regex></regex>
			<AliasGroup isActive="yes" isFolder="yes">
				<name>Aliases</name>
				<script></script>
				<command></command>
				<packageName>Mathiaus</packageName>
				<regex></regex>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>Misc</name>
					<script></script>
					<command></command>
					<packageName></packageName>
					<regex></regex>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Allies</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>Reset Allies</name>
							<script>ms.allies = {}
table.load(getMudletHomeDir().."/msallies.lua", ms.allies)
sys("Allies") cecho("&lt;red&gt;[&lt;yellow&gt;Reset&lt;red&gt;]")</script>
							<command></command>
							<packageName></packageName>
							<regex>^msr$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add Ally</name>
							<script>if not table.contains(ms.allies, matches[2]:title()) then
table.insert(ms.allies, matches[2]:title())
sys("Allies") cecho("&lt;red&gt;[&lt;cyan&gt;"..matches[2]:title().." Added&lt;red&gt;]")
else
sys("Allies") cecho("&lt;red&gt;[&lt;yellow&gt;"..matches[2]:title().." Already Ally&lt;red&gt;]")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^msa (\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Remove Ally</name>
							<script>if table.contains(ms.allies, matches[2]:title()) then
	for k,v in ipairs(ms.allies) do
		if v == matches[2]:title() then
			table.remove(ms.allies, k)
			sys("Allies") cecho("&lt;red&gt;[&lt;DimGray&gt;"..matches[2]:title().." Removed&lt;red&gt;]")
		end
	end
else
	sys("Allies") cecho("&lt;red&gt;[&lt;yellow&gt;"..matches[2]:title().." Not Found&lt;red&gt;]")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^msr (\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Check Allies</name>
							<script>table.sort(ms.allies)
cecho(table.concat(ms.allies, ", "))
echo("\nAllies: "..#ms.allies)</script>
							<command></command>
							<packageName></packageName>
							<regex>^msc$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Check Class/Affliation/Race</name>
							<script>if matches[2] then 
	chkd = matches[2]:title()
else
	chkd = target
end
sysFile = getMudletHomeDir().."/"..chkd..".json"
pageFile = "https://api.imperian.com/characters/"..chkd..".json"



downloadFile(sysFile, pageFile)
sys(chkd) cecho("&lt;red&gt;[&lt;DimGrey&gt;Checking...&lt;red&gt;]")

</script>
							<command></command>
							<packageName></packageName>
							<regex>^chk ?(\w+)?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>ms.allies save</name>
							<script>table.sort(ms.allies)
if #ms.allies &gt; 0 then 
	table.save(getMudletHomeDir().."/msallies.lua", ms.allies)
	sys("Allies") cecho("&lt;red&gt;[&lt;green&gt;Saved&lt;red&gt;]")
else
	sys("Allies") cecho("&lt;snow&gt;[ ms.allies table is empty!! &lt;red&gt;NOT SAVED &lt;snow&gt;]")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^mss$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Empty ms.allies</name>
							<script>ms.allies = {}
sys("Allies") cecho("&lt;red&gt;[&lt;DimGrey&gt;Emptied Allies List&lt;red&gt;]")</script>
							<command></command>
							<packageName></packageName>
							<regex>^mse$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Ignore List</name>
							<script>if not table.contains(ms.save["ignore"], matches[2]:title()) then
table.insert(ms.save["ignore"], matches[2]:title())
sys("Ignore List") cecho("&lt;red&gt;[&lt;cyan&gt;"..matches[2]:title().." Added&lt;red&gt;]")
else
sys("Ignore List") cecho("&lt;red&gt;[&lt;yellow&gt;"..matches[2]:title().." Already Ignored&lt;red&gt;]")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms ignore (\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Remove from Ignore List</name>
							<script>if table.contains(ms.save["ignore"], matches[2]:title()) then
	for k,v in ipairs(ms.save["ignore"]) do
		if v == matches[2]:title() then
			table.remove(ms.save["ignore"], k)
			sys("Ignore LIst") cecho("&lt;red&gt;[&lt;DimGray&gt;"..matches[2]:title().." Removed&lt;red&gt;]")
		end
	end
else
	sys("Ignore List") cecho("&lt;red&gt;[&lt;yellow&gt;"..matches[2]:title().." Not Found&lt;red&gt;]")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms ignore remove (\w+)$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Reply</name>
						<script>send("reply "..matches[2], false)</script>
						<command></command>
						<packageName></packageName>
						<regex>^ry (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Path find</name>
						<script>send("path find "..matches[2]..""..s.."path go")</script>
						<command></command>
						<packageName></packageName>
						<regex>^pf (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Songbird</name>
						<script>send("order songbird follow me"..s.."songbird sing me")</script>
						<command></command>
						<packageName></packageName>
						<regex>^sbf$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Passage</name>
						<script>send("request passage to "..ms.save["passage"])</script>
						<command></command>
						<packageName></packageName>
						<regex>^rceli$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Vialbelt</name>
						<script>send("Vialbelt "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^vb (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Control Monolith</name>
						<script>noheal()
target = "None"
autoKill = true
enableTrigger("autoKill prompt")
if ms.class["Summoner"] then
  send("queue eqbal fling hangedman to levitate"..s.."queue eqbal fling hangedman to levitate"..s.."queue eqbal control monolith")
elseif ms.class["Deathknight"] or ms.class["Assassin"] or ms.class["Defiler"] or ms.class["Hunter"] then
  -- if ms.class["Assassin"] then expandAlias("ls") end
  send("queue eqbal block "..ms.exits[1]..""..s.."control monolith")
else
  send("queue eqbal control monolith")
end
monolith = true</script>
						<command></command>
						<packageName></packageName>
						<regex>^cm$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Reset Variables</name>
						<script>for aff,state in ms.afflicted:pairs() do
	ms.afflicted[aff] = "notaff"
end
ms.ass.hypnoAffs = {
  "impatience",
	"heroism",
	"epilepsy",
	"recklessness",
	"stupidity",
	"anorexia",
}
msReset()
if ms.class["Assassin"] and not table.contains(ms.defApplied, "shrugging") then send("shrug mercury") end
send("autocuring queue clear", false)
inf = "none";disableTimer("inf")
disableTimer("cyanide1")
disableTimer("cyanide2")
disableTimer("cyanide3")
disableTimer("cyanide4")
disableTimer("cyanide5")
send("autocuring toadstool 70", false)
hp = tonumber(100)
mp = tonumber(100)
hbar:setValue(100, 100, [[&lt;font color="black"&gt;&lt;b&gt;Health ]]..ch..[[(100%)&lt;/b&gt;&lt;/font&gt;]])
mbar:setValue(100, 100, [[&lt;font color="black"&gt;&lt;b&gt;Mana ]]..cm..[[(100%)&lt;/b&gt;&lt;/font&gt;]])
sys("Variables") cecho("&lt;red&gt;[&lt;DimGrey&gt;Reset&lt;red&gt;]")
if not healing then heal() end
if not dead then expandAlias("ss", false) end</script>
						<command></command>
						<packageName></packageName>
						<regex>^0$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Gold into Pouch</name>
						<script>send("put gold in "..ms.save["pack"])</script>
						<command></command>
						<packageName></packageName>
						<regex>^gip$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Gold</name>
						<script>send("get "..matches[2].." gold from "..ms.save["pack"])</script>
						<command></command>
						<packageName></packageName>
						<regex>^gfp (\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Vote</name>
						<script>openUrl("http://www.imperian.com/vote")</script>
						<command></command>
						<packageName></packageName>
						<regex>^vote$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Ring Toggle</name>
						<script>if not ms.save["ring"] then
ms.save["ring"] = true
ringv = "true"
sys("Ring") cecho("&lt;cyan&gt;ON")
elseif ms.save["ring"] then
ms.save["ring"] = false
ringv = "false"
sys("Ring") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ring$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Market</name>
						<script>send("market "..matches[2], false)</script>
						<command></command>
						<packageName></packageName>
						<regex>^mt (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Honours</name>
						<script>send("honours "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^hrs (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Emote List</name>
						<script>ms.emotes = {
"[sy ] &lt;ivory&gt;Salute",
"[kh ] &lt;ivory&gt;Kiss hand",
"[bt ] &lt;ivory&gt;Bow low",
"[ck ] &lt;ivory&gt;Crack knuckles",
"[cha] &lt;ivory&gt;Challenge target",
"[cn ] &lt;ivory&gt;Crack neck",
"[car] &lt;ivory&gt;Cross arms",
"[pnt] &lt;ivory&gt;Polite nod",
"[pes] &lt;ivory&gt;Pensive"
}

if matches[2] == "sy" then send("queue eqbal top emote gently nods his head toward #"..(matches[4] or target).." and salutes #"..(matches[4] or target).." with two-fingers from the brim of his hood.")
elseif matches[2] == "kh" then send("queue eqbal top emote smoothly gathers #"..(matches[4] or target).."_hers hand and places a gentle kiss against #"..(matches[4] or target).."_hers fingers. \"Good to see you, #"..(matches[4] or target).."\"")
elseif matches[2] == "bt" then send("queue eqbal top emote After giving a remarkably low bow to #"..(matches[4] or target)..", \^ flows into a regal posture. His lithe, bare wings crack air from between their bones and fold to \^\' back.") 
elseif matches[2] == "ck" then send("queue eqbal top emote fiercely cracks his knuckles as he stares #"..(matches[4] or target).." down.")
elseif matches[2] == "cha" then send("queue eqbal top emote pauses as he studies #"..(matches[4] or target)..". In a sudden fury of black smoke "..gmcp.Char.Name.name.." stabs his daegger into the ground before #"..(matches[4] or target)..", demanding a challenge.")
elseif matches[2] == "cn" then send("queue eqbal top emote cracks his neck from side to side and then acknowledges #"..(matches[4] or target).." with a nod.")
elseif matches[2] == "car" then send("queue eqbal top emote firmly crosses his arms, lifts his chin and stares #"..(matches[4] or target).." down.")
elseif matches[2] == "pnt" then send("queue eqbal top emote clasps his hands behind his back and politely nods towards #"..(matches[4] or target))
elseif matches[2] == "pes" then send("queue eqbal top emote rolls a pair of eyes pensively in his hand.")
elseif matches[2] == "el" then
	for _,v in ipairs(ms.emotes) do
		cecho("\n&lt;SteelBlue&gt;"..v)
	end
end


</script>
						<command></command>
						<packageName></packageName>
						<regex>^(sy|kh|bt|ck|cha|cn|car|pnt|pes|el)(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Tattoo</name>
						<script>send("ink "..matches[2].." on any of "..(matches[4] or "me"))</script>
						<command></command>
						<packageName></packageName>
						<regex>^inkt (\w+)(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Target Creature</name>
						<script>creature = matches[2]
sys("Target") cecho("&lt;ivory&gt;Creature - &lt;gold&gt;"..matches[2])
if calltarget and bash and ring then send("rt Target "..creature) end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^tc (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Goto Ally</name>
						<script>expandAlias("goto "..gta)</script>
						<command></command>
						<packageName></packageName>
						<regex>^gta$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Songbird</name>
						<script>songbird = true</script>
						<command>summon songbird</command>
						<packageName></packageName>
						<regex>^ssb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>enter portal</name>
						<script></script>
						<command>queue eqbal top enter portal</command>
						<packageName></packageName>
						<regex>^ep$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Calculater</name>
						<script>sys("Problem") cecho("&lt;ivory&gt;"..matches[2])
sys("Solution") expandAlias("lua math.max("..matches[2]..")", false)
</script>
						<command></command>
						<packageName></packageName>
						<regex>^calc (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Clan switch</name>
						<script>if matches[2] == "0" then
else send("clan switch "..matches[2]) end</script>
						<command></command>
						<packageName></packageName>
						<regex>^cs(\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check Herbs</name>
						<script>send("ir domecap"..s.."ir wormwood"..s.."ir mandrake"..s.."ir kelp"..s.."ir orphine"..s.."ir nightshade"..s.."ir galingale"..s.."ir maidenhair"..s.."ir toadstool"..s.."ir juniper"..s.."ir hyssop"..s.."ir fenugreek", false)
if matches[2]:find("b") then buy = true end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ch(b)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Clan toggle</name>
						<script>if not ms.save['clan'] then
ms.save['clan'] = true
sys("Clan") cecho("&lt;cyan&gt;ON")
else
ms.save['clan'] = false
sys("Clan") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(coa|clan)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Arena toggle</name>
						<script>if not arena then
arena = true
sys("Arena") cecho("&lt;cyan&gt;ON")
elseif arena then
arena = false
sys("Arena") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^at$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Quick Gold</name>
						<script>send("get 10000 gold from "..ms.save["pack"])</script>
						<command></command>
						<packageName></packageName>
						<regex>^qg$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Light forge</name>
						<script>send("put coal in forge"..s.."fire forge")</script>
						<command></command>
						<packageName></packageName>
						<regex>^lf$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Map Stop</name>
						<script>expandAlias("mstop", false)</script>
						<command></command>
						<packageName></packageName>
						<regex>^mst$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Sect Tells</name>
						<script>send("sectt "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^stt (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Use/Call Target</name>
						<script>if matches[2] == "ut" then
if not usetarget then
usetarget = true
usetargetv = "true"
sys("Use-Target") cecho("&lt;green&gt;ON")
else
usetarget = false
usetargetv = "false"
sys("Use-Target") cecho("&lt;red&gt;OFF")
end
else
if not calltarget then
calltarget = true
calltargetv = "true"
sys("Call-Target") cecho("&lt;green&gt;ON")
else
calltarget = false
calltargetv = "false"
sys("Call-Target") cecho("&lt;red&gt;OFF")
end
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(ut|ct)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Drop Flamed Monolithed</name>
						<script>send("attach flame to monolith"..s.."drop monolith")</script>
						<command></command>
						<packageName></packageName>
						<regex>^dfm$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Ut Caller</name>
						<script>utcaller = matches[2]:title()
sys("Targeting") cecho("&lt;red&gt;[&lt;cyan&gt;Leader - "..utcaller.."&lt;red&gt;]")</script>
						<command></command>
						<packageName></packageName>
						<regex>^ut (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>CC reset</name>
						<script>usetarget = false
calltarget = false
bash = false
ring = false
parry = false
shardfall = false
coalition = false
arena = false
trueassess = true
utcaller = "none"
ccw()
sys("CC") cecho("&lt;red&gt;[&lt;OrangeRed&gt;CC Reset&lt;red&gt;]")</script>
						<command></command>
						<packageName></packageName>
						<regex>^ccr$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Bash Toggle</name>
						<script>if not bash then
bash = true
bashv = "true"
sys("Bash") cecho("&lt;green&gt;ON")
elseif bash then
bash = false
bashv = "false"
sys("Bash") cecho("&lt;red&gt;OFF")
disableTrigger("ih")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^bash$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Parry Toggle</name>
						<script>if not parry then
parry = true
sys("Parry") cecho("&lt;green&gt;ON")
else
parry = false
sys("Parry") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^parry$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shardfall Toggle</name>
						<script>if not shardfall then
shardfall = true
sys("Shardfall") cecho("&lt;green&gt;ON")
else
shardfall = false
sys("Shardfall") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(shf|shardfall)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Get Gold/Body</name>
						<script>send("get gold"..s.."get 50 corpse")</script>
						<command></command>
						<packageName></packageName>
						<regex>^gi$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>II toggle</name>
						<script>if not ii then
ii = true
sys("Reckless-Immunity") cecho("&lt;green&gt;ON")
else
ii = false
sys("Reckless-Immunity") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^iit$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Deathball</name>
						<script></script>
						<command>get deathball</command>
						<packageName></packageName>
						<regex>^gdb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Deathball</name>
						<script>send("hit "..matches[2].." with deathball")</script>
						<command></command>
						<packageName></packageName>
						<regex>^db (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Gaze</name>
						<script>noheal()
if matches[2] == "a" then
	send("drink mana"..s.."Gaze forge")
	gaze = true
elseif matches[2] == "is" then
  send("grove isolation")
elseif matches[2] == "r" then
  send("grove return")
else
	send("gaze sukhder")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^g(a|r|is)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Passage</name>
						<script>passage = matches[2]
sys("Passage") cecho("&lt;red&gt;[&lt;cyan&gt;"..matches[2].."&lt;red&gt;]")</script>
						<command></command>
						<packageName></packageName>
						<regex>^psg (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Wear Artifacts</name>
						<script>send("wear "..table.concat(ms.save["artifacts"], ""..s.."wear "))</script>
						<command></command>
						<packageName></packageName>
						<regex>^wa$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check allies</name>
						<script>if table.contains(ms.allies, matches[2]:title()) then
sys(matches[2]:title()) cecho("&lt;cyan&gt;Ally")
else
sys(matches[2]:title()) cecho("&lt;red&gt;Not Ally")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^msc (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Prism Toggle</name>
						<script>if not prism then
prism = true
sys("Prism") cecho("&lt;green&gt;ON")
else
prism = false
sys("Prism") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^prism$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Glance</name>
						<script>send("config mapview off"..s.."glance "..matches[2]..""..s.."config mapview on", false)
tempRegexTrigger("The MapView setting is used to view the world map in room descriptions and when moving.", function() deleteLine() end, 2)
tempRegexTrigger("Your MapView setting is currently: \\w+", function() deleteLine() end, 2)</script>
						<command></command>
						<packageName></packageName>
						<regex>^g (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Squint</name>
						<script>send("config mapview off"..s.."squint "..matches[2]..""..s.."config mapview on")</script>
						<command></command>
						<packageName></packageName>
						<regex>^s (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Observe</name>
						<script>send("config mapview off"..s.."observe"..s.."config mapview on")</script>
						<command></command>
						<packageName></packageName>
						<regex>^ob$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Get Gold From Letter</name>
						<script>send("get gold from letter"..s.."put letter in pack")</script>
						<command></command>
						<packageName></packageName>
						<regex>^gfl$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check Gold</name>
						<script></script>
						<command>gold</command>
						<packageName></packageName>
						<regex>^cg$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Peer Mirror</name>
						<script>send("peer mirror "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^pm (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Resurrect</name>
						<script></script>
						<command>queue eqbal resurrect body</command>
						<packageName></packageName>
						<regex>^rb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Sharding</name>
						<script>if not sharding then
sharding = true
sys("Sharding") cecho("&lt;green&gt;ON")
else
sharding = false
sys("Sharding") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^sharding$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Victory</name>
						<script></script>
						<command>victory</command>
						<packageName></packageName>
						<regex>^v$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Toxin Toggle</name>
						<script>if not toxin then
sys("Toxin") cecho("&lt;green&gt;Preserve")
toxin = true
else
sys("Toxin") cecho("&lt;red&gt;Don't Preserve")
toxin = false
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^tx$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Preseve</name>
						<script>toxname = matches[2]
send("preserve toxin "..toxname.." in rift")</script>
						<command></command>
						<packageName></packageName>
						<regex>^tx (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Learn</name>
						<script>learn = true
skill = matches[2]
lrnt = matches[3]
send("learn 200 "..skill.." from "..lrnt)</script>
						<command></command>
						<packageName></packageName>
						<regex>^lrn (\w+) from (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Peace toggle</name>
						<script>if ms.class["Bard"] then
if not ko then
ko = true
sys("Kiyan") cecho("&lt;red&gt;[&lt;red&gt;OFF&lt;red&gt;]")
else
ko = false
sys("Kiyan") cecho("&lt;red&gt;[&lt;green&gt;ON&lt;red&gt;]")
end
end

if ms.class["Diabolist"] then
	if not po then
	po = true
	sys("Peace") cecho("&lt;red&gt;[OFF]")
	else
	po = false
	sys("Peace") cecho("&lt;red&gt;[&lt;green&gt;ON&lt;red&gt;]")
	end
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(ko|po)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Satchel</name>
						<script>if matches[2] == "oss" then send("open satchel")
elseif matches[2] == "lis" then send("open satchel"..s.."look in satchel"..s.."close satchel")
else send("close satchel") end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(oss|css|lis)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Familiar</name>
						<script>send("familiar fallen "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^fam (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Toadstool</name>
						<script></script>
						<command>eat toadstool</command>
						<packageName></packageName>
						<regex>^ets$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Switch Profesion</name>
						<script>relearn = matches[4] or "niccolo"
if matches[2] == "dk" then
  send("switch profession deathknight"..s.."agree")
elseif matches[2] == "sassy" then
  send("switch profession assassin"..s.."agree")
else
  send("switch profession "..matches[2]..""..s.."agree")
end
if matches[2] == "bard" then send("relearn voice from "..relearn)
elseif matches[2] == "mage" then send("relearn pyroglacia from "..relearn)
elseif matches[2] == "diabolist" then send("relearn malignosis from "..relearn)
elseif matches[2] == "summoner" then send("relearn noctu from "..relearn)
elseif matches[2] == "deathknight" or matches[2] == "dk" then send("relearn weaponmastery from "..relearn)
elseif matches[2] == "assassin" or matches[2] == "sassy" then send("relearn sabotage from "..relearn)
elseif matches[2] == "engineer" then send("relearn ballistics from "..relearn)
elseif matches[2] == "defiler" then send("relearn torment from "..relearn)
elseif matches[2] == "hunter" then send("relearn supremacy from "..relearn)
elseif matches[2] == "shaman" then send("relearn curses from "..relearn)
end
  -- if matches[2] == "assassin" then
    -- expandAlias("mconfig dash on")
  -- else
    -- expandAlias("mconfig dash off")
  -- end
reserves = true
ice = tonumber(0)
fire = tonumber(0)
glowing = tonumber(0)
whispering = tonumber(0)
vigorous = tonumber(0)
translucent = tonumber(0)
fiery = tonumber(0)
reflective = tonumber(0)
ethereal = tonumber(0)
tempTimer(35, [[expandAlias("wl")]])
tempTimer(36, [[expandAlias("tag")]])
if matches[2] == "dk" or matches[2] == "deathknight" then
  tempTimer(47, [[expandAlias("saw")]])
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^sp (\w+)(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Unweild</name>
						<script>send("unwield right"..s.."unwield left")</script>
						<command></command>
						<packageName></packageName>
						<regex>^uw$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Look in pack</name>
						<script></script>
						<command>look in pack</command>
						<packageName></packageName>
						<regex>^lip$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Papermill</name>
						<script>send("put 10 wood in papermill"..s.."queue eqbal crank papermill"..s.."queue eqbal get paper from papermill"..s.."inr all")</script>
						<command></command>
						<packageName></packageName>
						<regex>^ppm$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Hoist Target</name>
						<script>-- if hunttime then
-- hunttime = false
-- sys("Hunt Time") cecho("&lt;red&gt;0")
-- else
-- hunttime = true
-- sys("Hunt Time") cecho("&lt;green&gt;5")
-- end
send("queue eqbal hoist "..target)</script>
						<command></command>
						<packageName></packageName>
						<regex>^ht$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Remove Artifacts</name>
						<script>send("remove "..table.concat(ms.save["artifacts"], ""..s.."remove "))</script>
						<command></command>
						<packageName></packageName>
						<regex>^ra$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Rivensense</name>
						<script></script>
						<command>rivensense</command>
						<packageName></packageName>
						<regex>^rs$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Slow Walk Toggle</name>
						<script>if msw == false or msw == nil then
msw = true
expandAlias("mconfig slowwalk true")
else
msw = false
expandAlias("mconfig slowwalk false")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^msw$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Put/Get Item in Pack</name>
						<script>if matches[2] == "put" then send("put "..matches[3].." in pack", false)
else send("get "..matches[3].." from pack", false)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(put|get) ((\d+\s)?(\w+)) (?:in|from) pack$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Report Damage</name>
						<script>if rd == false or rd == nil then
rd = true
sys("Damage Report") cecho("&lt;green&gt;Reporting")
else
rd = false
sys("Damage Report") cecho("&lt;red&gt;Silenced")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(reportdmg|rdc|rdmg)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>RFP</name>
						<script>send("put linseed in pipe"..s.."put lovage in pipe"..s.."put laurel in pipe")</script>
						<command></command>
						<packageName></packageName>
						<regex>^rfp$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Fox Track</name>
						<script>send("queue eqbal order fox track "..((matches[2]) or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^fxt(\w+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Fox deliver</name>
						<script>send("queue eqbal order fox deliver "..matches[2].." to "..matches[3])</script>
						<command></command>
						<packageName></packageName>
						<regex>^fxd (\w+) (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Spring Submerge</name>
						<script>send("get body"..s.."submerge body")</script>
						<command></command>
						<packageName></packageName>
						<regex>^sb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Give Artifacts</name>
						<script>send("beckon artifacts")	
send("artifact reset "..table.concat(ms.save["artifacts"], " 120"..s.."artifact reset ").." 120")
send("remove "..table.concat(ms.save["artifacts"], ""..s.."remove "))
send("give "..table.concat(ms.save["artifacts"], " to "..matches[2]..""..s.."give ").." to "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^ga (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Temp Trigger (with number)</name>
						<script>if ttrig then killTrigger(ttrig) 
else ttrig = false
end

tline = matches[2]
taction = matches[3]
ttimes = tonumber(matches[4])

ttrig = tempTrigger(tline, [[if tonumber(ttimes) &gt; 0 then send("queue eqbal top "..taction) end;ttimes = ttimes - 1;sys("&lt;green&gt;Lines Left") cecho("&lt;snow&gt;"..tostring(ttimes))]], ttimes)

sys("TempTrigger") cecho("&lt;green&gt;Alive \n Line   [&lt;ivory&gt;"..matches[2].."&lt;green&gt;] \n &lt;green&gt;Times  [&lt;ivory&gt;"..matches[4].."&lt;green&gt;] \n Reflex [&lt;ivory&gt;"..matches[3].."&lt;green&gt;]\n")
</script>
						<command></command>
						<packageName></packageName>
						<regex>^trig (.+)\|(.+)\|(\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Temp Trigger Stop</name>
						<script>killTrigger(ttrig)
sys("TempTrigger") cecho("&lt;red&gt;Killed")</script>
						<command></command>
						<packageName></packageName>
						<regex>^trig$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check Vials</name>
						<script>ms.vials = {
"health",
"mana",
"levitation",
"speed",
"frost",
"immunity",
"venom",
"caloric",
"mass",
"restoration",
"epidermal",
"mending",
"aconite",
"arsenic",
"aspartame",
"atropine",
"avidya",
"benzedrine",
"benzene",
"botulinum",
"bromine",
"butisol",
"calotropis",
"chloroform",
"ciguatoxin",
"cyanide",
"digitalis",
"ether",
"formaldehyde",
"hemotoxin",
"iodine",
"ketamine",
"lindane",
"luminal",
"mazanor",
"mebaral",
"mercury",
"metrazol",
"noctec",
"opium",
"oxalis",
"psilocybin",
"strychnine",
"veratrum",
"vitriol",
"xeroderma",
"trioxin",
"sulfonal",
"dioxin"
}
send("inr "..table.concat(ms.vials, ""..s.."inr "), false)
evc = 0
cecho("\n&lt;cyan&gt;Vials Checked!\n")</script>
						<command></command>
						<packageName></packageName>
						<regex>^cv$</regex>
					</Alias>
					<Alias isActive="no" isFolder="no">
						<name>QQ</name>
						<script>if ms.class["Diabolist"] then
qq = true
end
send("qq", false)</script>
						<command></command>
						<packageName></packageName>
						<regex>^qq$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Chop Tree</name>
						<script>send("queue eqbal "..quickdraw("axe", ms.save["shield"])..""..s.."chop tree")
chop = true</script>
						<command></command>
						<packageName></packageName>
						<regex>^choptree$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Chop Stop</name>
						<script>if chop then
	chop = false
	sys("Chopping Tree") cecho("&lt;red&gt;Stopped")
else
	chop = true
	sys("Chopping Tree") cecho("&lt;green&gt;Chopping")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^chop$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Mapper Addons</name>
						<script>for k,v in ipairs(ms.save["mapper"]) do
	expandAlias(v)
end
for l1,l2 in pairs(ms.save["wormholes"]) do
	expandAlias("spev "..l1.." "..l2.." worm warp")
	expandAlias("spev "..l2.." "..l1.." worm warp")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ma$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Concoctions</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>Mass</name>
							<script>qty = tonumber(matches[2])
send("outr "..qty.." toadstool")
send("outr "..qty.." maidenhair")
send("outr "..qty.." endive")
send("outr "..qty.." dust")
send("inpot "..qty.." toadstool to pot")
send("inpot "..qty.." maidenhair to pot")
send("inpot "..qty.." endive to pot")
send("inpot "..qty.." dust to pot")
send("boil pot for mass")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createmass (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Health</name>
							<script>qty = tonumber(matches[2])
send("outr "..qty.." lovage")
send("outr "..qty.." mandrake")
send("outr "..qty.." nightshade")
send("outr "..qty.." myrrh")
send("inpot "..qty.." lovage to pot")
send("inpot "..qty.." mandrake to pot")
send("inpot "..qty.." nightshade to pot")
send("inpot "..qty.." myrrh to pot")
send("boil pot for health")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createhealth (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Caloric</name>
							<script>double = matches[2]*2
send("outr "..double.." endive")
send("outr "..matches[2].." lovage")
send("outr "..double.." kelp")
send("outr "..matches[2].." galingale")
send("inpot "..double.." endive to pot")
send("inpot "..matches[2].." lovage to pot")
send("inpot "..double.." kelp to pot")
send("inpot "..matches[2].." galingale to pot")
send("boil pot for caloric")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createcaloric (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Epidermal</name>
							<script>double = matches[2]*2
send("outr "..double.." endive")
send("outr "..matches[2].." maidenhair")
send("outr "..matches[2].." juniper")
send("outr "..matches[2].." nightshade")
send("inpot "..double.." endive to pot")
send("inpot "..matches[2].." maidenhair to pot")
send("inpot "..matches[2].." juniper to pot")
send("inpot "..matches[2].." nightshade to pot")
send("boil pot for epidermal")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createepidermal (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Frost</name>
							<script>send("outr "..matches[2].." kelp")
send("outr "..matches[2].." pear")
send("outr "..matches[2].." nightshade")
send("inpot "..matches[2].." kelp to pot")
send("inpot "..matches[2].." pear to pot")
send("inpot "..matches[2].." nightshade to pot")
send("boil pot for frost")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createfrost (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Immunity</name>
							<script>send("outr "..matches[2].." sac")
send("outr "..matches[2].." wormwood")
double = matches[2]*2
send("outr "..double.." violet")
send("inpot "..matches[2].." sac to pot")
send("inpot "..matches[2].." wormwood to pot")
send("inpot "..double.." violet to pot")
send("boil pot for immunity")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createimmunity (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Levitation</name>
							<script>double = matches[2]*2
send("outr "..double.." kelp")
send("outr "..matches[2].." pear")
send("outr "..matches[2].." feather")
send("inpot "..double.." kelp to pot")
send("inpot "..matches[2].." pear to pot")
send("inpot "..matches[2].." feather to pot")
send("boil pot for levitation")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createlevitation (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Mana</name>
							<script>send("outr "..matches[2].." dandelion")
send("outr "..matches[2].." galingale")
send("outr "..matches[2].." hyssop")
send("outr "..matches[2].." maidenhair")
send("inpot "..matches[2].." dandelion to pot")
send("inpot "..matches[2].." galingale to pot")
send("inpot "..matches[2].." hyssop to pot")
send("inpot "..matches[2].." maidenhair to pot")
send("boil pot for mana")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createmana (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Mending</name>
							<script>double = matches[2]*2
send("outr "..matches[2].." dust")
send("outr "..matches[2].." kelp")
send("outr "..matches[2].." endive")
send("outr "..double.." ginger")
send("inpot "..matches[2].." dust to pot")
send("inpot "..matches[2].." kelp to pot")
send("inpot "..matches[2].." endive to pot")
send("inpot "..double.." ginger to pot")
send("boil pot for mending")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createmending (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Restoration</name>
							<script>double = matches[2]*2
local rgold = matches[2] * 400
send("get "..rgold.." gold from "..ms.save["pack"])
send("outr "..double.." endive")
send("outr "..matches[2].." lovage")
send("outr "..matches[2].." galingale")
send("inpot "..double.." gold to pot")
send("inpot "..double.." endive to pot")
send("inpot "..matches[2].." lovage to pot")
send("inpot "..matches[2].." galingale to pot")
send("boil pot for restoration")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createrestoration (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Speed</name>
							<script>double = matches[2]*2
send("outr "..double.." skin")
send("outr "..matches[2].." endive")
send("outr "..matches[2].." mandrake")
send("outr "..matches[2].." ginger")
send("inpot "..double.." skin to pot")
send("inpot "..matches[2].." endive to pot")
send("inpot "..matches[2].." mandrake to pot")
send("inpot "..matches[2].." ginger to pot")
send("boil pot for speed")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createspeed (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Venom</name>
							<script>send("outr "..matches[2].." sac")
send("outr "..matches[2].." violet")
send("outr "..matches[2].." kelp")
send("outr "..matches[2].." linseed")
send("inpot "..matches[2].." sac to pot")
send("inpot "..matches[2].." violet to pot")
send("inpot "..matches[2].." kelp to pot")
send("inpot "..matches[2].." linseed to pot")
send("boil pot for venom")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createvenom (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Boiling Vials</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex>^bpf (\d+) (\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Bitterbrew</name>
							<script>send("outr "..matches[2].." wormwood")
send("outr "..matches[2].." mandrake")
send("outr "..matches[2].." nightshade")
send("outr "..matches[2].." skin")
send("inpot "..matches[2].." wormwood to pot")
send("inpot "..matches[2].." mandrake to pot")
send("inpot "..matches[2].." nightshade to pot")
send("inpot "..matches[2].." skin to pot")
send("boil pot for bitterbrew")</script>
							<command></command>
							<packageName></packageName>
							<regex>^createbitterbrew (\d+)$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Harvest</name>
						<script>send("search for plants"..s.."queue eqbal harvest all plants")</script>
						<command></command>
						<packageName></packageName>
						<regex>^shp$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Gold from Bank</name>
						<script>local gfb = (matches[2]*2/100) + matches[2]
send("withdraw "..gfb)</script>
						<command></command>
						<packageName></packageName>
						<regex>^gfb (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>room call</name>
						<script>areaName = gmcp.Room.Info.area:title()
if arena then send("at My Location: #"..gmcp.Room.Info.num.." '"..gmcp.Room.Info.name.."' - "..areaName)
elseif ring then send("rt My Location: #"..gmcp.Room.Info.num.." '"..gmcp.Room.Info.name.."' - "..areaName)
else send("rt My Location: #"..gmcp.Room.Info.num.." '"..gmcp.Room.Info.name.."' - "..areaName)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^irn$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Queue Request</name>
						<script>send("join queue"..s.."market JOIN QUEUE FREEFORALL, BLOODBATH, MANHUNT, FOXANDHOUNDS, or TEAMFFA please. Thank you.")</script>
						<command></command>
						<packageName></packageName>
						<regex>^qreq$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Clench Fist on Daegger</name>
						<script></script>
						<command>emote clenches his fist tighter around the hilt of his daegger until his knuckles drain white.</command>
						<packageName></packageName>
						<regex>^cf$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Koth</name>
						<script>if matches[2] == "cap" then
	noheal()
	send("capture hill")
elseif matches[2] == "kc" then
	send("koth "..arenaloc)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(cap|kc)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Bact</name>
						<script>if not matches[2] then
	if not bact then
		bact = true
		sys("B-Action") cecho("&lt;green&gt;ON")
	else
		bact = false
		baction = ""
		sys("B-Action") cecho("&lt;red&gt;OFF")
	end
else
	baction = matches[2]
	sys("B-Action") cecho("&lt;yellow&gt;Set to: [&lt;ivory&gt;"..matches[2].."&lt;yellow&gt;]")
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^bact ?(.+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Throw hazeward</name>
						<script>send("queue eqbal quickdraw hazeward shield"..s.."throw hazeward at ground")</script>
						<command></command>
						<packageName></packageName>
						<regex>^thz$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Show affliction list</name>
						<script>for aff,state in ms.afflicted:pairs() do print(aff,state) end</script>
						<command></command>
						<packageName></packageName>
						<regex>^caf$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Died At</name>
						<script>expandAlias("goto "..dat)</script>
						<command></command>
						<packageName></packageName>
						<regex>^dat$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Mine Statue</name>
						<script>noheal()
send(""..quickdraw("pick", ms.save["shield"])..""..s.."mine statue")</script>
						<command></command>
						<packageName></packageName>
						<regex>^mstat$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check mobs table</name>
						<script>table.sort(ms.save['mobs'])
display(ms.save['mobs'])
echo("\nMobs: "..#ms.save['mobs'])</script>
						<command></command>
						<packageName></packageName>
						<regex>^msm$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>petskills</name>
						<script>table.insert(petskills, matches[2])
sys("Petskills") cecho("&lt;green&gt;Added &lt;ivory&gt;"..matches[2].."\n")
display(petskills)</script>
						<command></command>
						<packageName></packageName>
						<regex>^psa (.+)$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>dancing-santa</name>
						<script></script>
						<command></command>
						<packageName>dancing-santa</packageName>
						<regex></regex>
						<AliasGroup isActive="yes" isFolder="yes">
							<name>Dancing Santa</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<Alias isActive="yes" isFolder="no">
								<name>^start animation$</name>
								<script>picture_label = Geyser.Label:new({
  name = "picture_label",
  x = 10, y = "-24px",
  width = "16px", height = "14px",
})

santa_counter = nil

function animate_santa()
  santa_counter = (santa_counter or 0) + 1
  if santa_counter &gt; 8 then santa_counter = 1 end

  picture_label:setBackgroundImage(getMudletHomeDir()..[[/dancing-santa/santa]]..santa_counter..[[.png]])
  santa_timer = tempTimer(.16, animate_santa)
end

animate_santa()

cecho("&lt;green&gt;Animation started.\n")</script>
								<command></command>
								<packageName></packageName>
								<regex>^start animation$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>^end animation$</name>
								<script>killTimer(santa_timer)
cecho("&lt;green&gt;Animation ended.\n")
picture_label:hide()
</script>
								<command></command>
								<packageName></packageName>
								<regex>^end animation$</regex>
							</Alias>
						</AliasGroup>
					</AliasGroup>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>crit counter</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>calculate crits</name>
							<script>cecho("\n\n&lt;grey&gt;Total Crits:   &lt;green&gt;"..string.format("%5d",totalCrits))
cecho("\n&lt;grey&gt;Total Attacks: &lt;green&gt;"..string.format("%5d",attackCounter))
cecho("\n&lt;grey&gt;DPS:             &lt;green&gt;"..string.format("%3d", (dps/eqb)))
cecho("\n&lt;grey&gt;Overall Critical Hit Rate: &lt;green&gt;"..string.format( "%4.2f", (totalCrits / attackCounter) * 100).."%")
cecho("\n&lt;grey&gt;---------------------------------\n")
cecho("\n&lt;grey&gt;2X  (&lt;red&gt;"..string.format("%4d",critX2).."&lt;grey&gt;): &lt;green&gt;"..string.format( "%6.2f", ((critX2 / totalCrits) * 100)).."%       "..string.format("%6.2f", ((critX2 / totalCrits) * 100)).."%")
cecho("\n&lt;grey&gt;4X  (&lt;red&gt;"..string.format("%4d",critX4).."&lt;grey&gt;): &lt;green&gt;"..string.format( "%6.2f", ((critX4 / totalCrits) * 100)).."%       "..string.format("%6.2f", ((critX4 / totalCrits) * 100)).."%")
cecho("\n&lt;grey&gt;8X  (&lt;red&gt;"..string.format("%4d",critX8).."&lt;grey&gt;): &lt;green&gt;"..string.format( "%6.2f", ((critX8 / totalCrits) * 100)).."%       "..string.format("%6.2f", ((critX8 / totalCrits) * 100)).."%")
cecho("\n&lt;grey&gt;16X (&lt;red&gt;"..string.format("%4d",critX16).."&lt;grey&gt;): &lt;green&gt;"..string.format( "%6.2f", ((critX16 / totalCrits) * 100)).."%       "..string.format("%6.2f", ((critX16 / totalCrits) * 100)).."%")
cecho("\n&lt;grey&gt;32X (&lt;red&gt;"..string.format("%4d",critX32).."&lt;grey&gt;): &lt;green&gt;"..string.format( "%6.2f", ((critX32 / totalCrits) * 100)).."%       "..string.format("%6.2f", ((critX32 / totalCrits) * 100)).."%")
cecho("\n&lt;grey&gt;---------------------------------\n")
multiplier = (((attackCounter - totalCrits) + 2*critX2 + 4*critX4 + 8*critX8 + 16*critX16 + 32*critX32) / attackCounter)
cecho("\n&lt;grey&gt;----------------------------------------------------")
cecho("\n&lt;grey&gt;Current Normalized Critical Hit Multiplier:  &lt;green&gt;"..string.format("%7.3f",multiplier))
cecho("\n&lt;grey&gt;----------------------------------------------------\n")</script>
							<command></command>
							<packageName></packageName>
							<regex>^crits$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>clear crits</name>
							<script>attackCounter = 0
critX2 = 0
critX4 = 0
critX8 = 0
critX16 = 0
critX32 = 0
totalCrits = 0
dps = tonumber(0)
eqb = tonumber(0)
echo("\nCrit and hit numbers cleared.\n")</script>
							<command></command>
							<packageName></packageName>
							<regex>^clearcrits$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Train Pet Timer</name>
						<script>tpt = tpt or false
if not tpt then
tpt = true
enableTimer("trainpet")
sys("Train Pet") cecho("&lt;green&gt;ON")
else
tpt = false
disableTimer("trainpet")
sys("Train Pet") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^tpo$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Harvet plants</name>
						<script>send("search for plants"..s.."queue eqbal harvest all plants")</script>
						<command></command>
						<packageName></packageName>
						<regex>^hp$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Bait Alias</name>
						<script>send("give baithead to a"..s.."give baithead to b"..s.."give baithead to c"..s.."give baithead to d"..s.."give baithead to e"..s.."give baithead to f"..s.."give baithead to g"..s.."give baithead to h"..s.."give baithead to i"..s.."give baithead to j"..s.."give baithead to k"..s.."give baithead to l"..s.."give baithead to m"..s.."give baithead to n"..s.."give baithead to o"..s.."give baithead to p"..s.."give baithead to q"..s.."give baithead to r"..s.."give baithead to s"..s.."give baithead to t"..s.."give baithead to u"..s.."give baithead to v"..s.."give baithead to w"..s.."give baithead to x"..s.."give baithead to y"..s.."give baithead to z")</script>
						<command></command>
						<packageName></packageName>
						<regex>^gba$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Deliver Eyeball</name>
						<script>send("order fox deliver "..matches[2].." to "..matches[3])</script>
						<command></command>
						<packageName></packageName>
						<regex>^fde (\d+) (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shardfall Buff</name>
						<script>send("shard watch"..s.."queue eqbal shard awareness")</script>
						<command></command>
						<packageName></packageName>
						<regex>^sfb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Fox Return</name>
						<script></script>
						<command>queue eqbal top order fox return</command>
						<packageName></packageName>
						<regex>^foxr$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Walk Area</name>
						<script>action = ""
ms.trooms = {}
mmp.echoRoomListMS(gmcp.Room.Info.area)

for k,v in ipairs(trooms) do
	if not table.contains(ms.ignoreRooms, v) then table.insert(ms.trooms, v) end
end

if matches[3] then
	action = matches[3]
end

if #ms.trooms &gt;= 1 then
	spdwalkarea = true
	expandAlias("goto "..ms.trooms[1])
else
	spdwalkarea = false
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^trooms(\s(.+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Gold Percentage</name>
						<script>goldTotal = tonumber(gmcp.Char.Status.gold)
perc = tonumber(matches[2])

--Calculation
ggp = math.floor((perc*goldTotal)/100)
send("get "..ggp.." gold from "..ms.save["pack"])</script>
						<command></command>
						<packageName></packageName>
						<regex>^ggp (\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Familiar Battles</name>
						<script>if matches[2] == "ba" then
	if matches[3] == "h" then
		send("queue eqbal top battle attack high")
	elseif matches[3] == "m" then
		send("queue eqbal top battle attack mid")
	elseif matches[3] == "l" then
		send("queue eqbal top battle attack low")
	elseif matches[3] == "r" then
		send("queue eqbal top battle attack random")
	end
elseif matches[2] == "bc" then
	if matches[3] == "h" then
		send("queue eqbal top battle counter high")
	elseif matches[3] == "m" then
		send("queue eqbal top battle counter mid")
	elseif matches[3] == "l" then
		send("queue eqbal top battle counter low")
	elseif matches[3] == "r" then
		send("queue eqbal top battle counter random")
	end
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^(ba|bc) (h|m|l|r)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Freeze Tag</name>
						<script>if matches[3] then
	send("queue eqbal top freeze "..matches[2].." "..matches[3])
elseif matches[2] then
	send("queue eqbal top freeze "..matches[2])
else
	send("queue eqbal top freeze "..player)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^fz ?(\w+) ?(\w+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Set Freeze Target</name>
						<script>sys("&lt;cyan&gt;Freeze Target") cecho("&lt;gold&gt;"..matches[2]:title())
player = matches[2]</script>
						<command></command>
						<packageName></packageName>
						<regex>^sft (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Toxin Fill liquidrift</name>
						<script>fvb = true
ms.toxlist = {}
ms.toxlist = ms.toxins
send("preserve toxin "..ms.toxlist[1].." in rift")</script>
						<command></command>
						<packageName></packageName>
						<regex>^fvb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Leyline Toggle</name>
						<script>if ll then
	ll = false
	sys("&lt;ivory&gt;Leyline") cecho("&lt;red&gt;OFF")
else
	ll = true
	sys("&lt;ivory&gt;Leyline") cecho("&lt;green&gt;ON")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^llt$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shackle</name>
						<script>send("queue eqbal top shackle "..(matches[2] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^shk ?(\w+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Chain</name>
						<script>send("queue eqbal top chain "..(matches[2] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^cht ?(\w+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Promo Tradein</name>
						<script>send("promo tradein "..matches[2].." confirm")</script>
						<command></command>
						<packageName></packageName>
						<regex>^pti (\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Artifact Show</name>
						<script>send("artifact "..matches[2].." show")</script>
						<command></command>
						<packageName></packageName>
						<regex>^as (\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Chess</name>
						<script>if matches[2] == "l" then
	send("chesslist")
elseif matches[2] == "d" then
	if matches[3] then
		di = matches[3]
		send("display "..di, false)
	elseif di == nil then
		sys("&lt;red&gt;ERROR") cecho("&lt;ivory&gt;DI NOT SET")
	else
		send("display "..di, false)
	end
elseif matches[2] == "c" then
	send("concede "..di)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ch(l|d|c) ?(\d+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Play Chess</name>
						<script>send("play chess with "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^pc (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Release Animal</name>
						<script>send("release "..matches[2]..""..s.."agree")</script>
						<command></command>
						<packageName></packageName>
						<regex>^rls (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Befriend</name>
						<script>noheal()
send("befriend "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^bfr (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Scoop Eyeball</name>
						<script>send("queue eqbal scoop eyeball from body")
send("queue eqbal scoop eyeball from body")</script>
						<command></command>
						<packageName></packageName>
						<regex>^seb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Vialbelt Transfer</name>
						<script></script>
						<command>vialbelt transfer all from vialbelt confirm</command>
						<packageName></packageName>
						<regex>^vta$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Harvest Plants</name>
						<script>send("queue eqbal search for plants")
send("queue eqbal harvest all "..(matches[2] or 'plants'))</script>
						<command>queue reset all</command>
						<packageName></packageName>
						<regex>^sfp(?: (\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Atlas Travel</name>
						<script>if matches[2] == "fb" then
	noheal()
	send("queue reset eqbal"..s.."queue eqbal atlas travel festering_bog")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^at(\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Aspect Travel</name>
						<script></script>
						<command>aspect travel stronghold</command>
						<packageName></packageName>
						<regex>^ats$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Stronghold Invoke</name>
						<script>send("aspect stronghold invoke "..matches[2]..""..s.."enter gateway.last")</script>
						<command></command>
						<packageName></packageName>
						<regex>^asi (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Influencing Leylines</name>
						<script>send("queue eqbal leylines"..s.."influence intersection to demonic "..(matches[2] or ""))</script>
						<command></command>
						<packageName></packageName>
						<regex>^ill( with red)?$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>BlackJack</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>BJ Toggle</name>
							<script>if bj then
	bj = false
	sys("BlackJack") cecho("&lt;red&gt;OFF")
else
	bj = true
	sys("BlackJack") cecho("&lt;green&gt;ON")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^bj$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set Bet Amount</name>
							<script>betAmount = matches[2]
sys("BlackJack") cecho("Bet amount set to &lt;ivory&gt;[ &lt;green&gt;"..matches[2].."&lt;ivory&gt; ]")</script>
							<command></command>
							<packageName></packageName>
							<regex>^ba (\d+)$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Cycle Deck</name>
						<script>send("draw card")</script>
						<command></command>
						<packageName></packageName>
						<regex>^cd$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Ss Check/Soulsense</name>
						<script>if matches[3] then
	send("queue eqbal top soulsense "..matches[3])
else
	ssCheck = true
	send("ss", false)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ss(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check Monos</name>
						<script>eleMono = tonumber(0)
send("monoliths", false)
ms.monos = {}
if autoMono then capture = true end</script>
						<command></command>
						<packageName></packageName>
						<regex>^mos$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Auto Mono Toggle</name>
						<script>if autoMono == nil or not autoMono then
	autoMono = true
	sys("&lt;cyan&gt;Auto Capture Monolith") cecho("&lt;green&gt;ON")
else
	autoMono = false
	capture = false
	sys("&lt;cyan&gt;Auto Capture Monolith") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^am$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Say</name>
						<script>if ms.class["Deathknight"] and healing then
  send("open bevor"..s.."say "..matches[2]..""..s.."close bevor", false)
else
  send("say "..matches[2], false)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^say (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Smithingores</name>
						<script>send("smithingores "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^sg (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Pay Out City Credits</name>
						<script>poc = true
enableTrigger("pocPrompt")
enableTrigger("poc trigger")
if matches[2] then
  send(matches[2])
else
  send("rlc 0 1")
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^poc ?(.+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Edit Project 92</name>
						<script>send("drink mana"..s.."project edit 92")</script>
						<command></command>
						<packageName></packageName>
						<regex>^pe92$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Belief Check</name>
						<script>belief = tonumber(0)
enableTrigger("Belief tracker")
enableTrigger("belief prompt")
send("belieflog")</script>
						<command></command>
						<packageName></packageName>
						<regex>^cbl$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Chess move</name>
						<script>send("move "..matches[2].." to "..matches[3])</script>
						<command></command>
						<packageName></packageName>
						<regex>^m (\w+) (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Set Arena event</name>
						<script>if matches[2]:find("baitgame") then
	send("arena setup authlair allow khandava"..s.."init "..matches[2].." authlair frog")
elseif matches[2]:find("bloodbath") then
	send("arena setup authlair allow khandava"..s.."init "..matches[2].." authlair 10")
else
	send("arena setup authlair allow khandava"..s.."init "..matches[2].." authlair")
end
event = matches[2]
arenagame = matches[2]
arenaloc = "authlair"</script>
						<command></command>
						<packageName></packageName>
						<regex>^sae (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Start event</name>
						<script>send("start "..event.." authlair")</script>
						<command></command>
						<packageName></packageName>
						<regex>^sea$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Toggle Dash</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex>^mcd$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Council Security</name>
						<script>send("council security")
enableTrigger("Check Insecure Room")
enableTrigger("disable prompt")</script>
						<command></command>
						<packageName></packageName>
						<regex>^council security$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Craft Vials</name>
						<script>send("queue eqbal "..quickdraw("jigsaw")..""..s.."design 17982 craft "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^cv(\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Convert Credits</name>
						<script>send("credits convert "..matches[2].." to bound credits"..s.."agree")</script>
						<command></command>
						<packageName></packageName>
						<regex>^cc (\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Try Helms</name>
						<script>send("remove helmet"..s.."wear platehelm"..s.."wear chainhelm"..s.."wear leatherhelm")</script>
						<command></command>
						<packageName></packageName>
						<regex>^tryhelms$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>TTD Toggle</name>
						<script>if not ttd then
ttd = true
sys("TTD") cecho("&lt;cyan&gt;ON")
elseif ttd then
ttd = false
sys("TTD") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ttd$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Goto Last Scrying Location</name>
						<script>expandAlias("goto "..ptn["id"])</script>
						<command></command>
						<packageName></packageName>
						<regex>^gtls$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Home</name>
						<script>expandAlias("room mark home")
expandAlias("map save")</script>
						<command></command>
						<packageName></packageName>
						<regex>^home$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>mdsw</name>
						<script></script>
						<command>emote dsw activated. Good bye.</command>
						<packageName></packageName>
						<regex>^mdsw$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Loyals follow me</name>
						<script>if ms.class["Druid"] then
  send("queue eqbal top order loyals follow me"..s.."naturebind follow")
else
  send("queue eqbal top order loyals follow me")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^of$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Swim</name>
						<script>send("queue eqbal top swim "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^sw(n|ne|e|se|s|sw|w|nw|u|d|in|out)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Force Capture Toggle</name>
						<script>if force_capture then
  force_capture = false
  sys("&lt;DimGray&gt;Force Capture") cecho("&lt;red&gt;Disabled")
else
  force_capture = true
  sys("&lt;DimGray&gt;Force Capture") cecho("&lt;green&gt;Enabled")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^fc$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Landsense</name>
						<script>send("queue eqbal top landsense all")</script>
						<command></command>
						<packageName></packageName>
						<regex>^lsa$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Touch foreboding stone</name>
						<script>send("queue eqbal top touch foreboding")</script>
						<command></command>
						<packageName></packageName>
						<regex>^tfs$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>Hunting</name>
					<script></script>
					<command></command>
					<packageName></packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>Bash</name>
						<script>if healing then
  local shield_th = tonumber(ms.save['sth'])
  direction = ""
  if ms.save["rubcard"] then
    if ms.hunt[1] then
      rubCard(ms.hunt[1])
    else
      rubCard(creature)
    end
  end
  if ms.class["Bard"] and ebal and bbal then
  	send("stand")
  	if healme then send("hum ta chi llan me shaite "..creature) 
  	else send("hum rubait "..creature.." shaite "..creature) 
  	end
  ebal = false
  elseif ms.class["Mage"] and ebal and bbal then
  	magebash(creature)
  ebal = false
  elseif ms.class["Summoner"] and ebal and bbal then
  	ul = ""
  	if healme and arctar and ulb then send("fling priestess at me"..s.."unleash arctar at me")
  	elseif healme then send("fling priestess at me")
  	elseif ms.hunt[1] and bash then 
  		if ulb then
  			if rixil then
  				ul = "unleash rixil at "..ms.hunt[1]
  			elseif eerion then
  				ul = "unleash eerion at "..ms.hunt[1]
  			end
  		end
  		send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."invoke combustion "..ms.hunt[1].." duplicate"..s..""..ul)
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1])
  		elseif creature ~= tc and calltarget and bash then tc = creature;send("rt Target "..creature)
  		end
  	else 
  		if ulb then
  			if rixil then
  				ul = "unleash rixil at "..creature
  			elseif eerion then
  				ul = "unleash eerion at "..creature
  			end
  		end
  		send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."invoke combustion "..creature.. " duplicate"..s..""..ul)
  	end
  elseif ms.class["Diabolist"] and ebal and bbal then
  	send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then send("queue eqbal raisewings");send("queue eqbal touch shield tattoo")
  	elseif healme then expandAlias("dht")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send("wraith recall"..s..""..quickdrawHunt(ms.save["daegger"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send("wraith recall"..s..""..quickdrawHunt(ms.save["daegger"], ms.save["shield"])..""..s.."attack "..creature)
  		end
  		if reflective == 5 then
  			send("wraith bane")
  		elseif vigorous &gt;= 1 and th &lt; 50 then
  			send("wraith twirl me")
  		elseif whispering &gt;= 1 and tm &lt; 50 then
  			send("wraith nightkiss me")
  		end
  	end
  elseif ms.class["Defiler"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["flail"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["flail"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Druid"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["quarterstaff"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["quarterstaff"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Hunter"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Shaman"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Priest"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal seraph aura")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["mace"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["mace"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Berserker"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["longsword"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"], ms.save["longsword"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Templar"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["broadsword"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["broadsword"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Monk"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Amazon"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["javelin"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["javelin"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Ranger"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["glaive"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["glaive"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Predator"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["sitara"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["sitara"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif ms.class["Outrider"] and ebal and bbal then
    send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
      send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if ms.hunt[1] then send("queue reset eqbal", false);send(quickdrawHunt(ms.save["spear"], ms.save["shield"])..""..s.."attack "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send("queue reset eqbal", false);send(quickdrawHunt(ms.save["spear"], ms.save["shield"])..""..s.."attack "..creature)
  		end
    end
  elseif (ms.class["Assassin"] or ms.class["Renegade"]) and ebal and bbal then
  	send("stand", false)
  	if th &lt; shield_th and (not shielded or shielded == nil) then 
  		send("queue eqbal raisewings")
      send("queue eqbal touch shield tattoo")
  	else 
  		if becloud:find("becloud") then 
  			becloudHunt = "worm attach circular"..s.."worm becloud"
  		else 
  			becloudHunt = "worm attach tundra"..s.."worm freeze "..(ms.hunt[1] or creature)
  		end
  		if creature == "head" then
  			send("queue eqbal attack head"..s..""..becloudHunt)
  			send("queue eqbal attack hydra"..s..""..becloudHunt)
  		elseif ms.hunt[1] then send(quickdrawHunt(ms.save["daegger"], ms.save["shield"])..""..s.."puncture "..ms.hunt[1].." with trioxin"..s..""..becloudHunt)
  			if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send(quickdrawHunt(ms.save["daegger"], ms.save["shield"])..""..s.."puncture "..creature.." with trioxin"..s..""..becloudHunt)
  		end
  	end
  elseif ms.class["Deathknight"] and ebal and bbal then
  	if th &lt; shield_th and (not shielded or shielded == nil) then send("queue eqbal raisewings");send("queue eqbal touch shield tattoo")
  	elseif healme then send("vigour")
  	else 
  		if ms.hunt[1] then send(quickdrawHunt(ms.save["broadsword"], ms.save["shield"])..""..s.."attack "..ms.hunt[1]..""..s.."chill "..ms.hunt[1])
  		if ms.hunt[1] ~= tc and calltarget and bash then tc = ms.hunt[1];send("rt Target "..ms.hunt[1]) end
  		else send(quickdrawHunt(ms.save["broadsword"], ms.save["shield"])..""..s.."attack "..creature)
  		end
  	end
  end
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^b$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Hunt Area</name>
						<script>if ms.class["Assassin"] then
	send(""..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s.."worm attach tundra")
elseif ms.class["Deathknight"] then
	send(quickdraw(ms.save["broadsword"], ms.save["shield"]))
end
target = "None"
if brooms == nil then brooms = false end
brooms = true
bash = true
ms.huntRooms = {}
trooms = {}
if matches[3] then
	mmp.echoRoomListMS(matches[3])
elseif gmcp.Room.Info.area:find("Underworld") then
	mmp.echoRoomListMS("the Underworld Ithaqua")
	mmp.echoRoomListMS("the Underworld Celidon")
	mmp.echoRoomListMS("the Underworld Stavenn")
	mmp.echoRoomListMS("the Underworld Antioch")
	mmp.echoRoomListMS("the Underworld Khandava")
	mmp.echoRoomListMS("the Underworld Caanae")
elseif gmcp.Room.Info.area:find("the Sands of Aetherius") or gmcp.Room.Info.area:find("the Frozen Reaches") then
	mmp.echoRoomListMS("Authlair")
else
	mmp.echoRoomListMS(gmcp.Room.Info.area)
end
if gmcp.Room.Info.area == "the Isle of Llus" then
	mmp.echoRoomListMS("Llus Labratory")
elseif gmcp.Room.Info.area == "Llus Labratory" then
	mmp.echoRoomListMS("the Isle of Llus")
end
brooms = false

if gmcp.Room.Info.area == ("the Iaat Valley") then
	creature = "creature"
elseif gmcp.Room.Info.area == "the Isle of Llus" or gmcp.Room.Info.area == "Llus Labratory" then
	if ms.class["Assassin"] then
		creature = "kochlan"
	else
		creature = "kochlan"..s.."attack anvore"..s.."attack rakrtai"
	end
elseif gmcp.Room.Info.area == "Demon's Pass" then
	creature = "undead"
elseif gmcp.Room.Info.area == "the Gongen Stronghold" or gmcp.Room.Info.area == "the Kenuba Wastes Outpost" then
	creature = "horde"
end

for k,v in ipairs(trooms) do
	if not table.contains(ms.ignoreRooms, v) then table.insert(ms.huntRooms, v) end
end

if #ms.huntRooms &gt;= 1 then
	spdwalkarea = true
	expandAlias("goto "..ms.huntRooms[1])
else
	spdwalkarea = false
end 
</script>
						<command></command>
						<packageName></packageName>
						<regex>^brooms(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shard buffs</name>
						<script>send("queue eqbal shard anatomy"..s.."queue eqbal shard adrenaline"..s.."queue eqbal shard wildlife")</script>
						<command></command>
						<packageName></packageName>
						<regex>^sbm$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Scout Area</name>
						<script>if matches[3] then
	send("scout area all "..matches[3])
else
	send("scout area all")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^sa(\s(.+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Rub Card</name>
						<script>if matches[2] == "c" then
	if ms.hunt[1] then
		rubCard(ms.hunt[1])
	else
		rubCard(creature)
	end
elseif matches[2] == "t" then
	rubCard(target)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^rc(c|t)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Puncture Multi Target</name>
						<script>if matches[5] then
  expandAlias("tc "..matches[2].." with trioxin"..s.."puncture "..matches[3].." with trioxin"..s.."puncture "..matches[4].." with trioxin"..s.."puncture "..matches[5])
elseif matches[4] then
  expandAlias("tc "..matches[2].." with trioxin"..s.."puncture "..matches[3].." with trioxin"..s.."puncture "..matches[4])
else
  expandAlias("tc "..matches[2].." with trioxin"..s.."puncture "..matches[3])
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^pmt (\w+) (\w+) ?(\w+)? ?(\w+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Hunt shrines</name>
						<script>if ms.class["Assassin"] then
  expandAlias("tc giant with trioxin"..s.."puncture behemoth with trioxin"..s.."puncture horde with trioxin"..s.."puncture scorpion with trioxin"..s.."puncture mammoth with trioxin"..s.."puncture undead with trioxin"..s.."puncture blemmyes with trioxin")
else
  expandAlias("tc giant"..s.."attack behemoth"..s.."attack horde"..s.."attack scorpion"..s.."attack mammoth"..s.."attack undead"..s.."attack blemmyes")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^hs$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Next Room</name>
						<script>--MathSystem

if bash then
	table.remove(ms.huntRooms, 1)
	if #ms.huntRooms &gt; 0 then
		expandAlias("goto "..ms.huntRooms[1])
	end
elseif #ms.trooms &gt; 0 then
	table.remove(ms.trooms, 1)
	if #ms.trooms &gt; 0 then 
		expandAlias("goto "..ms.trooms[1]) 
	end
else
  sys("&lt;red&gt;Error") cecho("&lt;yellow&gt;! &lt;snow&gt;Hunting or Traversing Rooms not set&lt;yellow&gt; !\n")
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^nr$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Bash</name>
						<script>if ms.class["Bard"] and ebal and bbal then
	send("stand")
	if healme then send("hum ta chi llan me shaite "..matches[2]) 
	else send("hum rubait "..matches[2].." shaite "..matches[2])
	end
ebal = false
elseif ms.class["Mage"] and ebal and bbal then
	magebash(matches[2])
ebal = false
elseif (ms.class["Templar"] or ms.class["Monk"] or ms.class["Amazon"] or ms.class["Ranger"] or ms.class["Predator"] or ms.class["Outrider"] or ms.class["Berserker"] or ms.class["Priest"] or ms.class["Druid"] or ms.class["Shaman"] or ms.class["Summoner"] or ms.class["Diabolist"] or ms.class["Deathknight"]) or ms.class["Defiler"] or ms.class["Hunter"] and ebal and bbal then
	if ms.class["Deathknight"] then send("stand"..s..""..quickdraw(ms.save["broadsword"], ms.save["shield"])..""..s.."attack "..matches[2])
	elseif ms.class["Summoner"] then send("stand"..s..""..quickdraw("sword", ms.save["shield"])..""..s.."invoke combustion "..matches[2].." duplicate")
	else send("stand"..s.."attack "..matches[2])
	end
elseif (ms.class["Assassin"] or ms.class["Renegade"]) and ebal and bbal then
	if not wloc:find("Tundra") and not becloud then send("worm attach tundra") end
	send("queue eqbal top "..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s.."puncture "..matches[2].." with trioxin"..s.."worm freeze "..matches[2])
end
if creature:find("none") or creature:find("None") then expandAlias("tc "..matches[2]) end
if creatureid then killTrigger(creatureid) end
creatureid = tempTrigger(creature, [[selectString("]] .. creature .. [[", 1) fg("red") deselect() resetFormat()]])
</script>
						<command></command>
						<packageName></packageName>
						<regex>^b (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Add/Remove names from mob table</name>
						<script>local mobName = matches[3]:lower()
if matches[2] == "add" then
  if not table.contains(ms.save['mobs'], mobName) then
    table.insert(ms.save['mobs'], mobName)
    sys("&lt;yellow&gt;"..mobName) cecho("&lt;green&gt;Added to Mob List")
  else
    sys("&lt;red&gt;Error") cecho("&lt;yellow&gt;"..mobName.." &lt;snow&gt;already added to Mob List")
  end
elseif matches[2] == "remove" then
  if table.contains(ms.save['mobs'], mobName) then
    table.remove(ms.save['mobs'], table.index_of(ms.save['mobs'], mobName))
    sys("&lt;yellow&gt;"..mobName) cecho("&lt;red&gt;Removed from Mob List")
  else
    sys("&lt;red&gt;Error") cecho("&lt;yellow&gt;"..mobName.." &lt;snow&gt;does not exist in Mob List")
  end
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(add|remove) mob (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Spam creature name</name>
						<script>local mtc = matches[2]:lower()
local mCount = 0
local mtcTable = {}
for m in string.gmatch(mtc, "(%w+),") do
  table.insert(mtcTable, m)
end
expandAlias("tc "..table.concat(mtcTable, s.."attack "))</script>
						<command></command>
						<packageName></packageName>
						<regex>^mtc (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Set Shield Threshold</name>
						<script>local ssth = math.ceil(matches[2])
if ssth &gt; 100 then
  sys("&lt;red&gt;Error") cecho("&lt;snow&gt;Threshold set too high, please set the threshold between 1-100")
elseif ssth == 0 then
  sys("&lt;red&gt;Error") cecho("&lt;snow&gt;Threshold cannot be 0, please set the threshold between 1-100")
else
  ms.save['sth'] = ssth
  sys("&lt;green&gt;MS Shield Threshold") cecho("&lt;snow&gt;Threshold set to: &lt;yellow&gt;"..ssth)
end

</script>
						<command></command>
						<packageName></packageName>
						<regex>^sst (\d+)$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>Classes</name>
					<script></script>
					<command></command>
					<packageName></packageName>
					<regex></regex>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Demonic</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Defiler</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Torment</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Bleeding Route</name>
									<script>if healing then
	pta = true
	wld = ""
	qfront()
	affRav()
	bleedOB()
	bleedRte()
	treantWhirl()
	if treant then send("treant slay "..target) end
	send("queue reset eqbal");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..ob)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^raf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Block</name>
									<script>send("queue eqbal top block "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^bl (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Flail</name>
									<script>send("queue eqbal torment flail with transmutation")
send("queue eqbal torment flail with thornsprout")
send("queue eqbal torment flail with corrosion")

</script>
									<command></command>
									<packageName></packageName>
									<regex>^tnf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage route</name>
									<script>if healing then
	pta = true
	wld = ""
	qfront()
	affRav()
	dmgOB()
	dmgRte()
	if treant then send("treant slay "..target) end
	send("queue reset eqbal");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..ob)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Group Route</name>
									<script>if healing then
	pta = true
	wld = ""
	qfront()
	affRav()
	groupOB()
	groupRte()
	if treant then send("treant slay "..target) end
	send("queue reset eqbal");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..ob)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^gdmg$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Shadowbinding</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Siphon</name>
									<script>send("queue eqbal siphon haze into shadowring")
send("queue eqbal siphon haze into shadowtorc")
send("queue eqbal siphon haze into shadowcrown")</script>
									<command></command>
									<packageName></packageName>
									<regex>^shz$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Projection</name>
									<script>send("queue eqbal top shadowbind me with projection "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^pj (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Stop Movement</name>
									<script>send("queue eqbal spatter blackvines from blood"..s.."queue eqbal shadowbind here with mistbind")</script>
									<command></command>
									<packageName></packageName>
									<regex>^bm$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Desecration</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Blackvines</name>
									<script>send("queue eqbal spatter blackvines from blood")</script>
									<command>queue reset eqbal</command>
									<packageName></packageName>
									<regex>^bv$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Heartblood</name>
									<script>send("queue eqbal spatter heartblood from blood "..matches[2])</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^hb (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Leech Blood into Vials</name>
									<script>send("queue eqbal top leech blood into empty")</script>
									<command></command>
									<packageName></packageName>
									<regex>^lbe$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Assassin</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Sabotage</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Lay trap</name>
									<script>send("queue eqbal top lay dart "..matches[2])
if matches[3] then send("queue eqbal top envenom dart "..matches[2].." with "..matches[3]) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ld (\w+) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Evade</name>
									<script>send("queue eqbal top dismount"..s.."evade "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^ev (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Garrote</name>
									<script>send("queue eqbal top garrote "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^gar ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Flay</name>
									<script>send("queue eqbal top "..quickdraw(ms.save["whip"], ms.save["dirk"])..""..s.."flay "..matches[2].." "..(matches[3] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fl (\w+) ?(aura|mass)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Flay</name>
									<script>send("queue eqbal top "..quickdraw(ms.save["whip"], ms.save["dirk"])..""..s.."flay "..target.." "..(matches[2] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fl ?(aura|mass)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Puncture</name>
									<script>if not fenugreek then
	if matches[2] == "s" then
		send("queue eqbal top puncture "..(matches[3] or target).." with sulfonal") 
	elseif matches[2] == "t" then
		send("queue eqbal top puncture "..(matches[3] or target).." with trioxin")
	elseif matches[2] == "d" then
		send("queue eqbal top puncture "..(matches[3] or target).." with dioxin")
	end
else
	send("queue eqbal top "..quickdraw(ms.save["whip"], ms.save["dirk"])..""..s.."flay "..(matches[3] or target))
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^pc (s|t|d) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Block</name>
									<script>send("queue eqbal top block "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^bl (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lay snare</name>
									<script>if matches[3] then
	send("queue eqbal top lay snare "..matches[3])
else
	for _,exit in pairs(ms.exits) do
		send("queue eqbal lay snare "..exit)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ls(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Secret Item</name>
									<script>send("secret "..matches[2].." to "..matches[3])</script>
									<command></command>
									<packageName></packageName>
									<regex>^sc (\w+) (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dstab</name>
									<script>if healing then
  pta = true
  daf = true
	tl = false
	dmg = false
	group = false
    qfront()
    plf()
    dstabStall()
    shadowPlant()
    annihilate()
	dstabAtk()
	dstabWorm()
  if probe then
    atk = "analyse "..target.." afflictions unified"
	elseif (ms.ass.aff[1] == "butisol" or ms.ass.aff[2] == "butisol") and (ms.ass.aff[1] ~= "bromine" and ms.ass.aff[2] ~= "bromine") and ms.afflicted["slow herbs"] == "notaff" and not shield and not rb then
		atk = "dstab "..target.." butisol mazanor"
  elseif (ms.ass.aff[1] == "benzene" or ms.ass.aff[2] == "benzene") and not shield and not rb then
    atk = "dstab "..target.." benzene benzene"
  elseif (th &lt; 40 or (#ms.afflictions &gt;= 7))  and not autoKill then
    if blind and not rb and lamia then
      atk = "dstab "..target.." oxalis "..ms.ass.aff[1]
    elseif not transfixed and not blind and lamia then
      atk = "demon ensnare "..target
      watk = ""
    end
	end
    if cobra then send("order loyals kill "..target) end
    send("queue reset all", false);send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end--healing
</script>
									<command></command>
									<packageName></packageName>
									<regex>^daf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Phase/Unphase</name>
									<script>if matches[2] == "phase" then
	noheal()
	send("phase")
else
	heal()
	send("unphase")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(phase|unphase)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Group Attack</name>
									<script>if healing then
	pta = true
	daf = false
	dmg = false
	tl = false
	group = true
	qfront()
	plf()
	annihilate()
	puncture()
	dstabGroup()
	wormDmg()
	if cobra then send("order loyals kill "..target) end
   send("queue reset all");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^gaf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lightwall</name>
									<script>send("queue eqbal top conjure lightwall "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^lw (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Yank</name>
									<script>send("queue eqbal "..quickdraw(ms.save["whip"], ms.save["shield"])..""..s.."yank "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^y(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Noose</name>
									<script>noheal()
send("queue eqbal top noose "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^noose ?(\w+)?$</regex>
								</Alias>
								<AliasGroup isActive="yes" isFolder="yes">
									<name>Bows</name>
									<script></script>
									<command></command>
									<packageName></packageName>
									<regex></regex>
									<Alias isActive="yes" isFolder="no">
										<name>Shoot bow</name>
										<script>if shield or matches[2] == "b" then
	switch = "broad"
elseif matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "fs" then
	switch = "formaldehyde spiral"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end


if matches[4] then
	send("queue eqbal top "..quickdraw("bow")..""..s.."switch "..switch..""..s.."snipe "..matches[3].." "..matches[4])
else
	send("queue eqbal top "..quickdraw("bow")..""..s.."snipe "..target.." "..matches[3])
end</script>
										<command></command>
										<packageName></packageName>
										<regex>^sb(bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr) (\w+) ?(\w+)?$</regex>
									</Alias>
									<Alias isActive="yes" isFolder="no">
										<name>Worm attach</name>
										<script>send("queue eqbal top worm attach "..(matches[3] or target))
if matches[3] then
	wRoom = matches[3]
else
	wRoom = target
end</script>
										<command></command>
										<packageName></packageName>
										<regex>^wat(\s(\w+))?$</regex>
									</Alias>
									<Alias isActive="yes" isFolder="no">
										<name>Wormsnipe</name>
										<script>if matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "fs" then
	switch = "formaldehyde spiral"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end



send("queue eqbal top worm attach "..target..""..s..""..quickdraw(ms.save["bow"])..""..s.."switch "..switch..""..s.."worm snipe "..target)
</script>
										<command></command>
										<packageName></packageName>
										<regex>^ws(bs|ar|ab|as|cw|ls|fb|nb|n|fs|fr)$</regex>
									</Alias>
									<Alias isActive="yes" isFolder="no">
										<name>Wormsnipe</name>
										<script>if matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "fs" then
	switch = "formaldehyde spiral"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end



send("queue eqbal top worm attach "..(matches[3] or target)..""..s..""..quickdraw(ms.save["bow"])..""..s.."switch "..switch)
send("queue eqbal worm snipe "..(matches[3] or target))
</script>
										<command></command>
										<packageName></packageName>
										<regex>^ws(bs|ar|ab|as|cw|ls|fb|nb|n|fs|fr) (\w+)$</regex>
									</Alias>
								</AliasGroup>
								<Alias isActive="yes" isFolder="no">
									<name>Call Cobra</name>
									<script>if matches[2] == "scob" then
  send("queue eqbal summon cobra")
  send("queue eqbal order loyals follow me")
else
  send("queue eqbal summon cobra inv")
  send("queue eqbal "..quickdraw("cobra"))
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(scob|sci)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage Stab</name>
									<script>if healing then
    pta = true
    daf = false
	tl = false
	group = false
	dmg = true
    qfront()
    plf()
    annihilate()
	dstabDmg()
	wormDmg()
    if cobra then send("order loyals kill "..target) end
    send("queue reset all", false);send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end--healing</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Slit</name>
									<script>send("queue eqbal slit "..(matches[3] or target)..""..s.."gauge "..target);msTA(target)</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^slt(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lay Clothesline</name>
									<script>if matches[3] then
	send("queue eqbal top lay clothesline "..matches[3])
else
	for _,exit in pairs(ms.exits) do
		send("queue eqbal lay clothesline "..exit)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^lc(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Backstab</name>
									<script>noheal()
send("queue reset eqbal"..s..""..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s.."envenom "..ms.save["dirk"].." with strychnine"..s.."queue eqbal backstab "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^bs(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>True Lock Route</name>
									<script>if healing then
    pta = true
    daf = false
	tl = true
	dmg = false
	group = false
    qfront()
    plf()
	  dstabTL()
    shadowPlant()
    annihilate()
	dstabAtk()
	dstabWorm()
	if (ms.ass.aff[1] == "butisol" or ms.ass.aff[2] == "butisol") and (ms.ass.aff[1] ~= "bromine" and ms.ass.aff[2] ~= "bromine") and ms.afflicted["slow herbs"] == "notaff" and not shield then
		atk = "dstab "..target.." butisol mazanor"
elseif ms.afflicted["anorexia"] == "notaff" and (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine") and ms.afflicted["hemotoxin"] == "aff" and (ms.afflicted["impatience"] == "aff" or snap) then
		atk = "dstab "..target.." iodine bromine"
elseif (th &lt; 65 or (tbleed &gt; 20) or (#ms.afflictions &gt;= 6)) and not autoKill then
 if blind and not rb and lamia then
  atk = "dstab "..target.." oxalis "..ms.ass.aff[1]
 elseif not transfixed and not blind and lamia then
  atk = "demon ensnare "..target
  watk = ""
end
end
    if cobra then send("order loyals kill "..target) end
    send("queue reset all", false);send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end--healing
</script>
									<command></command>
									<packageName></packageName>
									<regex>^tl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Sleep</name>
									<script>send("queue eqbal top dstab "..(matches[3] or target).." opium opium")</script>
									<command></command>
									<packageName></packageName>
									<regex>^slp(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Channel Cobra</name>
									<script>send("queue eqbal summon cobra inv")
send("queue eqbal "..quickdraw("cobra"))
send("queue eqbal worm attach "..(matches[3] or target))
send("queue eqbal worm channel cobra")
send("queue eqbal demon warp")
</script>
									<command></command>
									<packageName></packageName>
									<regex>^wcc ?(\s(\w+))?$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Spatium</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Summon Lamia</name>
									<script>send("queue eqbal worm create");send("queue eqbal worm attach demonic");send("queue eqbal worm summon lamia");send("queue eqbal demon protect");send("queue eqbal order loyals follow me")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wsl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Blizzard</name>
									<script>send("queue eqbal top worm attach tundra"..s.."worm blizzard")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Freeze Ground</name>
									<script>send("queue eqbal top worm attach tundra"..s.."worm freeze ground")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wfg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Blizzard</name>
									<script>if useBlizzard then
	useBlizzard = false
	sys("&lt;blue&gt;Blizzard") cecho("&lt;red&gt;OFF")
else
	useBlizzard = true
	sys("&lt;blue&gt;Blizzard") cecho("&lt;green&gt;ON")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^bliz$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Becloud Toggle</name>
									<script>if becloud:find("freeze") then
	becloud = "worm attach circular"..s.."worm becloud"
	sys("&lt;purple&gt;Becloud") cecho("&lt;green&gt;Toggled On")
else
	becloud = "worm attach tundra"..s.."worm freeze "..creature
	sys("&lt;purple&gt;Becloud") cecho("&lt;red&gt;Toggled Off")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^becloud$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm vortex</name>
									<script>send("worm attach "..(matches[2] or target));send("queue eqbal top worm vortex "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^wv ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon Explode</name>
									<script>send("queue eqbal demon warp");send("queue eqbal demon explode")</script>
									<command></command>
									<packageName></packageName>
									<regex>^dex$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Becloud</name>
									<script>send("queue eqbal top worm attach circular"..s.."worm becloud")</script>
									<command></command>
									<packageName></packageName>
									<regex>^bc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Summon Wraith</name>
									<script>send("queue eqbal worm create");send("queue eqbal worm attach demonic");send("queue eqbal worm summon wraith");send("queue eqbal demon watch");send("queue eqbal order loyals follow me")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wsw$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Devour</name>
									<script>noheal()
channeling = true
send("queue eqbal top worm attach rashirmir"..s.."worm devour "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dev(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Cleanse</name>
									<script>if bard or summoner then
	send("queue eqbal top worm attach circular"..s.."worm cleanse")
else
	send("queue eqbal top worm cleanse")
end</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^wc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Confound Toggle</name>
									<script>if confound then
  confound = false
  sys("&lt;purple&gt;Confound") cecho("&lt;red&gt;OFF")
else
  confound = true
  sys("&lt;purple&gt;Confound") cecho("&lt;green&gt;ON")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cft$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Hypnosis</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Hypnotize</name>
									<script>if matches[3] then
  send("queue eq hypnotise "..matches[2])
  send("queue eq suggest "..matches[2].." action "..matches[3])
  send("queue eq seal "..matches[2].." 1")
  send("snap "..matches[2])
else
  send("queue eqbal hypnotise "..matches[2])
end</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^hyp (\w+) ?(.+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seal</name>
									<script>if matches[3] then
  send("queue eqbal top seal "..matches[2].." "..matches[3])
else
  send("queue eqbal top seal "..matches[2].." 1")
end
send("snap "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^sl (\w+) ?(\d+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Suggest</name>
									<script>if matches[3] then
  send("queue eqbal top suggest "..matches[2].." "..matches[3])
else
  send("queue eqbal top suggest "..target.." "..matches[2])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sug (\w+) ?(\w+)?$</regex>
								</Alias>
							</AliasGroup>
							<Alias isActive="yes" isFolder="no">
								<name>Unphase+Block</name>
								<script>send("unphase"..s.."block "..matches[2])</script>
								<command></command>
								<packageName></packageName>
								<regex>^ub (\w+)$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>Setup for Devour</name>
								<script>dartDir = ""
if matches[2] == "nw" then dartDir = "southeast"
elseif matches[2] == "ne" then dartDir = "southwest"
elseif matches[2] == "se" then dartDir = "northwest"
elseif matches[2] == "sw" then dartDir = "northeast"
elseif matches[2] == "n" then dartDir = "south"
elseif matches[2] == "e" then dartDir = "west"
elseif matches[2] == "s" then dartDir = "north"
elseif matches[2] == "w" then dartDir = "east"
elseif matches[2] == "in" then dartDir = "out"
elseif matches[2] == "out" then dartDir = "in"
elseif matches[2] == "u" then dartDir = "down"
elseif matches[2] == "d" then dartDir = "up"
end
send("queue eqbal "..matches[2])
send("queue eqbal lay dart "..dartDir)
send("queue eqbal top envenom dart "..dartDir.." with benzene")
send("queue eqbal "..dartDir)
send("queue eqbal lay snare "..matches[2])
send("queue eqbal "..quickdraw("incinerator", ms.save["shield"])..""..s.."point incinerator "..matches[2])
send("queue eqbal block "..matches[2])
send("queue eqbal "..quickdraw(ms.save["dirk"], ms.save["shield"]))</script>
								<command>queue reset all</command>
								<packageName></packageName>
								<regex>^sud (\w+)$</regex>
							</Alias>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Deathknight</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Weaponmastery</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Bleed Attack</name>
									<script>if healing then
	pta = true
	bleeddsl = true
  bleed2dsl = false
	dmgdsl = false
	qdw = ""
	ew()
	bleedDSL()
	plf()
	qfront()

	if et and engage then 
		eng = "engage "..target 
	elseif not rb and not shield and (ms.dk.affs[1] == "strychnine" or ms.dk.affs[2] == "strychnine" or not deaf) and (ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff" or ms.afflicted["metrazol"] == "aff") and not tprone then
		eng = "battlecry "..target
	elseif hp &lt;= 75 and tbleed &gt;= 50 and not shield and not pullarrow then
		eng = "soulstorm "..target
	elseif not pullarrow then
		eng = "gauge "..target
  else
    eng = ""
	end



		if not hound then send("hound slay "..target) end

		if pb then matk = ""..quickdraw(ms.save["broadsword"], ms.save["shield"])..""..s.."arc aconite"..s.."soulstorm "..target
		elseif hk and rb then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..ptar.." ciguatoxin"
		elseif hk then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm slash slash "..ptar.." opium opium"
		elseif shield and rb then
			matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target
		elseif impaled then
			matk = "disembowel "..target
			eng = "soulstorm "..target
		elseif essence &gt;= 15 and (acount &gt;= 10 or tbleed &gt;= 70 or (llm or rlm)) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
			qdw = quickdraw(ms.save["longsword"], ms.save["shield"])
			matk = "envenom "..ms.save["longsword"].." with strychnine"..s.."impale "..target
			if tprone and not deaf then eng = "battlecry "..target end
		else
			if atk1 == "hack" or atk2 == "hack" or atk2:find("tendoncut") then
				qdw = quickdraw(ms.save["scimitar"], ms.save["shield"])
				if atk2 == "tendoncut"  and ms.afflicted["anorexia"] == "notaff" then 
					ms.dk.affs[1] = "bromine" 
					if ms.dk.affs[2] == "bromine" then ms.dk.affs[2] = ms.dk.affs[3] end
				end
       	if not rb and not shield and (not llm and not rlm) and (rlb and llb) and llBP &lt;= llHit and rlBP &lt;= rlHit and deaf then
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." strychnine right leg benzene left leg"
					eng = "battlecry "..target
				elseif not rb and not shield and (not llm and not rlm) and (rlb and llb) and llBP &lt;= llHit and rlBP &lt;= rlHit and not deaf then
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." benzene right leg benzene left leg"
					eng = "battlecry "..target
				else
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..tl1.." "..ms.dk.affs[2].." "..tl2
				end
      elseif not rb and not shield and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["slickness"] == "aff" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "notaff" and not table.contains(ms.afflictions, "clumsiness") then
          matk = "wm "..atk1.." "..atk2.." "..target.." benzene benzene"
			else
					matk = "wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
			end
		end
    --
    if atk1 == "slash" or atk2 == "slash" then
      qdw = quickdraw(ms.save["sabre"], ms.save["shield"])
    else
      qdw = quickdraw(ms.save["longsword"], ms.save["shield"])
    end
    --
    		clw = ""
		if qdw:find("longsword") then clw = "cleanse "..ms.save["longsword"]
		elseif qdw:find("scimitar") then clw = "cleanse scimitar"
    elseif qdw:find("sabre") then clw = "cleanse sabre"
		end
    --
    if (matk:find("butisol") or matk:find("iodine") or matk:find("benzene")) and chill then
      eng = "chill "..target..""..s..""..eng
    end
	--Main Attack!
	send("queue reset eqbal");send("queue eqbal stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..qdw..""..s..""..clw..""..s..""..ewAtk..""..s..""..matk..""..s..""..eng)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Aff Attack</name>
									<script>if healing then
	if adsl and (not ebal or not bbal) then
		sys("Afflictor") cecho("&lt;red&gt;[&lt;yellow&gt;AFFLICTING ALREADY SET&lt;red&gt;]")
	elseif not ebal or not bbal then adsl = true
		fecho("Afflictor", "Afflicting Queue Set", "Wait for Balance")
	elseif ebal and bbal then
		if not hound then send("hound slay "..target) end
		if tparried then
			if rb and shield then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target)
			elseif rb or shield then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze feint "..target.." head");tparried = false
			else send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm feint slash "..target.." head "..ms.dk.affs[1]);tparried = false
			end
		elseif tlock and not rb and not shield then
			if not tprone and deaf then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."dsl "..target.." opium opium")
			elseif not tprone and not deaf then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."dsl "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]..""..s.."battlecry "..target)
			else send("impale "..target..""..s.."battlecry "..target..""..s.."queue eqbal disembowel "..target)
			end
		elseif pbp &gt;= 80 and not rb and not shield then
			affsDSL()
			send(""..quickdraw(ms.save["scimitar"], ms.save["shield"])..""..s.."wm tendoncut slash "..target.." torso "..ms.dk.affs[1])
		else
			affsDSL()
			if shield and rb then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target)
			elseif rb or shield then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..target.." "..ms.dk.affs[1])
			else send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."dsl "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2])
			end
		end
	if et and engage then send("engage "..target) end
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^af$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage Attack</name>
									<script>if healing then
	pta = true
	dmgdsl = true
	bleeddsl = false
  bleed2dsl = false
	qdw = ""
	ew()
	dmgDSL()
	plf()
	qfront()

	if et and engage then 
		eng = "engage "..target 
	elseif not rb and not shield and (ms.dk.affs[1] == "strychnine" or ms.dk.affs[2] == "strychnine" or not deaf) and (ms.afflicted["metrazol"] == "aff" or ms.afflicted["paralysis"] == "aff") and not tprone then
		eng = "battlecry "..target
	elseif not shield and not pullarrow then
		eng = "soulstorm "..target
  else
    eng = ""
	end

		if not hound then send("hound slay "..target) end

		if pb then matk = ""..quickdraw(ms.save["broadsword"], ms.save["shield"])..""..s.."arc aconite"..s.."soulstorm "..target
		elseif hk and rb then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..ptar.." ciguatoxin"
		elseif hk then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm slash slash "..ptar.." opium opium"
		elseif shield and rb then
			matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target
    elseif shield and hammer then
      matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."touch hammer "..target
		elseif impaled then
			matk = "disembowel "..target
			eng = "soulstorm "..target
		elseif (acount &gt;= 8 or tbleed &gt;= 70) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
			qdw = quickdraw(ms.save["claymore"])
			matk = "impale "..target
			if tprone and not deaf then eng = "battlecry "..target end
		else
			if atk1 == "hack" or atk2 == "hack" then
				qdw = quickdraw(ms.save["scimitar"], ms.save["shield"])
				if atk2 == "tendoncut"  and ms.afflicted["anorexia"] == "notaff" then 
					ms.dk.affs[1] = "bromine" 
					if ms.dk.affs[2] == "bromine" then ms.dk.affs[2] = ms.dk.affs[3] end
				end
				matk = "cleanse scimitar"..s.."wipe scimitar"..s.."envenom scimitar with "..ms.dk.affs[1]..""..s.."envenom scimitar with "..ms.dk.affs[2]..""..s.."wm "..atk1.." "..atk2.." "..target.." "..tl1.." "..tl2
      elseif atk1 == "reave" or atk2 == "reave" then
        if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["battleaxe"], ms.save["shield"])
					matk = "lns"..s.."wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
			else
        if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["claymore"])
					matk = "wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
			end
		end
        		clw = ""
		if qdw:find("longsword") then clw = "cleanse "..ms.save["longsword"]..""
		elseif qdw:find("claymore") then clw = "cleanse claymore"
    elseif qdw:find("battleaxe") then clw = "cleanse battleaxe"
		end
	--Main Attack!
	send("queue reset eqbal");send("queue eqbal stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..qdw..""..s..""..clw..""..s..""..ewAtk..""..s..""..matk..""..s..""..eng)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bleed Attack (sc)</name>
									<script>if healing then
	pta = true
	bleed2dsl = true
  bleeddsl = false
	dmgdsl = false
	qdw = ""
	ew()
	bleed2DSL()
	plf()
	qfront()

	if et and engage then 
		eng = "engage "..target 
	elseif not rb and not shield and (ms.dk.affs[1] == "strychnine" or ms.dk.affs[2] == "strychnine" or not deaf) and (ms.afflicted["metrazol"] == "aff" or ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff") and not tprone then
		eng = "battlecry "..target
	elseif not shield and not pullarrow then
		eng = "soulstorm "..target
  else
    eng = ""
	end

		if not hound then send("hound slay "..target) end

		if pb then matk = ""..quickdraw(ms.save["broadsword"], ms.save["shield"])..""..s.."arc aconite"..s.."soulstorm "..target
		elseif hk and rb then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..ptar.." ciguatoxin"
		elseif hk then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm slash slash "..ptar.." opium opium"
		elseif shield and rb then
			matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target
    elseif shield and hammer then
      matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."touch hammer "..target
		elseif impaled then
			matk = "disembowel "..target
			eng = "soulstorm "..target
		elseif (acount &gt;= 8 or tbleed &gt;= 70) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
			qdw = quickdraw(ms.save["claymore"])
			matk = "impale "..target
			if tprone and not deaf then eng = "battlecry "..target end
		else
			if atk1 == "hack" or atk2 == "hack" then
				qdw = quickdraw(ms.save["scimitar"], ms.save["shield"])
				if atk2 == "tendoncut"  and ms.afflicted["anorexia"] == "notaff" then 
					ms.dk.affs[1] = "bromine" 
					if ms.dk.affs[2] == "bromine" then ms.dk.affs[2] = ms.dk.affs[3] end
				end
				matk = "cleanse scimitar"..s.."wipe scimitar"..s.."envenom scimitar with "..ms.dk.affs[1]..""..s.."envenom scimitar with "..ms.dk.affs[2]..""..s.."wm "..atk1.." "..atk2.." "..target.." "..tl1.." "..tl2
      elseif ((atk1 == "lacerate" or atk2 == "lacerate") or (atk1 == "shred" or atk2 == "shred")) then
        if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["longsword"], ms.save["shield"])
					matk = "wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
      elseif atk1 == "reave" or atk2 == "reave" then
        -- if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["battleaxe"], ms.save["shield"])
					matk = "lns"..s.."wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
			else
        if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["claymore"])
					matk = "wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
			end
		end
    clw = ""
		if qdw:find("longsword") then clw = "cleanse "..ms.save["longsword"]..""
		elseif qdw:find("claymore") then clw = "cleanse claymore"
    elseif qdw:find("battleaxe") then clw = "cleanse battleaxe"
		end
	--Main Attack!
	send("queue reset eqbal");send("queue eqbal stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..qdw..""..s..""..clw..""..s..""..ewAtk..""..s..""..matk..""..s..""..eng)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sll$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dsb Attack</name>
									<script>send("impale "..(matches[2] or target)..""..s.."battlecry "..(matches[2] or target)..""..s.."queue eqbal disembowel "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dsb(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>barge</name>
									<script>if matches[4] then send("queue eqbal barge "..matches[4].." "..matches[2])
else send("queue eqbal barge "..target.." "..matches[2])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^bp (\w+)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Shoot Bow</name>
									<script>if shield or matches[2] == "b" then
	switch = "broad"
elseif matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end


if matches[4] then
	send("queue eqbal top "..quickdraw("bow")..""..s.."switch "..switch..""..s.."shoot "..matches[3].." "..matches[4])
else
	send("queue eqbal top "..quickdraw("bow")..""..s.."switch "..switch..""..s.."shoot "..target.." "..matches[3])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sb(\w+) (\w+) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Aim</name>
									<script>noheal()
send("queue eqbal top aim "..target.." "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^atd (\w+)$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Brutality</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Cleave</name>
									<script>noheal()
send("queue eqbal cleave "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^cl(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Block</name>
									<script>send("queue eqbal block "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^bl (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Sunder</name>
									<script>noheal()
send(quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."sunder "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^su(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Defend</name>
									<script>send("queue eqbal defend "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^df (\w+)$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Necromancy</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Blackwind</name>
									<script>noheal()
fiend = false
dtype = "none"
send("queue eqbal blackwind")</script>
									<command></command>
									<packageName></packageName>
									<regex>^bw$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Draw heart/soulspear</name>
									<script>send("draw heart"..s.."queue eqbal get body"..s.."evoke soulspear from body")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ess$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Soulspear</name>
									<script>send("queue eqbal "..quickdraw("soulspear", ms.save["shield"])..""..s.."throw soulspear at "..(matches[4] or target).." "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^tss (\w+)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Vivisect</name>
									<script>if healing then
	noheal()
	send("queue eqbal dismount"..s.."vivisect "..(matches[3] or target))
	ik = true
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^vv(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Animate</name>
									<script>send("queue eqbal animate "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^ani (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Focus Possession</name>
									<script>noheal()
send("queue eqbal focus possession")</script>
									<command></command>
									<packageName></packageName>
									<regex>^fp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Soul sense</name>
									<script>sys("&lt;green&gt;Soulsense") cecho("&lt;snow&gt;"..matches[2])
send("queue eqbal top soulsense "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^ss (.+)$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Summoner</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Enslavery</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Scrawl</name>
									<script>send("scrawl pentagram for domination")
star = matches[2]</script>
									<command></command>
									<packageName></packageName>
									<regex>^scrawl (.+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Danaeus</name>
									<script>send("unleash danaeus at "..(matches[3] or target))
flinged = true</script>
									<command></command>
									<packageName></packageName>
									<regex>^ud(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Doppleganger</name>
									<script>if shield then dpa = "channel invoke cleanseaura "..(matches[4] or target)
elseif matches[2] == "w" then dpa = "channel invoke warpaura "..(matches[4] or target)
elseif matches[2] == "c" then dpa = "channel invoke cleanseaura "..(matches[4] or target)
elseif matches[2] == "h" then dpa = "channel invoke heave "..(matches[4] or target)
elseif matches[2] == "l" then dpa = "channel fling lust at "..(matches[4] or target)
elseif matches[2] == "f" then dpa = "channel invoke flash "..(matches[4] or target)
end
send("queue eqbal order doppleganger seek "..(matches[4] or target)..""..s.."order doppleganger "..dpa)</script>
									<command></command>
									<packageName></packageName>
									<regex>^dp(f|w|c|l|h)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Chariot</name>
									<script>send("queue eqbal fling chariot at ground")
send("queue eqbal board chariot"..s.."order loyals follow me")
send("queue eqbal fly")</script>
									<command></command>
									<packageName></packageName>
									<regex>^flc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Reset Pacts</name>
									<script>skyrax = true
rixil = true
eerion = true
arctar = true
scrag = true
pyradius = true
dameron = true
palpatar = true
nin = true
istria = true
marduk = true
belial = true
buul = true
cadmus = true
piridon = true
danaeus = true
lyncantha = true
hecate = true
golgotha = true
sys("&lt;purple&gt;Pacts") cecho("&lt;red&gt;Reset")</script>
									<command></command>
									<packageName></packageName>
									<regex>^rp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Arctar</name>
									<script>send("unleash arctar at "..(matches[2] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^ua ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Fling Target</name>
									<script>if not matches[2] then
	fling = ""
	sys("&lt;yellow&gt;Fling") cecho("&lt;red&gt;DANAEUS STOPPED")
elseif matches[2] then
	fling = matches[2]:title()
	sys("&lt;yellow&gt;Fling") cecho("&lt;green&gt;DANAEUS SET TO &lt;ivory&gt;\-\&gt; &lt;gold&gt;"..fling)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dt ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Change Possession</name>
									<script>for k,v in pairs(ms.defApplied) do
	if v == "possessed by golgotha" or v == "possessed by arctar" or v == "possessed by lyncantha" or v == "possessed by buul" or v == "possessed by dameron" or v == "possessed by rixil" or v == "possessed by eerion" then
		summ = string.match(v, "possessed by (%a+)")
		send("queue eqbal banish "..summ)
	end
end 
if matches[2] == "a" then
	send("queue eqbal summon arctar")
elseif matches[2] == "l" then
	send("queue eqbal summon lyncantha")
elseif matches[2] == "b" then
	send("queue eqbal summon buul")
elseif matches[2] == "d" then
	send("queue eqbal summon dameron")
elseif matches[2] == "r" then
	send("queue eqbal summon rixil") 
elseif matches[2] == "e" then
	send("queue eqbal summon eerion")
elseif matches[2] == "g" then
	send("queue eqbal summon golgotha")
elseif matches[2] == "s" then
	send("queue eqbal summon scrag")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sum(\w+)$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Noctu</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Damager</name>
									<script>if healing and (not ebal or not bbal) and hk and ulb and eerion then
	if hk and ulb and eerion then send("unleash eerion "..ptar) end
elseif healing then
	pta = true
	group = false
	dmg = true
	atk = ""
	si = ""
	ti = ""
	uldmg()
	affcount()
	qfront()
	if shield then
		if hp &lt;= 50 then
			atk = "invoke cleanseaura "..target..""..s..""..ul
		elseif hammer then
			atk = "touch hammer "..target..""..s..""..ul
		else
			atk = "invoke cleanseaura "..target..""..s..""..ul
		end
	elseif th &lt; 50 and hp &lt; 65 and ulb then
		if belial and hp &gt; 75 then
			ul = "unleash belial at "..target
		elseif dameron and hp &gt; 50 then
			ul = "unleash dameron at "..target.." belial"
		elseif golgotha then 
			ul = "unleash golgotha at "..target
		elseif dameron then
			ul = "unleash dameron at "..target.." golgotha"
		end
		atk = ul..""..s.."invoke aurashift "..target
	else
		if ulb then
			if table.contains(gmcp.Room.Info.details, "outdoors") and not indoors and (danaeus or dameron) and ((#ms.afflictions &gt;= 6) or th &lt; 60) then
				if danaeus then
					ul = "unleash danaeus at "..target
				elseif dameron then
					ul = "unleash dameron at "..target.." danaeus"
				end
			elseif not zerker and ((#ms.afflictions &gt;= 5) and not indoors or th &lt; 60) and (eerion or dameron) then
				if eerion then
					ul = "unleash eerion at "..target
				elseif dameron then
					ul = "unleash dameron at "..target.." eerion"
				end
				atk = ul..""..s.."fling hangedman at "..target
			end
		end
    if taint &gt;= 60 and hp &lt;= 65 then
			si = ""..s.."invoke soulburn "..target.." instant"
		end
    if taint == 100 and not incinerate then
      atk = ul..""..s.."invoke incinerate "..target
		elseif hp &lt; 50 then
			atk = ul..""..si..""..s.."invoke quicken "..target..""..ti
		else
			atk = ul..""..si..""..s.."fling creator fever at "..target
		end
	end
	send("queue reset all");send("queue eqbal top stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s..""..atk)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(sdmg|dmg)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Ashcloud</name>
									<script>send("queue eqbal top invoke ashcloud "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^iac ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Melt Wall</name>
									<script>send("queue eqbal top invoke melt "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^mw (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Soulchain</name>
									<script>send("queue eqbal top invoke soulchain")</script>
									<command></command>
									<packageName></packageName>
									<regex>^sch$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Tarot</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Priestess</name>
									<script>send("queue eqbal top fling priestess at "..(matches[2] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^hl ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Tarot Affliction</name>
									<script>if healing and (not ebal or not bbal) and hk and ulb and eerion then
	if hk and ulb and eerion then send("unleash eerion "..ptar) end
elseif healing then
	pta = true
  taff = true
  tl = false
	group = false
	dmg = false
	atk = ""
	siaff()
	ulaff()
	summaff()
	tarot()
	affcount()
	plf()
	qfront()
  if du and lhc &lt; 2 then
    atk = "fling hangedman to levitate"
	elseif shield then
		if hp &lt;= 50 then
			atk = "invoke cleanseaura "..target..""..s..""..ul
		elseif hammer then
			atk = "touch hammer "..target..""..s..""..ul
		else
			atk = "invoke cleanseaura "..target..""..s..""..ul
		end
	elseif death &gt;= 7 then
		atk = ul..""..s.."fling death at "..target
	elseif (reflection or dispel) and death &lt; 7 then
		atk = "rub death on "..target
  elseif probe then
    atk = "diag "..target.." unified"
	elseif ms.afflicted["madness"] == "aff" then
		qf = ""
      if ulb then
			 ul = "unleash golgotha at "..target
		  elseif dameron then
			 ul = "unleash dameron at "..target.." golgotha"
      else
       ul = ""
      end
		atk = "give horn to "..target..""..s..""..ul..""..s.."invoke enlighten "..target..""..s.."beckon artifacts"
	elseif th &lt; 50 and (hp &lt; 75 or (ulb and (dameron or belial or golgotha))) then
		if belial and hp &gt; 50 then
			ul = "unleash belial at "..target
		elseif dameron and hp &gt; 50 then
			ul = "unleash dameron at "..target.." belial"
		elseif golgotha then 
			ul = "unleash golgotha at "..target
		elseif dameron then
			ul = "unleash dameron at "..target.." golgotha"
		end
		atk = ul..""..s.."invoke aurashift "..target
	elseif ((ms.afflicted["asthma"] == "aff" or (ashcloud and smoked)) or tlock) and ((not speed or (ashcloud and smoked)) or (buul and ulb)) and hp &lt; 25 and taint &gt;= 60 then
		if buul and ulb then ul = "unleash buul at "..target end
		atk = ul..""..s.."invoke impatience "..target.." instant"..s.."invoke whisperingmadness "..target
	elseif (((ms.afflicted["asthma"] == "aff" or (ashcloud and smoked)) or ms.afflicted["impatience"] == "aff") or tlock) and ((not speed or (ashcloud and smoked)) or (buul and ulb)) and ((hp &lt;= 100 and scount &gt;= 4) or (hp &lt; 75 and scount &gt;= 3) or (hp &lt; 50 and scount &gt;= 2)) then 
		if buul and ulb then ul = "unleash buul at "..target end
		atk = ul..""..s.."invoke whisperingmadness "..target
	else
		if ulb and (danaeus or dameron) then
			if table.contains(gmcp.Room.Info.details, "outdoors") and (danaeus or dameron) and fling ~= "" and not indoors then
				if danaeus then
					ul = "unleash danaeus at "..fling
				elseif dameron then
					ul = "unleash dameron at "..fling.." danaeus"
				end
			elseif table.contains(gmcp.Room.Info.details, "outdoors") and (danaeus or dameron) and ((#ms.afflictions &gt;= 7) or th &lt; 50 or bleed &gt;= 40) and not indoors then
				if danaeus then
					ul = "unleash danaeus at "..target
				elseif dameron then
					ul = "unleash dameron at "..target.." danaeus"
				end
			elseif not zerker and (eerion or dameron) and ((#ms.afflictions &gt;= 5) or th &lt; 50 or bleed &gt;= 40) then
				if eerion then
					ul = "unleash eerion at "..target
				elseif dameron then
					ul = "unleash dameron at "..target.." eerion"
				end
				tcard = "hangedman"
				scast = ""
				moonaff = ""
				ti = ""
			end
		elseif th &lt;= 25 then
			atk = "fling priestess at me"
			if ulb and arctar then ul = "unleash arctar at me" end
			scast = ""
			moonaff = ""
			ti = ""
		elseif tm &lt;= 25 then
			atk = " fling magician at me"
			if ulb and arctar then ul = "unleash arctar at me" end
			scast = ""
			moonaff = ""
			ti = ""
		end
			if ul:find("lyncantha") and not tprone then 
				scast = "heave" 
				if taint &gt;= 20 and ms.afflicted["taint attunement"] == "notaff" then
					ti = "intensify"
				end
			end
			atk = ul..""..s..""..si..""..s.."fling "..tcard.." "..scast.." at "..target.. " "..moonaff.." "..ti
		-- if not table.contains(ms.afflictions, "clumsiness") and (not tcard:find("magician") or not tcard:find("priestess") or not ul:find("danaeus") or not ul:find("eerion")) and not rb then
			-- if (ms.afflicted["hemotoxin"] == "notaff" and (not pbob or ms.afflicted["anorexia"] == "aff")) and ulb and (((cadmus or dameron) and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff")) or hecate) then
				-- if cadmus and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					-- ul = "unleash cadmus at "..target
				-- elseif dameron and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					-- ul = "unleash dameron at "..target.." cadmus"
				-- elseif hecate then
					-- ul = "unleash hecate at "..target
				-- elseif dameron then
					-- ul = "unleash dameron at "..target.." hecate"
				-- end
				-- atk = ul..""..s..""..si..""..s.."slash "..target.." hemotoxin"
			-- elseif (ms.afflicted["hemotoxin"] == "aff" or pbob) and (ms.afflicted["asthma"] == "aff" or smoked or ashcloud) and ms.afflicted["slickness"] == "notaff" and ulb then
				-- if cadmus and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					-- ul = "unleash cadmus at "..target
				-- elseif dameron and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					-- ul = "unleash dameron at "..target.." cadmus"
				-- elseif hecate then
					-- ul = "unleash hecate at "..target
				-- elseif dameron then
					-- ul = "unleash dameron at "..target.." hecate"
				-- end
				-- atk = ul..""..s..""..si..""..s.."slash "..target.." iodine"
			-- elseif (ms.afflicted["hemotoxin"] == "aff" or pbob) and (ms.afflicted["asthma"] == "aff" or smoked or ashcloud) and ms.afflicted["slickness"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["anorexia"] == "notaff" and ulb then
				-- if cadmus and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					-- ul = "unleash cadmus at "..target
				-- elseif dameron and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					-- ul = "unleash dameron at "..target.." cadmus"
				-- elseif hecate then
					-- ul = "unleash hecate at "..target
				-- elseif dameron then
					-- ul = "unleash dameron at "..target.." hecate"
				-- end
				-- atk = ul..""..s..""..si..""..s.."slash "..target.." bromine"
			-- end		
		-- end
	end
	if ms.afflicted["asthma"] == "aff" and not speed and ms.save["ta"] then atk = atk..""..s.."trueassess "..target end
	if death &gt;= 7 and atk:find("death") then noheal() end
	send("queue reset all");send("queue eqbal top stand"..s..""..plimb..""..s..""..move..""..s..""..qf..""..s..""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s..""..atk)
	if ms.class["Summoner"] and #ms.afflictions &gt;= 3 and healing and fcad then send("focus cadmus") end
end
	</script>
									<command></command>
									<packageName></packageName>
									<regex>^taff$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage Group</name>
									<script>if healing and (not ebal or not bbal) and hk and ulb and eerion then
	if hk and ulb and eerion then send("unleash eerion "..ptar) end
elseif healing then
	pta = true
	group = true
	dmg = false
	atk = ""
	ulenl()
	sienl()
	summenl()
	tarotenl()
	affcount()
	plf()
	qfront()
	if shield then
		if hp &lt;= 50 then
			atk = "invoke cleanseaura "..target..""..s..""..ul
		elseif hammer then
			atk = "touch hammer "..target..""..s..""..ul
		else
			atk = "invoke cleanseaura "..target..""..s..""..ul
		end
	elseif death &gt;= 7 then
		atk = ul""..s.."fling death at "..target
	elseif (reflection or dispel) and death &lt; 7 then
		atk = "rub death on "..target
	elseif ms.afflicted["madness"] == "aff" then
		qf = ""
		atk = "give horn to "..target..""..s.."invoke enlighten "..target..""..s.."beckon artifacts"
	elseif ((ms.afflicted["asthma"] == "aff") or tlock) and ((not speed or ashcloud) or (buul and ulb)) and hp &lt; 25 and taint &gt;= 60 then
		if not ashcloud and buul and ulb then ul = "unleash buul at "..target end
		atk = ul..""..s.."invoke impatience "..target.." instant"..s.."invoke whisperingmadness "..target
	elseif ((ms.afflicted["asthma"] == "aff" or tlock) or tlock) and ((not speed or ashcloud) or (buul and ulb)) and ((hp &lt;= 100 and scount &gt;= 4) or (hp &lt; 75 and scount &gt;= 3) or (hp &lt; 50 and scount &gt;= 2)) then 
		if not ashcloud and buul and ulb then ul = "unleash buul at "..target end
		atk = ul..""..s.."invoke whisperingmadness "..target
	else
		if ulb then
			if table.contains(gmcp.Room.Info.details, "outdoors") and (danaeus or dameron) and fling ~= "" and not indoors then
				if danaeus then
					ul = "unleash danaeus at "..fling
				elseif dameron then
					ul = "unleash dameron at "..fling.." danaeus"
				end
			end
		end
		atk = ul..""..s..""..si..""..s.."fling "..tcard.." "..scast.." at "..target.. " "..moonaff.." "..ti
	end
	if ms.afflicted["asthma"] == "aff" and ashcloud and ms.save["ta"] then atk = atk..""..s.."trueassess "..target end
	if (death &gt;= 7 and atk:find("death")) or atk:find("timewarp") then noheal() end
	send("queue reset all");send("queue eqbal top stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s..""..atk)
end
	</script>
									<command></command>
									<packageName></packageName>
									<regex>^gaff$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Universe</name>
									<script>universe = true
if matches[2] == "kh" or matches[2] == "k" then
	loc = "khandava"
elseif matches[2] == "i" then
	loc = "ithaqua"
elseif matches[2] == "nc" then
	loc = "ncelidon"
elseif matches[2] == "wc" then
	loc = "wcelidon"
elseif matches[2] == "a" then
	loc = "areish"
elseif matches[2] == "am" then
	loc = "antioch"
elseif matches[2] == "c" then
	loc = "caanae"
elseif matches[2] == "h" then
	loc = "heartlands"
elseif matches[2] == "ki" then
	loc = "kinsarmar"
elseif matches[2] == "7" then
	loc = "sevenlakes"
elseif matches[2] == "r" then
	loc = "reate"
elseif matches[2] == "g" then
	loc = "graytrem"
elseif matches[2] == "st" then
	loc = "stavenn"
elseif matches[2] == "sh" then
	loc = "shaahri"
else
	loc = "NOT FOUND"
	universe = false
end
loc = loc:title()
sys("&lt;yellow&gt;Universe") cecho("&lt;green&gt;Going to: &lt;gold&gt;"..loc)</script>
									<command>queue eqbal top fling universe at ground</command>
									<packageName></packageName>
									<regex>^fu(\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Justice Toggle</name>
									<script>if jt == false then
jt = true
sys("Justice") cecho("&lt;green&gt;Using Justice Tarot")
else
jt = false
sys("Justice") cecho("&lt;red&gt;Not Using Justice Tarot")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^jt$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Levitate hangedman</name>
									<script>send("queue eqbal fling hangedman to levitate"..s.."queue eqbal fling hangedman to levitate")</script>
									<command></command>
									<packageName></packageName>
									<regex>^lh$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Star</name>
									<script>send("queue reset all");send("queue eqbal top fling star at "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fls(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Empress</name>
									<script>send("queue reset all");send("queue eqbal fling empress at "..(matches[3] or target))
callout("Flinging Empress", (matches[3] or target))
</script>
									<command></command>
									<packageName></packageName>
									<regex>^fle(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Magician</name>
									<script>send("queue eqbal top fling magician at "..(matches[2] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^hm ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Death</name>
									<script>if matches[2] == "rd" then
	send("queue reset all"..s.."queue eqbal top rub death on "..(matches[3] or target))
elseif matches[2] == "fd" then
	noheal()
	send("queue reset all"..s.."queue eqbal top fling death at "..(matches[3] or target))
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(rd|fd) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hermit</name>
									<script>if matches[2] == "ahc" then
	send("queue reset all"..s.."queue eqbal top activate hermit")
else
	noheal()
	send("queue reset all"..s.."queue eqbal top fling hermit at ground")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(fhc|ahc)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Levitate Sun</name>
									<script>send("queue reset all"..s.."queue eqbal fling sun to levitate"..s.."queue eqbal fling sun to levitate")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ls$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hierophant</name>
									<script>if matches[2] == "flh" then send("queue eqbal fling hierophant at "..(matches[3] or target))
elseif matches[2] == "opk" then send("order "..(matches[3] or target).." kick "..gmcp.Char.Status.name)
end</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^(opk|flh) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Levitate Creator</name>
									<script>send("queue reset all"..s.."queue eqbal fling creator to levitate"..s.."queue eqbal fling creator to levitate")</script>
									<command></command>
									<packageName></packageName>
									<regex>^lc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Wheel</name>
									<script>noheal()
send("queue eqbal top fling wheel heave at "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fwl(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Universe Adjacent Areas</name>
									<script>foundArea = tonumber(0)
for area,table in pairs(ms.universe) do
	for i,name in pairs(table) do
		name = name:lower()
		if name:find(matches[2]) then
			foundArea = foundArea + 1
			sys("&lt;yellow&gt;Universe") cecho("&lt;DimGray&gt;Near &lt;ivory&gt;"..area)
		end
	end
end
if foundArea == 0 then sys("&lt;yellow&gt;Universe") cecho("&lt;red&gt;NO AREA FOUND") end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ul (.+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Emperor/Creator Levitate</name>
									<script>send("queue eqbal fling emperor to levitate")
send("queue eqbal fling creator to levitate")</script>
									<command></command>
									<packageName></packageName>
									<regex>^lec$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lock Tarot</name>
									<script>if healing and (not ebal or not bbal) and hk and ulb and eerion then
	if hk and ulb and eerion then send("unleash eerion "..ptar) end
elseif healing then
	pta = true
  tl = true
  taff = false
	group = false
	dmg = false
	atk = ""
	siaff()
	ulaff()
	summaff()
	tarot()
	affcount()
	plf()
	qfront()
	if shield then
		if hp &lt;= 50 then
			atk = "invoke cleanseaura "..target..""..s..""..ul
		elseif hammer then
			atk = "touch hammer "..target..""..s..""..ul
		else
			atk = "invoke cleanseaura "..target..""..s..""..ul
		end
	elseif death &gt;= 7 then
		atk = ul..""..s.."fling death at "..target
	elseif (reflection or dispel) and death &lt; 7 then
		atk = "rub death on "..target
	elseif th &lt; 50 and hp &lt; 75 and ulb then
		if belial and hp &gt; 50 then
			ul = "unleash belial at "..target
		elseif dameron and hp &gt; 50 then
			ul = "unleash dameron at "..target.." belial"
		elseif golgotha then 
			ul = "unleash golgotha at "..target
		elseif dameron then
			ul = "unleash dameron at "..target.." golgotha"
		end
		atk = ul..""..s.."invoke aurashift "..target
	else
		if ulb then
			if table.contains(gmcp.Room.Info.details, "outdoors") and (danaeus or dameron) and fling ~= "" and not indoors then
				if danaeus then
					ul = "unleash danaeus at "..fling
				elseif dameron then
					ul = "unleash dameron at "..fling.." danaeus"
				end
			elseif table.contains(gmcp.Room.Info.details, "outdoors") and (danaeus or dameron) and ((#ms.afflictions &gt;= 7) or th &lt; 50 or bleed &gt;= 30) and not indoors then
				if danaeus then
					ul = "unleash danaeus at "..target
				elseif dameron then
					ul = "unleash dameron at "..target.." danaeus"
				end
			elseif not zerker and (eerion or dameron) and ((#ms.afflictions &gt;= 5) or th &lt; 50 or bleed &gt;= 30) then
				if eerion then
					ul = "unleash eerion at "..target
				elseif dameron then
					ul = "unleash dameron at "..target.." eerion"
				end
				tcard = "hangedman"
				scast = ""
				moonaff = ""
				ti = ""
			end
		elseif th &lt;= 25 then
			tcard = "priestess at me"
			if ulb and arctar then ul = "unleash arctar at me" end
			scast = ""
			moonaff = ""
			ti = ""
		elseif tm &lt;= 25 then
			tcard = "magician at me"
			if ulb and arctar then ul = "unleash arctar at me" end
			scast = ""
			moonaff = ""
			ti = ""
		end
			if ul:find("lyncantha") and not tprone then 
				scast = "heave" 
				if taint &gt;= 20 and ms.afflicted["taint attunement"] == "notaff" then
					ti = "intensify"
				end
			end
			atk = ul..""..s..""..si..""..s.."fling "..tcard.." "..scast.." at "..target.. " "..moonaff.." "..ti
		if not table.contains(ms.afflictions, "clumsiness") and (not tcard:find("magician") or not tcard:find("priestess") or not ul:find("danaeus") or not ul:find("eerion")) and ms.afflicted["numbness"] == "aff" and not rb then
			if ms.afflicted["hemotoxin"] == "notaff"  and ulb and (((cadmus or dameron) and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff")) or hecate) then
				if cadmus and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					ul = "unleash cadmus at "..target
				elseif dameron and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					ul = "unleash dameron at "..target.." cadmus"
				elseif hecate then
					ul = "unleash hecate at "..target
				end
				atk = ul..""..s..""..si..""..s.."slash "..target.." hemotoxin"
			elseif (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["slickness"] == "notaff" or ms.afflicted["butisol"] == "aff") and ulb and not rb then
				if cadmus and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					ul = "unleash cadmus at "..target
				elseif dameron and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					ul = "unleash dameron at "..target.." cadmus"
				elseif hecate then
					ul = "unleash hecate at "..target
				end
				atk = ul..""..s..""..si..""..s.."slash "..target.." iodine"
			elseif (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["anorexia"] == "notaff" and not rb then
				if cadmus and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					ul = "unleash cadmus at "..target
				elseif dameron and (ms.afflicted["hallucinations"] == "notaff" or ms.afflicted["addiction"] == "notaff") then
					ul = "unleash dameron at "..target.." cadmus"
				elseif hecate then
					ul = "unleash hecate at "..target
				end
				atk = ul..""..s..""..si..""..s.."slash "..target.." bromine"
			end		
		end
	end
	if ms.afflicted["asthma"] == "aff" and not speed and ms.save["ta"] then atk = atk..""..s.."trueassess "..target end
	if death &gt;= 7 and atk:find("death") then noheal() end
	send("queue reset all");send("queue eqbal top stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s..""..atk)
	if ms.class["Summoner"] and #ms.afflictions &gt;= 3 and healing and fcad then send("focus cadmus") end
end
	</script>
									<command></command>
									<packageName></packageName>
									<regex>^tl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Enl Combo</name>
									<script>if healing and (not ebal or not bbal) and hk and ulb and eerion then
	if hk and ulb and eerion then send("unleash eerion "..ptar) end
elseif healing then
		if pyradius and taint &lt; 60 and ulb then
			ul = "unleash pyradius at "..target
		end
	if not ashcloud and taint &gt;= 60 then 
		atk = "invoke ashcloud "..target
	elseif ms.afflicted["asthma"] == "aff" and (cadmus or dameron) and ulb and taint &gt;= 60 then 
		send("unleash cadmus at "..target..""..s.."unleash dameron at "..target.." cadmus"..s.."invoke quicken "..target.." instant"..s.."invoke whispering madness "..target..""..s.."queue eqbal give horn to "..target..""..s.."invoke enlighten "..target..""..s.."beckon artifacts")
	elseif ms.afflicted["asthma"] == "aff" and (cadmus or dameron) and ulb then 
		send("unleash cadmus at "..target..""..s.."unleash dameron at "..target.." cadmus"..s.."invoke whispering madness "..target..""..s.."queue eqbal give horn to "..target..""..s.."invoke enlighten "..target..""..s.."beckon artifacts")
	elseif ms.save["ta"] then 
		send("fling "..tcard.." "..scast.." at "..target..""..s.."trueassess "..target)
  else
    send("fling "..tcard.." "..scast.." at "..target)
	end
end
</script>
									<command></command>
									<packageName></packageName>
									<regex>^enl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Justice cured</name>
									<script>sys("&lt;purple&gt;Justice") cecho("&lt;green&gt;CURED")
ms.afflicted["justice"] = "notaff"</script>
									<command></command>
									<packageName></packageName>
									<regex>^jc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Pacifism Cured</name>
									<script>sys("&lt;cyan&gt;Pacifism") cecho("&lt;green&gt;CURED")
ms.afflicted["pacifism"] = "notaff"</script>
									<command></command>
									<packageName></packageName>
									<regex>^pc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lust</name>
									<script>send("queue eqbal top fling lust heave at "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fl(\s(\w+))?$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Diabolist</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Malignosis</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Demon beckon/blast</name>
									<script>if matches[2] == "l" then send("queue eqbal carve pentagram"..s.."queue eqbal demon blast")
elseif matches[2] == "a" then send("queue eqbal demon beckon")
else send("queue eqbal demon beckon "..(matches[3] or target))
end
</script>
									<command></command>
									<packageName></packageName>
									<regex>^db(l|a|\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Sap</name>
									<script>send("queue eqbal demon sap "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dsap(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dpr</name>
									<script>ms.dpre = {}
enableTrigger("dpr")
enableTrigger("dprp")
send("demon presences")</script>
									<command></command>
									<packageName></packageName>
									<regex>^dpr$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Sear and Stain</name>
									<script>if matches[2] == "dsr" then
	send("queue reset all");send("queue eqbal top demon sear "..(matches[4] or target))
else
	send("queue reset all");send("queue eqbal top demon stain "..(matches[4] or target))
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(dsr|dst)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Catharsis Toggle</name>
									<script>if not cath then
	cath = true
	sys("Catharsis") cecho("&lt;green&gt;ON")
else
	cath = false
	sys("Catharsis") cecho("&lt;red&gt;OFF")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^catht$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Health/Mana Tap</name>
									<script>hta = chf-ch
mta = cmf-cm
if hta &gt;= cm then hta = cm end
if mta &gt;= ch then mta = ch-50 end
if matches[2] == "h" then 
	send("queue reset all");send("queue eqbal top demon healthtap "..hta)
elseif matches[2] == "m" then
	send("queue reset all");send("queue eqbal top demon manatap "..mta)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^d(h|m)t$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Negation</name>
									<script>send("queue eqbal carve pentagram")
send("queue eqbal demon negation")</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^dn$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Catharsis</name>
									<script>noheal()
if matches[3] then send("queue reset eqbal");send("queue eqbal top demon catharsis "..matches[3])
else send("queue reset eqbal");send("queue eqbal top demon catharsis "..target)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cath(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon Observe</name>
									<script>if matches[3] then send("queue reset all");send("queue eqbal top demon observe "..matches[3])
else send("queue reset all");send("queue eqbal top demon observe "..target)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dob(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon Sear</name>
									<script>send("queue reset all");send("queue eqbal top demon sear icewall "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^dsi (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon Trace</name>
									<script>send("queue eqbal top demon trace "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dtr ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon Chase</name>
									<script>if matches[2] == "gtt" then expandAlias("goto "..targetLocation["id"])
elseif matches[2] == "ctt" then callout(demonTarget.." Located", tostring(targetLocation["id"]).." ("..targetArea..")")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(ctt|gtt)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon Disrupt</name>
									<script>send("queue eqbal top demon disrupt "..(matches[2] or target))</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^dd ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon strip</name>
									<script>send("queue eqbal top demon strip "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dsp(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Soulmask</name>
									<script>send("queue eqbal top demon soulmask")</script>
									<command></command>
									<packageName></packageName>
									<regex>^sm$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demon Refuge</name>
									<script>send("queue eqbal top demon refuge")</script>
									<command></command>
									<packageName></packageName>
									<regex>^dr$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Ritualism</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Wall</name>
									<script></script>
									<command>queue eqbal trace wall ground</command>
									<packageName></packageName>
									<regex>^tw$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Vitality</name>
									<script></script>
									<command>queue eqbal trace vitality me</command>
									<packageName></packageName>
									<regex>^tv$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Whirlwind</name>
									<script>noheal()
send("queue eqbal trace whirlwind repetition "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^tww(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bark</name>
									<script>if matches[2] == "c" then 
	send("queue eqbal trace bark me cutting") 
elseif matches[2] == "m" then 
	send("queue eqbal trace bark me magickal")
elseif matches[2] == "f" then
	send("queue eqbal trace bark me fire")
elseif matches[2] == "i" then
	send("queue eqbal trace bark me cold")
elseif matches[2] == "p" then
	send("queue eqbal trace bark me poison")
elseif matches[2] == "a" then
	send("queue eqbal trace bark me asphyxiation")
elseif matches[2] == "e" then
	send("queue eqbal trace bark me electricity")
elseif matches[2] == "s" then
	send("queue eqbal trace bark me psychic")
elseif matches[2] == "b" then
	send("queue eqbal trace bark me blunt")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^tb(c|m|b|f|i|p|a|e|s)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Darkness</name>
									<script>send("queue eqbal trace darkness ground")</script>
									<command></command>
									<packageName></packageName>
									<regex>^td$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Weakness</name>
									<script>send("queue eqbal trace weakness ground")</script>
									<command></command>
									<packageName></packageName>
									<regex>^twk$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Strength</name>
									<script>send("queue eqbal trace strength ground")</script>
									<command></command>
									<packageName></packageName>
									<regex>^tsg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Eye</name>
									<script>send("queue eqbal trace eye ground")</script>
									<command></command>
									<packageName></packageName>
									<regex>^teg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Group Dmg Route</name>
									<script>if healing then
	pta = true
	gat = true
	drr = false
	afr = false
	gaf = false
	moonCheck()
	wraithSet()
	gatSet()
	plf()
	qfront()
		--Wraiths
		if table.contains(ms.defApplied, "glowing wraith") then send("wraith disable glowing") end
		if table.contains(ms.defApplied, "reflective wraith") then send("wraith disable reflective") end
		if not table.contains(ms.defApplied, "fiery wraith") then send("wraith enable fiery") end
		if not table.contains(ms.defApplied, "translucent wraith") then send("wraith enable translucent") end
		if ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) and not shield and not reflection and cath then 
			atk = "demon catharsis "..target
		elseif reflection then
			return expandAlias("cath "..target)
		elseif ms.diabolist.dat[2] == "inversion" then
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[3].." "..target
		elseif ms.diabolist.dat[1] == ms.diabolist.dat[2] then
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[3].." "..target
		else
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[2].." "..target
		end
	if watk:find("wraith shatter") then
		send("queue reset all");send("queue eqbal top stand"..s.."wraith recall"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s..""..watk..""..s..""..atk)
	else
		send("queue reset all");send("queue eqbal top stand"..s.."wraith recall"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s..""..atk..""..s..""..watk)
	end
end
	
	</script>
									<command></command>
									<packageName></packageName>
									<regex>^gat$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Aff route</name>
									<script>if healing then
	pta = true
	drr = false
	afr = true
	gat = false
	gaf = false
	moonCheck()
	wraithSet()
	affSet()
	plf()
	qfront()
	atk = ""
		--Wraiths
		if not pp and not table.contains(ms.defApplied, "glowing wraith") then send("wraith enable glowing") end
		if pp and not table.contains(ms.defApplied, "translucent wraith") then send("wraith enable translucent") end
		if not table.contains(ms.defApplied, "reflective wraith") then send("wraith enable reflective") end
		if pp and table.contains(ms.defApplied, "glowing wraith") then send("wraith disable glowing") end
		if table.contains(ms.defApplied, "fiery wraith") then send("wraith disable fiery") end
		if table.contains(ms.defApplied, "translucent wraith") then send("wraith disable translucent") end
		if shield then
			if hammer then
				atk = "touch hammer "..target
			else
				if not ms.diabolist.dat[1]:find("hammer") then
					atk = "trace hammer "..ms.diabolist.dat[1].." target"
				else
					atk = "trace hammer "..ms.diabolist.dat[2].." target"
				end
			end
		elseif ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) and not shield and not reflection and cath then 
			atk = "demon catharsis "..target
		elseif reflection then
			return 	expandAlias("cath "..target)
		elseif autoKill and wall then
			atk = "trace wall ground"
		elseif (sunhit or moonhit) and not reflection and not shield and not pb and not hk then
			atk = "trace repetition lightning "..target
		elseif not shield and (((hp &gt; 50 and (#ms.afflictions &gt;= 6) or th &lt; 55 or tm &lt; 55 or bleed &gt;= 50 or (reflection or dispel)) and not sunused) or (pp and not sunused and sun and moonnum &lt; 3 and moonset == 3)) then
			if not tprone then
				atk = "trace bone balance "..target
			else
				atk = "trace bone "..ms.diabolist.dat[1].." "..target
			end
		elseif (ms.diabolist.dat[1] or ms.diabolist.dat[2]) == "bodylink" then
			if ms.diabolist.dat[1] == "bodylink" then
				traceTwo = ms.diabolist.dat[2]
			else
				traceTwo = ms.diabolist.dat[1]
			end
			atk = "trace bodylink "..traceTwo.." "..target
		elseif ms.diabolist.dat[1] == ms.diabolist.dat[2] then
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[3].." "..target
		elseif ms.diabolist.dat[2] == "inversion" then
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[3].." "..target
		elseif ms.diabolist.dat[2] == "sensitivity" and not shield then
			atk = "trace sensitivity "..ms.diabolist.dat[1].." "..target
		else
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[2].." "..target
		end
	if watk:find("wraith shatter") or watk:find("wraith sensitivity") or watk:find("wraith bodysap") then
		send("queue reset eqbal");send("queue eqbal top stand"..s.."wraith recall"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s..""..watk..""..s..""..atk)
	else
		send("queue reset eqbal");send("queue eqbal top stand"..s.."wraith recall"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s..""..atk..""..s..""..watk)
	end
end
</script>
									<command></command>
									<packageName></packageName>
									<regex>^raf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dmg route</name>
									<script>if healing then
	pta = true
	drr = true
	afr = false
	gat = false
	gaf = false
	moonCheck()
	wraithSet()
	dmgSet()
	plf()
	qfront()
	atk = ""
		--Wraiths
		if table.contains(ms.defApplied, "glowing wraith") then send("wraith disable glowing") end
		if table.contains(ms.defApplied, "reflective wraith") then send("wraith disable reflective") end
		if not table.contains(ms.defApplied, "fiery wraith") then send("wraith enable fiery") end
		if not table.contains(ms.defApplied, "translucent wraith") then send("wraith enable translucent") end
		if shield and moonset &lt; 3 and sun then
			if wraith and translucent &gt;= 2 then
			    watk = "wraith shatter "..target
			elseif hammer then
				atk = "touch hammer "..target
			else
				if not ms.diabolist.dat[1]:find("hammer") then
					atk = "trace hammer "..ms.diabolist.dat[1].." target"
				else
					atk = "trace hammer "..ms.diabolist.dat[2].." target"
				end
			end
		elseif ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) and not shield and not pb and cath then 
			atk = "demon catharsis "..target
		elseif sunhit or moonhit and not shield then
			atk = "trace repetition "..ms.diabolist.dat[1].." "..target
		elseif autoKill and wall then
			atk = "trace wall ground"
		elseif not shield and (((hp &gt; 50 and (#ms.afflictions &gt;= 6) or th &lt; 55 or tm &lt; 55 or bleed &gt;= 50 or (reflection or dispel)) and not sunused) or (pp and not sunused and sun and moonnum &lt; 3 and moonset == 3)) then
			if not tprone then
				atk = "trace bone balance "..target
			else
				atk = "trace bone "..ms.diabolist.dat[1].." "..target
			end
		elseif ms.diabolist.dat[1] == ms.diabolist.dat[2] then 
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[3].." "..target
		elseif ms.diabolist.dat[1] == "repetition" and not moonnum == 3 then
			atk = "trace "..ms.diabolist.dat[2].." "..ms.diabolist.dat[1].." "..target
		elseif ms.diabolist.dat[2] == "inversion" then
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[3].." "..target
		else
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[2].." "..target
		end
	if watk:find("wraith shatter") then
		send("queue reset all");send("queue eqbal top stand"..s.."wraith recall"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s..""..watk..""..s..""..atk)
	else
		send("queue reset all");send("queue eqbal top stand"..s.."wraith recall"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s..""..atk..""..s..""..watk)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Group Aff Route</name>
									<script>if healing then
	pta = true
	drr = false
	afr = false
	gat = false
	gaf = true
	moonCheck()
	wraithSet()
	gafSet()
	plf()
	qfront()
		--Wraiths
		if table.contains(ms.defApplied, "glowing wraith") then send("wraith disable glowing") end
		if table.contains(ms.defApplied, "reflective wraith") then send("wraith disable reflective") end
		if table.contains(ms.defApplied, "whispering wraith") then send("wraith disable whispering") end
		if not table.contains(ms.defApplied, "vigorous wraith") then send("wraith enable vigorous") end
		if not table.contains(ms.defApplied, "translucent wraith") then send("wraith enable translucent") end
		if ((hp+mp &lt;= 80) or (enveloped and (hp+mp &lt;= 95))) and not shield and not pb and cath then 
			atk = "demon catharsis "..target
		elseif reflection then
			return expandAlias("cath "..target)
		elseif ms.diabolist.dat[1] == ms.diabolist.dat[2] then
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[3].." "..target
		elseif ms.diabolist.dat[1] == "repetition" then
			atk = "trace "..ms.diabolist.dat[2].." "..ms.diabolist.dat[1].." "..target
		else
			atk = "trace "..ms.diabolist.dat[1].." "..ms.diabolist.dat[2].." "..target
		end
	send("queue reset all");send("queue eqbal top stand"..s.."wraith recall"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s..""..atk..""..s..""..watk)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^gaf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Rubble/Wall</name>
									<script>send("queue reset all")
send("queue eqbal "..quickdraw("statue", ms.save["shield"])..""..s.."throw statue at ground")
send("queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s.."trace wall ground")
</script>
									<command></command>
									<packageName></packageName>
									<regex>^rw$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Heal</name>
									<script>if matches[2] then
	send("queue eqbal trace inversion repetition "..matches[2])
else
	send("queue eqbal trace inversion repetition me")
end</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^hl ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Perma-Prone</name>
									<script>if not pp then
	pp = true
	sys("Perma-prone") cecho("&lt;green&gt;ON")
else
	pp = false
	sys("Perma-prone") cecho("&lt;red&gt;OFF")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^pp$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Nightfall</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Enable Wraiths</name>
									<script></script>
									<command>wraith enable all</command>
									<packageName></packageName>
									<regex>^wea$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Shadowtwist</name>
									<script>send("queue reset all");send("queue eqbal top wraith recall"..s.."wraith shadowtwist "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^stw(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Shadowgate</name>
									<script>if matches[2] then
	sgname = matches[2]:title()
else
	sgname = target
end
if ethereal &gt;= 3 then
	send("queue reset all");send("queue eqbal top wraith recall"..s.."wraith shadowgate "..sgname)
	callout("Sending Shadowgate", sgname)
else
fecho("Ethereal", "Shadowgate", "NEED A HIGHER CHARGE")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sg ?(\w+)?$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
					</AliasGroup>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Magick</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Druid</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Evocation</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Summon Loyals</name>
									<script>expandAlias("tts")
send("queue eqbal evoke guardian")
expandAlias("sar")</script>
									<command></command>
									<packageName></packageName>
									<regex>^sls$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Earthquake</name>
									<script>send("queue eqbal top evoke earthquake")</script>
									<command></command>
									<packageName></packageName>
									<regex>^equ$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Afflict</name>
									<script>if healing then
  pta = true
  afflict = true
  dmg = false
  group = false
  qfront()
  druidAffs()
  if not golem_attacking then qf = "order loyals attack "..target end
  send("queue reset all");send(f"queue eqbal top {qf}{s}{move}{s}{wispAtk()}{s}{eStaff()}{s}{empower()}{s}{evokeAtk()}{s}{rootAtk()}")
  if overwhelm then send(f"queue eq {rootAtk()}") end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^afflict$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage</name>
									<script>if healing then
  pta = true
  afflict = false
  dmg = true
  group = false
  qfront()
  druidAffs()
  if not golem_attacking then qf = "order loyals attack "..target end
  send("queue reset eqbal");send(f"queue eqbal top {qf}{s}{wispAtk()}{s}{eStaff()}{s}{empower()}{s}{evokeAtk()}{s}{rootAtk()}")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Pioneering</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Pursue Follow</name>
									<script>if matches[2] == "gtt" then expandAlias("goto "..targetLocation["id"])
elseif matches[2] == "ctt" then callout(trackTarget.." Located", tostring(targetLocation["id"]).." ("..targetArea..")")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(gtt|ctt)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Pursue Target</name>
									<script>send("queue eqbal top pursue "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^pt ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Pursue None</name>
									<script></script>
									<command>pursue none</command>
									<packageName></packageName>
									<regex>^pn$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Grove Gate</name>
									<script>noheal()
send("queue eqbal imprint")
send("queue eqbal grove gate "..(matches[3] or target))
send("queue eqbal grove sever")</script>
									<command></command>
									<packageName></packageName>
									<regex>^gg(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Locate</name>
									<script>send("queue eqbal top locate "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^lt(\s(\w+))?$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Naturebinding</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Summonl Aff Roots</name>
									<script>send("queue eqbal summon root hawthorn")
tempTrigger("The ground around you splits momentarily and an animated hawthorn root bursts into the room, swaying menacingly", function() send("queue eqbal summon root elder") end, 1)
tempTrigger("The ground around you splits momentarily and an animated elder root bursts into the room, swaying menacingly", function() send("queue eqbal summon root beech") end, 1)
tempTrigger("The ground around you splits momentarily and an animated beech root bursts into the room, swaying menacingly", function() send("queue eqbal order loyals follow me"..s.."naturebind follow") end, 1)</script>
									<command></command>
									<packageName></packageName>
									<regex>^sar$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Runeguard</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Weaponmastery</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Bleed Attack</name>
									<script>if healing then
	pta = true
	bleeddsl = true
	dmgdsl = false
	qdw = ""
  ewRG()
  bleedRGDSL()
	plf()
	qfront()
  affFlare()


		if not kestrel then send("order kestrel attack "..target) end

		if pb then matk = ""..quickdraw(ms.save["broadsword"], ms.save["shield"])..""..s.."arc aconite"..s.."soulstorm "..target
		elseif hk and rb then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..ptar.." ciguatoxin"
		elseif hk then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm slash slash "..ptar.." opium opium"
		elseif shield and rb then
			matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target
		elseif impaled then
			matk = "disembowel "..target
			eng = "flare sowulu at "..target
		elseif essence &gt;= 15 and (acount &gt;= 10 or tbleed &gt;= 70 or (llm or rlm)) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
			qdw = quickdraw(ms.save["longsword"], ms.save["shield"])
			matk = "envenom "..ms.save["longsword"].." with strychnine"..s..""..target..""..s.."impale "..target
			if tprone and not deaf then eng = "battlecry "..target end
		else
			if atk1 == "hack" or atk2 == "hack" or atk2:find("tendoncut") then
				qdw = quickdraw(ms.save["scimitar"], ms.save["shield"])
				if atk2 == "tendoncut"  and ms.afflicted["anorexia"] == "notaff" then 
					ms.rg.affs[1] = "bromine" 
					if ms.rg.affs[2] == "bromine" then ms.rg.affs[2] = ms.rg.affs[3] end
				end
       	if not rb and not shield and (not llm and not rlm) and (rlb and llb) and llBP &lt;= llHit and rlBP &lt;= rlHit and deaf then
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." strychnine right leg benzene left leg"
					eng = "battlecry "..target
				elseif not rb and not shield and (not llm and not rlm) and (rlb and llb) and llBP &lt;= llHit and rlBP &lt;= rlHit and not deaf then
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." benzene right leg benzene left leg"
					eng = "battlecry "..target
				else
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." "..ms.rg.affs[1].." "..tl1.." "..ms.rg.affs[2].." "..tl2
				end
			else
					matk = "wm "..atk1.." "..atk2.." "..target.." "..ms.rg.affs[1].." "..ms.rg.affs[2]
			end
		end
    --
    if atk1 == "slash" or atk2 == "slash" then
      qdw = quickdraw(ms.save["sabre"], ms.save["shield"])
    else
      qdw = quickdraw(ms.save["longsword"], ms.save["shield"])
    end
    --
    		clw = ""
		if qdw:find("longsword") then clw = "cleanse "..ms.save["longsword"]
		elseif qdw:find("scimitar") then clw = "cleanse scimitar"
    elseif qdw:find("sabre") then clw = "cleanse sabre"
		end
    --
	--Main Attack!
	send("queue reset eqbal");send("queue eqbal stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..qdw..""..s..""..clw..""..s..""..ewAtk..""..s..""..matk..""..s..""..eng)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Cleave</name>
									<script>noheal()
send("queue eqbal cleave "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^cl(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Aff Attack</name>
									<script>if healing then
	if adsl and (not ebal or not bbal) then
		sys("Afflictor") cecho("&lt;red&gt;[&lt;yellow&gt;AFFLICTING ALREADY SET&lt;red&gt;]")
	elseif not ebal or not bbal then adsl = true
		fecho("Afflictor", "Afflicting Queue Set", "Wait for Balance")
	elseif ebal and bbal then
		if not hound then send("hound slay "..target) end
		if tparried then
			if rb and shield then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target)
			elseif rb or shield then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze feint "..target.." head");tparried = false
			else send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm feint slash "..target.." head "..ms.dk.affs[1]);tparried = false
			end
		elseif tlock and not rb and not shield then
			if not tprone and deaf then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."dsl "..target.." opium opium")
			elseif not tprone and not deaf then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."dsl "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]..""..s.."battlecry "..target)
			else send("impale "..target..""..s.."battlecry "..target..""..s.."queue eqbal disembowel "..target)
			end
		elseif pbp &gt;= 80 and not rb and not shield then
			affsDSL()
			send(""..quickdraw(ms.save["scimitar"], ms.save["shield"])..""..s.."wm tendoncut slash "..target.." torso "..ms.dk.affs[1])
		else
			affsDSL()
			if shield and rb then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target)
			elseif rb or shield then send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..target.." "..ms.dk.affs[1])
			else send(""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."dsl "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2])
			end
		end
	if et and engage then send("engage "..target) end
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^af$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage Attack</name>
									<script>if healing then
	pta = true
	bleeddsl = true
	dmgdsl = false
	qdw = ""
  dmgRG()
  dmgRGDSL()
	plf()
	qfront()
  dmgFlare()


		if not kestrel then send("order kestrel attack "..target) end

		if pb then matk = ""..quickdraw(ms.save["broadsword"], ms.save["shield"])..""..s.."arc aconite"..s.."soulstorm "..target
		elseif hk and rb then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..ptar.." ciguatoxin"
		elseif hk then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm slash slash "..ptar.." opium opium"
		elseif shield and rb then
			matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target
		elseif impaled then
			matk = "disembowel "..target
			eng = "flare sowulu at "..target
		elseif essence &gt;= 15 and (acount &gt;= 10 or tbleed &gt;= 70 or (llm or rlm)) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
			qdw = quickdraw(ms.save["longsword"], ms.save["shield"])
			matk = "envenom "..ms.save["longsword"].." with strychnine"..s..""..target..""..s.."impale "..target
			if tprone and not deaf then eng = "battlecry "..target end
		else
			if atk1 == "hack" or atk2 == "hack" or atk2:find("tendoncut") then
				qdw = quickdraw(ms.save["scimitar"], ms.save["shield"])
				if atk2 == "tendoncut"  and ms.afflicted["anorexia"] == "notaff" then 
					ms.rg.affs[1] = "bromine" 
					if ms.rg.affs[2] == "bromine" then ms.rg.affs[2] = ms.rg.affs[3] end
				end
       	if not rb and not shield and (not llm and not rlm) and (rlb and llb) and llBP &lt;= llHit and rlBP &lt;= rlHit and deaf then
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." strychnine right leg benzene left leg"
					eng = "battlecry "..target
				elseif not rb and not shield and (not llm and not rlm) and (rlb and llb) and llBP &lt;= llHit and rlBP &lt;= rlHit and not deaf then
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." benzene right leg benzene left leg"
					eng = "battlecry "..target
				else
					matk = "cleanse scimitar"..s.."wipe scimitar"..s.."wm "..atk1.." "..atk2.." "..target.." "..ms.rg.affs[1].." "..tl1.." "..ms.rg.affs[2].." "..tl2
				end
      elseif not rb and not shield and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["slickness"] == "aff" and ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "notaff" and not table.contains(ms.afflictions, "clumsiness") then
          matk = "wm "..atk1.." "..atk2.." "..target.." benzene benzene"
			else
					matk = "lns"..s.."wm "..atk1.." "..atk2.." "..target.." "..ms.rg.affs[1].." "..ms.rg.affs[2]
			end
		end
    --
    if atk1 == "slash" or atk2 == "slash" then
      qdw = quickdraw(ms.save["sabre"], ms.save["shield"])
    else
      qdw = quickdraw(ms.save["battleaxe"], ms.save["shield"])
    end
    --
    		clw = ""
		if qdw:find("longsword") then clw = "cleanse "..ms.save["longsword"]
		elseif qdw:find("scimitar") then clw = "cleanse "..ms.save["scimitar"]
    elseif qdw:find("sabre") then clw = "cleanse "..ms.save["sabre"]
    elseif qdw:find("battleaxe") then clw = "cleanse "..ms.save["battleaxe"]
		end
    --
	--Main Attack!
	send("queue reset eqbal");send("queue eqbal stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..qdw..""..s..""..clw..""..s..""..ewAtk..""..s..""..matk..""..s..""..eng)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bleed Attack (sc)</name>
									<script>if healing then
	pta = true
	bleed2dsl = true
  	bleeddsl = false
	dmgdsl = false
	qdw = ""
	ew()
	bleed2DSL()
	plf()
	qfront()

	if et and engage then 
		eng = "engage "..target 
	elseif not rb and not shield and (ms.dk.affs[1] == "strychnine" or ms.dk.affs[2] == "strychnine" or not deaf) and (ms.afflicted["metrazol"] == "aff" or ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff") and not tprone then
		eng = "battlecry "..target
	elseif not shield and not pullarrow then
		eng = "soulstorm "..target
  else
    eng = ""
	end

		if not hound then send("hound slay "..target) end

		if pb then matk = ""..quickdraw(ms.save["broadsword"], ms.save["shield"])..""..s.."arc aconite"..s.."soulstorm "..target
		elseif hk and rb then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze slash "..ptar.." ciguatoxin"
		elseif hk then matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm slash slash "..ptar.." opium opium"
		elseif shield and rb then
			matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."wm raze raze "..target
    elseif shield and hammer then
      matk = ""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."touch hammer "..target
		elseif impaled then
			matk = "disembowel "..target
			eng = "soulstorm "..target
		elseif (acount &gt;= 8 or tbleed &gt;= 70) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
			qdw = quickdraw(ms.save["claymore"])
			matk = "impale "..target
			if tprone and not deaf then eng = "battlecry "..target end
		else
			if atk1 == "hack" or atk2 == "hack" then
				qdw = quickdraw(ms.save["scimitar"], ms.save["shield"])
				if atk2 == "tendoncut"  and ms.afflicted["anorexia"] == "notaff" then 
					ms.dk.affs[1] = "bromine" 
					if ms.dk.affs[2] == "bromine" then ms.dk.affs[2] = ms.dk.affs[3] end
				end
				matk = "cleanse scimitar"..s.."wipe scimitar"..s.."envenom scimitar with "..ms.dk.affs[1]..""..s.."envenom scimitar with "..ms.dk.affs[2]..""..s.."wm "..atk1.." "..atk2.." "..target.." "..tl1.." "..tl2
      elseif ((atk1 == "lacerate" or atk2 == "lacerate") or (atk1 == "shred" or atk2 == "shred")) then
        if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["longsword"], ms.save["shield"])
					matk = "wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
      elseif atk1 == "reave" or atk2 == "reave" then
        -- if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["battleaxe"], ms.save["shield"])
					matk = "lns"..s.."wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
			else
        if eng:find("soulstorm") and ms.afflicted["stupidity"] == "notaff" then ms.dk.affs[2] = "aconite" end
					qdw = quickdraw(ms.save["claymore"])
					matk = "wm "..atk1.." "..atk2.." "..target.." "..ms.dk.affs[1].." "..ms.dk.affs[2]
			end
		end
    clw = ""
		if qdw:find("longsword") then clw = "cleanse "..ms.save["longsword"]..""
		elseif qdw:find("claymore") then clw = "cleanse claymore"
    elseif qdw:find("battleaxe") then clw = "cleanse battleaxe"
		end
	--Main Attack!
	send("queue reset eqbal");send("queue eqbal stand"..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..qdw..""..s..""..clw..""..s..""..ewAtk..""..s..""..matk..""..s..""..eng)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sll$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dsb Attack</name>
									<script>send("impale "..(matches[2] or target)..""..s.."battlecry "..(matches[2] or target)..""..s.."queue eqbal disembowel "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dsb(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>barge</name>
									<script>if matches[4] then send("queue eqbal barge "..matches[4].." "..matches[2])
else send("queue eqbal barge "..target.." "..matches[2])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^bp (\w+)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Shoot Bow</name>
									<script>if shield or matches[2] == "b" then
	switch = "broad"
elseif matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end


if matches[4] then
	send("queue eqbal top "..quickdraw("bow")..""..s.."switch "..switch..""..s.."shoot "..matches[3].." "..matches[4])
else
	send("queue eqbal top "..quickdraw("bow")..""..s.."switch "..switch..""..s.."shoot "..target.." "..matches[3])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sb(\w+) (\w+) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Aim</name>
									<script>noheal()
send("queue eqbal top aim "..target.." "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^atd (\w+)$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Runelore</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Runes</name>
									<script>if matches[2] == "ar" then
  send("queue eqbal top activate runes on me")
  send("queue eqbal activate runes on armour")
else
  send("queue eqbal top deactivate runes on me")
  send("queue eqbal deactivate runes on armour")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(ar|dr)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Sketch runes on ground</name>
									<script>send("queue eqbal sketch inguz on ground")
send("queue eqbal sketch nairat on ground")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srg$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Chivalry</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Kestrel Recall</name>
									<script>send("queue eqbal top kestrel recall")</script>
									<command></command>
									<packageName></packageName>
									<regex>^kr$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Renegade</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Sabotage</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Lay trap</name>
									<script>send("queue eqbal top lay dart "..matches[2])
if matches[3] then send("queue eqbal top envenom dart "..matches[2].." with "..matches[3]) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ld (\w+) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Evade</name>
									<script>send("queue eqbal top dismount"..s.."evade "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^ev (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Garrote</name>
									<script>send("queue eqbal top garrote "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^gar ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Flay</name>
									<script>send("queue eqbal top "..quickdraw(ms.save["whip"], ms.save["dirk"])..""..s.."flay "..matches[2].." "..(matches[3] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fl (\w+) ?(aura|mass)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Flay</name>
									<script>send("queue eqbal top "..quickdraw(ms.save["whip"], ms.save["dirk"])..""..s.."flay "..target.." "..(matches[2] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fl ?(aura|mass)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Puncture</name>
									<script>if not fenugreek then
	if matches[2] == "s" then
		send("queue eqbal top puncture "..(matches[3] or target).." with sulfonal") 
	elseif matches[2] == "t" then
		send("queue eqbal top puncture "..(matches[3] or target).." with trioxin")
	elseif matches[2] == "d" then
		send("queue eqbal top puncture "..(matches[3] or target).." with dioxin")
	end
else
	send("queue eqbal top "..quickdraw(ms.save["whip"], ms.save["dirk"])..""..s.."flay "..(matches[3] or target))
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^pc (s|t|d) ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Block</name>
									<script>send("queue eqbal top block "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^bl (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lay snare</name>
									<script>if matches[3] then
	send("queue eqbal top lay snare "..matches[3])
else
	for _,exit in pairs(ms.exits) do
		send("queue eqbal lay snare "..exit)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ls(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Secret Item</name>
									<script>send("secret "..matches[2].." to "..matches[3])</script>
									<command></command>
									<packageName></packageName>
									<regex>^sc (\w+) (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dstab</name>
									<script>if healing then
  pta = true
  daf = true
	tl = false
	dmg = false
	group = false
    qfront()
    plf()
    dstabStall()
    shadowPlant()
    annihilate()
	dstabAtk()
	dstabWorm()
  if probe then
    atk = "analyse "..target.." afflictions unified"
	elseif (ms.ass.aff[1] == "butisol" or ms.ass.aff[2] == "butisol") and (ms.ass.aff[1] ~= "bromine" and ms.ass.aff[2] ~= "bromine") and ms.afflicted["slow herbs"] == "notaff" and not shield and not rb then
		atk = "dstab "..target.." butisol mazanor"
  elseif (ms.ass.aff[1] == "benzene" or ms.ass.aff[2] == "benzene") and not shield and not rb then
    atk = "dstab "..target.." benzene benzene"
  elseif (th &lt; 40 or (#ms.afflictions &gt;= 7))  and not autoKill then
    if blind and not rb and lamia then
      atk = "dstab "..target.." oxalis "..ms.ass.aff[1]
    elseif not transfixed and not blind and spectre then
      atk = "spectre ensnare "..target
      watk = ""
    end
	end
    if cobra then send("order loyals kill "..target) end
    send("queue reset all", false);send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end--healing
</script>
									<command></command>
									<packageName></packageName>
									<regex>^daf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Phase/Unphase</name>
									<script>if matches[2] == "phase" then
	noheal()
	send("phase")
else
	heal()
	send("unphase")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(phase|unphase)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Group Attack</name>
									<script>if healing then
	pta = true
	daf = false
	dmg = false
	tl = false
	group = true
	qfront()
	plf()
	annihilate()
	puncture()
	dstabGroup()
	wormDmg()
	if cobra then send("order loyals kill "..target) end
   send("queue reset all");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^gaf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lightwall</name>
									<script>send("queue eqbal top conjure lightwall "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^lw (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Yank</name>
									<script>send("queue eqbal "..quickdraw(ms.save["whip"], ms.save["shield"])..""..s.."yank "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^y(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Noose</name>
									<script>noheal()
send("queue eqbal top noose "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^noose ?(\w+)?$</regex>
								</Alias>
								<AliasGroup isActive="yes" isFolder="yes">
									<name>Bows</name>
									<script></script>
									<command></command>
									<packageName></packageName>
									<regex></regex>
									<Alias isActive="yes" isFolder="no">
										<name>Shoot bow</name>
										<script>if shield or matches[2] == "b" then
	switch = "broad"
elseif matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "fs" then
	switch = "formaldehyde spiral"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end


if matches[4] then
	send("queue eqbal top "..quickdraw("bow")..""..s.."switch "..switch..""..s.."snipe "..matches[3].." "..matches[4])
else
	send("queue eqbal top "..quickdraw("bow")..""..s.."snipe "..target.." "..matches[3])
end</script>
										<command></command>
										<packageName></packageName>
										<regex>^sb(bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr) (\w+) ?(\w+)?$</regex>
									</Alias>
									<Alias isActive="yes" isFolder="no">
										<name>Worm attach</name>
										<script>send("queue eqbal top worm attach "..(matches[3] or target))
if matches[3] then
	wRoom = matches[3]
else
	wRoom = target
end</script>
										<command></command>
										<packageName></packageName>
										<regex>^wat(\s(\w+))?$</regex>
									</Alias>
									<Alias isActive="yes" isFolder="no">
										<name>Wormsnipe</name>
										<script>if matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "fs" then
	switch = "formaldehyde spiral"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end



send("queue eqbal top worm attach "..target..""..s..""..quickdraw(ms.save["bow"])..""..s.."switch "..switch..""..s.."worm snipe "..target)
</script>
										<command></command>
										<packageName></packageName>
										<regex>^ws(bs|ar|ab|as|cw|ls|fb|nb|n|fs|fr)$</regex>
									</Alias>
									<Alias isActive="yes" isFolder="no">
										<name>Wormsnipe</name>
										<script>if matches[2] == "cw" then
	switch = "cyanide wooden"
elseif matches[2] == "ls" then
	switch = "luminal spiral"
elseif matches[2] == "fs" then
	switch = "formaldehyde spiral"
elseif matches[2] == "ab" then
	switch = "aconite barbed"
elseif matches[2] == "fb" then
	switch = "formaldehyde barbed"
elseif matches[2] == "as" then
	switch = "aconite spiral"
elseif matches[2] == "nb" then
	switch = "noctec barbed"
elseif matches[2] == "bs" then
	switch = "botulinum spiral"
elseif matches[2] == "ar" then
	switch = "aconite razor"
elseif matches[2] == "fr" then
	switch = "formaldehyde razor"
elseif matches[2] == "n" then
	switch = "net"
end



send("queue eqbal top worm attach "..(matches[3] or target)..""..s..""..quickdraw(ms.save["bow"])..""..s.."switch "..switch)
send("queue eqbal worm snipe "..(matches[3] or target))
</script>
										<command></command>
										<packageName></packageName>
										<regex>^ws(bs|ar|ab|as|cw|ls|fb|nb|n|fs|fr) (\w+)$</regex>
									</Alias>
								</AliasGroup>
								<Alias isActive="yes" isFolder="no">
									<name>Call Cobra</name>
									<script>if matches[2] == "scob" then
  send("queue eqbal summon cobra")
  send("queue eqbal order loyals follow me")
else
  send("queue eqbal summon cobra inv")
  send("queue eqbal "..quickdraw("cobra"))
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(scob|sci)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage Stab</name>
									<script>if healing then
    pta = true
    daf = false
	tl = false
	group = false
	dmg = true
    qfront()
    plf()
    annihilate()
	dstabDmg()
	wormDmg()
    if cobra then send("order loyals kill "..target) end
    send("queue reset all", false);send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end--healing</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Slit</name>
									<script>send("queue eqbal slit "..(matches[3] or target)..""..s.."gauge "..target);msTA(target)</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^slt(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lay Clothesline</name>
									<script>if matches[3] then
	send("queue eqbal top lay clothesline "..matches[3])
else
	for _,exit in pairs(ms.exits) do
		send("queue eqbal lay clothesline "..exit)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^lc(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Backstab</name>
									<script>noheal()
send("queue reset eqbal"..s..""..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s.."envenom "..ms.save["dirk"].." with strychnine"..s.."queue eqbal backstab "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^bs(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>True Lock Route</name>
									<script>if healing then
    pta = true
    daf = false
	tl = true
	dmg = false
	group = false
    qfront()
    plf()
	  dstabTL()
    shadowPlant()
    annihilate()
	dstabAtk()
	dstabWorm()
	if (ms.ass.aff[1] == "butisol" or ms.ass.aff[2] == "butisol") and (ms.ass.aff[1] ~= "bromine" and ms.ass.aff[2] ~= "bromine") and ms.afflicted["slow herbs"] == "notaff" and not shield then
		atk = "dstab "..target.." butisol mazanor"
elseif ms.afflicted["anorexia"] == "notaff" and (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine") and ms.afflicted["hemotoxin"] == "aff" and (ms.afflicted["impatience"] == "aff" or snap) then
		atk = "dstab "..target.." iodine bromine"
elseif (th &lt; 65 or (tbleed &gt; 20) or (#ms.afflictions &gt;= 6)) and not autoKill then
 if blind and not rb and lamia then
  atk = "dstab "..target.." oxalis "..ms.ass.aff[1]
 elseif not transfixed and not blind and lamia then
  atk = "demon ensnare "..target
  watk = ""
end
end
    if cobra then send("order loyals kill "..target) end
    send("queue reset all", false);send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..atk..""..s..""..watk)
end--healing
</script>
									<command></command>
									<packageName></packageName>
									<regex>^tl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Sleep</name>
									<script>send("queue eqbal top dstab "..(matches[3] or target).." opium opium")</script>
									<command></command>
									<packageName></packageName>
									<regex>^slp(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Channel Cobra</name>
									<script>send("queue eqbal summon cobra inv")
send("queue eqbal "..quickdraw("cobra"))
send("queue eqbal worm attach "..(matches[3] or target))
send("queue eqbal worm channel cobra")
send("queue eqbal demon warp")
</script>
									<command></command>
									<packageName></packageName>
									<regex>^wcc ?(\s(\w+))?$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Spatium</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Summon Spectre</name>
									<script>send("queue eqbal worm create");send("queue eqbal worm attach elemental");send("queue eqbal worm summon spectre");send("queue eqbal spectre protect");send("queue eqbal order loyals follow me")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wss$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Blizzard</name>
									<script>send("queue eqbal top worm attach tundra"..s.."worm blizzard")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Freeze Ground</name>
									<script>send("queue eqbal top worm attach tundra"..s.."worm freeze ground")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wfg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Blizzard</name>
									<script>if useBlizzard then
	useBlizzard = false
	sys("&lt;blue&gt;Blizzard") cecho("&lt;red&gt;OFF")
else
	useBlizzard = true
	sys("&lt;blue&gt;Blizzard") cecho("&lt;green&gt;ON")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^bliz$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Becloud Toggle</name>
									<script>if becloud:find("freeze") then
	becloud = "worm attach circular"..s.."worm becloud"
	sys("&lt;purple&gt;Becloud") cecho("&lt;green&gt;Toggled On")
else
	becloud = "worm attach tundra"..s.."worm freeze "..creature
	sys("&lt;purple&gt;Becloud") cecho("&lt;red&gt;Toggled Off")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^becloud$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm vortex</name>
									<script>send("worm attach "..(matches[2] or target));send("queue eqbal top worm vortex "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^wv ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>spectre Explode</name>
									<script>send("queue eqbal spectre warp");send("queue eqbal spectre explode")</script>
									<command></command>
									<packageName></packageName>
									<regex>^spex$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Becloud</name>
									<script>send("queue eqbal top worm attach circular"..s.."worm becloud")</script>
									<command></command>
									<packageName></packageName>
									<regex>^bc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Devour</name>
									<script>noheal()
channeling = true
send("queue eqbal top worm attach rashirmir"..s.."worm devour "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dev(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm Cleanse</name>
									<script>if bard or summoner then
	send("queue eqbal top worm attach circular"..s.."worm cleanse")
else
	send("queue eqbal top worm cleanse")
end</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^wc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Confound Toggle</name>
									<script>if confound then
  confound = false
  sys("&lt;purple&gt;Confound") cecho("&lt;red&gt;OFF")
else
  confound = true
  sys("&lt;purple&gt;Confound") cecho("&lt;green&gt;ON")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cft$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Worm attach volcano</name>
									<script>send("queue eqbal top worm attach volcano")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wav$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Hypnosis</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Hypnotize</name>
									<script>if matches[3] then
  send("queue eq hypnotise "..matches[2])
  send("queue eq suggest "..matches[2].." action "..matches[3])
  send("queue eq seal "..matches[2].." 1")
  send("snap "..matches[2])
else
  send("queue eqbal hypnotise "..matches[2])
end</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^hyp (\w+) ?(.+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seal</name>
									<script>if matches[3] then
  send("queue eqbal top seal "..matches[2].." "..matches[3])
else
  send("queue eqbal top seal "..matches[2].." 1")
end
send("snap "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^sl (\w+) ?(\d+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Suggest</name>
									<script>if matches[3] then
  send("queue eqbal top suggest "..matches[2].." "..matches[3])
else
  send("queue eqbal top suggest "..target.." "..matches[2])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sug (\w+) ?(\w+)?$</regex>
								</Alias>
							</AliasGroup>
							<Alias isActive="yes" isFolder="no">
								<name>Unphase+Block</name>
								<script>send("unphase"..s.."block "..matches[2])</script>
								<command></command>
								<packageName></packageName>
								<regex>^ub (\w+)$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>Setup for Devour</name>
								<script>dartDir = ""
if matches[2] == "nw" then dartDir = "southeast"
elseif matches[2] == "ne" then dartDir = "southwest"
elseif matches[2] == "se" then dartDir = "northwest"
elseif matches[2] == "sw" then dartDir = "northeast"
elseif matches[2] == "n" then dartDir = "south"
elseif matches[2] == "e" then dartDir = "west"
elseif matches[2] == "s" then dartDir = "north"
elseif matches[2] == "w" then dartDir = "east"
elseif matches[2] == "in" then dartDir = "out"
elseif matches[2] == "out" then dartDir = "in"
elseif matches[2] == "u" then dartDir = "down"
elseif matches[2] == "d" then dartDir = "up"
end
send("queue eqbal "..matches[2])
send("queue eqbal lay dart "..dartDir)
send("queue eqbal top envenom dart "..dartDir.." with benzene")
send("queue eqbal "..dartDir)
send("queue eqbal lay snare "..matches[2])
send("queue eqbal "..quickdraw("incinerator", ms.save["shield"])..""..s.."point incinerator "..matches[2])
send("queue eqbal block "..matches[2])
send("queue eqbal "..quickdraw(ms.save["dirk"], ms.save["shield"]))</script>
								<command>queue reset all</command>
								<packageName></packageName>
								<regex>^sud (\w+)$</regex>
							</Alias>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Bard</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Songs</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Ward</name>
									<script>send("queue eqbal sing ward "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^ward(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Restoration</name>
									<script>send("queue eqbal sing restoration "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^res (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Battlemarch</name>
									<script>send("queue eqbal sing battlemarch "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^bat(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Flight</name>
									<script>if ms.class["Bard"] then send("queue eqbal sing flight "..(matches[3] or "me"))

elseif ms.class["Mage"] then send("queue eqbal cast flight") end</script>
									<command></command>
									<packageName></packageName>
									<regex>^fli(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Requiem</name>
									<script>send("queue eqbal sing requiem "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^req(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Empower</name>
									<script>send("queue eqbal sing empower "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^emp(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Corescation</name>
									<script>send("queue eqbal sing corescate "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^cor(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Enliven</name>
									<script>send("queue eqbal sing enliven "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^enl (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Fortify</name>
									<script>send("queue eqbal sing fortify "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fort(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Awakening</name>
									<script>send("queue eqbal sing awakening "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^awk(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Therapeutics</name>
									<script>send("queue eqbal sing therapeutics "..(matches[3] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^ther(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bedazzlement</name>
									<script>send("queue eqbal sing bedazzlement "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^bd (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dissonance</name>
									<script>send("queue eqbal sing dissonance "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^dis (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Revelation</name>
									<script>send("queue eqbal sing revelation "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^rev (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lullaby</name>
									<script>send("queue eqbal sing lullaby "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^lul (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bedazzlement</name>
									<script>--bard
if ms.class["Bard"] then
if shield and slb and not rb then send("queue eqbal stand"..s.."sketchlink raze "..target..""..s.."sing bedazzlement "..target)
elseif shield then
	if not yothed then send("queue eqbal stand"..s.."hum chi yoth "..target.." daemos "..target)
	else send("queue eqbal stand"..s.."hum chi daemos "..target)
	end
elseif engage then send("queue eqbal stand"..s.."sketchlink engage "..target..""..s.."sing bedazzlement "..target)
else send("queue eqbal stand"..s.."sketchlink sting "..target..""..s.."sing bedazzlement "..target) end
end
</script>
									<command></command>
									<packageName></packageName>
									<regex>^bd$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Revelation</name>
									<script>if shield and slb and not rb then send("queue eqbal stand"..s.."sketchlink raze "..target..""..s.."sing revelation "..target)
elseif shield then
	if not yothed then send("queue eqbal stand"..s.."hum chi yoth "..target.." daemos "..target)
	else send("queue eqbal stand"..s.."hum chi daemos "..target)
	end
elseif engage then send("queue eqbal stand"..s.."sketchlink engage "..target..""..s.."sing revelation "..target)
else send("queue eqbal stand"..s.."sketchlink sting "..target..""..s.."sing revelation "..target) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^rev$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dissonance</name>
									<script>if shield and slb and not rb then send("queue eqbal stand"..s.."sketchlink raze "..target..""..s.."sing dissonance "..target)
elseif shield then
	if not yothed then send("queue eqbal stand"..s.."hum chi yoth "..target.." daemos "..target)
	else send("queue eqbal stand"..s.."hum chi daemos "..target)
	end
elseif engage then send("queue eqbal stand"..s.."sketchlink engage "..target..""..s.."sing dissonance "..target)
else send("queue eqbal stand"..s.."sketchlink sting "..target..""..s.."sing dissonance "..target) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dis$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lullaby</name>
									<script>if shield then send("queue eqbal stand"..s.."sketchlink raze "..target..""..s.."sing lullaby "..target)
else send("queue eqbal stand"..s.."sketchlink sting "..target..""..s.."sing lullaby "..target) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^lul$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Cruel Lament</name>
									<script>if shield then send("queue eqbal stand:sketchlink raze "..target..""..s.."sing cruel lament "..target)
else send("queue eqbal stand"..s.."sing cruel lament "..target) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Disharmony</name>
									<script>send("queue eqbal sing disharmony "..target)</script>
									<command></command>
									<packageName></packageName>
									<regex>^dish$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Restoration</name>
									<script></script>
									<command>queue eqbal sing restoration me</command>
									<packageName></packageName>
									<regex>^res$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Songs Friend</name>
									<script>friend = matches[2]
send("queue eqbal sing ward "..matches[2]) sfs = 2</script>
									<command></command>
									<packageName></packageName>
									<regex>^bf (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Juggle Axe</name>
									<script>send("queue eqbal unwield harp"..s..""..quickdraw(ms.save["shield"])..""..s.."juggle handaxe handaxe handaxe")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ja$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Songbird</name>
									<script>send("order songbird follow "..matches[2]..""..s.."songbird sing "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^sbo (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Songs other</name>
									<script>send("songs "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^so (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>End Songs Toggle</name>
									<script>if es == false or nil then 
es = true
enableTrigger("End Songs on Me")
sys("Songs") cecho("End Songs - &lt;green&gt;ON")
else
es = false
disableTrigger("End Songs on Me")
sys("Songs") cecho("End Songs - &lt;red&gt;OFF")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^es$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Throw Axes/Juggle Axes</name>
									<script>if juggling then	
	send("queue eqbal throw handaxe at "..target)
	tas = tonumber(1)
	ghh = "get handaxe"..s.."get handaxe"..s.."get handaxe"
else
	send("queue eqbal unwield harp"..s..""..quickdraw(ms.save["shield"])..""..s.."juggle handaxe handaxe handaxe")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^tas$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Juggle Stop</name>
									<script></script>
									<command>juggle stop</command>
									<packageName></packageName>
									<regex>^js$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Envenom Axes</name>
									<script>enableTrigger("Envenom Axes")</script>
									<command>weaponlist axe</command>
									<packageName></packageName>
									<regex>^ev$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Redosongs</name>
									<script>if redosongs then
  redosongs = false
  sys("&lt;red&gt;Redosongs") cecho("&lt;snow&gt;No longer reapplying songs")
else
  redosongs = true
  sys("&lt;green&gt;Redosongs") cecho("&lt;snow&gt;Reapplying songs")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^rst$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Earthquake</name>
									<script>send("queue eqbal top sing earthquake")</script>
									<command></command>
									<packageName></packageName>
									<regex>^equ$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lamia</name>
									<script>send("queue eqbal top sing lamia")</script>
									<command></command>
									<packageName></packageName>
									<regex>^lam$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Geis</name>
									<script>send("queue eqbal top sing geis")</script>
									<command></command>
									<packageName></packageName>
									<regex>^sg$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Voice</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Varaye</name>
									<script>if ms.class["Bard"] then	
	if shield then
		if not yothed then send("queue eqbal hum yoth "..target.." daemos "..target)
		else send("queue eqbal hum ta daemos "..target.." nuarinyu "..target)
		end
	elseif yothed then send("queue eqbal hum varaye "..target)
	else send("queue eqbal hum we varaye "..target)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^hv$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dmg</name>
									<script>if ms.class["Bard"] then
  pta = true
  dmg = true
  afflict = false
  group = false
	sld()
	wd()
	if tdef then sla = "sketchink fireblast "..deft;w1 = "we gyin "..deft;w2 = "undefend";tdef = false
end

  if healing then
  	send("queue eqbal "..ghh..""..s..""..sla..""..s.."hum "..w1.." "..w2..""..s..""..tat);ghh = ""
  end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(sd|dmg)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Aff</name>
									<script>if ms.class["Bard"] then
  pta = true
  afflict = true
  dmg = false
  group = false
	if healing then
    if acount &gt;= 6 and not varaye and cl then
      expandAlias("hv")
    elseif acount &gt;= 6 and not cl then
      expandAlias("cl")
    elseif (acount &gt;= 6 or hp &lt;= 50) and varaye and cl then
      	sld()
	       wd()
         if tdef then sla = "sketchink fireblast "..deft;w1 = "we gyin "..deft;w2 = "undefend";tdef = false end
         send("queue eqbal "..ghh..""..s..""..sla..""..s.."hum "..w1.." "..w2..""..s..""..tat);ghh = ""
    elseif not bedazzlement then
      expandAlias("bd")
    elseif not dissonance then
      expandAlias("dis")
    elseif not revelation then
      expandAlias("rev")
    else
  		if cl then we = true end
  			if tdef and aff then 
          sla = "sketchink sting "..deft;w1 = "we gyin "..deft;w2 = "undefend";tdef = false
        end
    	slaf()
    	wa()
      nuarinyu()
  	send("queue reset all", false);send("queue eqbal "..sla..""..s.."hum "..w1.." "..w2.." "..naff)
    end
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Ka</name>
									<script>if ms.class["Bard"] then send("hum ka "..matches[2]) 
elseif ms.class["Mage"] then send("cast windscribe "..matches[2]) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^hka (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Kawis/Ka</name>
									<script>if ms.class["Bard"] then
if matches[2] == "a" then 
	send("hum ka "..target)
else	
	if not yothed then send("queue eqbal hum ta yoth "..(matches[3] or target).." kawis "..(matches[3] or target))
	else send("queue eqbal hum ta kawis "..(matches[3] or target))
	end
end
elseif ms.class["Mage"] then
	send("cast windscribe "..target)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^hk(a|\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Zriku</name>
									<script>if ebal and bbal then
	if not zyothed then
		send("hum zriku yoth "..(matches[5] or target).." "..matches[3])
		zyothed = true
		enableTimer("Zriku")
		sys(target) cecho("&lt;cyan&gt;Yothed&lt;ivory&gt;+")
	elseif matches[2] == "s" then
		send("hum zriku shaite "..(matches[5] or target).." "..matches[3])
	elseif matches[2] == "n" then
		send("hum zriku nuarinyu "..(matches[5] or target).." "..matches[3])
	elseif matches[2] == "p" then
		send("hum zriku paryes "..(matches[5] or target).." "..matches[3].." prism "..gmcp.Char.Name.name)
	elseif matches[2] == "k" then
		send("hum zriku kawis "..(matches[5] or target).." "..matches[3])
	end
end
	</script>
									<command></command>
									<packageName></packageName>
									<regex>^hz(s|n|p|k) (\w+)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Zriku - Yoth</name>
									<script>send("hum zriku yoth "..(matches[4] or target).." "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^hy (\w+)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Llan - Friend</name>
									<script>if not matches[2]:title():find(ht) then ht = matches[2]:title();htr = tonumber(0) end
if htr &lt; 24 then send("queue eqbal hum ta we myried "..matches[2].." llan "..matches[2])
elseif hty then send("queue eqbal hum myried "..matches[2].." llan "..matches[2])
else send("queue eqbal hum yoth "..matches[2].." llan "..matches[2])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^hl (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Karinyu</name>
									<script>send("queue eqbal hum karinyu "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^kar(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Gyin</name>
									<script>if ms.class["Bard"] then send("queue eqbal hum we gyin "..matches[2].." "..matches[3]) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^hg (\w+) (.+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Llan</name>
									<script>send("queue eqbal hearing"..s.."hum ta myried me llan me")</script>
									<command></command>
									<packageName></packageName>
									<regex>^hl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Llan-Arinyu</name>
									<script></script>
									<command>queue eqbal hum ta llan me arinyu me</command>
									<packageName></packageName>
									<regex>^hla$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Llan-Arinyu</name>
									<script>send("queue eqbal hum ta llan "..matches[2].." arinyu "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^hla (\w+)$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Sketches</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Tearing</name>
									<script>if matches[2] == "hunt" then expandAlias("sb hunter");send("queue eqbal tear hunter from sketchbook")
elseif matches[2] == "rg" then expandAlias("sb runeguard");send("queue eqbal tear runeguard from sketchbook")
elseif matches[2] == "ren" then expandAlias("sb renegade");send("queue eqbal tear renegade from sketchbook")
end
send("queue eqbal "..quickdraw(ms.save["harp"], ms.save["shield"]))</script>
									<command></command>
									<packageName></packageName>
									<regex>^(hunt|rg|ren)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Check Sketchbooks</name>
									<script>enableTrigger("Check Sketchbooks")
send("ii sketchbook")</script>
									<command></command>
									<packageName></packageName>
									<regex>^csb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Engage</name>
									<script>send("queue eqbal sketchlink engage "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^seg(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>MS Sketchbook</name>
									<script>ms.save["sketchbooks"][matches[2]] = matches[3]
sys("&lt;green&gt;MS Sketchbooks") cecho(f"&lt;yellow&gt;{matches[2]:title()} &lt;snow&gt;set to &lt;yellow&gt;{matches[3]}")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ms sb (hunter|runeguard|renegade) (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Sketchbook List</name>
									<script>sys("&lt;green&gt;MS Sketchbooks")
for name, sbid in pairs(ms.save["sketchbooks"]) do
  cecho(string.format("\n&lt;snow&gt;|&lt;cyan&gt;%10s &lt;snow&gt;- &lt;yellow&gt;%"..string.len(sbid).."s&lt;snow&gt;|", name:title(), sbid))
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ms sb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Weild Sketchbook</name>
									<script>send(quickdraw("quill", ms.save["sketchbooks"][matches[2]]))
if matches[3] then
  send("sketchlist "..ms.save["sketchbooks"][matches[2]])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^sb (hunter|runeguard|renegade)( ink)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Call sketches</name>
									<script>send("queue eqbal top call sketches")</script>
									<command></command>
									<packageName></packageName>
									<regex>^cs$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Mage</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Damage</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Fire Circle Damage</name>
									<script>if firecircle == nil then firecircle = false end
if fat &lt;= 3 then lb = false end
aug()
if trueassess and ms.save["ta"] then ta = "trueassess "..target else ta = "" end
--
if not shield then
	if hk then send("queue eqbal cast quickcast shake "..ptar)
	elseif healing and ms.class["Mage"] then
		if not crystal then send("call crystal") end
		if fat &gt;= 4 and firecircle then send("queue eqbal charge crystal instant"..s.."cast penetration lavablast batter at "..target..""..s..""..ta)
		elseif fat &gt;= 4 and firecircle == false then send("queue eqbal "..cci..""..s.."cast firewreathe firecircle heat at "..target..""..s..""..ta)
		elseif fat == 4 then send("queue eqbal "..cci..""..s.."cast penetration bloodboil heat at "..target..""..s..""..ta)
		elseif fat &lt; 4 then send("queue eqbal "..cci..""..s.."cast firewreathe bloodboil heat at "..target..""..s..""..ta) 
		else send("queue eqbal "..cci..""..s.."cast penetration bloodboil batter at "..target..""..s..""..ta)
		end
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Water Damage</name>
									<script>if trueassess and ms.save["ta"] then ta = "trueassess "..target else ta = "" end
pta = true
aug()
waff = true;eaff = false;aaff = false;faff = false
--
if healing then
  send("queue reset all", false)
	if hk then send("queue eqbal cast quickcast shake "..ptar)
	elseif healing and ms.class["Mage"] then
		if not crystal then send("call crystal") end;send(cci)
		mageaff()
		send("queue eqbal cast "..cp.." "..primary.." "..secondary.." at "..target.." "..iaff)
			if primary == "decompose" then send(ta) end
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^wdmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Earth Damage</name>
									<script>if trueassess and ms.save["ta"] then ta = "trueassess "..target else ta = "" end
aug()
eaff = true;waff = false;aaff = false;faff = false
--
if healing then
	if hk then send("queue eqbal cast quickcast shake "..ptar)
	elseif healing and ms.class["Mage"] then
		if not crystal then send("call crystal") end;send(cci)
		earthaff()
		send("queue eqbal cast "..cp.." "..primary.." "..secondary.." at "..target..""..s..""..ta)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^edmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Air Damage</name>
									<script>if trueassess and ms.save["ta"] then ta = "trueassess "..target else ta = "" end
if aat &lt; 5 then drain = false end
aug()
aaff = true;waff = false;eaff = false;faff = false
--
if healing then
	if hk then send("queue eqbal cast quickcast shake "..ptar)
	elseif healing and ms.class["Mage"] then
		if not crystal then send("call crystal") end;send(cci)
		airaff()
		send("queue eqbal cast "..cp.." "..primary.." "..secondary.." at "..target)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^admg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Fire Damage</name>
									<script>if trueassess and ms.save["ta"] then ta = "trueassess "..target else ta = "" end
if aat &lt; 5 then drain = false end
aug()
aaff = false;waff = false;eaff = false;faff = true
--
if healing then
	if hk then send("queue eqbal cast quickcast shake "..ptar)
	elseif healing and ms.class["Mage"] then
		if not crystal then send("call crystal") end;send(cci)
		fireaff()
		send("queue eqbal cast "..cp.." "..primary.." "..secondary.." at "..target)
	end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^fdmg$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Misc Skills</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Sonic Portal</name>
									<script>if ms.class["Mage"] then send("cast sonicportal at "..(matches[3] or target)) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^csp(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Windscribe</name>
									<script>if ms.class["Mage"] then send("queue eqbal cast quickcast windscribe "..(matches[3] or wsr))
	if matches[3] then wsr = matches[3] end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ws(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Blink</name>
									<script>if ms.class["Mage"] then send("queue eqbal cast blink "..matches[2]) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cb (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Earthsense</name>
									<script>if ms.class["Mage"] then send("queue eqbal cast quickcast earthsense") end</script>
									<command></command>
									<packageName></packageName>
									<regex>^es$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Windbrace</name>
									<script>noheal()
send("queue eqbal cast windbrace")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Purify</name>
									<script>if ms.class["Mage"] then send("queue eqbal cast quickcast purify") end
</script>
									<command></command>
									<packageName></packageName>
									<regex>^cp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Whirlwind</name>
									<script>if ms.class["Mage"] then send("queue eqbal charge crystal instant"..s.."cast quickcast whirlwind "..(matches[3] or target)) end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cww(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Reflection</name>
									<script>send("queue eqbal cast reflection at "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^cr (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Project Spell</name>
									<script>if matches[2] == "l" then send("queue eqbal cast lightning at "..(matches[5] or target).." "..matches[3])
elseif matches[2] == "t" then send("queue eqbal cast transfix at "..(matches[5] or target).." "..matches[3])
elseif matches[2] == "d" then send("queue eqbal cast drain at "..(matches[5] or target).." "..matches[3])
elseif matches[2] == "h" then send("queue eqbal cast howl at "..(matches[5] or target).." "..matches[3])
elseif matches[2] == "m" then send("queue eqbal cast maelstrom at "..(matches[5] or target).." "..matches[3])
elseif matches[2] == "w" then send("queue eqbal cast wind at "..(matches[5] or target).." "..matches[3])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ps(l|t|d|h|m|w) (\w+)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Shrapnel</name>
									<script>aug()
if matches[4] then
  send("queue eqbal "..cci..""..s.."cast quickcast shrapnel "..matches[2].." "..matches[4])
else
  send("queue eqbal "..cci..""..s.."cast quickcast shrapnel "..matches[2])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cs (\w+)(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Reflection</name>
									<script>send("queue eqbal cast quickcast reflection")</script>
									<command></command>
									<packageName></packageName>
									<regex>^cr$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Flamepillar</name>
									<script></script>
									<command>cast quickcast flamepillar</command>
									<packageName></packageName>
									<regex>^fp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Elemental assume</name>
									<script>if matches[2] == "f" then
  send("queue eqbal top elemental assume fire")
elseif matches[2] == "w" then
  send("queue eqbal top elemental assume water")
elseif matches[2] == "a" then
  send("queue eqbal top elemental assume air")
elseif matches[2] == "e" then
  send("queue eqbal top elemental assume earth")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^ea(f|w|a|e)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Overtune</name>
									<script>send("queue eqbal top overtune")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ot$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
					</AliasGroup>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Anti-Magick</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Priest</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Fayth</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Summon Seraph</name>
									<script>send("queue eqbal top seraph summon")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srsu$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Touch</name>
									<script>send("queue eqbal top seraph touch")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srt$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Summon Mace</name>
									<script>send("queue eqbal top summon mace")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ssm$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Shine</name>
									<script>send("queue eqbal top seraph shine")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srsh$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Call Mace</name>
									<script>send("queue eqbal top call mace")</script>
									<command></command>
									<packageName></packageName>
									<regex>^csm$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Sear</name>
									<script>if matches[2] then
  send("queue eqbal top seraph sear icewall "..matches[2])
else
  send("queue eqbal top seraph sear "..target)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^srsr(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Aura</name>
									<script>send("queue eqbal top seraph aura "..(matches[2] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^sra(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Panic</name>
									<script>send("queue eqbal top seraph panic "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^srp(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Watch</name>
									<script>send("queue eqbal top seraph watch")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srw$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Smash Arm/Leg</name>
									<script>local sAtk = ""
if matches[2] == "rl" then
  sAtk = "right leg"
elseif matches[2] == "ra" then
  sAtk = "right arm"
elseif matches[2] == "ll" then
  sAtk = "left leg"
elseif matches[2] == "la" then
  sAtk = "left arm"
end

send("queue eqbal top smash "..sAtk.." "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^ms(rl|ra|ll|la)(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Rest</name>
									<script>send("queue eqbal top seraph rest")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srr$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hunt Heresy</name>
									<script>send("queue eqbal top hunt heresy")</script>
									<command></command>
									<packageName></packageName>
									<regex>^hh$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Raze</name>
									<script>send("queue eqbal top seraph raze "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^srrb(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Seek</name>
									<script>send("queue eqbal top seraph seek "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^srse(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Mindread</name>
									<script>if matches[2] then
  send("queue eqbal top seraph mindread off")
else
  send("queue eqbal top seraph mindread")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^srmr(o)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Beckon</name>
									<script>send("queue eqbal top seraph beckon "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^srb(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Judgement</name>
									<script>noheal()
send("queue eqbal top judge "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^jt(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Strip</name>
									<script>send("queue eqbal top seraph strip "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^srst(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Ripples</name>
									<script>send("queue eqbal seraph ripples")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srrip$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Ward</name>
									<script>send("queue eqbal top seraph ward")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srward$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Chasten</name>
									<script>send("queue eqbal top chasten "..target.." "..(matches[2] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^chs(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Presences</name>
									<script>send("queue eqbal top seraph presences")</script>
									<command></command>
									<packageName></packageName>
									<regex>^srpr$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Sap</name>
									<script>send("queue eqbal top seraph sap "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^ssap(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Care</name>
									<script>send("queue eqbal top seraph care "..(matches[2] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^src(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Spiritwrack</name>
									<script>send("queue eqbal top seraph spiritwrack "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^srsw(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Refuge</name>
									<script>send("queue eqbal seraph refuge")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ref$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Empathy</name>
									<script>send("queue eqbal top seraph empathy")</script>
									<command></command>
									<packageName></packageName>
									<regex>^sre$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Absolve</name>
									<script>send("queue eqbal top seraph absolve "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^abs(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Trace</name>
									<script>send("queue eqbal top seraph trace "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^str(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Seraph Sear off</name>
									<script>send("queue eqbal top seraph sear off")
send("queue eqbal top seraph spiritwrack off")</script>
									<command></command>
									<packageName></packageName>
									<regex>^sso$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Devotion</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Enlightenment</name>
									<script>send("queue eqbal top perform enlightenment")</script>
									<command></command>
									<packageName></packageName>
									<regex>^de$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Perform Hands</name>
									<script>send("queue eqbal top perform hands "..(matches[2] or ""))</script>
									<command></command>
									<packageName></packageName>
									<regex>^phs(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Part Waters</name>
									<script>send("queue eqbal top perform parting "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^pw (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Rites</name>
									<script>local rite = ""
if string.find("truth", matches[2]) then
  rite = "truth"
elseif string.find("sustenance", matches[2]) then
  rite = "sustenance"
elseif string.find("piety", matches[2]) then
  rite = "piety"
elseif string.find("convergence", matches[2]) then
  rite = "convergence"
elseif string.find("pilgrimage", matches[2]) then
  rite = "pilgrimage"
elseif string.find("warding", matches[2]) then
  rite = "warding"
elseif string.find("renewal", matches[2]) then
  rite = "renewal"
elseif string.find("condemnation", matches[2]) then
  rite = "condemnation"
elseif string.find("allsight", matches[2]) then
  rite = "allsight"
elseif string.find("well-being", matches[2]) then
  rite = "well-being"
elseif string.find("convocation", matches[2]) then
  rite = "convocation"
elseif string.find("revitalization", matches[2]) then
  rite = "revitalization"
elseif string.find("seance", matches[2]) then
  rite = "seance"
elseif string.find("cleansing", matches[2]) then
  rite = "cleansing"
elseif string.find("prayer", matches[2]) then
  rite = "prayer"
elseif string.find("healing", matches[2]) then
  rite = "healing"
end
send("queue eqbal top perform rite of "..rite)</script>
									<command></command>
									<packageName></packageName>
									<regex>^r (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bliss</name>
									<script>send("queue eqbal top perform bliss")</script>
									<command></command>
									<packageName></packageName>
									<regex>^pb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Frostshield</name>
									<script>send("queue eqbal top bless "..(matches[2] or "me").." frostshield")</script>
									<command></command>
									<packageName></packageName>
									<regex>^bfs(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Pilgrimage</name>
									<script>send("queue eqbal top perform pilgrimage "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^pil(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Lastrites</name>
									<script>send("queue eqbal top perform lastrites on all")</script>
									<command></command>
									<packageName></packageName>
									<regex>^plr$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Demoncalm</name>
									<script>send("queue eqbal top perform demoncalm "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^pdc (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Pause/Unpause rites</name>
									<script>if matches[2] == "upr" then
  send("queue eqbal top perform unpause")
else
  send("queue eqbal top perform pause")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(pr|upr)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>convocation</name>
									<script>send("queue eqbal top perform convocation "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^pcp(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Deliverance</name>
									<script>send("queue eqbal top perform deliverance "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^pdp(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Consume rites</name>
									<script>local rite = ""
if matches[2] == "all" then
  rite = "all"
elseif string.find("truth", matches[2]) then
  rite = "truth"
elseif string.find("sustenance", matches[2]) then
  rite = "sustenance"
elseif string.find("piety", matches[2]) then
  rite = "piety"
elseif string.find("pilgrimage", matches[2]) then
  rite = "pilgrimage"
elseif string.find("warding", matches[2]) then
  rite = "warding"
elseif string.find("renewal", matches[2]) then
  rite = "renewal"
elseif string.find("condemnation", matches[2]) then
  rite = "condemnation"
elseif string.find("allsight", matches[2]) then
  rite = "allsight"
elseif string.find("well-being", matches[2]) then
  rite = "well-being"
elseif string.find("convocation", matches[2]) then
  rite = "convocation"
elseif string.find("revitalization", matches[2]) then
  rite = "revitalization"
elseif string.find("seance", matches[2]) then
  rite = "seance"
elseif string.find("cleansing", matches[2]) then
  rite = "cleansing"
elseif string.find("prayer", matches[2]) then
  rite = "prayer"
elseif string.find("healing", matches[2]) then
  rite = "healing"
end
send("queue eqbal top consumption "..rite)</script>
									<command></command>
									<packageName></packageName>
									<regex>^cr (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Banish</name>
									<script>send("queue eqbal top perform banishment of "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^ban (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Imbibe</name>
									<script>send("queue eqbal top imbibe rune")</script>
									<command></command>
									<packageName></packageName>
									<regex>^imb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Resurrect</name>
									<script>send("queue eqbal top perform resurrection "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^pres (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damnation/Absolution</name>
									<script>if matches[2] == "damn" then
  send("queue eqbal top perform damnation "..matches[2])
else
  send("queue eqbal top perform absolution "..matches[2])
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(damn|abs) (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Redemption</name>
									<script>send("queue eqbal top perform redemption")</script>
									<command></command>
									<packageName></packageName>
									<regex>^red$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Kanai</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Knockdown</name>
									<script>send("queue eqbal top kanai knockdown")</script>
									<command></command>
									<packageName></packageName>
									<regex>^kk$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>perseverance</name>
									<script>send("queue eqbal top pray for perseverance")</script>
									<command></command>
									<packageName></packageName>
									<regex>^pfp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Kanai Push</name>
									<script>send("queue eqbal top kanai push")</script>
									<command></command>
									<packageName></packageName>
									<regex>^kp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Stabilty</name>
									<script>send("queue eqbal top pray for stability")</script>
									<command></command>
									<packageName></packageName>
									<regex>^pfs$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Kanai Amount</name>
									<script>send("kanai amount")</script>
									<command></command>
									<packageName></packageName>
									<regex>^ka$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Restoration</name>
									<script>send("queue eqbal top pray for restoration")</script>
									<command></command>
									<packageName></packageName>
									<regex>^pfr$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Elation</name>
									<script>send("queue eqbal top pray for elation")</script>
									<command></command>
									<packageName></packageName>
									<regex>^pre$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Kanai obliviousness</name>
									<script>if matches[2] == "l" then
  kanai_cost = "low"
elseif matches[2] == "m" then
  kanai_cost = "medium"
elseif matches[2] == "h" then
  kanai_cost = "high"
else
  kanai_cost = "off"
end
send("queue eqbal top kanai obliviousness "..kanai_cost)</script>
									<command></command>
									<packageName></packageName>
									<regex>^ko(l|m|h|o)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Clear Burning Incense</name>
									<script>kanai_incense = {}
sys("&lt;red&gt;Burning Incense") cecho("&lt;DimGray&gt;Cleared")</script>
									<command></command>
									<packageName></packageName>
									<regex>^cbi$</regex>
								</Alias>
							</AliasGroup>
							<Alias isActive="yes" isFolder="no">
								<name>Priest Aff</name>
								<script>if healing then
  pta = true
  afflict = true
  dmg = false
  plf()
  qfront()
  local priest_kt = ""
  if not kt then priest_kt = "kanai target "..target end
  send("queue reset all");incense();send(f"queue eqbal top {qf}{s}{move}{s}{priest_kt}{s}{priestAff()}")
end</script>
								<command></command>
								<packageName></packageName>
								<regex>^afflict$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>Priest Dmg</name>
								<script>if healing then
  pta = true
  afflict = false
  dmg = true
  plf()
  qfront()
  local priest_kt = ""
  local priest_cleanse = ""
  if not kt then priest_kt = "kanai target "..target end
  if pc and not rb and not shield then priest_cleanse = "perform cleansing "..target end
  send("queue reset all");incense();send(f"queue eqbal top {qf}{s}{move}{s}{priest_kt}{s}{priest_cleanse}{s}{priestDmg()}")
end</script>
								<command></command>
								<packageName></packageName>
								<regex>^dmg$</regex>
							</Alias>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Outrider</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Trailblazing</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Wyrmriding</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Hunting</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
							</AliasGroup>
						</AliasGroup>
					</AliasGroup>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Neutral</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Shaman</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Curses</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Afflict</name>
									<script>if healing then
  pta = true
  afflict = true
  tl = false
  dmg = false
  group = false
  qfront()
  curseAff()
  dustAff()
  send("queue reset all", false)
  if not rb and (pbob and ina("hemotoxin")) and ia("anorexia") and ia("asthma") and ia("impatience") and ia("slickness") and (ia("numbness") or ia("paralysis")) then
    send("queue eqbal top "..qf..""..s..""..move..""..s..""..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."slash "..target.." hemotoxin")
  else
    send(f"queue eqbal top {qf}{s}{move}{s}{brand()}{s}{curses()} {dustthrow()}{s}{prophecy()}")
  end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^afflict$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>TL Afflict</name>
									<script>if healing then
  pta = true
  afflict = false
  dmg = false
  tl = true
  group = false
  qfront()
  curseAff()
  dustAff()
  send("queue reset all", false)
  if (not rb or sleeping) and ina("hemotoxin") and ia("anorexia") and ia("asthma") and ia("impatience") and ia("slickness") and (ia("numbness") or ia("paralysis")) then
    send("queue eqbal top "..qf..""..s..""..move..""..s..""..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."slash "..target.." hemotoxin")
  else
    send(f"queue eqbal top {qf}{s}{move}{s}{brand()}{s}{curses()} {dustthrow()}{s}{prophecy()}")
  end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^tl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Damage</name>
									<script>if healing then
  pta = true
  afflict = false
  tl = false
  dmg = true
  group = false
  qfront()
  curseAff()
  dustAff()
  send("queue reset all", false)
  if not rb and (pbob and ina("hemotoxin")) and ia("anorexia") and ia("asthma") and ia("impatience") and ia("slickness") and (ia("numbness") or ia("paralysis")) then
    send("queue eqbal top "..qf..""..s..""..move..""..s..""..quickdraw(ms.save["sabre"], ms.save["shield"])..""..s.."slash "..target.." hemotoxin")
  else
    send(f"queue eqbal top {qf}{s}{move}{s}{brand()}{s}{curses()} {dustthrow()}{s}{prophecy()}")
  end
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Curse Steal</name>
									<script>if matches[2] == "h" then
  send("queue eqbal top curse "..(matches[3] or target).." steal health")
elseif matches[2] == "m" then
  send("queue eqbal top curse "..(matches[3] or target).." steal mana")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^cs(m|h)(?: (\w+))?$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Bonecasting</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Heal(Lightning)</name>
									<script>send("queue eqbal top throw bones for lightning")</script>
									<command></command>
									<packageName></packageName>
									<regex>^hl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Drain(Moon)</name>
									<script>send("queue eqbal top throw bones for moon")</script>
									<command></command>
									<packageName></packageName>
									<regex>^hm$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Activate Bones</name>
									<script>if matches[2] == "acb" then
  send("queue eqbal top activate bones on me")
  send("queue eqbal activate bones on armour")
else
  send("queue eqbal top deactivate bones on me")
  send("queue eqbal deactivate bones on armour")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(acb|dcb)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Vortex</name>
									<script>send("queue eqbal top throw bones for vortex at "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^bv(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Reimage Fetish</name>
									<script>local fi = {"spiral", "birch", "viper", "eye", "butterfly", "sun", "sun", "sun"}
for k,image in ipairs(fi) do
  send("queue eqbal throw bones for "..image.." on fetish")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^rf$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Stand Fetish</name>
									<script>noheal()
send("queue eqbal "..quickdraw("fetish")..""..s.."stand fetish for "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^sf(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Canopy</name>
									<script>send("queue eqbal top throw bones for shell")</script>
									<command></command>
									<packageName></packageName>
									<regex>^bc$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Stonewall (Mountain)</name>
									<script></script>
									<command></command>
									<packageName></packageName>
									<regex>^stw (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Raven</name>
									<script>if matches[2] == "brp" then
  send("queue eqbal top throw bones for raven")
else
  send("queue eqbal say ride home")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(brp|br)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Def bones</name>
									<script>local rdb = {'dove', 'elk', 'owl', 'bear', 'fang'}
send("remove armour")
for k,v in pairs(rdb) do
  if v == 'bear' or v == 'fang' then
    send("queue eqbal throw bones for "..v.." on armour")
  else
    send("queue eqbal throw bones for "..v.." on me")
  end
end
tempTimer(17, [[send("wear armour")]])</script>
									<command></command>
									<packageName></packageName>
									<regex>^rdb$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Shamanism</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Dusthrow Cure</name>
									<script>send("queue eqbal top dustthrow cure "..(matches[2] or "me"))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dtc(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Dust Probe</name>
									<script>sys("&lt;purple&gt;Shaman") cecho("&lt;green&gt;Set to Probe!")
probe = true</script>
									<command></command>
									<packageName></packageName>
									<regex>^dp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Obstruct</name>
									<script>send("queue eqbal top dustthrow obstruct "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^dob(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Wipe of marks</name>
									<script>send("wipe off mark on "..target)</script>
									<command></command>
									<packageName></packageName>
									<regex>^wom$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="yes" isFolder="yes">
							<name>Hunter</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Shapeshifting</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Hunter Afflict</name>
									<script>if healing then
	pta = true
  waff = true
  dmg = false
  group = false
  tl = false
  pb = false
	wld = quickdraw("sword", ms.save["shield"])
  bmCheck()
  weaverAtk()
  batAffs()
  batAtk()
  plf()
	qfront()
  send("queue reset eqbal");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..wAtk..""..s..""..bAtk)
  wAtk = ""
  bAtk = ""
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^waff$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hunter Group</name>
									<script>if healing then
	pta = true
  group = true
  dmg = false
  waff = false
  tl = false
  pb = false
	wld = quickdraw("sword", ms.save["shield"])
  bmCheck()
  weaverAffs()
  batAffsGroup()
  weaverGroup()
  batGroup()
  plf()
	qfront()
  send("queue reset all");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..wAtk..""..s..""..bAtk)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^wag$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Block</name>
									<script>send("queue eqbal block "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^bl (\w+)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Toggle Bash buffs</name>
									<script>if bb == nil then bb = false end
if bb then
  bb = false
  send("queue eqbal "..ms.save["hunter_form"].." aura moon")
  send("queue eqbal deadaim off")
else
  bb = true
  send("queue eqbal "..ms.save["hunter_form"].." aura toxic")
  send("queue eqbal deadaim on")
end</script>
									<command>queue reset all</command>
									<packageName></packageName>
									<regex>^bb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Iceblast</name>
									<script>send("queue eqbal top "..ms.save["hunter_form"].." iceblast "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^ib(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Fireblast</name>
									<script>send("queue eqbal top "..ms.save["hunter_form"].." fireblast "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^fb(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hunter TL</name>
									<script>if healing then
	pta = true
  waff = false
  group = false
  tl = true
	wld = quickdraw("sword", ms.save["shield"])
  bmCheck()
  weaverTl()
  batTl()
  weaverTlAtk()
  batTlAtk()
  plf()
	qfront()
  send("queue reset eqbal");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..wAtk..""..s..""..bAtk)
  wAtk = ""
  bAtk = ""
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^tl$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hunter PB</name>
									<script>if healing then
	pta = true
  waff = false
  group = false
  tl = false
  pb = true
	wld = quickdraw("sword", ms.save["shield"])
  bmCheck()
  weaverTl()
  batTl()
  weaverTlAtk()
  batTlAtk()
  plf()
	qfront()
  send("queue reset eqbal");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..wAtk..""..s..""..bAtk)
  wAtk = ""
  bAtk = ""
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^pb$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hunter Damage</name>
									<script>if healing then
	pta = true
  group = false
  waff = false
  tl = false
  dmg = true
  pb = false
  wld = quickdraw("sword", ms.save["shield"])
  bmCheck()
  weaverAffDmg()
  weaverDmg()
  batDmg()
  plf()
  qfront()
  send("queue reset all");send("queue eqbal top stand"..s..""..wld..""..s..""..plimb..""..s..""..qf..""..s..""..move..""..s..""..wAtk..""..s..""..bAtk)
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^dmg$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Gust/Glare</name>
									<script>if matches[3] then
  send("queue eqbal top "..ms.save["hunter_form"].." glare "..matches[3])
else
  send("queue eqbal top "..ms.save["hunter_form"].." gust")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^wg(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Summon fire/ice</name>
									<script>if matches[2] == "sf" then 
  send("queue eqbal top summon fire")
else
  send("queue eqbal top summon ice")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(sf|si)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Weaver Transform</name>
									<script>send("queue eqbal top weaver transform")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wt$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Supremacy</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Lure</name>
									<script>send("queue eqbal top bat lure "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^blt(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Loyal Probe</name>
									<script>sys("&lt;purple&gt;Hunter") cecho("&lt;green&gt;Set to Probe!")
probe = true</script>
									<command></command>
									<packageName></packageName>
									<regex>^bp$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Loyal Cleanse</name>
									<script>send("queue eqbal top bat cleanse "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^bc(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Summon Loyal</name>
									<script>send("queue eqbal top bat summon")</script>
									<command></command>
									<packageName></packageName>
									<regex>^(bs|ns|as)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bat Resurrect</name>
									<script>send("queue eqbal top drop body"..s.."bat resurrect "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^br(\s(\w+))?$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Terrestrialism</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Pursue Follow</name>
									<script>if matches[2] == "gtt" then expandAlias("goto "..targetLocation["id"])
elseif matches[2] == "ctt" then callout(trackTarget.." Located", tostring(targetLocation["id"]).." ("..targetArea..")")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^(gtt|ctt)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Pursue Target</name>
									<script>send("queue eqbal top pursue "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^pt ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Pursue None</name>
									<script></script>
									<command>pursue none</command>
									<packageName></packageName>
									<regex>^pn$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Grove Gate</name>
									<script>noheal()
send("queue eqbal imprint")
send("queue eqbal grove gate "..(matches[3] or target))
send("queue eqbal grove sever")</script>
									<command></command>
									<packageName></packageName>
									<regex>^gg(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Locate</name>
									<script>send("queue eqbal top locate "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^lt(\s(\w+))?$</regex>
								</Alias>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Engineer</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Ballistics</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Inventing</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Sense</name>
									<script>send("queue eqbal sense "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^sns ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Blackpowder</name>
									<script>if matches[2] then
	send("queue eqbal fashion "..matches[2].." blackpowder")
else
	send("queue eqbal fashion 10 blackpowder")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^fbp ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Smokelesspowder</name>
									<script>if matches[2] then
	send("queue eqbal fashion "..matches[2].." smokelesspowder")
else
	send("queue eqbal fashion 10 smokelesspowder")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^fsp ?(\w+)?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Shot</name>
									<script></script>
									<command>queue eqbal fashion shot</command>
									<packageName></packageName>
									<regex>^fsh$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Bayonet</name>
									<script></script>
									<command>queue eqbal fashion bayonet</command>
									<packageName></packageName>
									<regex>^fbay$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Hollowshot</name>
									<script></script>
									<command>queue eqbal fashion hollowshot</command>
									<packageName></packageName>
									<regex>^fhs$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Compounds - Base</name>
									<script>if matches[2] == "bi" then send("queue eqbal create blackice")
elseif matches[2] == "bs" then send("queue eqbal create boneslate")
elseif matches[2] == "ca" then send("queue eqbal create clearash")
elseif matches[2] == "sf" then send("queue eqbal create sandflake")
elseif matches[2] == "lc" then send("queue eqbal create lusterchip")
elseif matches[2] == "pd" then send("queue eqbal create prosperdust")
end
</script>
									<command></command>
									<packageName></packageName>
									<regex>^c(bi|bs|ca|sf|lc|pd)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Compounds - Base</name>
									<script>if matches[3] == "bi" then send("queue eqbal create "..matches[2].." blackice")
elseif matches[3] == "bs" then send("queue eqbal create "..matches[2].." boneslate")
elseif matches[3] == "ca" then send("queue eqbal create "..matches[2].." clearash")
elseif matches[3] == "sf" then send("queue eqbal create "..matches[2].." sandflake")
elseif matches[3] == "lc" then send("queue eqbal create "..matches[2].." lusterchip")
elseif matches[3] == "pd" then send("queue eqbal create "..matches[2].." prosperdust")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^c(\d+)(bi|bs|ca|sf|lc|pd)$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Compounds</name>
									<script>if matches[2] == "h" then send("mix compounds for hydroite")
elseif matches[2] == "g" then send("mix compounds for glycerite")
end</script>
									<command></command>
									<packageName></packageName>
									<regex>^mcf(h|g)$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Focus</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
							</AliasGroup>
						</AliasGroup>
						<AliasGroup isActive="no" isFolder="yes">
							<name>Berserker</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Maiming</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Cleave</name>
									<script>noheal()
send("queue eqbal cleave "..(matches[3] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^cl(\s(\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Block</name>
									<script>send("queue eqbal block "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^bl (\w+)$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Rampage</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Wardances off</name>
									<script>send("queue eqbal top wardances off")</script>
									<command></command>
									<packageName></packageName>
									<regex>^wdo$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Doubledance PVP</name>
									<script>send("queue eqbal doubledance eviscerate spurn")</script>
									<command></command>
									<packageName></packageName>
									<regex>^dd$</regex>
								</Alias>
							</AliasGroup>
							<AliasGroup isActive="yes" isFolder="yes">
								<name>Warchants</name>
								<script></script>
								<command></command>
								<packageName></packageName>
								<regex></regex>
								<Alias isActive="yes" isFolder="no">
									<name>Taunt</name>
									<script>send("queue eqbal top warchant taunt "..(matches[2] or target))</script>
									<command></command>
									<packageName></packageName>
									<regex>^wt(?: (\w+))?$</regex>
								</Alias>
								<Alias isActive="yes" isFolder="no">
									<name>Persist</name>
									<script>send("queue eqbal top warchant persist "..matches[2])</script>
									<command></command>
									<packageName></packageName>
									<regex>^wp (\w+)$</regex>
								</Alias>
							</AliasGroup>
							<Alias isActive="yes" isFolder="no">
								<name>PvP Attack</name>
								<script>if healing then
  pta = true
  if matches[2] == 'aff' then
    afflict = true;dmg = false
  else
    afflict = false;dmg = true
  end
  qfront()
  checkWeaken()
  zerkAff()
  preAtk()
  zerkAtk()
  warchants()
  send("queue reset eqbal", false)
  send(f"queue eqbal top {qf}{s}{move}{s}{pre}combo {atk1} {atk2} {wc}")
end</script>
								<command></command>
								<packageName></packageName>
								<regex>^(aff|dmg)$</regex>
							</Alias>
						</AliasGroup>
					</AliasGroup>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>Combat</name>
					<script></script>
					<command></command>
					<packageName></packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>Targeting</name>
						<script>if matches[2] ~= target then
  if ms.class["Deathknight"] or ms.class["Runeguard"] then send("wipe "..ms.save["longsword"]..""..s.."enemy "..matches[2]) 
  elseif ms.class["Assassin"] or ms.class["Renegade"] then send("wipe "..ms.save["dirk"]..""..s.."order loyals kill "..matches[2])
  end
  target = matches[2]:title()
  ms.hunter.triggers = {}
  fecho("Target", matches[2]:title(), "Targeted")
  if calltarget then 
  targeter(matches[2])
  end
  target = target:title()
  shardfall = false
  if id then killTrigger(id) end
  id = tempTrigger(target, [[selectString("]] .. target .. [[", 1) fg("red") deselect() resetFormat()]])
  fat = tonumber(0)
  wat = tonumber(0)
  eat = tonumber(0)
  aat = tonumber(0)
  dsear = false
  clt = true
  expandAlias("0", false)
else sys(target) cecho("&lt;OrangeRed&gt;Not able to set target")
end

move = ""
classCheck = true
expandAlias("chk "..target, false)
if ms.class["Hunter"] and not snare then send("queue eqbal top bat snare") end
enableTrigger("GP")</script>
						<command></command>
						<packageName></packageName>
						<regex>^t (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Weild Things</name>
						<script>if ms.class["Bard"] then send("juggle stop"..s..""..quickdraw(ms.save["harp"], ms.save["shield"]));juggling = false
elseif ms.class["Assassin"] or ms.class["Renegade"] then send(quickdraw(ms.save["dirk"], ms.save["shield"]))
elseif ms.class["Mage"] or ms.class["Hunter"] then send(quickdraw("sword", ms.save["shield"]))
elseif ms.class["Summoner"] then send(quickdraw(ms.save["sabre"], ms.save["shield"]))
elseif ms.class["Diabolist"] then send (quickdraw(ms.save["daegger"], ms.save["shield"]))
elseif ms.class["Deathknight"] or ms.class["Runeguard"] or ms.class["Berserker"] or ms.class["Templar"] then send(quickdraw(ms.save["longsword"], ms.save["shield"]))
elseif ms.class["Defiler"] then send(quickdraw(ms.save["flail"], ms.save["shield"]))
elseif ms.class["Engineer"] then send(quickdraw(ms.save["flintlock"], ms.save["shield"]))
elseif ms.class["Druid"] then send(quickdraw(ms.save["quarterstaff"], ms.save["shield"]))
elseif ms.class["Shaman"] then send(quickdraw(ms.save["longsword"], ms.save["shield"]))
elseif ms.class["Priest"] then send(quickdraw(ms.save["mace"], ms.save["shield"]))
elseif ms.class["Outrider"] then send(quickdraw(ms.save["spear"], ms.save["shield"]))
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^tts$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Wear Armour</name>
						<script>send("remove armour")
send("wear armour")</script>
						<command></command>
						<packageName></packageName>
						<regex>^wl$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shard Wall</name>
						<script>send("queue eqbal Shard wall "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^shw (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shard Disrupt</name>
						<script>send("shard disrupt "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^sd (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check Room</name>
						<script>send("trueassess a"..s.."trueassess b"..s.."trueassess c"..s.."trueassess d"..s.."trueassess e"..s.."trueassess f"..s.."trueassess g"..s.."trueassess h"..s.."trueassess i"..s.."trueassess j"..s.."trueassess k"..s.."trueassess l"..s.."trueassess m"..s.."trueassess n"..s.."trueassess o"..s.."trueassess p"..s.."trueassess q"..s.."trueassess r"..s.."trueassess s"..s.."trueassess t"..s.."trueassess u"..s.."trueassess v"..s.."trueassess w"..s.."trueassess x"..s.."trueassess y"..s.."trueassess z", false)</script>
						<command></command>
						<packageName></packageName>
						<regex>^pe$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Prism</name>
						<script>noheal()
selfp = true
send("touch prism "..(matches[3] or target))
if matches[3] then
	prismtarget = matches[3]:title()
else
	prismtarget = target
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^tp(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Icewall</name>
						<script>if ms.class["Bard"] then 
	send(quickdraw("desublimator", ms.save["shield"])..""..s.."point desublimator "..matches[2]..""..s.."queue eqbal "..quickdraw(ms.save["harp"], ms.save["shield"]))
elseif ms.class["Mage"] then 
	send("cast icewall "..matches[2])
elseif ms.class["Diabolist"] then 
	send(quickdraw("desublimator", ms.save["shield"])..""..s.."point desublimator "..matches[2]..""..s.."queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"]))
elseif ms.class["Assassin"] or ms.class["Renegade"] then 
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"])..""..s.."point desublimator "..matches[2])
	send("queue eqbal "..quickdraw("dirk", ms.save["shield"]))
elseif ms.class["Deathknight"] then 
	send(quickdraw("desublimator", ms.save["shield"])..""..s.."point desublimator "..matches[2]..""..s.."queue eqbal "..quickdraw(ms.save["longsword"], ms.save["shield"]))
elseif ms.class["Summoner"] then
	send(quickdraw("desublimator", ms.save["shield"])..""..s.."point desublimator "..matches[2]..""..s.."queue eqbal "..quickdraw("sword", ms.save["shield"]))
elseif ms.class["Defiler"] then
	send(quickdraw("desublimator", ms.save["shield"])..""..s.."point desublimator "..matches[2]..""..s.."queue eqbal "..quickdraw(ms.save["flail"], ms.save["shield"]))
elseif ms.class["Hunter"] then
	send("queue eqbal top weaver icewall "..matches[2])
  iwDir = matches[2]
end</script>
						<command>queue reset all</command>
						<packageName></packageName>
						<regex>^iw (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Firewall</name>
						<script>if ms.class["Bard"] then send(""..quickdraw(ms.save["incinerator"], ms.save["shield"])..""..s.."point incinerator "..matches[2]..""..s.."queue eqbal "..quickdraw(ms.save["harp"], ms.save["shield"]))
elseif ms.class["Mage"] then send("cast firewall "..matches[2]) end</script>
						<command></command>
						<packageName></packageName>
						<regex>^flw (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Trueassess toggle</name>
						<script>if not trueassess then
trueassess = true
sys("Trueassess") cecho("&lt;green&gt;ON")
else
trueassess = false
sys("Trueassess") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ta$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shardwall All</name>
						<script>for _,exit in pairs(ms.exits) do
	send("shard wall "..exit)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^shw$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shard heal</name>
						<script></script>
						<command>queue eqbal shard heal</command>
						<packageName></packageName>
						<regex>^shh$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Commit Health/Mana</name>
						<script>if matches[2] == "h" then send("commit "..commithealth.." health")
else send("commit "..commitmana.." mana") end</script>
						<command></command>
						<packageName></packageName>
						<regex>^cm(h|m)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Join Coliseum</name>
						<script>if matches[2] == "t" then send("drink mana"..s.."join teamffa coliseum")
else send("drink mana"..s.."join freeforall coliseum") end</script>
						<command></command>
						<packageName></packageName>
						<regex>^j(t|f)a$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Statue</name>
						<script>if ms.class["Bard"] then send("sketchlink engage "..target..""..s..""..quickdraw("statue", ms.save["shield"])..""..s.."throw statue at ground"..s.."queue eqbal "..quickdraw(ms.save["harp"], ms.save["shield"]))
elseif ms.class["Mage"] or ms.class["Summoner"] or ms.class["Hunter"] then send(""..quickdraw("statue", ms.save["shield"])..""..s.."throw statue at ground")
elseif ms.class["Diabolist"] then send(""..quickdraw("statue", ms.save["shield"])..""..s.."throw statue at ground"..s.."queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"]))
elseif ms.class["Assassin"] or ms.class["Renegade"] then send(""..quickdraw("statue", ms.save["shield"])..""..s.."throw statue at ground"..s.."queue eqbal "..quickdraw(ms.save["dirk"], ms.save["shield"]))
elseif ms.class["Deathknight"] then send(""..quickdraw("statue", ms.save["shield"])..""..s.."relax grip"..s.."throw statue at ground"..s.."queue eqbal "..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."grip")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ts$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Jfc</name>
						<script>send("drink mana"..s.."join freeforall coliseum")</script>
						<command></command>
						<packageName></packageName>
						<regex>^jfc$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Challenge</name>
						<script>if not ms.class["Diabolist"] and not ms.class["Deathknight"] then send("get 2000 gold from "..ms.save["pack"]..""..s.."drink mana"..s.."challenge "..matches[2])
else send("get 2000 gold from "..ms.save["pack"]..""..s.."drink mana"..s.."challenge "..matches[2])
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(?:challenge|chal) (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Join Event</name>
						<script>send("get 600 gold from "..ms.save["pack"]..""..s.."drink mana"..s.."join "..arenagame.." "..arenaloc)
expandAlias("mse")</script>
						<command></command>
						<packageName></packageName>
						<regex>^je$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Priorities</name>
						<script>if not aph or matches[2] == "h" then
aph = true
sys("Priority") cecho("&lt;red&gt;Health")
send("autocuring priority health", false)
send("autocuring health 80"..s.."autocuring mana 60", false)
elseif aph or matches[2] == "m" then
aph = false
sys("Priority") cecho("&lt;blue&gt;Mana")
send("autocuring priority mana", false)
send("autocuring health 75"..s.."autocuring mana 80", false)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ap(h|m)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Spyglass</name>
						<script>if ebal and bbal then
enableTrigger("pis")
enableTrigger("pis prompt")
ms.pa = {}
ms.pe = {}
end</script>
						<command>peer in spyglass</command>
						<packageName></packageName>
						<regex>^pis$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Bash Target</name>
						<script>if ms.class["Bard"] then send("queue eqbal hum rubait "..target.." shaite "..target) end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^bt$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Icewall All</name>
						<script>if ms.class["Bard"] then
send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
for _,exit in pairs(ms.exits) do
	send("queue eqbal point desublimator "..exit)
end
send("queue eqbal "..quickdraw(ms.save["harp"], ms.save["shield"]))
end
if ms.class["Mage"] then
for _,exit in pairs(ms.exits) do
	send("cast icewall "..exit)
end
end
if ms.class["Diabolist"] then
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
	for _,exit in pairs(ms.exits) do
		send("queue eqbal point desublimator "..exit)
	end
	send("queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"]))
end
if ms.class["Assassin"] or ms.class["Renegade"] then
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
	for _,exit in pairs(ms.exits) do
		send("queue eqbal point desublimator "..exit)
	end
	send("queue eqbal "..quickdraw(ms.save["dirk"], ms.save["shield"]))
end
if ms.class["Summoner"] then
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
	for _,exit in pairs(ms.exits) do
		send("queue eqbal point desublimator "..exit)
	end
	send("queue eqbal "..quickdraw("sword", ms.save["shield"]))
end
if ms.class["Deathknight"] then
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
	for _,exit in pairs(ms.exits) do
		send("queue eqbal point desublimator "..exit)
	end
	send("queue eqbal "..quickdraw(ms.save["longsword"], ms.save["shield"]))
end
if ms.class["Hunter"] then
  for _,exit in pairs(ms.exits) do
	 send("queue eqbal weaver icewall "..exit)
  end
end</script>
						<command>queue reset all</command>
						<packageName></packageName>
						<regex>^iw$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Benevolence Favour</name>
						<script></script>
						<command>perform ritual benevolence favour</command>
						<packageName></packageName>
						<regex>^prb$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Trueassess</name>
						<script>msTA(matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^ta (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Fire Blast</name>
						<script>send("queue eqbal top atlas travel festering_bog")</script>
						<command>queue reset all</command>
						<packageName></packageName>
						<regex>^afb(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Firewall</name>
						<script>if ms.class["Diabolist"] then 
	send("queue eqbal top demon sear icewall "..matches[2])
	send("queue eqbal demon beckon")
elseif ms.class["Assassin"] or ms.class["Renegade"] or ms.class["Summoner"] then
	send(""..quickdraw("incinerator", ms.save["shield"])..""..s.."point incinerator "..matches[2]..""..s.."queue eqbal quickdraw "..ms.save["dirk"].." "..ms.save["shield"].."")
elseif ms.class["Hunter"] then
  send(""..quickdraw("sword", ms.save["shield"])..""..s.."weaver firebreath icewall "..matches[2])
  fbDir = matches[2]
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^fw (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Throw eye</name>
						<script>send("quickdraw eye shield"..s.."throw eye at ground")</script>
						<command></command>
						<packageName></packageName>
						<regex>^te$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Enemy</name>
						<script>send("enemy "..matches[2])
table.insert(ms.el, matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^en (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Unenemy</name>
						<script>if not matches[3] then 
	ms.enemies = {}
	send("unenemy all")
else 
	send("unenemy "..matches[3])
	for k,name in ipairs(ms.enemies) do
		if name == matches[3]:title() then
			table.remove(ms.enemies, k)
		end
	end
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ue(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Return to Celi</name>
						<script>if ms.class["Bard"] then send("queue eqbal sing waymark 1")
elseif ms.class["Mage"] then send("queue eqbal cast quickcast windscribe celi")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^celi$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shard Disrupt Red</name>
						<script>send("shard disrupt "..matches[2].." red")</script>
						<command></command>
						<packageName></packageName>
						<regex>^sdr (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Touch Brazier</name>
						<script>send("queue eqbal touch brazier "..(matches[3] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^tb(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Monolith</name>
						<script>send("quickdraw monolith"..s.."throw monolith at ground")</script>
						<command></command>
						<packageName></packageName>
						<regex>^tmm$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Trueassess</name>
						<script>msTA(target)</script>
						<command></command>
						<packageName></packageName>
						<regex>^tat$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Farsee</name>
						<script>send("farsee "..(matches[3] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^fs(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Inhume</name>
						<script>send("queue eqbal inhume "..(matches[3] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^iht(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Stop Drains</name>
						<script>send("queue eqbal hypersight off")
send("queue eqbal alertness off")
send("queue eqbal necrosis off")
send("autocuring focus off")
focus = false</script>
						<command></command>
						<packageName></packageName>
						<regex>^sdr$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Get Axes</name>
						<script>juggling = false
send("get handaxe"..s.."get handaxe"..s.."get handaxe")</script>
						<command></command>
						<packageName></packageName>
						<regex>^gx$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shield</name>
						<script>if ms.class["Diabolist"] then
	if matches[3] then
		send("queue reset eqbal");send("queue eqbal trace inversion hammer "..matches[3])
	else
		if numbness then 
		send("queue reset eqbal");send("queue eqbal top "..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s.."trace inversion hammer me")
		else
		send("queue reset eqbal");send("queue eqbal top raisewings"..s.."touch shield tattoo")
		end	
	end
elseif ms.class["Summoner"] then
	if ulb and arctar and paralysis then
		send("unleash arctar at me")
	else
		send("queue reset eqbal");send("queue eqbal top raisewings"..s.."touch shield tattoo")
	end
else
	send("queue reset eqbal");send("queue eqbal top raisewings"..s.."touch shield tattoo")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^shi(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Feed Pet</name>
						<script>send("feed "..ms.save["mount"].." pellet")</script>
						<command></command>
						<packageName></packageName>
						<regex>^fpp$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Enemy All on List</name>
						<script>send("enemy "..table.concat(ms.enemies, ""..s.."enemy "))</script>
						<command></command>
						<packageName></packageName>
						<regex>^ea$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Target Order Check</name>
						<script>sys("Target Order") cecho("&lt;ivory&gt;"..table.concat(ms.to, ", "))
if ms.to[1] then callout("Target Order", table.concat(ms.to, ", ")) end</script>
						<command></command>
						<packageName></packageName>
						<regex>^to$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Target Order Add</name>
						<script>toa = matches[2]:title()
if not table.contains(ms.to, toa) then
	table.insert(ms.to, toa)
	send("enemy "..matches[2])
	sys("Target Order") cecho("&lt;yellow&gt; Added "..toa.." | Order is now: &lt;ivory&gt;"..table.concat(ms.to, ", "))
else sys("Target Order") cecho("&lt;purple&gt;PERSON ALREADY ADDED")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^to (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Target Order Remove</name>
						<script>tor = matches[2]:title()
if table.contains(ms.to, tor) then
	for k,v in ipairs(ms.to) do
		if v == tor then
			table.remove(ms.to, k)
			sys("Target Order") cecho("&lt;red&gt;"..tor.." Removed | Order is now: &lt;ivory&gt;"..table.concat(ms.to, ", "))
		end
	end
else sys("Target Order") cecho("&lt;purple&gt;"..tor:upper().." NOT FOUND")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^rto (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Target Order Clear</name>
						<script>ms.to = {}
sys("Target Order") cecho("&lt;red&gt;CLEARED")</script>
						<command></command>
						<packageName></packageName>
						<regex>^cto$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Restore Limb</name>
						<script>if matches[2] == "rl" then limb = "right leg"
elseif matches[2] == "ll" then limb = "left leg"
elseif matches[2] == "ra" then limb = "right arm"
elseif matches[2] == "la" then limb = "left arm"
end
noheal()
send("restore "..limb)</script>
						<command></command>
						<packageName></packageName>
						<regex>^r(rl|ll|ra|la)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Afflictions on Last Target</name>
						<script>ms.affs = {}
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		table.insert(ms.affs, aff)
	end
end
sys("Afflictions") cecho("&lt;ivory&gt;Affs: "..table.size(ms.affs).." ("..table.concat(ms.affs, ", ")..")")
callout(target.." Afflictions: "..table.size(ms.affs), "("..table.concat(ms.affs, ", ")..")")</script>
						<command></command>
						<packageName></packageName>
						<regex>^affs$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Lay Tripwire</name>
						<script>send("queue eqbal lay tripwire "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^ltw (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Balance/Reduction Toggle</name>
						<script>if br then
	br = false
	sys("Damage Reduction Toxins") cecho("&lt;red&gt;OFF")
else
	br = true
	sys("Damage Reduction Toxins") cecho("&lt;green&gt;ON")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^brtx$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Diagnose Person</name>
						<script>
if ms.class["Assassin"] or ms.class["Renegade"] then
	send("queue eqbal top analyse "..(matches[3] or target).." afflictions unified")
else
	send("queue eqbal top diagnose "..(matches[3] or target).." unified")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^do(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="no" isFolder="no">
						<name>Mini Score</name>
						<script>send("ss", false)</script>
						<command></command>
						<packageName></packageName>
						<regex>^scs$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Behead</name>
						<script>noheal()
send("queue eqbal "..quickdraw("sword", ms.save["shield"])..""..s.."behead "..(matches[3] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^bh(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Reckless Toggle</name>
						<script>if rtog then
	rtog = false
	ro = false
	sys("Reckless") cecho("&lt;red&gt;OFF")
else
	rtog = true
	ro = true
	sys("Reckless") cecho("&lt;green&gt;ON")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(reck|ro)$</regex>
					</Alias>
					<Alias isActive="no" isFolder="no">
						<name>Move Guard</name>
						<script>send("queue eqbal order squad squad2 move "..matches[2]..""..s..""..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^(n|ne|e|se|s|sw|w|nw|in|out|u|d)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Group Combat toggle</name>
						<script>if not gmc then
	gmc = true
	sys("GMC") cecho("&lt;green&gt;ON")
else
	gmc = false
	sys("GMC") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^gmc$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Mount Pet</name>
						<script>send("queue eqbal dismount"..s.."mount "..ms.save["mount"])
</script>
						<command></command>
						<packageName></packageName>
						<regex>^mp$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Parry head</name>
						<script>if not ph then
	ph = true
	sys("Parry Head") cecho("&lt;green&gt;ON")
else
	ph = false
	sys("Parry Head") cecho("&lt;red&gt;OFF")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ph$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check Current Arena</name>
						<script>if gmcp.Room.Info.area:find("Spire") then arenaloc = "spire"
elseif gmcp.Room.Info.area:find("the Sands of Aetherius") or gmcp.Room.Info.area:find("the Redwood's Domain") or gmcp.Room.Info.area:find("the Frozen Reaches") or gmcp.Room.Info.area:find("Tranquil Mires") then arenaloc = "authlair"
elseif gmcp.Room.Info.area:find("Arena") or arenaloc == nil then arenaloc = "coliseum" end
send("es "..arenaloc)
</script>
						<command></command>
						<packageName></packageName>
						<regex>^ec$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Arena Location Set</name>
						<script>send("es "..matches[2])
arenaloc = matches[2]</script>
						<command></command>
						<packageName></packageName>
						<regex>^es (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Move Towne Guard</name>
						<script>send("order squad squad2 move "..matches[2]..""..s..""..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^mg (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Force Target</name>
						<script>if ms.class["Diabolist"] then send("wipe daegger"..s.."enemy "..matches[2]) end
target = matches[2]:title()
fecho("Target", matches[2], "Targeted")
if calltarget then 
targeter(matches[2])
end
target = target:title()
shardfall = false
if id then killTrigger(id) end
id = tempTrigger(target, [[selectString("]] .. target .. [[", 1) fg("red") deselect() resetFormat()]])
fat = tonumber(0)
wat = tonumber(0)
eat = tonumber(0)
aat = tonumber(0)
dsear = false
clt = true
expandAlias("0", false)
</script>
						<command></command>
						<packageName></packageName>
						<regex>^ftar (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Fly</name>
						<script>if ms.class["Assassin"] or ms.class["Renegade"] then
  send("queue eqbal top worm attach rashirmir::worm flight")
elseif ms.class["Summoner"] then
  expandAlias("flc")
else 
  send("queue eqbal top fly")
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^fly$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Track to Target</name>
						<script>send("queue eqbal fly")
send("queue eqbal track "..(matches[3] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^tt(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Sharpen Weapons</name>
						<script>ms.weapons = {
  ""..ms.save["longsword"].."",
  ""..ms.save["broadsword"].."",
  ""..ms.save["battleaxe"].."",
  ""..ms.save["sabre"].."",
  ""..ms.save["claymore"].."",
}

send("queue reset all")
for _,weapon in pairs(ms.weapons) do
  send("queue eqbal "..quickdraw(weapon)..""..s.."sharpen "..weapon.." with whetstone")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^saw$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Pvp Attack</name>
						<script>if mono and not healing then
	heal()
end
if ms.class["Diabolist"] then
	if matches[2] then 
		expandAlias("raf")
	else 
		expandAlias("dmg")
	end
elseif ms.class["Assassin"] or ms.class["Renegade"] then
	if matches[2] then
		expandAlias("daf")
	else
		expandAlias("gaf")
	end
elseif ms.class["Summoner"] then 
	if matches[2] then
		expandAlias("taff")
	else
		expandAlias("gaff")
	end
elseif ms.class["Hunter"] then
  if matches[2] then
		expandAlias("waff")
	else
		expandAlias("wag")
	end
elseif ms.class["Deathknight"] then
  if matches[2] then
		expandAlias("sl")
	else
		expandAlias("dmg")
	end
elseif ms.class["Bard"] then
  if ms.save["group"] then
  elseif ms.save["dmg"] or dmg then
    expandAlias("sd")
  elseif ms.save["solo"] or aff then
    expandAlias("sf")
  end
elseif ms.class["Priest"] then expandAlias("afflict")
elseif ms.class["Druid"] then expandAlias("afflict")
elseif ms.class["Defiler"] then expandAlias("raf")
elseif ms.class["Mage"] then expandAlias("wdmg")
elseif ms.class["Shaman"] then expandAlias("afflict")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^af(f)?$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Defenses</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>Buff Up</name>
							<script>if ms.class["Bard"] then send("Eat myrrh"..s.."telesense"..s.."skywatch"..s.."Nightsight"..s.."Thirdeye"..s.."order songbird follow me"..s.."songbird sing me"..s.."apply bandages"..s.."queue eqbal mindseye")
elseif ms.class["Mage"] or ms.class["Summoner"] or ms.class["Diabolist"] or ms.class["Deathknight"] then 
	if ms.class["Diabolist"] then send("summon ouroboros"..s.."wraith allow all") end
	send("Eat myrrh"..s.."telesense"..s.."skywatch"..s.."Nightsight"..s.."Thirdeye"..s.."mindseye"..s.."apply bandages"..s.."touch cloak tattoo")
end
buff = 1
bnum = tonumber(1)</script>
							<command></command>
							<packageName></packageName>
							<regex>^b1$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Check Defences</name>
							<script>ms.def = {}
if ms.class["Diabolist"] and not afr and not gat and not gaf and not drr then send("wraith enable all"..s.."wraith disable midnight"..s.."wraith disable glowing"..s.."summon ouroboros") end
enableTrigger("Apply defences")
enableTrigger("Current defences")
enableTrigger("Prompt Stop")
if target == "None" then send("autocuring toadstool 70", false);toadstool = true end
if #ms.allies &gt; 0 and gmcp.Char.Status.name == "Mathiaus" then send("touch chameleon "..ms.allies[math.random(#ms.allies)], false) end
send("queue reset all"..s.."def raw", false)</script>
							<command></command>
							<packageName></packageName>
							<regex>^(def|defs)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Armguards</name>
							<script>if ms.class["Diabolist"] then send("tap armguards"..s.."summon ouroboros"..s.."wraith enable all"..s.."wraith disable midnight"..s.."wraith disable glowing"..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s.."order loyals follow me"..s.."mount "..ms.save["mount"])
elseif ms.class["Summoner"] then send("tap armguards");bnum = tonumber(12);send(ms.summoner.buffs[11])
elseif ms.class["Deathknight"] then send("tap armguards"..s.."hound recall"..s.."order loyals follow me"..s.."hound bloodscent"..s.."mount "..ms.save["mount"])
elseif ms.class["Assassin"] or ms.class["Renegade"] then 
	send("tap armguards"..s.."demon return"..s.."shrug mercury"..s..""..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s.."order loyals follow me"..s.."worm create")
	if ms.class["Assassin"] then tempTimer(2, [[expandAlias("wsl")]])
  elseif ms.class["Renegade"] then tempTimer(2, [[expandAlias("wss"]])
  end
elseif ms.class["Hunter"] then
  send("tap armguards"..s.."queue eqbal weaver aura moon")
  tempTimer(15, [[send("queue eqbal bat summon")]])
else send("tap armguards")
end
tempTimer(1, [[expandAlias("def")]])</script>
							<command></command>
							<packageName></packageName>
							<regex>^tag$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Sheath weapons</name>
						<script>send("sheath "..ms.save["longsword"].."")</script>
						<command></command>
						<packageName></packageName>
						<regex>^shl$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Moradeim Travel</name>
						<script>noheal()
send("mf "..(matches[3] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^mf(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Shale</name>
						<script>noheal()
send("queue eqbal shard enshroud")</script>
						<command></command>
						<packageName></packageName>
						<regex>^sen$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Pet Return</name>
						<script>send("queue eqbal top order "..ms.save["mount"].." return")</script>
						<command></command>
						<packageName></packageName>
						<regex>^mr$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Touch hammer</name>
						<script>send("queue eqbal top touch hammer "..target)</script>
						<command></command>
						<packageName></packageName>
						<regex>^tht$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Absorb Damage</name>
						<script>send("queue eqbal top absorb damage") </script>
						<command></command>
						<packageName></packageName>
						<regex>^ad$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check Enemies</name>
						<script>ms.el = {}
send("unenemy all")
if ms.save["contract"] ~= "" then send("enemy "..ms.save["contract"]) end
send("champion list");send("monoliths");send("bounties")</script>
						<command></command>
						<packageName></packageName>
						<regex>^ce$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Auto Combat</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>autoKill Toggle</name>
							<script>if autoKill then
	autoKill = false
  tl = false
	disableTrigger("autoKill prompt")
	sys("&lt;red&gt;MS Combat System") cecho("&lt;red&gt;Deactivated")
else
	aktc = tonumber(0)
	autoKill = true
  tl = true
	enableTrigger("autoKill prompt")
	if matches[2] then 
    if target ~= "None" then 
      expandAlias("t none") 
    end 
  end
	sys("&lt;red&gt;Ms Combat System") cecho("&lt;green&gt;Activated")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ak(t)?$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Reflections</name>
						<script>noheal()
send("queue reset all"..s.."queue eqbal top perform ritual reflection")</script>
						<command></command>
						<packageName></packageName>
						<regex>^prr$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Focus Toggle</name>
						<script>if focus == nil then focus = true end
if focus then
	sys("&lt;cyan&gt;Focus") cecho("&lt;red&gt;OFF")
	send("autocuring focus off", false)
	focus = false
elseif not focus then
	sys("&lt;cyan&gt;Focus") cecho("&lt;green&gt;ON")
	send("autocuring focus on", false)
	focus = true
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^aft$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Frontflip</name>
						<script>send("queue eqbal top frontflip "..matches[2])
direction = matches[2]</script>
						<command></command>
						<packageName></packageName>
						<regex>^ff ?(\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Backflip</name>
						<script>send("queue eqbal top dismount"..s.."backflip "..matches[2])
direction = matches[2]</script>
						<command></command>
						<packageName></packageName>
						<regex>^bf ?(\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Movement</name>
						<script>direction = matches[2]
send(direction, false)
</script>
						<command></command>
						<packageName></packageName>
						<regex>^(n|ne|e|se|s|sw|w|nw|in|out|u|d)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Move Guards</name>
						<script>send("council guard squad leechwood standguard "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^gmt (\d+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Earring Switch</name>
						<script>if matches[2] == "tt" then
	send("remove 343139"..s.."remove 32034"..s.."wear 354721"..s.."wear 369470")
	send("queue eqbal touch topaz earring to activate")
	send("queue eqbal touch topaz earring to activate")
elseif matches[2] == "dd" then
	send("remove 354721"..s.."remove 369470"..s.."wear 343139"..s.."wear 32034")
	send("queue eqbal touch diaspore earring to activate")
	send("queue eqbal touch diaspore earring to activate")
elseif matches[2] == "do" then
	send("remove earring"..s.."remove earring"..s.."wear 343139"..s.."wear 126545")
	send("queue eqbal touch diaspore earring to activate")
	send("queue eqbal touch onyx earring to activate")
elseif matches[2] == "dh" then
	send("remove earring"..s.."remove earring"..s.."wear 343139"..s.."wear 282050")
	send("queue eqbal touch diaspore earring to activate")
	send("queue eqbal touch hematite earring to activate")
end
</script>
						<command></command>
						<packageName></packageName>
						<regex>^e(dd|tt|do|dh)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Joust Challenge</name>
						<script>send(quickdraw("lance", ms.save["shield"])..""..s.."dismount"..s.."mount "..mount..""..s.."get 1000 gold from pack"..s.."challenge "..matches[2].. " to joust")
nl = tonumber(0)</script>
						<command></command>
						<packageName></packageName>
						<regex>^jchal (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Flood Ring</name>
						<script>if matches[2] then
	send(f"queue eqbal top point {ms.save['floodring']} {matches[2]}")
else
	send(f"queue eqbal top point {ms.save['floodring']} at ground")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^fr(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Icewall/Flood</name>
						<script>if ms.class["Bard"] then
send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
for _,exit in pairs(ms.exits) do
	send("queue eqbal point desublimator "..exit)
end
send("queue eqbal "..quickdraw(ms.save["harp"], ms.save["shield"]))
end
if ms.class["Mage"] then
for _,exit in pairs(ms.exits) do
	send("cast icewall "..exit)
end
end
if ms.class["Diabolist"] then
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
	for _,exit in pairs(ms.exits) do
		send("queue eqbal point desublimator "..exit)
	end
	send("queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"]))
end
if ms.class["Assassin"] or ms.class["Renegade"] then
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
	for _,exit in pairs(ms.exits) do
		send("queue eqbal point desublimator "..exit)
	end
	send("queue eqbal "..quickdraw(ms.save["dirk"], ms.save["shield"]))
end
if ms.class["Summoner"] then
	send("queue eqbal "..quickdraw("desublimator", ms.save["shield"]))
	for _,exit in pairs(ms.exits) do
		send("queue eqbal point desublimator "..exit)
	end
end
send("queue eqbal point "..ms.save["floodring"].." at ground")</script>
						<command></command>
						<packageName></packageName>
						<regex>^iwf$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Behead on cyanide tick</name>
						<script>sys("Behead") cecho("&lt;green&gt;Set to Behead on Third Cyanide Tick!")
bhc = true</script>
						<command></command>
						<packageName></packageName>
						<regex>^bhc$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Hero Tattoo Starburst</name>
						<script>send("hero tattoo "..matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^ht (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Batter Ram toggle</name>
						<script>if batter then
	batter = false
	sys("Batter") cecho("&lt;red&gt;OFF")
else
	batter = true
	sys("Batter") cecho("&lt;green&gt;ON")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^brt$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Quiver</name>
						<script>send("put 500 arrow in quiver"..s.."inspect quiver")</script>
						<command></command>
						<packageName></packageName>
						<regex>^iq$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Limb Breaker</name>
						<script>if limbBreaker then
	limbBreaker = false
	sys("Limb Breaker") cecho("&lt;red&gt;Deactiviated")
else
	limbBreaker = true
	sys("Limb Breaker") cecho("&lt;green&gt;Activiated")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^lbt$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Resurrect</name>
						<script>if res then
	res = false
	sys("Resurrecting") cecho("&lt;red&gt;OFF")
else
	res = true
	sys("Resurrecting") cecho("&lt;green&gt;ON")
end
ccw()</script>
						<command></command>
						<packageName></packageName>
						<regex>^res$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Spider Tomb</name>
						<script>send("queue eqbal top read from tome390763")</script>
						<command></command>
						<packageName></packageName>
						<regex>^rw$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Land</name>
						<script></script>
						<command>queue eqbal top land</command>
						<packageName></packageName>
						<regex>^land$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Beard</name>
						<script>send("queue eqbal top yank "..(matches[2] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^yt(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Touch web</name>
						<script>send("queue eqbal top touch web "..(matches[3] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^twt(\s(\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Order Loyals Passive</name>
						<script></script>
						<command>queue eqbal top order loyals passive</command>
						<packageName></packageName>
						<regex>^op$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Debug Mode</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>Debug Toggle</name>
							<script>if not ms.save["debug"] then
  enableTrigger("Debug Mode")
  ms.save["debug"] = true
  sys("&lt;green&gt;Debug") cecho("&lt;snow&gt;On")
else
  disableTrigger("Debug Mode")
  ms.save["debug"] = false
  sys("&lt;red&gt;Debug") cecho("&lt;DimGray&gt;Off")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms (debug|db)$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Touch Tentacle</name>
						<script>send("queue eqbal top touch tentacle "..(matches[2] or target))</script>
						<command></command>
						<packageName></packageName>
						<regex>^tlt(?: (\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Rebounding on/off</name>
						<script>if matches[2] == "on" then
  send("ac rebounding on", false)
elseif matches[2] == "off" or matches[2] == "of" then
  send("ac rebounding off", false)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^rb(on|off|of)$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>Settings/Help</name>
					<script></script>
					<command></command>
					<packageName></packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>Ms Help Alias</name>
						<script>if matches[2] == nil or matches[2]:lower() == "help" then
  helpSetup()
elseif matches[2]:lower() == "misc" then
  helpMisc()
elseif matches[2]:lower() == "combat" then
  helpCombat()
elseif matches[2]:lower() == "toggles" then
  helpToggles()
elseif matches[2]:lower() == "allies" then
  helpAllies()
elseif matches[2]:lower() == "hunting" then
  helpHunting()
elseif matches[2]:lower() == "ui" then
  helpUI()
elseif matches[2]:lower() == "index" then
  helpCombat()
  helpToggles()
  helpProf(matches[2])
  helpAllies()
  helpHunting()
  helpSmithing()
  helpUI()
  helpMisc()
elseif table.contains(profs, matches[2]:title()) then
  helpProf(matches[2])
elseif matches[2]:lower() == "save" then
  sys("&lt;green&gt;MS") cecho("Saving Settings...")
  table.save(getMudletHomeDir().."/mssave.lua", ms.save)
    if #ms.allies &gt; 0 then 
     table.save(getMudletHomeDir().."/msallies.lua", ms.allies)
    end
  sys("&lt;green&gt;MS") cecho("&lt;green&gt;Successfully Saved!\n")
elseif matches[2]:lower() == "load" then
  sys("&lt;green&gt;MS") cecho("Loading Settings...")
  table.load(getMudletHomeDir().."/mssave.lua", ms.save)
  sys("&lt;green&gt;MS") cecho("&lt;green&gt;Loading Successful!\n")
elseif matches[2]:lower() == "smithing" then
  helpSmithing()
else
  sys("&lt;DimGray&gt;MS Command") cecho("&lt;DimGray&gt;"..matches[2])
end

if ms.save["firstTime"] then
  ms.save["firstTime"] = false
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ms(?: (\w+))?$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>MS Functions</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>DefMe</name>
							<script>if ms.save["defMe"] then
  ms.save["defMe"] = false
  sys("&lt;red&gt;DefMe") cecho("&lt;snow&gt;You will no longer automatically apply defenses")
else
  ms.save["defMe"] = true
  sys("&lt;green&gt;DefMe") cecho("&lt;snow&gt;You will automatically apply defenses")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms (?:defme|defMe)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Def Modify</name>
							<script>if matches[3] then
  for class, skills in pairs(ms.save["deflist"]) do
    if class == "general" or class == gmcp.Char.Status.prof:lower() then
      for skill, apply in pairs(skills) do
        if skill == matches[3] and apply["state"] then
          ms.save["deflist"][class][skill]["state"] = false
          sys("&lt;red&gt;"..skill) cecho("&lt;snow&gt;You will no longer apply the &lt;yellow&gt;"..skill.." &lt;snow&gt;defence")
          break
        elseif skill == matches[3] and not apply["state"] then
          ms.save["deflist"][class][skill]["state"] = true
          sys("&lt;green&gt;"..skill) cecho("&lt;snow&gt;You will now apply the &lt;yellow&gt;"..skill.." &lt;snow&gt;defence")
          break
        end
      end
    end
  end
else
  def_show = {}
  for class, skills in pairs(ms.save["deflist"]) do
    if class == "general" then
      for skill, apply in pairs(skills) do
        if apply["state"] then      
          table.insert(def_show, skill)
        end
      end
    elseif class == gmcp.Char.Status.prof:lower() then
      for skill, apply in pairs(skills) do
        if apply["state"] then
          table.insert(def_show, tostring(skill).." ("..gmcp.Char.Status.prof..")")
        end
      end
    end
  end
  table.sort(def_show)
  if ms.save["defMe"] then 
    sys("&lt;green&gt;MS Def") cecho("&lt;snow&gt;Applying current defences:\n\n")
  else
    sys("&lt;red&gt;MS Def") cecho("&lt;green&gt;ms defMe &lt;snow&gt;is deactivated. Please activate to use the following defences below:\n\n")
  end 
  for k,v in pairs(def_show) do
    print(v)
  end
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms def(\s(.+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Weapons</name>
							<script>sys("&lt;green&gt;MS") cecho("&lt;snow&gt;Setting up Weapons...")
registerAnonymousEventHandler("sysDataSendRequest", "msWeapons")
mwi = tonumber(1)
if mss ~= nil then
  mssHold = mss
  mss = nil
end
disableAlias("mss")
enableAlias("msw")
msWeapons()</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms weapons$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Setup</name>
							<script>sys("&lt;green&gt;MS") cecho("&lt;snow&gt;Initiating setup...")
registerAnonymousEventHandler("sysDataSendRequest", "msSetup")
mss = tonumber(0)
enableAlias("mss")
msSetup()</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms setup$</regex>
						</Alias>
						<Alias isActive="no" isFolder="no">
							<name>msw</name>
							<script>if matches[2]:lower() == "none" then
  sys("&lt;green&gt;MS Weapon") cecho("&lt;red&gt;ID# NOT Changed. Default ID Name will be used.\n")
else
  sys("&lt;green&gt;"..matches[2]) cecho("&lt;yellow&gt;ID# Set\n")
end
send(matches[2], false)
</script>
							<command></command>
							<packageName></packageName>
							<regex>^(\w+)$</regex>
						</Alias>
						<Alias isActive="no" isFolder="no">
							<name>mss</name>
							<script>sys("&lt;green&gt;MS Setup") cecho(f"&gt;&gt; {matches[2]}\n")
if matches[2] == "yes" or matches[2] == "no" then
  denyCurrentSend()
end
send(matches[2], false)
</script>
							<command></command>
							<packageName></packageName>
							<regex>^(\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set ID</name>
							<script>ms.save[matches[2]] = matches[3]
sys("&lt;green&gt;"..matches[2]) cecho("&lt;snow&gt;ID Set to: &lt;yellow&gt;"..matches[3])
nl()
</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms set (.+) (\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Reset Saves</name>
							<script>if not matches[3] then
  sys("&lt;green&gt;MS Save Settings") cecho("&lt;snow&gt;Are you sure you want to reset your settings to default values?")
  sys("&lt;green&gt;MS Save Settings") cecho("&lt;snow&gt;Type &lt;yellow&gt;ms save reset confirm\n")
else
  msSaveDefault()
  ms.save = ms.defaultSave
  sys("&lt;green&gt;MS Save Settings") cecho("&lt;red&gt;All settings set to default values.\n")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms save reset(\s(confirm))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Separator</name>
							<script>ms.save["separator"] = matches[2]
s = matches[2]
send("config separator "..s, false)
sys("&lt;green&gt;MS Separator") cecho("&lt;snow&gt;Separator set to: &lt;yellow&gt;"..s)</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms separator (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add/Remove Artifact list</name>
							<script>if matches[2] == "add" then
  table.insert(ms.save["artifacts"], matches[3])
  sys("&lt;gold&gt;MS Artifacts") cecho(f"&lt;green&gt;{matches[3]} &lt;snow&gt;added to artifact list")
elseif matches[2] == "remove" and table.contains(ms.save["artifacts"], matches[3]) then
  for key, arti in pairs(ms.save["artifacts"]) do
    if arti == matches[3] then
      table.remove(ms.save["artifacts"], key)
      sys("&lt;gold&gt;MS Artifacts") cecho(f"&lt;red&gt;{arti} &lt;snow&gt;removed from artifact list")
      break
    end
  end
elseif matches[2] == "remove" then
  sys("&lt;gold&gt;MS Artifacts") cecho("&lt;snow&gt;Artifact&lt;green&gt;# &lt;snow&gt;not found in list")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms artifact (add|remove) (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Show Artifact list</name>
							<script>sys("&lt;gold&gt;MS Artifacts")
nl()
for _, arti in pairs(ms.save["artifacts"]) do
  cecho(string.format("\n   &lt;snow&gt;|  &lt;cyan&gt;%6s  &lt;snow&gt;|", arti))
end
  cecho(string.format("\n   &lt;snow&gt;|Total: &lt;gold&gt;%3s&lt;snow&gt;|", #ms.save["artifacts"]))
nl()</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms artifacts$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Quickdraw Toggle</name>
							<script>if ms.save["quickdraw"] then
  ms.save["quickdraw"] = false
  sys("&lt;green&gt;MS Quickdraw") cecho("&lt;red&gt;Quickdraw &lt;snow&gt;not being used")
else
  ms.save["quickdraw"] = true
  sys("&lt;green&gt;MS Quickdraw") cecho("&lt;green&gt;Quickdraw &lt;snow&gt;being used")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms quickdraw$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set Mount</name>
							<script>if matches[3] then
  ms.save["mount"] = matches[3]
  sys("&lt;green&gt;MS Mount") cecho("&lt;snow&gt;Mount set to: &lt;yellow&gt;"..matches[3])
else
  sys("&lt;green&gt;MS Mount") cecho("&lt;snow&gt;Mount currently set to: &lt;yellow&gt;"..ms.save["mount"])
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms mount(\s(\w+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set Clan</name>
							<script>if matches[3] then
  ms.save["clan_abbr"] = matches[3]
  sys("&lt;green&gt;MS Clan") cecho("&lt;snow&gt;Clan set to: &lt;yellow&gt;"..matches[3])
else
  sys("&lt;green&gt;MS Clan") cecho("&lt;snow&gt;Clan currently set to: &lt;yellow&gt;"..ms.save["clan_abbr"])
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms clan(\s(\w+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Artifactlist</name>
							<script>enableTrigger("Arti Check")
sys("&lt;green&gt;Checking Artifacts...")
send("artifactlist", false)
</script>
							<command></command>
							<packageName></packageName>
							<regex>^artifactlist$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Reset Windows</name>
							<script>resetWindows()
setTextSize()
sys("&lt;green&gt;MS") cecho("&lt;snow&gt;Windows Reset")</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms rw$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Font Size</name>
							<script>msFontSize(matches[2])
</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms fs (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Font Size Window</name>
							<script>local window = ''
local wNum = {
  afflictions = "1",
  toggles = "12",
  healthmana = "4",
  map = "5",
  roominfo = "7",
  selfaffs = "9",
  skills = "10",
  prompt = "6",
  targetinfo = "11",
  roomitems = "8",
  charstats = "2",
  chat = "3",
}

for wName,numb in pairs(wNum) do
  if matches[2] == numb then
    window = tostring(wName)
    break
  end
end

if window ~= '' then
  msFontWindow(window, matches[3])
else
  msFontWindow(matches[2], matches[3])
end
</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms fs (\w+) (.*)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Windows to Fontsize</name>
							<script>local wfs = {
  afflictions = ms.save["windows"]["affOne"],
  toggles = ms.save["windows"]["toggles"],
  healthmana = ms.save["windows"]["hbar"],
  map = ms.save["windows"]["map"],
  roominfo = ms.save["windows"]["roomInfo"],
  selfaffs = ms.save["windows"]["scOne"],
  skills = ms.save["windows"]["scTwo"],
  prompt = ms.save["windows"]["scFour"],
  targetinfo = ms.save["windows"]["scThree"],
  roomitems = ms.save["windows"]["roomItems"],
  charstats = ms.save["windows"]["charStats"],
  chat = ms.save["windows"]["chat"],
}
sys("&lt;green&gt;MS Windows")
echo "\n"
for name,fs in pairsByKeys(wfs) do
  cecho(string.format("\n&lt;snow&gt;|  &lt;cyan&gt;%12s &lt;snow&gt;set to: &lt;yellow&gt;%d  &lt;snow&gt;|", name, fs))
end
echo"\n"
cecho(string.rep("-", 28))
cecho(string.format("\n&lt;snow&gt;|     &lt;snow&gt;Overall FontSize: &lt;yellow&gt;%d  &lt;snow&gt;|", ms.save["fontSize"]))</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms fs$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Solo/Dmg/Group</name>
							<script>sdg(matches[2])
statc()</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms (solo|dmg|group)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>List Class defs</name>
							<script>sys("&lt;yellow&gt;MS Deflist") cecho("&lt;green&gt;def &lt;yellow&gt; is set to autodef these skills:\n")
for defName, v in pairs(ms.save["deflist"]["general"]) do
  if v["state"] == true then 
    cecho("&lt;snow&gt;"..defName.."\n")
  else
    cecho("&lt;DimGray&gt;"..defName.."\n")
  end
end
for defName, v in pairs(ms.save["deflist"][gmcp.Char.Status.prof:lower()]) do
  if v["state"] == true then 
    cecho("&lt;snow&gt;"..defName.."\n")
  else
    cecho("&lt;DimGray&gt;"..defName.."\n")
  end
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms defs$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Ms Update</name>
							<script>    msSaveDefault()
    ms.update = ms.save
    sys("MS Update") cecho("Updating system settings...")
    ms.save = table.update(ms.defaultSave, ms.update)
    sys("MS Update") cecho("&lt;green&gt;System settings update successful!")</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms update$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>ms mindseye</name>
							<script>if ms.save["deflist"]["general"]["mindseye"]["queue"] == "touch mindseye" then
  ms.save["deflist"]["general"]["mindseye"]["queue"] = "mindseye"
  sys("&lt;green&gt;MS Mindseye Toggle") cecho("&lt;snow&gt;Changed to: &lt;yellow&gt;mindseye")
elseif ms.save["deflist"]["general"]["mindseye"]["queue"] == "mindseye" then
  ms.save["deflist"]["general"]["mindseye"]["queue"] = "touch mindseye"
  sys("&lt;green&gt;MS Mindseye Toggle") cecho("&lt;snow&gt;Changed to: &lt;yellow&gt;touch mindseye")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms mindseye$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Check Class Defs</name>
							<script>local f,e = loadstring("return ms.save['deflist']['"..matches[2].."']")
if not f then
	f,e = assert(loadstring(matches[2]))
end

local r = f()
if r ~= nil then display(r) end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms cd (\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Window Size</name>
							<script>if matches[2] == '1920' then
  ms.save["mwbb"] = 75
  ms.save["mwbl"] = p(ww, 25)
  ms.save["mww"] = p(ww, 6.3)
  ms.save["windows"] = {
    affOne = 0,
    affThree = 0,
    affTwo = 0,
    charStats = 1,
    chat = 3,
    hbar = 1,
    map = 0,
    mbar = 1,
    roomInfo = 1,
    roomItems = 1,
    scFour = 2,
    scOne = 1,
    scThree = 1,
    scTwo = 1,
    toggles = 1
  }
  msFontSize(7)
  expandAlias("fixchat")
  sys("&lt;snow&gt;MS Window") cecho("&lt;gold&gt;Set for &lt;snow&gt;1920 &lt;gold&gt;width resolution")
elseif matches[2] == '1600' then
  ms.save["mwbb"] = 75
  ms.save["mwbl"] = p(ww, 25)
  ms.save["mww"] = p(ww, 6.3)
  ms.save["windows"] = {
    affOne = 0,
    affThree = 0,
    affTwo = 0,
    charStats = 1,
    chat = 2,
    hbar = 1,
    map = 0,
    mbar = 1,
    roomInfo = 1,
    roomItems = 1,
    scFour = 2,
    scOne = 1,
    scThree = 1,
    scTwo = 1,
    toggles = 1
  }
  msFontSize(6)
  expandAlias("fixchat")
  sys("&lt;snow&gt;MS Window") cecho("&lt;gold&gt;Set for &lt;snow&gt;1600 &lt;gold&gt;width resolution")
else
  sys("&lt;snow&gt;MS Window") cecho("&lt;gold&gt;Please choose either &lt;snow&gt;1920 &lt;gold&gt;or &lt;snow&gt;1600&lt;gold&gt;, &lt;snow&gt;closest to your screen size.")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms window (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Window Show</name>
							<script>ui = true
updateUI()
wfs = {
  afflictions = ms.save["windows"]["affOne"],
  toggles = ms.save["windows"]["toggles"],
  healthmana = ms.save["windows"]["hbar"],
  map = ms.save["windows"]["map"],
  roominfo = ms.save["windows"]["roomInfo"],
  selfaffs = ms.save["windows"]["scOne"],
  skills = ms.save["windows"]["scTwo"],
  prompt = ms.save["windows"]["scFour"],
  targetinfo = ms.save["windows"]["scThree"],
  roomitems = ms.save["windows"]["roomItems"],
  charstats = ms.save["windows"]["charStats"],
  chat = ms.save["windows"]["chat"],
}
sys("&lt;green&gt;MS Windows")
echo "\n"
uwc = tonumber(1)
for name,fs in pairsByKeys(wfs) do
  lui(name)
  cecho(string.format("\n&lt;snow&gt;|&lt;yellow&gt;%2s  &lt;cyan&gt;%12s &lt;snow&gt;set to: &lt;red&gt;%d  &lt;snow&gt;|", uwc, name, fs))
  uwc = uwc + 1
end
  if ww &gt; 1680 then
    createLabel("hide_numbers", 450, 100, 1000, 50, 1)
    echo("hide_numbers", [[&lt;p style="font-size:25px"&gt;&lt;b&gt;&lt;center&gt;&lt;font color="yellow"&gt;When finished, type: ms ui hide&lt;/font&gt;&lt;/center&gt;&lt;/b&gt;&lt;/p&gt;]])
  else
    createLabel("hide_numbers", 425, 100, 650, 50, 1)
    echo("hide_numbers", [[&lt;p style="font-size:22px"&gt;&lt;b&gt;&lt;center&gt;&lt;font color="yellow"&gt;When finished, type: ms ui hide&lt;/font&gt;&lt;/center&gt;&lt;/b&gt;&lt;/p&gt;]])
  end
echo"\n"
cecho(string.rep("-", 30))
cecho(string.format("\n&lt;snow&gt;|       &lt;snow&gt;Overall FontSize: &lt;red&gt;%d  &lt;snow&gt;|", ms.save["fontSize"]))</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms ui show$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Window Label Delete</name>
							<script>dui()
deleteLabel("hide_numbers")
sys("&lt;green&gt;MS UI") cecho("&lt;snow&gt;Successfully removed labels")</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms ui hide$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set Main Window Size and Wrap</name>
							<script>if matches[2] == "left" then
  ms.save["mwbl"] = matches[3]
elseif matches[2] == "bottom" then
  ms.save["mwbb"] = matches[3]
elseif matches[2] == "wrap" then
  ms.save["mww"] = matches[3]
end
msBorders()
sys("&lt;green&gt;MS "..matches[2]:title()) cecho("&lt;snow&gt;Set to: &lt;yellow&gt;"..matches[3])</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms mw (left|bottom|wrap) (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Check Main windows specs</name>
							<script>sys("&lt;green&gt;MS Main Window") 
  cecho("\n&lt;snow&gt;Left Border set to: &lt;yellow&gt;"..tostring(ms.save["mwbl"]))
  cecho("\n&lt;snow&gt;Bottom Border set to: &lt;yellow&gt;"..tostring(ms.save["mwbb"]))
  cecho("\n&lt;snow&gt;Wrap Width set to: &lt;yellow&gt;"..tostring(ms.save["mww"]))</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms mw$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Toggle rubcard</name>
							<script>if matches[2] == "off" or (matches[2] == nil and ms.save['rubcard']) then
  ms.save['rubcard'] = false
  sys("&lt;red&gt;MS Hunting") cecho("&lt;snow&gt;You will cease rubbing cards when hunting")
elseif matches[2] == "on" or (matches[2] == nil and not ms.save['rubcard']) then
  ms.save['rubcard'] = true
  sys("&lt;green&gt;MS Hunting") cecho("&lt;snow&gt;You will now rub cards while hunting")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms rubcard(?: (on|off))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Ms people</name>
							<script>table.sort(ms.people)
sys("&lt;green&gt;Names of People in Room:") cecho("&lt;SteelBlue&gt;"..table.concat(ms.people, ", "))</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms people$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Check MS Version</name>
							<script>sys("&lt;DimGrey&gt;Checking MS Version...") cecho("&lt;snow&gt;Please wait...")
echo("\n\n")
tempTimer(2, [[checkMSVersion()]])</script>
							<command></command>
							<packageName></packageName>
							<regex>^ms cv$</regex>
						</Alias>
					</AliasGroup>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Math Mapper</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>Check wholist</name>
							<script>disableTrigger("Parse wholist")
enableTrigger("Parse wholist MS")
send("who "..(matches[2] or ""), false)
tempTimer(3, [[disableTrigger'Parse wholist MS']])</script>
							<command></command>
							<packageName></packageName>
							<regex>^who ?(\w+)?$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Install Updated MS</name>
						<script>install_confirm = install_confirm or false
if matches[2] and install_confirm then
  installMS()
elseif matches[2] and not install_confirm then
  sys("&lt;red&gt;Error") cecho("&lt;snow&gt;You have 30 seconds to type confirm once initiated.") 
  sys("&lt;red&gt;Error") cecho("&lt;snow&gt;Please retype &lt;yellow&gt;ms install new package &lt;snow&gt;to begin the resinstall process.")
else
  sys("&lt;green&gt;Mathiaus' System") cecho("&lt;snow&gt;Are you sure you want to update MS?")
  sys("&lt;green&gt;Mathiaus' System") cecho("&lt;snow&gt;Type &lt;yellow&gt;ms install new package confirm &lt;snow&gt;to proceed.\n")
  install_confirm = true
  tempTimer(30, [[install_confirm = false]])
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ms install new package(?: (confirm))?$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>Smithing</name>
					<script></script>
					<command></command>
					<packageName></packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>Smelt</name>
						<script>local ct = matches[2]
local ingot = matches[3]:lower()

if ct == 0 or ct &gt; 10 then
  sys("&lt;red&gt;Error") cecho("&lt;yellow&gt;You must select a number ranging from 1-10")
elseif ingot == "r" or ingot == "rahnse" then
  if ingot == "r" then ingot = "rahnse" end
  send("smelt for "..tostring(ct).." "..ingot)
elseif ingot == "s" or ingot == "stehl" then
  if ingot == "s" then ingot = "stehl" end
  send("smelt for "..tostring(ct).." "..ingot)
elseif ingot == "e" or ingot == "electrum" then
  if ingot == "e" then ingot = "electrum" end
  send("smelt for "..tostring(ct).." "..ingot)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ms smelt (\d+) (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Smith Item</name>
						<script>local smith_item = matches[2]:lower()

if not table.contains(ms.smithing.ingots, smith_item) then

  sys("&lt;red&gt;Error") cecho("&lt;snow&gt;Unable to forge &lt;yellow&gt;"..smith_item)
  
else

  if forge == false then
    send("put coal in forge"..s.."fire forge", false)
  end
  
  local ingot_amount = ms.smithing.ingots[smith_item]
  
  if matches[3] then
    if matches[3]:find("heavy") then 
      ingot_amount = ingot_amount + 2
    end
  end
  
  if ms.save["crystehl"] and table.contains(ms.smithing.weapons, smith_item) then 
    ingot_amount = ingot_amount - 1
    send("queue eqbal add "..tostring(ingot_amount).." "..ms.save["ingot_type"].." to forge")
    send("queue eqbal add 1 crystehl to forge")
    send("queue eqbal smith for "..smith_item.." "..tostring(ingot_amount).." "..ms.save["ingot_type"].." 1 crystehl")
    send("queue eqbal smith "..(matches[3] or ''))
  else
    send("queue eqbal add "..tostring(ingot_amount).." "..ms.save["ingot_type"].." to forge")
    send("queue eqbal smith for "..smith_item.." "..tostring(ingot_amount).." "..ms.save["ingot_type"])
    send("queue eqbal smith "..(matches[3] or ''))
  end
  
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ms smith (\w+)(?: (.+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Clear off forge</name>
						<script>send("queue eqbal clear off forge")</script>
						<command></command>
						<packageName></packageName>
						<regex>^cof$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Toggle Crystehl</name>
						<script>if ms.save["crystehl"] or matches[2] == "off" then
  ms.save["crystehl"] = false
  sys("&lt;red&gt;MS Crystehl") cecho("&lt;snow&gt;You will no longer use crystehl while forging weapons")
elseif matches[2] == "on" or not ms.save["crystehl"] then
  ms.save["crystehl"] = true
  sys("&lt;green&gt;MS Crystehl") cecho("&lt;snow&gt;You will use crystehl while forging weapons")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^ms crystehl(?: (on|off))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Set ingot</name>
						<script>ms.save["ingot_type"] = matches[2]:lower()
sys("&lt;green&gt;MS Ingot") cecho("&lt;snow&gt;Set ingot-type to: &lt;yellow&gt;"..ms.save["ingot_type"])</script>
						<command></command>
						<packageName></packageName>
						<regex>^ms ingot (\w+)$</regex>
					</Alias>
				</AliasGroup>
			</AliasGroup>
			<AliasGroup isActive="yes" isFolder="yes">
				<name>additional packages</name>
				<script></script>
				<command></command>
				<packageName>additional packages</packageName>
				<regex></regex>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>echo-MS</name>
					<script>if exists("echo", "alias")==1 then
  disableAlias("echo-MS")
end</script>
					<command></command>
					<packageName>echo</packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>`echo</name>
						<script>local s = matches[2]

s = string.gsub(s, "%$", "\n")
feedTriggers("\n" .. s .. "\n")
echo("\n")</script>
						<command></command>
						<packageName></packageName>
						<regex>`echo (.+)</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>`cecho</name>
						<script>local s = matches[2]

s = string.gsub(s, "%$", "\n")
cfeedTriggers("\n" .. s .. "\n")
echo("\n")</script>
						<command></command>
						<packageName></packageName>
						<regex>`cecho (.+)</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>`decho</name>
						<script>local s = matches[2]

s = string.gsub(s, "%$", "\n")
dfeedTriggers("\n" .. s .. "\n")
echo("\n")</script>
						<command></command>
						<packageName></packageName>
						<regex>`decho (.+)</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>`hecho</name>
						<script>local s = matches[2]

s = string.gsub(s, "%$", "\n")
hfeedTriggers("\n" .. s .. "\n")
echo("\n")</script>
						<command></command>
						<packageName></packageName>
						<regex>`hecho (.+)</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>run-lua-code-v4-MS</name>
					<script>if exists("run-lua-code-v4", "alias")==1 then
  disableAlias("run-lua-code-v4-MS")
end</script>
					<command></command>
					<packageName>run-lua-code-v4</packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>run lua code</name>
						<script>local f, e = loadstring("return "..matches[2])
if not f then
  f, e = assert(loadstring(matches[2]))
end

local r =
  function(...)
    if not table.is_empty({...}) then
      display(...)
    end
  end
r(f())</script>
						<command></command>
						<packageName></packageName>
						<regex>^lua (.*)$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>enable-accessibility-MS</name>
					<script>if exists("enable-accessibility", "alias")==1 then
  disableAlias("enable-accessibility-MS")
end</script>
					<command></command>
					<packageName>enable-accessibility</packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>mudlet accessibility on</name>
						<script>echo("Welcome to Mudlet!\n")
echo("Let's adjust a few preferences to improve the visually impaired experience:\n")

setConfig("autoClearInputLine", true)
echo("Text will now be removed from the input line after it was sent ✓\n")
setConfig("showSentText", false)
echo("Text sent to the game will not appear in the main window ✓\n")

setConfig("caretShortcut", "ctrltab")
echo("Shortcut to switch between input line and main window set to Ctrl+Tab. You can also change it to either Tab or F6 in settings.\n")

if getOS() == "windows" then
  setConfig("blankLinesBehaviour", "hide")
  echo("Blank lines will be removed from the output ✓\n")
end

if getOS() == "mac" then
  echo("\nYou're on a mac and VoiceOver will skip reading text when there's lots of it coming in. Would you like to install a third-party TTS plugin to alleviate this issue?\n")
  echo("Type 'mudlet access reader' if so.\n")
  echo("See https://wiki.mudlet.org/w/Accessibility_on_OSX if you'd like to learn more.\n")
end

echo("\nThat's all, enjoy Mudlet!\n")</script>
						<command></command>
						<packageName></packageName>
						<regex>^mudlet access(?:ibility)? on$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>mudlet accessibility reader</name>
						<script>uninstallPackage"reader"
installPackage"https://github.com/tspivey/mudlet-reader/releases/latest/download/reader.mpackage"</script>
						<command></command>
						<packageName></packageName>
						<regex>^mudlet access(?:ibility)? reader$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>delete-Old-Profiles-MS</name>
					<script>if exists("deleteOldProfiles", "alias")==1 then
  disableAlias("delete-Old-Profiles-MS")
end</script>
					<command></command>
					<packageName>deleteOldProfiles</packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>delete old profiles-MS</name>
						<script>deleteOldProfiles(matches[3], matches[2])

--Syntax examples: "delete old profiles"  -&gt; deletes profiles older than 31 days
--					"delete old maps 10"	-&gt; deletes maps older than 10 days</script>
						<command></command>
						<packageName></packageName>
						<regex>^delete old (profiles|maps|modules)(?: (\d+))?$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>mudlet-mapper-MS</name>
					<script>mudlet = mudlet or {}; mudlet.mapper_script = true
if exists("mudlet-mapper", "alias")==1 then
  disableAlias("mudlet-mapper-MS")
end</script>
					<command></command>
					<packageName></packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>Go to ID or area</name>
						<script>local where = matches[2]:lower()
local gallop
if command:ends("gallop") then
  gallop = "gallop"
  where = where:sub(1, -8)
elseif command:ends("sprint") then
  gallop = "sprint"
  where = where:sub(1, -8)
elseif command:ends("dash") then
  gallop = "dash"
  where = where:sub(1, -6)
elseif command:ends("runaway") then
  gallop = "runaway"
  where = where:sub(1, -9)
elseif command:ends("glide") then
  gallop = "glide"
  where = where:sub(1, -7)
end
if mmp.debug then
  mmp.gotoPerf = mmp.gotoPerf or createStopWatch()
  startStopWatch(mmp.gotoPerf)
end
-- goto room ID
if tonumber(where) then
  mmp.gotoRoom(where, gallop)
else
  -- goto area or feature
  local split = where:split(" ")
  if split[1] == "feature" then
	  table.remove(split, 1)
    mmp.gotoFeature(table.concat(split, " "), gallop)
  else
    if tonumber(split[#split]) then
      mmp.gotoArea(where:sub(1, -#(split[#split]) - 2), tonumber(split[#split]), gallop)
    else
      mmp.gotoArea(where, nil, gallop)
    end
  end
end
if mmp.debug then
  mmp.echo("goto alias took " .. stopStopWatch(mmp.gotoPerf) .. "s to run.")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^goto (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>View roomID or area</name>
						<script>local where = matches[2]

if not where then
	centerview(mmp.currentroom)
elseif tonumber(where) then -- view a room ID
	centerview(where)
else -- view an area
	mmp.viewArea (where)
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^mmap ?(.+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Toggle pause</name>
						<script>mmp.pause(matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^mpp(?:\s?(on|off))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Stop walking</name>
						<script>mmp.stop()</script>
						<command></command>
						<packageName></packageName>
						<regex>^mstop$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Option</name>
						<script>if not matches[2] then
	mmp.settings:showAllOptions(mmp.game)
	return
end

local val = matches[4]
if val == "true" or val == "yes" or val == "on" then val = true end
if val == "false" or val == "no" or val == "off" then val = false end
local numberVal = tonumber(val)
val = numberVal and numberVal or val
mmp.settings:setOption(matches[3], val)</script>
						<command></command>
						<packageName></packageName>
						<regex>^mconfig( (\w+) (.*))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Display area for lock/unlock</name>
						<script>mmp.doLockArea(matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^arealock(?: (.*))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Add a room label</name>
						<script>mmp.roomLabel(matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^room label (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>View/delete area labels</name>
						<script>mmp.areaLabels(matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^area labels ?(.+)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Room find</name>
						<script>mmp.roomFind(matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^(?:rf|room find) (.+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Room look</name>
						<script>mmp.roomLook(matches[2])</script>
						<command></command>
						<packageName></packageName>
						<regex>^(?:rl|room look)(?: (.+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Room list</name>
						<script>mmp.echoRoomList(matches[2] or mmp.areatabler[getRoomArea(mmp.currentroom)])</script>
						<command></command>
						<packageName></packageName>
						<regex>^room list(?: (.+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Area list</name>
						<script>mmp.echoAreaList()</script>
						<command></command>
						<packageName></packageName>
						<regex>^area list$</regex>
					</Alias>
					<AliasGroup isActive="no" isFolder="yes">
						<name>mm Mapping</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<Alias isActive="yes" isFolder="no">
							<name>Manually set the room coordinates</name>
							<script>-- want the current room, but we're lost
if matches[2] == '' and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo("Don't know where we are at the moment.") return end

-- want another room, but it doesn't actually exist
if matches[2] ~= '' and not mmp.roomexists(matches[2]) then mmp.echo("v"..matches[2].." doesn't exist.") return end

local m = matches[3]
local rid, rname = (matches[2] ~= "" and matches[2] or mmp.currentroom),
  (matches[2] ~= "" and getRoomName(matches[2]) or mmp.currentroomname)
local x,y,z

local function set() -- small func to set things
  setRoomCoordinates(rid, x, y, z)
  mmp.echo(string.format("%s (%d) is now at %dx, %dy, %dz.\n", rname, rid, x,y,z))
  centerview(rid)
end

-- let's be flexible and allow several ways if giving an arg
-- rc x y z
x,y,z = string.match(m, "(%-?%d+) (%-?%d+) (%-?%d+)")
if x then
  set(); return
end

-- rc xx? yy? zz?
x,y,z = string.match(m, "(%-?%d+)x"), string.match(m, "(%-?%d+)y"), string.match(m, "(%-?%d+)z")
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox; y = y or oy; z = z or oz
  set(); return
end

-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, "%a+") do
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

end
if x then set(); return end

mmp.echo([[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]])</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:rc|room coords) (?:v(\d+) )?(.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add a special exit</name>
							<script>-- spe clear and spe list match on this
if matches[2] == "clear" or matches[2] == "list" then return end

-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo("Don't know where we are at the moment.") return end

local otherroom = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])

-- need the another room, but it doesn't actually exist
if not otherroom or not mmp.roomexists(otherroom) then mmp.echo(matches[2].." doesn't exist.") return end

addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
addSpecialExit(mmp.currentroom, tonumber(otherroom), matches[3])
mmp.echo(string.format("Added special exit with command '%s' to %s (%d).", matches[3], getRoomName(otherroom), otherroom))
centerview(mmp.currentroom)</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:spe|exit special) (\w+) (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add a special exit from one remote room to another</name>
							<script>local room1, room2 = tonumber(matches[2]), tonumber(matches[3])

if not room1 or not mmp.roomexists(room1) then
  mmp.echo("Room #"..matches[2].." doesn't exist - create it first, or make sure you got the room ID right?")
  return
end

if not room2 or not mmp.roomexists(room2) then
  mmp.echo("Room #"..matches[3].." doesn't exist - create it first, or make sure you got the room ID right?")
  return
end

addSpecialExit(room1, room2, matches[4])
mmp.echo(string.format("Added special exit with command '%s' to from %s (%d) to %s (%d).", matches[4], getRoomName(room1), room1, getRoomName(room2), room2))</script>
							<command></command>
							<packageName></packageName>
							<regex>^spev (\d+) (\d+) (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>List special exits</name>
							<script>mmp.listSpecialExits(matches[2])</script>
							<command></command>
							<packageName></packageName>
							<regex>^spe list(?: (.+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Clear all special exits</name>
							<script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo("Don't know where we are at the moment.") return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo("v"..matches[2].." doesn't exist.") return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo("There is no room "..matches[2].. " of us.") return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

clearSpecialExits(rid)
mmp.echo(string.format("Cleared all special exits in %s (%d).\n", getRoomName(rid), rid))</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:spe clear|exit special clear) ?(\w+)?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Create a room</name>
							<script>local m = matches[2]
if m:starts("feature") then
  -- another alias was meant.
  return
end
local rid, rname
if mmp.roomexists(mmp.currentroom) then
  rid, rname = mmp.currentroom, mmp.currentroomname
end
local x, y, z

local function set(newid)
  -- small func to set things
  local rid = newid or createRoomID()
  addRoom(rid)
  setRoomCoordinates(rid, x, y, z)
  if mmp.roomexists(mmp.currentroom) then
    setRoomArea(rid, getRoomArea(mmp.currentroom))
  end
  if mmp.roomexists(mmp.currentroom) then
    setRoomEnv(rid, getRoomEnv(mmp.currentroom))
  end
  mmp.setExit(mmp.currentroom, rid, m)
  mmp.echo(string.format("Created new room (%d) at %dx, %dy, %dz.\n", rid, x, y, z))
  centerview(mmp.roomexists(mmp.currentroom) and mmp.currentroom or rid)
  if not mmp.roomexists(mmp.currentroom) then
    mmp.currentroom = rid;
    mmp.currentroomname = ""
  end
end

-- let's be flexible and allow several ways if giving an arg
-- rc v# x y z
newid, x, y, z = string.match(m, "v(%d+) (%-?%d+) (%-?%d+) (%-?%d+)")
if x then
  set(newid);
  return
end
-- rc x y z
x, y, z = string.match(m, "(%-?%d+) (%-?%d+) (%-?%d+)")
if x then
  set();
  return
end
if not rid then
  mmp.echo("Don't know where we are at the moment in order to use relative coordinates.")
  return
end
-- rc xx? yy? zz?
x, y, z = string.match(m, "(%-?%d+)x"), string.match(m, "(%-?%d+)y"), string.match(m, "(%-?%d+)z")
if x or y or z then
  -- merge w/ old coords if any are missing
  local ox, oy, oz = getRoomCoordinates(rid)
  x = x or ox;
  y = y or oy;
  z = z or oz
  set();
  return
end
-- rc left/west, right/east, ...
local ox, oy, oz = getRoomCoordinates(rid)
local has = table.contains
for w in string.gmatch(m, "%a+") do
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1;
    y = (y or oy);
    z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1;
    y = (y or oy);
    z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox);
    y = (y or oy) + 1;
    z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox);
    y = (y or oy) - 1;
    z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1;
    y = (y or oy) + 1;
    z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1;
    y = (y or oy) + 1;
    z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1;
    y = (y or oy) - 1;
    z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1;
    y = (y or oy) - 1;
    z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox);
    y = (y or oy);
    z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox);
    y = (y or oy);
    z = (z or oz) - 1
  end
end
if x then
  set();
  return
end
mmp.echo(
  [[Where do you want to move the room to?
  You can use direct coordinates or relative directions.]]
)</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:rlc|room create) (.+)?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Create a link between two rooms</name>
							<script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo("Don't know where we are at the moment.") return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[3])
if not dir then mmp.echo(matches[3].." isn't a valid normal exit.") return end

-- if we don't give a room number, then we want to auto-locate an appropriate room nearby.
local otherroom
if matches[2] == "" then
  local w = matches[3]
  local ox, oy, oz, x,y,z = getRoomCoordinates(mmp.currentroom)
  local has = table.contains
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1; y = (y or oy); z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1; y = (y or oy); z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox); y = (y or oy) + 1; z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox); y = (y or oy) - 1; z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1; y = (y or oy) + 1; z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1; y = (y or oy) - 1; z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox); y = (y or oy); z = (z or oz) - 1
  end

  local carea = getRoomArea(mmp.currentroom)
  if not carea then mmp.echo("Don't know what area are we in.") return end

  otherroom = select(2, next(getRoomsByPosition(carea,x,y,z)))

  if not otherroom then
    mmp.echo("There isn't a room to the "..w.." that I see - try with an exact room id.") return
  end

else
  if not mmp.roomexists(matches[2]) then -- check that an explicit other room ID is valid
    mmp.echo("A room with id "..matches[2].. " doesn't exist.") return
  else
    otherroom = tonumber(matches[2])
  end
end

if mmp.setExit(mmp.currentroom, otherroom, matches[3]) then
  if not matches[4] then mmp.setExit(otherroom, mmp.currentroom, mmp.ranytolong(matches[3])) end

  mmp.echo(string.format("Linked %s (%d) to %s (%d) via a %s%s exit.",
    (getRoomName(mmp.currentroom) ~= "" and getRoomName(mmp.currentroom) or "''"), mmp.currentroom, (getRoomName(otherroom) ~= "" and getRoomName(otherroom) or "''"), otherroom, (matches[4] and "one-way " or ''), matches[3]))
else
  mmp.echo("Couldn't create an exit.")
end
centerview(mmp.currentroom)</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:rlk|room link) ?(\d+)? (\w+)( one)?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete a room</name>
							<script>-- want the current room, but we're lost
if not matches[2] and (not mmp.currentroom or not mmp.roomexists(mmp.currentroom)) then mmp.echo("Don't know where we are at the moment.") return end

-- want another room, but it doesn't exist
if matches[2] and tonumber(matches[2]) and not mmp.roomexists(matches[2]) then mmp.echo("v"..matches[2].." doesn't exist.") return end

-- or a relative one
if matches[2] and not tonumber(matches[2]) and not mmp.relativeroom(mmp.currentroom, matches[2]) then mmp.echo("There is no room "..matches[2].. " of us.") return end

local rid = (not matches[2] and mmp.currentroom or (tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])))

local n = getRoomName(rid)
deleteRoom(rid)
mmp.echo(string.format("Deleted the %s (%d) room.\n", (n ~= "" and n or "''"), rid))
centerview(mmp.currentroom)</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:rld|room delete) ?(\w+)?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete a link</name>
							<script>-- need the current room, but we're lost
if not mmp.currentroom or not mmp.roomexists(mmp.currentroom) then mmp.echo("Don't know where we are at the moment.") return end

-- make sure the dir is valid
local dir = mmp.anytolong(matches[2])
if not dir then mmp.echo(matches[2].." isn't a valid normal exit.") return end

-- gone already?
if not getRoomExits(mmp.currentroom)[dir] then mmp.echo(dir.." link doesn't exist already.") end

-- locate the room on the other end, so we can unlink it from there as well if necessary
local otherroom
if getRoomExits(getRoomExits(mmp.currentroom)[dir])[mmp.ranytolong(dir)] then
  otherroom = getRoomExits(mmp.currentroom)[dir]
end

if mmp.setExit(mmp.currentroom, -1, dir) then
  if otherroom then
    if mmp.setExit(otherroom, -1, mmp.ranytolong(dir)) then
      mmp.echo(string.format("Deleted the %s exit from %s (%d).",
        dir, getRoomName(mmp.currentroom), mmp.currentroom))
     else mmp.echo("Couldn't delete the incoming exit.") end
  else
    mmp.echo(string.format("Deleted the one-way %s exit from %s (%d).",
      dir, getRoomName(mmp.currentroom), mmp.currentroom))
  end
else
  mmp.echo("Couldn't delete the outgoing exit.")
end
centerview(mmp.currentroom)</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:urlk|room unlink) (\w+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Move room to another area</name>
							<script>mmp.roomArea(matches[2], matches[3])</script>
							<command></command>
							<packageName></packageName>
							<regex>^room area (?:v(\d+) )?(.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set a room character</name>
							<script>local room = matches[3] or mmp.currentroom
room = tonumber(room) or mmp.relativeroom(mmp.currentroom, room)
if not room or not mmp.roomexists(room) then
  mmp.echo("Sorry - which room do you want to put this character in? I don't know where you are at the moment, if you want to do the current room.")
  return
end

local char = matches[2]

if char == "clear" then
  setRoomChar(room, ' ')
  mmp.echo("Cleared the character from "..room.." ("..getRoomName(room)..")")
else
  setRoomChar(room, char)
  mmp.echo("Set the "..char:sub(1,1).." character on "..room.." ("..getRoomName(room)..")")
end
centerview(mmp.currentroom)</script>
							<command></command>
							<packageName></packageName>
							<regex>^rcc ([^ ]+)(?: (\w+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set room weight</name>
							<script>local weight = tonumber(matches[3]), room
if matches[2] == '' then room = mmp.currentroom
else
  room = tonumber(matches[2]) or mmp.relativeroom(mmp.currentroom, matches[2])
end

if not room or not mmp.roomexists(room) then
  mmp.echo("Sorry - which room do you want to set the weight on? I don't know where you are at the moment, if you want to do the current room.")
  return
end

if not weight then
  mmp.echo("What weight do you want to set on #"..room.."?")
end

local oldweight = getRoomWeight(room)
setRoomWeight(room, weight)

if weight &gt; oldweight then
  mmp.echo("Increased the room weight on #"..room.." ("..getRoomName(room)..") by "..(weight-oldweight).." to "..weight.." - making it less desirable to travel through.")
elseif weight &lt; oldweight then
  mmp.echo("Decreased the room weight on #"..room.." ("..getRoomName(room)..") by "..(oldweight-weight).." to "..weight.." - making it more desirable to travel through.")
else
  mmp.echo("The room weight on #"..room.." ("..getRoomName(room)..") is already "..weight..".")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^rw(?: (\w+))? (\d+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Set exit weight</name>
							<script>local room = (matches[2] ~= "" and tonumber(matches[2]) or mmp.currentroom)

local weight, exit = tonumber(matches[3]), matches[4]

if not roomExists(room) then mmp.echo("Room "..room.." doesn't exist. It has to before we can set weights on exits.") return end

setExitWeight(room, exit, weight)

mmp.echo(string.format("Set the weight on the %d room going %s to %s. If it's a two-way exit, please set the reverse exit as well.", room, exit, weight))</script>
							<command></command>
							<packageName></packageName>
							<regex>^rwe(?: (\d+))? (\d+) (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add/delete doors</name>
							<script>local room = (matches[2] ~= "" and tonumber(matches[2]) or mmp.currentroom)

local direction, status = matches[3], matches[4]

if not roomExists(room) then mmp.echo("Room "..room.." doesn't exist. It has to before we can make doors in it.") return end

local validdirs = {'e', 's', 'w', 'n', 'ne', 'se', 'sw', 'nw', 'in', 'out', 'up', 'down'}

if not table.contains(validdirs, direction) then
  mmp.echo("Can't make a door in the '"..direction.."' direction - available choices are:\n  "..table.concat(validdirs, ', '))
  return
end

local statusnum

if status == "" or status == "open" or status == "o" then
  statusnum = 1
elseif status == "closed" or status ==  "c" then
  statusnum = 2
elseif status == "locked" or status ==  "l" then
  statusnum = 3
elseif status == "clear" or status == "gone" then
  statusnum = 0
end

if not statusnum then mmp.echo("Unrecognized option - a door can be open, closed, locked or gone.") return end

setDoor(room, direction, statusnum)

if statusnum == 0 then
  mmp.echo("OK, door removed.")
else
  mmp.echo("OK, door added/adjusted.")
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^rd(?: (\d+))? (\w+)(?: (\w+))?$</regex>
						</Alias>
						<Alias isActive="no" isFolder="no">
							<name>-- (area functions)</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Create an area</name>
							<script>local t = getAreaTable(); local tr = {}; for k,v in pairs(t) do tr[v] = k end
local newid = table.maxn(tr) + 1

setAreaName( newid, matches[2] )
mmp.echo(string.format("Created new area %s (%d)", matches[2], newid))
centerview(mmp.currentroom)
raiseEvent("mmp areas changed")</script>
							<command></command>
							<packageName></packageName>
							<regex>^area add (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete an area</name>
							<script>mmp.deleteArea(matches[2])</script>
							<command></command>
							<packageName></packageName>
							<regex>^area delete (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Cancel area deletion</name>
							<script>if not mmp.deletingarea then mmp.echo("I wasn't deleting any areas already.") return end

local areaname = mmp.deletingarea.areaname
mmp.deletingarea = nil

mmp.echo("Stopped deleting rooms in the '"..areaname.."'. The area is partially missing its rooms now, you'll want to restart the process to finish it.")</script>
							<command></command>
							<packageName></packageName>
							<regex>^cancel area deletion$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Rename an area</name>
							<script>mmp.renameArea(matches[2])</script>
							<command></command>
							<packageName></packageName>
							<regex>^area rename (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>List continents</name>
							<script>local continents = mmp.getcontinents()

if not next(continents) then mmp.echo("No continents known.")
else
  for continent, areadata in pairs(continents) do
    mmp.echo(continent.." continent:")

    for _, areaid in ipairs(areadata) do
      cecho("  "..getRoomAreaName(areaid).."\n")
    end
  end
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:acl|area continents)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add area to continent</name>
							<script>-- aca continent [optional area]

local continent = matches[2]:title()
local area
if not matches[3] then area = getRoomArea(mmp.currentroom)
elseif tonumber(matches[3]) then
  area = tonumber(matches[3])
  if getRoomAreaName(area) == -1 then area = nil end
else
  local areas = getAreaTable()

  for karea, id in pairs(areas) do if karea:lower():find(matches[3]:lower(), 1, true) then area = id break end end
end

if not area then mmp.echo(matches[3].." isn't a known area. Which one do you want to set?") return end

local res, error = mmp.addcontinent(area, continent)
if res then
  mmp.echo("Recorded that "..getRoomAreaName(area).." is on the "..continent.." continent.")
else
  mmp.echo(error)
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^aca ([\w']+)(?: (.+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>remove area from continent</name>
							<script>-- acr continent [optional area]

local continent = matches[2]:title()
local area
if not matches[3] then area = getRoomArea(mmp.currentroom)
elseif tonumber(matches[3]) then
  area = tonumber(matches[3])
  if getRoomAreaName(area) == -1 then area = nil end
else
  local areas = getAreaTable()

  for karea, id in pairs(areas) do if karea:lower():find(matches[3]:lower(), 1, true) then area = id break end end
end

if not area then mmp.echo(matches[3].." isn't a known area. Which one do you want to set?") return end

local res, error = mmp.removecontinent(area, continent)
if res then
  mmp.echo("Recorded that "..getRoomAreaName(area).." is not on the "..continent.." continent.")
else
  mmp.echo(error)
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^acr ([\w']+)(?: (.+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add/remove a ferry room</name>
							<script>local room = tonumber(matches[2])

if matches[3] == "add" then
  if mmp.ferry_rooms[room] then
    mmp.echo("Ferry room #"..room.." is already recorded as such.") return
  else
    mmp.ferry_rooms[room] = true; mmp.echo("Added #"..room.." to be a ferry room.")
  end
else
  if not mmp.ferry_rooms[room] then
    mmp.echo("Room #"..room.." isn't a ferry one already.") return
  else
    mmp.ferry_rooms[room] = nil; mmp.echo("Removed #"..room.." from being a ferry room.")
  end
end

local keys = {}; for k,_ in pairs(mmp.ferry_rooms) do keys[#keys+1] = k end

setRoomUserData(1, "ferry rooms", yajl.to_string(keys))</script>
							<command></command>
							<packageName></packageName>
							<regex>^fr (\d+) (add|remove)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Show ferry rooms</name>
							<script>mmp.echo("Ferry rooms available:")
if not next(mmp.ferry_rooms) then  mmp.echo("(none)") return end

for k, _ in pairs(mmp.ferry_rooms) do
  mmp.echo(string.format("  (%d) - %s\n", k, getRoomName(k)))
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^fr show$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Weight ferry exits</name>
							<script>local ferryCommands = {
  ["buy passage to"] = {"achaea"},
  ["takeoff to"] = {"starmourn"},
  ["station transfer to"] = {"starmourn"}
}
local c = 0
local weight = 200
for area in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local exits = getSpecialExits(rooms[i] or 0)
    if exits and next(exits) then
      for exit, cmd in pairs(exits) do
        if type(cmd) == "table" then
          cmd = next(cmd)
        end
        local lowerCommand = cmd:lower()
        local found = false
        for ferryCommand, games in pairs(ferryCommands) do
          if table.contains(games, mmp.game) and lowerCommand:find(ferryCommand, 1, true) then
            found = true
            break
          end
        end
        if found then
          setExitWeight(rooms[i], cmd, weight)
          mmp.echo(
            "Weighted " .. cmd .. " going to " .. rooms[i] .. " (" .. getRoomName(rooms[i]) .. ")."
          )
          c = c + 1
        end
      end
    end
  end
end
mmp.echo(
  string.format(
    "%s ferry exits weighted to %s (so we don't take them over too short distances).", c, weight
  )
)</script>
							<command></command>
							<packageName></packageName>
							<regex>^weight ferry exits$</regex>
						</Alias>
						<Alias isActive="no" isFolder="no">
							<name>-- (Map feature functions)</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Create map feature</name>
							<script>mmp.createMapFeature(matches[2]:trim(), (matches[3] and matches[3]:trim()))</script>
							<command></command>
							<packageName></packageName>
							<regex>^feature create (.+?)(?: char (.+))?$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Add map feature to room</name>
							<script>mmp.roomCreateMapFeature(matches[3], matches[2] == "" and mmp.currentroom or tonumber(matches[2]))</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:room create feature|rcf) (?:v(\d+) )?(.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete map feature from room</name>
							<script>mmp.roomDeleteMapFeature(matches[3], matches[2] == "" and mmp.currentroom or tonumber(matches[2]))</script>
							<command></command>
							<packageName></packageName>
							<regex>^(?:room delete feature|rdf) (?:v(\d+) )?(.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete map feature</name>
							<script>mmp.deleteMapFeature(matches[2]:trim())</script>
							<command></command>
							<packageName></packageName>
							<regex>^feature delete (.+)$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>migrate features</name>
							<script>local translation
if mmp.game == "starmourn" then
  translation =
  {
    ["@"] = "landing dock",
    ["C"] = "cloning",
    ["R"] = "repair",
    ["$"] = "denizen shop",
    ["I"] = "insurance office",
    ["T"] = "transport",
    ["J"] = "junk",
    ["M"] = "mail",
    ["L"] = "lift",
    ["P"] = "ptp",
    ["TT"] = "trade terminal",
  }
else
  mmp.echo("Sorry, don't know which room character maps to which map feature for your game. Please contact us at https://discord.gg/PPUNnc3 to get this sorted out.")
	return
end
mmp.echo("Migrating room characters to map features...")
for char, feature in pairs(translation) do
  mmp.createMapFeature(feature, char)
end
for key in pairs(getRooms()) do
  local char = getRoomChar(key)
  if char ~= "" then
    if translation[char] then
      if not mmp.roomCreateMapFeature(translation[char], key) then
			  mmp.echo("An error occurred when migrating room characters, see messages above for details. Migration incomplete!")
			  return
			end
    end
  end
end
mmp.echo("Migration done.")</script>
							<command></command>
							<packageName></packageName>
							<regex>^feature migrate$</regex>
						</Alias>
						<Alias isActive="no" isFolder="no">
							<name>-- (dangerous functions)</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Clear the map completely</name>
							<script>if not mmp.map_delete_warning then
  mmp.echo("Are you really, really, really sure you want to delete all of the map to go to a blank state? Do the command again if you're certain.")
  mmp.map_delete_warning = true
  return
end

mmp.echo("Okay, deleting...")

tempTimer(.1, function()
  for name, id in pairs(getAreaTable()) do
    deleteArea(tonumber(id))
  end

  mmp.echo("Deleted everything. It's all gone.")
  mmp.map_delete_warning = nil
  centerview(1)
end)</script>
							<command></command>
							<packageName></packageName>
							<regex>^map delete all$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete shop stockroom exits</name>
							<script>mmp.echo("Deleting all known stockroom exits (rooms with $ and a down exit)")
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    if rooms[i] then
      local char = getRoomChar(rooms[i])
      if char == '$' then
        local exits = getRoomExits(rooms[i]) -- retrieve after $, more efficient

        if exits.down then
          mmp.setExit(rooms[i], -1, 'down')
          mmp.echo(string.format("Deleted the stockroom exit at %s (#%d in %s)", getRoomName(rooms[i]), rooms[i], mmp.areatabler[getRoomArea(rooms[i])]))
          c = c + 1
        end
      end
    end

  end
end

mmp.echo(string.format("Deleted %s known stockroom exit%s.", c, (c ~= 1 and 's' or '')))
centerview(mmp.currentroom)</script>
							<command></command>
							<packageName></packageName>
							<regex>^delete known stockrooms$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Clear continent data</name>
							<script>if not mmp.wipingcontinents then
  mmp.wipingcontinents = true
  mmp.echo("Are you sure you want to wipe all continent data? If yes, do this again.")
  return
end
mmp.wipingcontinents = nil

local toserialize = yajl.to_string{}
setRoomUserData(1, "areaContinents", toserialize)
mmp.echo("Wiped all continents data.")</script>
							<command></command>
							<packageName></packageName>
							<regex>^clear continent data$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete suffixed periods</name>
							<script>mmp.echo("Deleting removing all periods at the end of room names...")
local c = 0

for area, areaname in pairs(mmp.areatabler) do
  local rooms = getAreaRooms(area) or {}
  for i = 0, #rooms do
    local name = getRoomName(rooms[i] or 0)
    if string.ends(name, ".") then
      name = string.sub(name, 1, (#name-1))
      setRoomName(rooms[i], name)
      mmp.echo(string.format("Patched up room #%s - '%s'", rooms[i], name))
      c = c + 1
    end
  end
end

mmp.echo(string.format("Fixed up %s room%s.", c, (c ~= 1 and 's' or '')))</script>
							<command></command>
							<packageName></packageName>
							<regex>^delete suffixed periods$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Find single exits</name>
							<script>local c = 0

local getAreaRooms, getRoomExits, contains, echoLink, getRoomEnv, envidsr =
  getAreaRooms, getRoomExits, table.contains, echoLink, getRoomEnv, mmp.envidsr

for area, id in pairs(getAreaTable()) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local exits = getRoomExits(roomid)
    for dir, otherroom in pairs(exits) do
      local otherexits = getRoomExits(otherroom) or {}
      if not contains(otherexits, roomid) then
        echoLink(string.format("%s -&gt; %s is oneway (%s-&gt;%s type)\n", roomid, otherroom,
          (envidsr and envidsr[getRoomEnv(roomid)] or "?"),
          (envidsr and envidsr[getRoomEnv(otherroom)] or "?")),
        [[mmp.gotoRoom(]]..roomid..[[)]], "Click to go to the start room "..roomid, true)
        c = c + 1
     end
    end
  end
end

mmp.echo(string.format("Found %s oneways.%s", c, (c &gt; 10 and " Have fun. Click on lines to go to the rooms." or "")))</script>
							<command></command>
							<packageName></packageName>
							<regex>^find single exits$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Show char marks</name>
							<script>local c = 0
local m = {}
local areas = getAreaTable()
local show_area = table.size(areas) &gt; 1 and true or false

for area, id in pairs(areas) do
  for _, roomid in pairs(getAreaRooms(id)) do
    local c = getRoomChar(roomid)
    if c ~= '' and c ~= ' ' then
      m[c] = m[c] or {}
      m[c][#m[c]+1] = roomid
    end
  end
end

if not next(m) then mmp.echo("This map has no char marks on it. Do mc on and rcc &lt;mark&gt; in a room to add them!") return end

for letter, rooms in pairs(m) do
  table.sort(rooms)
  mmp.echo("Rooms with the &lt;"..mmp.settings.echocolour.."&gt;"..letter.."&lt;reset&gt; character on them:")
  for i = 1, #rooms do
    if not show_area then
      cecho(string.format("  &lt;sea_green&gt;%-5s&lt;reset&gt; %s\n", rooms[i], getRoomName(rooms[i])))
    else
      cecho(string.format("  &lt;sea_green&gt;%-5s&lt;reset&gt; %-35s &lt;dim_grey&gt;(in&lt;reset&gt; %s&lt;dim_grey&gt;)\n", rooms[i], getRoomName(rooms[i]), mmp.areatabler[getRoomArea(rooms[i])]))
    end
  end
end</script>
							<command></command>
							<packageName></packageName>
							<regex>^show char marks$</regex>
						</Alias>
						<Alias isActive="yes" isFolder="no">
							<name>Delete all special exits across a map</name>
							<script>mmp.delSpecialExits(matches[2])</script>
							<command></command>
							<packageName></packageName>
							<regex>^spe delete all(?: (.+))?$</regex>
						</Alias>
					</AliasGroup>
					<Alias isActive="yes" isFolder="no">
						<name>Toggle mapping mode</name>
						<script>if (matches[2] and matches[2] == "on") or (not matches[2] and not mmp.editing) then
  mmp.editing = true
  enableAlias("mm Mapping")

  mmp.regenerateAreas()
  mmp.highlight_unfinished_rooms()

  mmp.echo("Mapping mode enabled. Happy mapping!")
elseif (matches[2] and matches[2] == "off") or (not matches[2] and mmp.editing) then
  mmp.editing = false
  disableAlias("mm Mapping")
  mmp.echo("Mapping mode disabled.")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(?:mc|map create) ?(on|off)?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>List map features</name>
						<script>mmp.listMapFeatures()</script>
						<command></command>
						<packageName></packageName>
						<regex>^feature list$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Save a map</name>
						<script>local function s(location, format)
  local savednormal, savedjson = "not saved", "not saved"
  if format == "json" then
    savedjson = saveJsonMap(location)
  elseif format == "all" then
    savedjson = saveJsonMap(location)
    savednormal = saveMap(location)
  elseif format == nil or format == "" then
    savednormal = saveMap(location)
  end

  if savednormal == nil then
    mmp.echo("Couldn't save the map :(")
  elseif savednormal == true then
    mmp.echo(location ~= "" and "Map saved." or "Saved the default map.")
  end
  if savedjson == nil then
    mmp.echo("Couldn't save the JSON map :(")
  elseif savedjson == true then
    mmp.echo(location ~= "" and "Map saved in JSON." or "Saved the default map in JSON.")
  end
end

if matches[2] and (matches[2] == "json" or matches[2] == "all") and not saveJsonMap then
  mmp.echo("Your Mudlet can't save maps in JSON, please upgrade first.")
  return
end
if matches[3] and matches[3] == "custom" then
  s(
    invokeFileDialog(false, "Please select the folder to save the map in and hit Open") ..
    "/Mudlet map from " ..
    os.date("%A %d, %b '%y") ..
    ".dat",
    matches[2]
  )
elseif matches[3] then
  s(getMudletHomeDir() .. "/map/" .. matches[3], matches[2])
else
  s("", matches[2])
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^map save(?: (json|all))?(?: (.+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Load a map</name>
						<script>local function s(loc)
  if string.ends(loc, ".json") and not loadJsonMap then
    mmp.echo("Your Mudlet can't load maps in JSON, please upgrade first.")
    return
  end

  local allok = true
  if string.ends(loc, ".json") then
    allok = loadJsonMap(loc)
  else
    allok = loadMap(loc)
  end

  if not allok then
    mmp.echo("Couldn't load the map :(")
  else
    mmp.lockWormholes();
    mmp.lockSewers();
    mmp.lockPebble();
    if mmp.settings.waterwalk then
      mmp.enableWaterWalk()
    else
      mmp.disableWaterWalk()
    end
    if loc ~= "" then
      mmp.echo("Map loaded.")
    else
      mmp.echo("Loaded the default map.")
    end
    raiseEvent("mmapper updated map")
  end
end

if matches[2] and matches[2] == "custom" then
  s(invokeFileDialog(true, "Please select the map file and click Open to load it"))
elseif matches[2] then
  s(getMudletHomeDir() .. "/map/" .. matches[2])
else
  s("")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^map load(?: (.+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Get dirs</name>
						<script>if not matches[2] and not matches[3] then
  mmp.echo("Where do you want to showpath to?")
elseif matches[2] and not matches[3] then
  mmp.echoPath(mmp.currentroom, matches[2])
else
  mmp.echoPath(matches[2], matches[3])
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^showpath(?: (\d+))?(?: (\d+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Check wholist</name>
						<script>enableTrigger("Parse wholist")
send("who b")
tempTimer(10, [[disableTrigger'Parse wholist']])</script>
						<command></command>
						<packageName></packageName>
						<regex>^who b$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Add Room Mark</name>
						<script>local tmp = getRoomUserData(1, "gotoMapping")
local maptable = {}

if tmp ~= "" then
  maptable = yajl.to_value(tmp)
end

local location, markname
if not matches[3] then
  markname = matches[2]
  location = mmp.currentroom
elseif tonumber(matches[2]) then
  location = matches[2]; markname = matches[3]
else
  location = matches[3]; markname = matches[2]
end

-- can't allow mark name to ne a number - yajl then generates a giant table of null's
if tonumber(markname) then
  mmp.echo("The mark name can't be a number.") return
end

maptable[markname] = location
local tmp2 = yajl.to_string(maptable)

if not mmp.roomexists(1) then
  addRoom(1)
end

setRoomUserData(1, "gotoMapping", tmp2)
mmp.echo(string.format("Room mark for '%s' set to room %s.", markname, location))</script>
						<command></command>
						<packageName></packageName>
						<regex>^room mark (\w+)(?: (\w+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Remove Room Mark</name>
						<script>local tmp= getRoomUserData(1, "gotoMapping")
if tmp~="" then
  local maptable=yajl.to_value(tmp)
  if not maptable[matches[2]] then mmp.echo("Don't have such a mark in the db.") return end

  maptable[matches[2]]=nil
  local tmp2=yajl.to_string(maptable)
  setRoomUserData(1, "gotoMapping", tmp2)
  mmp.echo("Removed the "..matches[2].." mark.")
else
  mmp.echo("We don't have any marks stored anyway.")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^room unmark (\w+)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Display Room Marks</name>
						<script>local tmp= getRoomUserData(1, "gotoMapping")
if tmp~="" then
	local maptable = yajl.to_value(tmp) or {}
    local sortedkeys = {}
    for k in pairs(maptable) do sortedkeys[#sortedkeys+1] = k end
    table.sort(sortedkeys)

    mmp.echo("Known marks in this map:")
    if next(maptable) then
      for i = 1, #sortedkeys do echo(string.format("  %-21s  %s\n", tostring(sortedkeys[i]), tostring(maptable[sortedkeys[i]]))) end
    else
      echo("  (none)\n")
    end
else
	mmp.echo("No marks are recorded in this map.")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^room marks$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Toggle map sizes</name>
						<script>local size = matches[2]

if size == "biggest" then
  mapper = Geyser.Mapper:new({
    name = "mapper",
    x = 0, y = 0,
    width = "100%", height = "97%"
  })
  mmp.echo("Map size set to pretty damn big.")

elseif size == "small" then
  mapper = Geyser.Mapper:new({
    x = "70%", y = 0,
    width = "28%", height = "50%"
  })
  mmp.echo("Map size set to comfortable.")

elseif size == "big" then
  local window_width, window_height = getMainWindowSize()
  local used_width = getMainConsoleWidth()

  local available_space = window_width - used_width

  if matches[3] then available_space = available_space - tonumber(matches[3]) end

  mapper = Geyser.Mapper:new({
    x = available_space*-1, y = 0,
    width = available_space, height = "100%"
  })

  mmp.echo("Set the map size to big - it'll cover all of the space on the right that game text isn't using. You'll want to call this alias again if you resize the window to update.")
end</script>
						<command></command>
						<packageName></packageName>
						<regex>^(small|big|biggest)map(?: (\d+))?$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>Set debug mode</name>
						<script>if matches[2] == "on" then
  mmp.debug = true
else
  mmp.debug = false
end

mmp.echo("Debug &amp; performance telemetry "..(mmp.debug and "enabled" or "disabled")..".")</script>
						<command></command>
						<packageName></packageName>
						<regex>^(?:mdg|mdebug) (on|off)$</regex>
					</Alias>
					<Alias isActive="yes" isFolder="no">
						<name>measure getPath()</name>
						<script>mmp = mmp or {}

mmp.getPathPerf = mmp.getPathPerf or createStopWatch()
startStopWatch(mmp.getPathPerf)

local from, to = tonumber(matches[2]), tonumber(matches[3])

getPath(from, to)

mmp.echon = mmp.echon or echo
mmp.echon("a new getPath() from "..from.." to "..to.." took "..stopStopWatch(mmp.getPathPerf).."s. There are "..#speedWalkPath.." rooms to visit in it.")
echo(" ")
echoLink("[unhighlight]", [[
  for room in pairs(mmp.getpathhighlights) do
    unHighlightRoom(room)
  end
]], "Click me to remove highlighting from getpath")

mmp.getpathhighlights = mmp.getpathhighlights or {}

for room in pairs(mmp.getpathhighlights) do
  unHighlightRoom(room)
end

mmp.getpathhighlights = {}

local r,g,b = unpack(color_table.yellow)
local br,bg,bb = unpack(color_table.yellow)
-- add the first room to the speedWalkPath, as we'd like it highlighted as well
table.insert(speedWalkPath, 1, from)
for i = 1, #speedWalkPath do
  local room = speedWalkPath[i]
  highlightRoom(room, r,g,b,br,bg,bb, 1, 255, 255)
  mmp.getpathhighlights[room] = true
end

centerview(from)</script>
						<command></command>
						<packageName></packageName>
						<regex>^getpath (?:from )?(\d+) (?:to )?(\d+)$</regex>
					</Alias>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Game-specific</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<AliasGroup isActive="yes" isFolder="yes">
							<name>Lusternia</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<Alias isActive="yes" isFolder="no">
								<name>Lock or unlock pathfinding exits</name>
								<script>mmp.lockpaths(matches[2]:lower()=="lock")</script>
								<command></command>
								<packageName></packageName>
								<regex>(?i)^(lock|unlock) paths$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>Link through manse</name>
								<script>local portalRooms = {
gaudiguch="19861",
glomdoring="7747",
celest="6834",
serenwilde="6833",
hallifax="19937",
magnagora="6832",
aetherplex="6831",
}

if mmp.game ~= "lusternia" then return end
matches[2]=matches[2]:lower()
matches[3]=matches[3]:lower()
local manse, city
if portalRooms[matches[2]] then
	city=matches[2]
	manse=matches[3]
elseif portalRooms[matches[3]] then
	city=matches[3]
	manse=matches[2]
else
	mmp.echo("Invalid city")
	return
end
if not gmcp.Room.Info.area:find("(manse)") then
	mmp.echo("You are not in a manse")
else
	if	searchRoom(gmcp.Room.Info.num):sub(0,11)=="searchRoom:" then
		addRoom(gmcp.Room.Info.num)
	end
	if getRoomArea(gmcp.Room.Info.num)==-1 then
		setRoomArea(gmcp.Room.Info.num,addAreaName(manse:title().." Manse"))
	end
	setRoomChar(gmcp.Room.Info.num,"A")
	addSpecialExit(portalRooms[city],gmcp.Room.Info.num,"Portal enter "..manse)
	addSpecialExit(portalRooms["aetherplex"],gmcp.Room.Info.num,"Portal enter "..manse)
	addSpecialExit(gmcp.Room.Info.num,portalRooms["aetherplex"],"portal exit aetherplex")
	addSpecialExit(gmcp.Room.Info.num,portalRooms[city],"portal exit "..city)
	mmp.echo(city:title().." has been linked to the Aetherplex through "..manse:title())
end</script>
								<command></command>
								<packageName></packageName>
								<regex>(?i)^manselink (\w+) (\w+)$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>Wildnodes toggle</name>
								<script>if mmp.game ~= "lusternia" then return end
mmp.wildnodes(matches[2]:lower()=="on")
mmp.echo("All astral nodes have been "..(matches[2]:lower()=="on" and "" or "un").."linked.")</script>
								<command></command>
								<packageName></packageName>
								<regex>(?i)^nodes (on|off)$</regex>
							</Alias>
						</AliasGroup>
					</AliasGroup>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>send-text-to-all-games</name>
					<script></script>
					<command></command>
					<packageName>send-text-to-all-games</packageName>
					<regex></regex>
					<Alias isActive="yes" isFolder="no">
						<name>Send text to all games with :</name>
						<script>-- prefix with : to send text or run an alias in all open profiles that have this script installed
-- for example - :hi or :follow bob
expandAlias(matches[2])
raiseGlobalEvent("sysSendAllProfiles", matches[2])
</script>
						<command></command>
						<packageName></packageName>
						<regex>^:(.*)$</regex>
					</Alias>
				</AliasGroup>
				<AliasGroup isActive="yes" isFolder="yes">
					<name>YATCO-23</name>
					<script></script>
					<command></command>
					<packageName>YATCO-23</packageName>
					<regex></regex>
					<AliasGroup isActive="yes" isFolder="yes">
						<name>Demonnic</name>
						<script></script>
						<command></command>
						<packageName></packageName>
						<regex></regex>
						<AliasGroup isActive="yes" isFolder="yes">
							<name>Shared</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<Alias isActive="yes" isFolder="no">
								<name>Reset chasing</name>
								<script>demonnic.chaser:reset()</script>
								<command></command>
								<packageName></packageName>
								<regex>^chaseres$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>Debug</name>
								<script>if matches[2] then
  demonnic:listCategories()
else
  demonnic:toggleDebug()
end</script>
								<command></command>
								<packageName></packageName>
								<regex>^debug(?: (list))?$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>debug categories</name>
								<script>if matches[2] then
  demonnic:watchCategory( matches[2] )
else
  demonnic:listCategories()
end</script>
								<command></command>
								<packageName></packageName>
								<regex>^debugc(?: (.*))?$</regex>
							</Alias>
						</AliasGroup>
						<AliasGroup isActive="yes" isFolder="yes">
							<name>Tabbed Chat</name>
							<script></script>
							<command></command>
							<packageName></packageName>
							<regex></regex>
							<Alias isActive="yes" isFolder="no">
								<name>Toggle blinking (temporary change)</name>
								<script>if demonnic.chat.config.blink then
  demonnic.chat.config.blink = false
  demonnic.chat.tabsToBlink = {}
  demonnic:echo("Blinking temporarily turned &lt;red&gt;off&lt;grey&gt;. It will reset if you edit your tabbed chat configuration, or close and reopen mudlet. To make it permanent, change demonnic.chat.config.blink to false in \"Demonnic-&gt;Tabbed Chat-&gt;Configuration options\" under scripts\n")
else
  demonnic.chat.config.blink = true
  demonnic.chat:blink()
  demonnic:echo("Blinking temporarily turned &lt;red&gt;on&lt;grey&gt;. It will reset if you edit your tabbed chat configuration, or close and reopen mudlet. To make it permanent, change demonnic.chat.config.blink to true in \"Demonnic-&gt;Tabbed Chat-&gt;Configuration options\" under scripts\n")
end</script>
								<command></command>
								<packageName></packageName>
								<regex>^dblink$</regex>
							</Alias>
							<Alias isActive="yes" isFolder="no">
								<name>fixChat</name>
								<script>local currentsetting = demonnic.chat.config.location
local newsetting = ""
if currentsetting == "topright" then 
  newsetting = "bottomleft" 
elseif currentsetting == "topleft" then
  newsetting = "bottomright"
elseif currentsetting == "bottomleft" then
  newsetting = "topright"
elseif currentsetting == "bottomright" then
  newsetting = "topleft"
end

demonnic.chat.config.location = newsetting
demonnic.chat:create()
demonnic.chat.config.location = currentsetting
demonnic.chat:create()</script>
								<command></command>
								<packageName></packageName>
								<regex>^fixchat$</regex>
							</Alias>
						</AliasGroup>
					</AliasGroup>
				</AliasGroup>
			</AliasGroup>
		</AliasGroup>
	</AliasPackage>
	<ActionPackage />
	<ScriptPackage>
		<ScriptGroup isActive="yes" isFolder="yes">
			<name>MS</name>
			<packageName>MS</packageName>
			<script></script>
			<eventHandlerList />
			<ScriptGroup isActive="yes" isFolder="yes">
				<name>Scripts</name>
				<packageName>Mathiaus</packageName>
				<script></script>
				<eventHandlerList />
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>Functions and Tables</name>
					<packageName></packageName>
					<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>Prompt</name>
						<packageName></packageName>
						<script>function cph() send("config prompt custom H:*h(%h%) M:*m(%m%) XP:&amp;g*x &amp;n(&amp;r*B&amp;n) &amp;n(&amp;mE:*s&amp;n) &amp;n&lt;*b*I&gt; &amp;n[&amp;YH&amp;n] F:*o(%o) &amp;c*T", false) end
function cpnh() send("config prompt custom H:*h(%h%) M:*m(%m%) XP:&amp;g*x &amp;n(&amp;r*B&amp;n) &amp;n(&amp;mE:*s&amp;n) &amp;n&lt;*b*I&gt; &amp;n[&amp;RNH&amp;n] F:*o(%o) &amp;c*T", false) end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Combat Scripts</name>
						<packageName></packageName>
						<script>ms = ms or {}

ms.to = {}

function to(slain)
	if ms.to[1] then
		for k,v in ipairs(ms.to) do
			if v == slain then
				if k == 1 then expandAlias("t "..ms.to[2]) end
				table.remove(ms.to, k)
				return
			end
		end
	end
end

function affCall(affliction)
	if ms.save['ring'] or ms.save['clan'] then send(ms.save["clan_abbr"].." Afflicted "..target.." "..affliction, false)
  -- underground
  -- send("clt13 Afflicted "..target.." "..affliction, false) 
	elseif ms.save['arena'] then send("at Afflicted "..target.." "..affliction, false)
	end
  if ttd then send("ttd Afflicted "..target.." "..affliction, false) end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Healing</name>
						<packageName></packageName>
						<script>function heal()
healing = true
redosongs = true
mono = false
send("autocuring on", false)
-- cph()
sys("MS") cecho("&lt;yellow&gt;Healing&lt;ivory&gt;+")
end

function noheal()
healing = false
redosongs = false
send("queue reset all"..s.."autocuring off", false)
-- cpnh()
sys("MS") cecho("&lt;red&gt;Healing&lt;DimGrey&gt;-")
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Allies</name>
						<packageName></packageName>
						<script>ms.allies = {}
if io.exists(getMudletHomeDir().."/msallies.lua") then
  table.load(getMudletHomeDir().."/msallies.lua", ms.allies)
else
  table.save(getMudletHomeDir().."/msallies.lua", ms.allies)
end
</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>phpTable</name>
						<packageName></packageName>
						<script>function ol(...) -- abuse to: http://richard.warburton.it
  local newTable,keys,values={},{},{}
  newTable.pairs=function(self) -- pairs iterator
    local count=0
    return function() 
      count=count+1
      return keys[count],values[keys[count]]
    end
  end
  setmetatable(newTable,{
    __newindex=function(self,key,value)
      if not self[key] then table.insert(keys,key)
      elseif value==nil then -- Handle item delete
        local count=1
        while keys[count]~=key do count = count + 1 end
        table.remove(keys,count)
      end
      values[key]=value -- replace/create
    end,
    __index=function(self,key) return values[key] end
  })
  for x=1,table.getn(arg) do
    for k,v in pairs(arg[x]) do newTable[k]=v end
  end
  return newTable
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Time</name>
						<packageName></packageName>
						<script>function time()
if hours == 0 then
sys("Time") cecho("&lt;cyan&gt;7:"..minutes.." PM")
elseif hours == 1 then
sys("Time") cecho("&lt;cyan&gt;8:"..minutes.." PM")
elseif hours == 2 then
sys("Time") cecho("&lt;cyan&gt;9:"..minutes.." PM")
elseif hours == 3 then
sys("Time") cecho("&lt;cyan&gt;10:"..minutes.." PM")
elseif hours == 4 then
sys("Time") cecho("&lt;cyan&gt;11:"..minutes.." PM")
elseif hours == 5 then
sys("Time") cecho("&lt;cyan&gt;12:"..minutes.." AM")
elseif hours == 6 then
sys("Time") cecho("&lt;cyan&gt;1:"..minutes.." AM")
elseif hours == 7 then
sys("Time") cecho("&lt;cyan&gt;2:"..minutes.." AM")
elseif hours == 8 then
sys("Time") cecho("&lt;cyan&gt;3:"..minutes.." AM")
elseif hours == 9 then
sys("Time") cecho("&lt;cyan&gt;4:"..minutes.." AM")
elseif hours == 10 then
sys("Time") cecho("&lt;cyan&gt;5:"..minutes.." AM")
elseif hours == 11 then
sys("Time") cecho("&lt;cyan&gt;6:"..minutes.." AM")
elseif hours == 12 then
sys("Time") cecho("&lt;cyan&gt;7:"..minutes.." AM")
elseif hours == 13 then
sys("Time") cecho("&lt;cyan&gt;8:"..minutes.." AM")
elseif hours == 14 then
sys("Time") cecho("&lt;cyan&gt;9:"..minutes.." AM")
elseif hours == 15 then
sys("Time") cecho("&lt;cyan&gt;10:"..minutes.." AM")
elseif hours == 16 then
sys("Time") cecho("&lt;cyan&gt;11:"..minutes.." AM")
elseif hours == 17 then
sys("Time") cecho("&lt;cyan&gt;12:"..minutes.." PM")
elseif hours == 18 then
sys("Time") cecho("&lt;cyan&gt;1:"..minutes.." PM")
elseif hours == 19 then
sys("Time") cecho("&lt;cyan&gt;2:"..minutes.." PM")
elseif hours == 20 then
sys("Time") cecho("&lt;cyan&gt;3:"..minutes.." PM")
elseif hours == 21 then
sys("Time") cecho("&lt;cyan&gt;4:"..minutes.." PM")
elseif hours == 22 then
sys("Time") cecho("&lt;cyan&gt;5:"..minutes.." PM")
elseif hours == 23 then
sys("Time") cecho("&lt;cyan&gt;6:"..minutes.." PM")
end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Enemies</name>
						<packageName></packageName>
						<script>ms.enemies = ms.enemies or {}
ms.el = ms.el or {}</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Fancy Echo</name>
						<packageName></packageName>
						<script>function fecho(wcall, wname, wword)
wtab = string.len(wcall)
wwl = string.len(wword)
wtar = string.len(wname)
wspace = wtar + wwl + 5
echo("\n"..string.rep(" ", wtab+7)) cecho("&lt;red&gt;+"..string.rep("-", wspace).."+")
sys("&lt;green&gt;"..wcall) cecho("&lt;red&gt;| &lt;yellow&gt;"..wname.." - "..wword.."&lt;red&gt; |")
echo("\n"..string.rep(" ", wtab+7)) cecho("&lt;red&gt;+"..string.rep("-", wspace).."+")
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Buffer</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Call Out</name>
						<packageName></packageName>
						<script>function callout(catt, cper)
	if not ik then
		if ms.save['ring'] then send("rt "..catt.." - "..cper, false)
		elseif ms.save['clan'] then send(ms.save["clan_abbr"].." "..catt.." - "..cper, false)
		elseif ms.save['arena'] then send("at "..catt.." - "..cper, false) end
    if ttd then send("ttd "..catt.." - "..cper, false) end
	end
end

function targeter(tname)
if ms.save['ring'] then send("rt Target: "..tname, false)
elseif coalition then send(ms.save["clan"].." Target: "..tname, false)
elseif arena then send("at  Target: "..tname, false) end
if ttd then send("ttd Target: "..tname, false) end
end

function cor(catt, cper)
if ms.save['ring'] then send("rt "..catt.." - "..cper..""..s.."rt "..catt.." - "..cper..""..s.."rt "..catt.." - "..cper, false)
elseif ms.save['clan'] then send(ms.save["clan_abbr"].." "..catt.." - "..cper..""..s..""..ms.save["clan"].." "..catt.." - "..cper..""..s..""..ms.save["clan"].." "..catt.." - "..cper, false)
  -- underground
  --send("clt13 "..catt.." - "..cper..""..s..""..ms.save["clan"].." "..catt.." - "..cper..""..s..""..ms.save["clan"].." "..catt.." - "..cper, false)
elseif ms.save['arena'] then send("at "..catt.." - "..cper..""..s.."at "..catt.." - "..cper..""..s.."at "..catt.." - "..cper, false) end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>chkp</name>
						<packageName></packageName>
						<script>if chkd == nil then chkd = "" end
if ms.allies == nil then
	ms.allies = {}
	table.load(getMudletHomeDir().."/msallies.lua", ms.allies)
end
if fbs == nil then fbs = false end
if fbt == nil then fbt = "" end
function chkp()
	if chkd ~= "" then
		io.input(getMudletHomeDir().."/"..chkd..".json")
		pchk = io.read("*all")
		pinfo = yajl.to_value(pchk)
		ptab = {}
			for k,v in pairs(pinfo) do
				if k == "city" then table.insert(ptab, v:title()) end
				if k == "profession" then table.insert(ptab, v:title()) end
				if k == "description" then 
					if string.match(v, "^%a- is %a- (%a-) (%a-)%.") then
						local stat, race = string.match(v, "^%a- is %a- (%a-) (%a-)%.")
						table.insert(ptab, race:title())
						table.insert(ptab, stat:title())
					elseif string.match(v, "^%a- is %a- .- (%a-) (%a-)%.") then
						local stat, race = string.match(v, "^%a- is %a- .- (%a-) (%a-)%.")
						table.insert(ptab, race:title())
						table.insert(ptab, stat:title())
					elseif string.match(v, "They are %a- (%a-) (%a-)%.") then
						local stat, race = string.match(v, "They are %a- (%a-) (%a-)%.")
						table.insert(ptab, race:title())
						table.insert(ptab, stat:title())
					elseif string.match(v, "They are %a- %a- (%a-) (%a-)%.") then
						local stat, race = string.match(v, "They are %a- %a- (%a-) (%a-)%.")
						table.insert(ptab, race:title())
						table.insert(ptab, stat:title())
					end--string check
				end--description
				if k == "level" then table.insert(ptab, v:title()) end
			end--loop
			if #ptab == 0 then ptab = {"t1", "t2", "t3", "t4", "t5"} end
			cecho("\n &lt;red&gt;[ &lt;gold&gt;"..chkd:title().." &lt;red&gt;]&lt;ivory&gt;: Lvl("..ptab[3].."), "..ptab[4]..", "..ptab[5]..", "..ptab[2]..", "..ptab[1])
			--Ally Check
			if table.contains(ms.allies, chkd) then
				cecho("\n &lt;red&gt;[ &lt;gold&gt;"..chkd:title().." &lt;red&gt;] &lt;cyan&gt;Ally")
			else
				cecho("\n &lt;red&gt;[ &lt;gold&gt;"..chkd:title().." &lt;red&gt;] &lt;red&gt;Not-Ally")
        if ptab[1] == ms.city then expandAlias("msa "..chkd) end
			end
  callout(chkd:title(), "Lvl("..ptab[3].."), "..ptab[4]..", "..ptab[5]..", "..ptab[2]..", "..ptab[1])
  if classCheck == nil then classCheck = false end
  if classCheck == true then
    if ptab[2]:find("Defiler") then defiler = true
    elseif ptab[2]:find("Mage") then mage = true
    elseif ptab[2]:find("Amazon") or ptab[2]:find("Ranger") then tranger = true
    elseif ptab[2]:find("Berserker") then zerker = true
    elseif ptab[2]:find("Runeguard") then runeguard = true
    elseif ptab[2]:find("Summoner") then summoner = true
    elseif ptab[2]:find("Assassin") then assassin = true
    elseif ptab[2]:find("Diabolist") then diabolist = true
    elseif ptab[2]:find("Monk") then monk = true
    elseif ptab[2]:find("Bard") then bard = true
    elseif ptab[2]:find("Priest") then priest = true
    end
      if priest and aph then expandAlias("aph")
      elseif not aph then expandAlias("aph")
      end
  classCheck = false
  end
  -- if cfh ~= "" then
    -- if ptab[1] ~= "Khandava" then
      -- --send("call for help")
    -- end
  -- elseif fbs then
    -- if ptab[1] ~= "Khandava" then
      -- target = fbt  
      -- if gmcp.Room.Info.area:find("the Ithaquan Council") or gmcp.Room.Info.area:find("the Khandava Council") then
		    -- if ms.class["Summoner"] then
			   -- dpf = true
			   -- expandAlias("dpf "..target)
		    -- elseif ms.class["Assassin"] then
			   -- eic = true
			   -- expandAlias("wsfs "..target)
		    -- end
	    -- end
    -- elseif ptab[1] == "Khandava" and not table.contains(ms.allies, chkd) and #ms.allies &gt;= 1 then
      -- local addPerson = chkd
      -- expandAlias("msa "..addPerson)
    -- end
    -- fbs = false
  -- end
	end--chkd
	chkd = ""
  cfh = ""
  ptab = {}
end--function</script>
						<eventHandlerList>
							<string>sysDownloadDone</string>
						</eventHandlerList>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>monthly plant handling stuff</name>
						<packageName></packageName>
						<script>-- Table to show the season -- credit to Lionas
months = {Ferinus="spring",Solis="summer",Artificium="autumn",Aequitas="autumn",Bellum="autumn",Tenebrae="winter",Vita="spring",Fas="spring",Letum="winter",Ultio="winter",Naturalis="summer",Halitus="summer"}
-- plants and the months they grow
plantdb = {
fenugreek={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=true,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
juniper={letum=false,tenebrae=false,vita=true,fas=false,ferinus=false,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
nightshade={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=false,solis=true,halitus=true,artificium=true,bellum=true,aequitas=true,ultio=false},
mandrake={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=false,solis=true,halitus=true,artificium=true,bellum=true,aequitas=true,ultio=false},
spearwort={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
pear={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=true,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
kelp={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=true,solis=true,halitus=true,artificium=true,bellum=false,aequitas=false,ultio=false},
lovage={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=true,solis=true,halitus=true,artificium=true,bellum=false,aequitas=false,ultio=false},
galingale={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=true,solis=true,halitus=true,artificium=true,bellum=false,aequitas=false,ultio=false},
weed={letum=false,tenebrae=false,vita=true,fas=true,ferinus=true,naturalis=true,solis=true,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
moonwort={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=false,solis=true,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
quince={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
hyssop={letum=false,tenebrae=false,vita=false,fas=true,ferinus=false,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
ribwort={letum=false,tenebrae=false,vita=true,fas=false,ferinus=false,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
ginger={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=false,solis=true,halitus=true,artificium=true,bellum=true,aequitas=true,ultio=false},
olive={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=false,solis=true,halitus=true,artificium=true,bellum=true,aequitas=true,ultio=false},
laurel={letum=false,tenebrae=false,vita=true,fas=false,ferinus=false,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
dandelion={letum=false,tenebrae=false,vita=true,fas=true,ferinus=true,naturalis=true,solis=true,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
maidenhair={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=true,solis=true,halitus=true,artificium=true,bellum=false,aequitas=false,ultio=false},
violet={letum=false,tenebrae=false,vita=true,fas=true,ferinus=true,naturalis=true,solis=true,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
orphine={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=true,solis=true,halitus=true,artificium=true,bellum=false,aequitas=false,ultio=false},
endive={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=false,solis=true,halitus=true,artificium=true,bellum=true,aequitas=true,ultio=false},
wormwood={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
linseed={letum=false,tenebrae=false,vita=false,fas=false,ferinus=false,naturalis=false,solis=true,halitus=true,artificium=true,bellum=true,aequitas=true,ultio=false},
blueberry={letum=false,tenebrae=false,vita=false,fas=false,ferinus=true,naturalis=true,solis=true,halitus=true,artificium=true,bellum=false,aequitas=false,ultio=false},
primrose={letum=false,tenebrae=false,vita=true,fas=true,ferinus=true,naturalis=true,solis=true,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
myrrh={letum=false,tenebrae=false,vita=false,fas=true,ferinus=false,naturalis=false,solis=false,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false},
toadstool={letum=false,tenebrae=false,vita=true,fas=true,ferinus=true,naturalis=true,solis=true,halitus=false,artificium=false,bellum=false,aequitas=false,ultio=false}
}
-- plant locations
plantloc = {olive="desert",pear="desert",weed="desert",ginger="forest",laurel="forest",moonwort="forest",myrrh="forest",nightshade="forest",orphine="forest",primrose="forest",dandelion="grasslands",mandrake="grasslands",ribwort="grasslands",hyssop="hills",juniper="hills",endive="jungle",linseed="jungle",quince="jungle",blueberry="mountains",lovage="mountains",kelp="saltwater",galingale="swamp",spearwort="swamp",violet="swamp",wormwood="swamp",fenugreek="valley",maidenhair="underground",toadstool="underground"}</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>hl</name>
						<packageName></packageName>
						<script>ms.hl = {}
function hl()
	for k,v in pairs(gmcp.Char.Items.List.items) do 
		if v.name:find(creature) then
			if not table.contains(ms.hl, v.id) then
				table.insert(ms.hl, v.id)
			end
		end
	end
end</script>
						<eventHandlerList>
							<string>gmcp.Char.Items</string>
						</eventHandlerList>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Mathiaus's System Tag</name>
						<packageName></packageName>
						<script>function sys(name) cecho("\n &lt;red&gt;[ &lt;DimGrey&gt;"..name.."&lt;red&gt; ]: ") ccw() end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Function list</name>
						<packageName></packageName>
						<script>function ms.echo(what)
  what = what or ""
  moveCursorEnd("main") if getCurrentLine() ~= "" then echo"\n" end
  decho("&lt;112,229,0&gt;(&lt;0,255,0&gt;MS&lt;0,255,0&gt;): &lt;255,255,255&gt;")
  cecho(tostring(what))
  echo("\n")
end

function last_cured()
  if lastCured ~= "sulfonal" and not table.contains(ms.passives, lastCured) and lastCured ~= "ablaze" and lastCured ~= "" then aff(lastCured) end
end

function aff(affliction)
  for aff,state in ms.afflicted:pairs() do
    if aff == affliction then
      ms.afflicted[affliction] = "aff"
      affCall(affliction)
    end
  end
	if not ptox then cecho(" &lt;green&gt;"..toxUsed:title().." &lt;cyan&gt;[&lt;DimGray&gt;"..affliction:title().."&lt;cyan&gt;]") end
	toxUsed = ""
  saf = saf + 1
end

function herbs()
  send("outr 3 wormwood"..s.."outr 3 mandrake"..s.."outr 3 kelp"..s.."outr 3 orphine"..s.."outr 3 nightshade"..s.."outr 3 galingale"..s.."outr 3 maidenhair"..s.."outr 3 toadstool"..s.."outr 3 juniper"..s.."outr 3 hyssop"..s.."outr 3 fenugreek")
end

function notaff(affliction)
  lastCured = ""
	  for aff,state in ms.afflicted:pairs() do
    if aff == affliction then
      ms.afflicted[affliction] = "notaff"
    end
  end
  cureUsed = ""
  saf = saf - 1
  if herbUsed then cureUsed = "Herb"
  elseif purgeUsed then cureUsed = "Purge"
  elseif focusUsed then cureUsed = "Focus"
  elseif treeUsed then cureUsed = "Tree"
  elseif salveUsed then cureUsed = "Salve"
  elseif smokeUsed then cureUsed = "Smoked"
  elseif epUsed or apUsed then cureUsed = "Pill"
  else cureUsed = "3P"
  end
	sys("&lt;gold&gt;"..target) cecho("&lt;green&gt;"..affliction:title().." Cured &lt;ivory&gt;\- \[&lt;DimGrey&gt;"..cureUsed.."&lt;ivory&gt;\]")
  herbUsed = false
  purgeUsed = false
  focusUsed = false
  treeUsed = false
  salveUsed = false
  smokeUsed = false
  epUsed = false
  apUsed = false
  lastCured = affliction
  if healing then forceAtk() end
end

function rbCheck()
  if not engulf_tick then 
    rb = true
  else
    engulf_tick = false
  end    
  if not ebal or not bbal then forceAtk(true) end
  disableTimer("rebounding")
end

function deadBuff() 
if ms.class["Diabolist"] then 
ms.dead = {
"renounce grace",
"demon syphon",
"summon ouroboros"..s..""..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s.."mount "..ms.save["mount"]
}
elseif ms.class["Deathknight"] then
ms.dead = {
"renounce grace",
"omr",
"hound recall",
"vengeance",
"putrefaction",
"order loyals follow me"..s.."mount 364627"
}
end
	if ms.dead[deadbuff] and (ms.class["Diabolist"] or ms.class["Deathknight"]) then send("queue eqbal "..ms.dead[deadbuff]) end
	deadbuff = deadbuff + 1
end

function CheckDefs()
	ms.defApplied = {}
	for _,v in pairs(gmcp.Char.Defences.List) do
		table.insert(ms.defApplied, v.name)
	end
	table.sort(ms.defApplied)
end

function msTA(ta_name)
  if ms.save["ta"] then
    send("trueassess "..ta_name)
  else
    sys("&lt;DimGray&gt;Trueassess") cecho("&lt;DimGray&gt;Disabled")
  end
end

function forceCapture(name, place_name)
  if place_name ~= last_place then
    last_place = place_name
  end
  if force_capture then
    if not table.contains(ms.allies, name) and not table.contains(ms.save['ignore'], name) and (place_name ~= last_place) then
      return true
    else
      return false
    end
  else
    return false
  end
end

function msSet(key, value)
  msKeys = table.keys(ms.save)
  if table.contains(msKeys, key) then
    ms.save[key] = value
  else
    sys("&lt;red&gt;Error") cecho("&lt;DimGray&gt;Not found in ms.save, "..key.." - "..value)
  end
end

function msFontSize(num)
  ms.save["fontSize"] = tonumber(num)
  fontSize = ms.save["fontSize"]
  setTextSize()
  msBorders()
  expandAlias("fixchat")
  sys("&lt;green&gt;MS Font Size") cecho("&lt;snow&gt;All Scaling Font Sizes set to: &lt;yellow&gt;"..tostring(ms.save["fontSize"]))
end

function msFontWindow(font_window, num)
  local wName = font_window:lower()
  if table.contains(windowNames, wName) then
    for window, name in pairs(windowNames) do
      if wName == window then
        for _, v in pairs(name) do
          ms.save["windows"][v] = tonumber(num)
        end
      end
    end
    local font = tonumber(num)
    if font &gt; 0 then
      sys("&lt;green&gt;MS Windows") cecho("&lt;yellow&gt;"..wName:title().." &lt;snow&gt;size increased by: &lt;yellow&gt;"..num)
    elseif font &lt; 0 then
      sys("&lt;green&gt;MS Windows") cecho("&lt;yellow&gt;"..wName:title().." &lt;snow&gt;size decreased by: &lt;yellow&gt;"..num)
    else
      sys("&lt;green&gt;MS Windows") cecho("&lt;yellow&gt;"..wName:title().." &lt;snow&gt;size set to: &lt;yellow&gt;"..num)
    end 
    setTextSize()
    msBorders()
    if wName == "chat" then expandAlias("fixchat") end
  else
    sys("&lt;red&gt;Error") cecho(f"&lt;yellow&gt;{wName:title()} &lt;snow&gt;name not found in MS Windows")
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Instant Kill Stop</name>
						<packageName></packageName>
						<script>function ikstop(ikname)
	aug()
  if (ikname or target) ~= target then
	  hk = true
    if (ikname or target) == target then tik = true end
	 	if healing then
	 		if ms.class["Bard"] then send("queue eqbal top hum ta yoth "..(ikname or target).." kawis "..(ikname or target))
      elseif ms.class["Druid"] then send("queue eqbal top quarterstaff knockdown "..(ikname or target))
      elseif ms.class["Defiler"] then send("queue eqbal top treant trip "..(ikname or target))
	 		elseif ms.class["Mage"] then send("queue eqbal top  "..cci..""..s.."cast quickcast shake "..(ikname or target))
	 		elseif ms.class["Summoner"] then send("queue eqbal top invoke heave "..(ikname or target))
	 		elseif ms.class["Diabolist"] then send("queue eqbal top trace balance stillness "..(ikname or target))
	 		elseif ms.class["Deathknight"] or ms.class["Runeguard"] then send("queue eqbal top "..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."wm raze lacerate "..(ikname or target).." strychnine"..s.."battlecry "..(ikname or target))
	 		elseif ms.class["Assassin"] or ms.class["Renegade"] then send("queue eqbal top "..quickdraw(ms.save["dirk"], ms.save["shield"])..""..s.."dstab "..(ikname or target).." opium opium")
      elseif ms.class["Hunter"] then send("queue eqbal top "..quickdraw("sword", ms.save["shield"])..""..s..""..ms.save["hunter_form"].." claw "..(ikname or target).." opium"..s.."bat sleep "..(ikname or target))
		  end
		end
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Parrying</name>
						<packageName></packageName>
						<script>--Parry function
plimb = ""
plh = ""
mlh = ""
parry = true
function plf()
	if parry and ms.save["parry"] then
		if ph then plimb = "parry head"
		elseif mlh ~= "" then plimb = "parry "..mlh
		elseif plh ~= "" then plimb = "parry "..plh
		else plimb = "parry torso"
		end
	else plimb = ""
	end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Queue front</name>
						<packageName></packageName>
						<script>function qfront()
	qf = ""
  if heal and #ms.allies &gt; 0 then qf = "touch chameleon "..ms.allies[math.random(#ms.allies)] end
	if pullarrow then qf = "pull arrow from body"	
  elseif shot ~= "" and not digging then qf = "dig out shot to "..shot
	elseif rc == "clarity" and hp &lt; 75 then qf = "clarity"
  -- elseif restore then qf = "restore"
	elseif healtype ~= "" then qf = healtype
	elseif bomb then qf = "give bomb to "..bombGiver..""..s.."give bomb to "..bombGiver..""..s.."give bomb to "..bombGiver..""..s.."give bomb to "..bombGiver..""..s.."give bomb to "..bombGiver..""..s..""..quickdraw(ms.save["bomb"], ms.save["shield"])..""..s.."throw bomb "..ms.exits[1]
	elseif skies and not flinged then qf = "touch tentacle "..target
 -- elseif bard and table.contains(ms.defApplied, "mindseye") then qf = "relax mindseye"
  elseif hk and ms.class["Priest"] and ptar:find(target) then qf = "kanai knockdown"
  elseif hk and ms.class["Shaman"] and ptar:find(target) and not cw then 
  elseif hk and ms.class["Berserker"] and not ptar:find(target) then qf = f"combo slash {ms.zerk.affs[1]} {ptar} trip {ptar}"
    if curse_charges &gt; 0 then qf = "swiftcurse "..ptar.. " sleep sun"
    else qf = "curse "..ptar.. " sleep sun"
    end
	elseif hk and ms.class["Summoner"] then qf = "fling emperor heave at "..ptar
	elseif hk and ms.class["Diabolist"] then qf = "trace stillness balance "..ptar
	elseif hk and ms.class["Defiler"] then qf = "devastate "..ptar.." ciguatoxin"..s.."treant trip "..ptar
  elseif (hk or blackwind) and ms.class["Hunter"] then qf = ""..ms.save["hunter_form"].." claw "..ptar.." opium"..s.."bat sleep "..ptar
	elseif unknown &gt;= 3 then qf = "diag me unified"
  elseif #ms.afflictions &gt;= 5 and ms.class["Shaman"] then qf = "dustthrow cure me"
  elseif (ms.class["Deathknight"] or ms.class["Hunter"]) and table.contains(ms.afflictions, "asthma") and table.contains(ms.afflictions, "slickness") and (table.contains(ms.afflictions, "numbness") or table.contains("paralysis")) then qf = "fitness"
  elseif paralysis and (ms.class["Hunter"] or ms.class["Druid"]) then qf = "might"
  elseif ms.class["Hunter"] and not zerker and (th &lt;= 45 or (brl and bll) or (bla and brl) or (bla and bll) or (bla and brl) or (bra and bll) or (bra and brl)) then
      if snare and ms.class["Hunter"] then
        qf = "bat invoke "..target
      elseif (autoKill or transfixed) then
        qf = "backflip "..ms.exits[1]
      end
	elseif (ms.class["Assassin"] or ms.class["Renegade"]) and resetPets then qf = "order loyals passive"..s.."order loyals follow me"..s.."order loyals attack "..target
	elseif paralysis and ms.class["Diabolist"] then qf = "trace inversion stillness me"
	elseif reckless and ms.class["Diabolist"] then qf = "trace inversion mindlink me"
	elseif ms.class["Diabolist"] and not paralysis and (#ms.afflictions &gt;= 6) then qf = "trace inversion bodylink me"
	elseif useBark and ms.class["Diabolist"] then qf = "trace bark me "..damageType
	elseif ms.class["Diabolist"] and (eWraith or ethereal &gt;= 1) then qf = "wraith dismiss ethereal"
	else qf = "enemy "..target
	end
  if not ms.save["group"] and not block and (ms.class["Hunter"] or ms.class["Deathknight"] or ms.class["Assassin"] or ms.class["Defiler"]) and ms.exits[1] then qf = "block "..ms.exits[1]..""..s..""..qf end
	if ablaze then qf = "quench skin"..s..""..qf end
  if body ~= "" then qf = body..""..s..""..qf end
  --if engineer or relax then qf = "relax"..s..""..qf end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Switch</name>
						<packageName></packageName>
						<script>function switch(t)
  t.case = function (self,x)
    local f=self[x] or self.default
    if f then
      if type(f)=="function" then
        f(x,self)
      else
        error("case "..tostring(x).." not a function")
      end
    end
  end
  return t
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Tarot Universe Search</name>
						<packageName></packageName>
						<script>ms.universe = {}

ms.universe.NorthCelidon = {"Bardosi", "Vardarian", "Lirhin Clearing", "Animal Activists", "Sintcega Creek", "Waelin Bog", "Eastern Celidon", "Western Celidon"}
ms.universe.WestCelidon = {"Celidon Council", "Nagmara Trading Hub", "Valley of Dakker", "Adram Valley", "Lost Forest", "Scourge Outpost", "Sienna Forest", "Trabine Reserve", "Vardarian", "Waelin River", "Uilaeri"}
ms.universe.Areish = {"Khuno Acropolis", "Anali River", "Nysanti Lake", "Cuhpfehr hills", "Iaemoc Hills", "Eor'Gahl Encampment", "Ik'taru Expanse", "Temple of Menanon", "Yhumara Lake", "Garden of the Gods", "Graytrem hills", "Pinatan Valley", "Insane Asylum", "Gadan Hold", "Khandava Forest", "Ederith River", "Cuhpfehr hills", "Temple of the Sect of Conquest", "Fishing Settlement"}
ms.universe.Caanae = {"Modin Valley", "Western Nolmine Heights", "Wonder Emporium", "Ancient Sewer Ruins", "basement under Caanae", "Eastern Celidon"}
ms.universe.Heartlands = {"Coliseum", "Nogba Wetlands", "Ederith river", "Eucrates river", "Anaelith Caverns", "Sienna Forest", "Amoran Anthill", "Lake Ildsam", "Egeria Forest", "Shaahri desert", "Graytrem hills", "Byley Plains", "kobold settlement", "Skybreak", "Western Celidon", "Western Nolmine Heights", "Temple of the Sect of the Primal Spirit", "A subterranean outpost", "Nagiri Caverns"}
ms.universe.Graytrem = {"Ederith River", "Champion Root", "Heartlands", "Shaahri desert", "Temple of the Sect of the Wild Hunt", "Temple of the Sect of Astronomy", "filthy goblin village", "Areish mountains"}
ms.universe.Shaari = {"Heartlands", "Graytrem hills", "Ancient Temple", "Anhir", "Arkaskarr, the Akrabi burrows", "Necropolis", "Bloodstone Quarry", "Whistlerock Hold", "Paran Mountains", "Booming Dunes", "Zh'serurn Outpost", "El'Jazira", "Rystorian Pyramid", "Shipwreck Camp", "Aori Bay", "Temple of Reflection", "Tavares Island", "Wreck of K'teire", "Shulgaran Dunes", "Theroc Encampment", "City of Antioch", "Avernian Citadel"}
ms.universe.Antioch = {"Heartlands", "Graytrem hills", "Ancient Temple", "Anhir", "Arkaskarr, the Akrabi burrows", "Necropolis", "Bloodstone Quarry", "Whistlerock Hold", "Paran Mountains", "Booming Dunes", "Zh'serurn Outpost", "El'Jazira", "Rystorian Pyramid", "Shipwreck Camp", "Aori Bay", "Temple of Reflection", "Tavares Island", "Wreck of K'teire", "Shulgaran Dunes", "Theroc Encampment", "City of Antioch", "Avernian Citadel"}
ms.universe.Stavenn = {"Kenuba Wastes Outpost", "Kalaya Woods", "Western Nolmine Heights", "Modin Valley", "Towneship of Annona", "Red Carnival", "Eastern Ederith river", "Ravana Gorge", "Treslein's Keep", "Alcine Estate", "lands of Aradia", "Ruins of Stavenn", "Protectorate Camp", "Barren Wastelands"}
ms.universe.Kinsarmar = {"Western Celidon", "Adram Valley", "Village of Transk", "Northern Celidon", "Sodiuar Lake", "Fortified Towne of Tirhin", "Kinsarmarian Watchtower", "Lorka'ig", "Dardanic Grasslands", "Chorsha Underground", "City of Kinsarmar", "Gongen Mountains", "Gongen Mines", "Dwarven City of Kaark'krazul", "Avernian Citadel"}
ms.universe.Ithaqua = {"Demon Stone", "Gyanis snowfield", "Settlement of Kadar", "Ithaquan Council", "Black Pines", "Skegdald", "Agirni Hold", "Redcap Caverns", "Bardosi Plains", "Cinua Glade", "Ironwood Grove"}
ms.universe.Khandava = {"Areish mountains", "Temple at Menanon", "Hidden Graveyard", "Mylani Village", "Karakas Beach", "Vazeniya Village", "Mercenary Encampment", "Redwood Cottons", "Aori Bay", "Deadwood", "Khandava Council"}
ms.universe.Sevenlakes = {"Aldrym", "Baneward", "Bardosi Plains", "Breknit", "Erorag", "Orc Camp", "Eastern Nolmine Heights", "Domain of Magglix", "Riksha Hills", "Temple of the Sect of Storms", "En'Aruna Village"}
ms.universe.Reate = {"Aoash Forest", "Dardanic Grasslands", "Towne of Pabin'Aquinumi", "Ayriath's Keep", "Iaat Valley", "Demon's Pass", "Gongen", "Grasslands", "Iaat Ridge", "Rayatem Hills", "Northern Breach", "Chorsha Underground"}</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Decks and Cards</name>
						<packageName></packageName>
						<script>function rubCard(cardTarget)
	if shuffle and target == "None" then
		send("queue eqbal top shuffle deck")
	elseif charged then
		if card:find("lion") then	
			send("rub card on me")
		elseif card:find("flame") then
			if #ms.hunt &gt;= 3 then
				send("rub card on "..cardTarget)
			else
				send("rub card on me")
			end
		elseif card:find("saint") then
			send("rub card on me")
		elseif card:find("eternity") then
			send("rub card on me")
		elseif card:find("seven suns") then
			if #ms.hunt &gt;= 3 then
				send("rub card on "..cardTarget)
			else
				send("rub card on me")
			end
		elseif card:find("queen") then
			send("rub card on me")
		elseif card:find("stone") then
			send("rub card on me")
		elseif card:find("beast") then
			send("rub card on me")
		elseif card:find("law") then
			send("rub card on me")
		elseif card:find("spider") then
			send("rub card on me")
		elseif card:find("candle") then
			send("rub card on me")
		elseif card:find("pocket watch") then
			send("rub card on me")
		elseif card:find("glacier") then
			send("rub card on me")
		elseif card:find("fog") then
			send("rub card on me")
		elseif card:find("shield") then
			send("rub card on me")
		elseif card:find("fairy") then
			send("rub card on me")
		elseif card:find("reaper") then
			send("rub card on "..cardTarget)
		elseif card:find("wisp") then
			send("rub card on me")
		elseif card:find("swamp") then
			send("rub card on me")
		elseif card:find("chaos") then
			send("rub card on "..cardTarget)
		elseif card:find("cheetah") then
			send("rub card on me")
		elseif card:find("fool") then
			send("rub card on me")
		elseif card:find("twins") then
			send("rub card on "..cardTarget)
		end--cards
	end--shuffle
	send("draw card")
end--funcition</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Grab Room Number</name>
						<packageName></packageName>
						<script>function ms.rn(roomName)
	rt = {}
	local t = mmp.searchRoomExact(roomName)
	for rID, rName in pairs(t) do
   		rt[#rt+1] = {name = rName, id = rID}
	end
	return rt[1].id
end
</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Attack Function</name>
						<packageName></packageName>
						<script>function forceAtk(force)
if healing and (pta or autoKill or force) then
	if ms.class["Deathknight"] then 
      if ms.save["group"] or ms.save["dmg"] or dmg then
        expandAlias("dmg")
      elseif bleeddsl and ms.save["solo"] or afflict then
        expandAlias("sl")
      elseif bleed2dsl then
        expandAlias("sll")
      end
    elseif ms.class["Runeguard"] then 
      if ms.save["group"] or ms.save["dmg"] or dmg then
        expandAlias("dmg")
      elseif ms.save["solo"] or afflict then
        expandAlias("sl")
      end
    elseif ms.class["Druid"] then 
      if ms.save["group"] or ms.save["dmg"] or dmg then
        expandAlias("dmg")
      elseif ms.save["solo"] or afflict then
        expandAlias("afflict")
      end
    elseif ms.class["Shaman"] then
      if ms.save["group"] or ms.save["dmg"] or dmg then
        expandAlias("dmg")
      elseif tl then
        expandAlias("tl")
      elseif ms.save["solo"] or afflict then
        expandAlias("afflict")
      end
    elseif ms.class["Mage"] then
      if ms.save["group"] or ms.save["dmg"] or dmg then
        expandAlias("fdmg")
      elseif ms.save["solo"] or afflict then
        expandAlias("wdmg")
      end
		elseif ms.class["Diabolist"] then
      if ms.save["group"] or group then
        expandAlias("gaf")
      elseif ms.save["dmg"] or dmg then
        expandAlias("dmg")
      elseif ms.save["solo"] or afflict then
        expandAlias("aff")
      end
		elseif ms.class["Assassin"] or ms.class["Renegade"] then 
			if eic then
				expandAlias("wsnb")
      elseif ms.save["group"] then
        expandAlias("gaf")
      elseif ms.save["dmg"] or dmg then
        expandAlias("dmg")
      elseif daf or afflict then
        expandAlias("daf")
      elseif (tl or ms.save["solo"]) then
        expandAlias("tl")
			end
		elseif ms.class["Summoner"] then 
			if dpf then
				expandAlias("dpf")
      elseif ms.save["group"] or group then
        expandAlias("enl")
      elseif ms.save["dmg"] or dmg then
        expandAlias("dmg")
			elseif ms.save["solo"] or afflict then
				expandAlias("taff")
			end
    elseif ms.class["Defiler"] then
      if ms.save["solo"] or afflict then
        expandAlias("aff")
      elseif ms.save["dmg"] or damage then
        expandAlias("dmg")
      elseif ms.save["group"] or group then
        expandAlias("gdmg")
      end
    elseif ms.class["Bard"] then
      if ms.save["group"] then
      elseif ms.save["dmg"] or dmg then
        expandAlias("sd")
      elseif ms.save["solo"] or afflict then
        expandAlias("sf")
      end
    elseif ms.class["Hunter"] then
      if ms.save["group"] or group then
        expandAlias("gaf")
      elseif ms.save["dmg"] or dmg then
        expandAlias("dmg")
      elseif ms.save["solo"] or afflict then
        if pb then
          expandAlias("pb")
        elseif tl then
          expandAlias("tl")
        else
          expandAlias("aff")
        end
      end
    end
  pta = false
end--healing
end--forceAtk</script>
						<eventHandlerList />
					</Script>
					<Script isActive="no" isFolder="no">
						<name>Cure Functions</name>
						<packageName></packageName>
						<script>  herbUsed = false
  focusUsed = false
  purgeUsed = false
  treeUsed = false
  salveUsed = false
  smokeUsed = false
  epUsed = false
  apUsed = false

function resetCures()
  herbUsed = false
  focusUsed = false
  purgeUsed = false
  treeUsed = false
  salveUsed = false
  smokeUsed = false
  epUsed = false
  apUsed = false
end

function herbCure()
  if not herb:find("juniper") and not herb:find("hyssop") and not herb:find("toadstool") then herbcd = true;tempTimer(1.5-getNetworkLatency(), [[herbcd = false]]) end
  cured = false
  if ms.afflicted["anorexia"] == "aff" then sys("&lt;green&gt;Anorexia") cecho("&lt;green&gt;CURED") end
  ms.afflicted["anorexia"] = "notaff"
  plant = herb
  if plant == "hyssop stem" then blind = true end
  
  for aff,state in ms.afflicted:pairs() do
  	affName = aff or ""
  	if state == "aff" then
  		if plant == "mandrake root" and spm and (aff == "poisoned mind" or aff == "ignorance" or aff == "hypochondria" or aff == "deadening" or aff == "heroism" or aff == "recklessness" or aff == "impatience") then
  			notaff(affName)
  			cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			return
  		elseif plant == "piece of kelp" and spk and (aff == "healthleech" or aff == "rigidity" or aff == "weariness" or aff == "clumsiness" or aff == "asthma") then
  			notaff(affName)
  			if aff == "asthma" and not fitnessUsed then instill = true end
  			cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			return
  		elseif plant == "wormwood root" and spww and (aff == "jinxed" or aff == "addiction" or aff == "entropy" or aff == "confusion" or aff == "ineptude" or aff == "paranoia"  or aff == "dementia" or aff == "hallucinations" or aff == "hypersomnia") then
  			notaff(affName)
  			cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			return
  		elseif plant == "maidenhair leaf" and spmh and (aff == "frostbite" or aff == "metrazol" or (aff == "sensitivity" and not glow) or aff == "numbness" or aff == "paralysis" or aff == "slickness") then
  			notaff(affName)
  			if aff == "slickness" and fitnessUsed then instill = true end
  			cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			return
  		elseif plant == "nightshade root" and (aff == "haemophilia" or aff == "dryblood" or aff == "lethargy" or aff == "burning nerves" or aff == "taint attunement" or aff == "nausea" or aff == "sulfonal") then
  			notaff(affName)
  			if aff == "nausea" then disableTimer("nausea") end
  			cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			return
  		elseif plant == "orphine seed" and (aff == "vertigo" or aff == "loneliness" or aff == "claustrophobia" or aff == "agoraphobia" or aff == "masochism") then
  			notaff(affName)
  			if aff == "masochism" then disableTimer("masochism") end
  			cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			return
  		elseif plant == "galingale flower" and (aff == "justice" or aff == "peace") then
  			notaff(affName)
  			cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			return
      elseif plant == "ginger root" and (aff == "poisoned blood" and not gutwyrm) then
  			if bp == 1 then 
          notaff("poisoned blood");bp = tonumber(0) 
        else
          bp = bp - 1
        end
  			cecho("\n&lt;red&gt;[ &lt;green&gt;Poisoned Blood &lt;red&gt;]: &lt;green&gt;CURED\n")
  			cured = true
  			forceAtk()
  			return
  		end
  	end
  end
  	if not cured then
  		for aff,state in ms.afflicted:pairs() do
  			if state == "aff" and not table.contains(ms.passives, aff) then
  				if plant ~= "juniper berry" and plant ~= "hyssop stem" and plant ~= "toadstool" then
  				  notaff(aff)
  			    cecho("\n&lt;red&gt;[ &lt;green&gt;"..affName:title().." &lt;red&gt;]: &lt;green&gt;CURED [Guess]\n")
  				  cured = true
  				  return
  				end
  			end
  		end
  	end
  if pta then enableTrigger("affPrompt") end
  herbUsed = false
  herb = ""
end

function focusCure()
  fob = true;disableTimer("fob");enableTimer("fob")
  kiyan = false
  cured = false
  if ms.afflicted["impatience"] == "aff" then 
  	ms.afflicted["impatience"] = "notaff"
  	sys("&lt;green&gt;Impatience") cecho("&lt;green&gt;CURED")
  end
  for aff,state in ms.afflicted:pairs() do
  	if state == "aff" then
  		if aff == "madness" or aff == "vertigo" or aff == "agoraphobia" or aff == "deadening" or aff == "hellsight" or aff == "addiction" or aff == "epilepsy" or aff == "confusion" or aff == "ignorance" or aff == "disloyalty" or aff == "claustrophobia" or aff == "paranoia" or aff == "dementia" or aff == "loneliness" or aff == "disloyalty" or aff == "stuttering" or aff == "hallucinations" or aff == "hypersomnia" or aff == "heroism" or aff == "recklessness" or aff == "anorexia" or aff == "masochism" or aff == "peace" then
  			ms.afflicted[aff] = "notaff"
  			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
  			if aff == "masochism" then disableTimer("masochism") end
        cured = true
  			return
  		end
  	end
  end
  	if not cured then
  		for aff,state in ms.afflicted:pairs() do
  			if state == "aff" and not table.contains(ms.passives, aff) then
  				ms.afflicted[aff] = "notaff"
  				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
  				cured = true;return
  			end
  		end
  	end
  if pta then enableTrigger("affPrompt") end
  focusUsed = false
end

function purgeCure()
  pbob = true;disableTimer("pbob");enableTimer("pbob")
  cured = false
  if ms.afflicted["hemotoxin"] == "aff" then 
  	ms.afflicted["hemotoxin"] = "notaff"
  	sys("&lt;green&gt;Hemotoxin") cecho("&lt;green&gt;CURED")
  end
  for aff,state in ms.afflicted:pairs() do
  	if state == "aff" then
  		if aff == "epilepsy" or aff == "weariness" or aff == "clumsiness" or aff == "slow herbs" or aff == "ineptude" or aff == "disloyalty" or aff == "slow balance" or aff == "slow equilibrium" or aff == "calotropis" or aff == "metrazol" or (aff == "sensitivity" and not glow) or aff == "disloyalty" or aff == "luminal" or aff == "recklessness" or aff == "slickness" or aff == "asthma" or aff == "anorexia" or aff == "numbness" or aff == "paralysis" or aff == "nausea" or aff == "sulfonal" then
  			ms.afflicted[aff]="notaff"
  			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
  			if aff == "nausea" then disableTimer("nausea") end
  			if aff == "asthma" and not fitnessUsed then instill = true end
  			if aff == "slickness" and fitnessUsed then instill = true end
        		cured = true
  			return
  		end
  	end
  end
  	if not cured then
  		for aff,state in ms.afflicted:pairs() do
  			if state == "aff" and not table.contains(ms.passives, aff) then
  				ms.afflicted[aff] = "notaff"
  				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
  				cured = true;return
  			end
  		end
  	end
  if pta then enableTrigger("affPrompt") end
  purgeUsed = false
end

function treeCure()
  tob = true;disableTimer("tree");enableTimer("tree")
  if ms.afflicted["numbness"] == "aff" then sys("&lt;green&gt;Numbness") cecho("&lt;green&gt;CURED") end
  ms.afflicted["numbness"]="notaff"
  if ms.afflicted["paralysis"] == "aff" then sys("&lt;green&gt;Paralysis") cecho("&lt;green&gt;CURED") end
  ms.afflicted["paralysis"]="notaff"
  for aff,state in ms.afflicted:pairs() do
  	if state == "aff" and not table.contains(ms.passives, aff) and aff ~= "numbness" and aff ~= "madness" and not table.contains(ms.passives, aff) then
  		ms.afflicted[aff] = "notaff"
  		sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
  		if aff == "asthma" and not fitnessUsed then instill = true end
  		if aff == "slickness" and fitnessUsed then instill = true end
  		return
  	end
  end
  if pta then enableTrigger("affPrompt") end
  treeUsed = false
end

function salveCure()
  cured = false
  if ms.afflicted["slickness"] == "aff" then sys("&lt;green&gt;Slickness") cecho("&lt;green&gt;CURED") end
  ms.afflicted["slickness"]="notaff"
  if fitnessUsed then instill = true end
  if ms.afflicted["shivering"] == "notaff" and ms.afflicted["frozen"] == "notaff" then tcal = true end
  for aff,state in ms.afflicted:pairs() do
  	if state == "aff" then
  		if aff == "frozen" or aff == "shivering" or aff == "slow herbs" or aff == "luminal" or aff == "stuttering" or aff == "calotropis" or aff == "anorexia" then
  			ms.afflicted[aff]="notaff"
  			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
  			cured = true;return
  		end
  	end
  end
  if pta then enableTrigger("affPrompt") end
  salveUsed = false
end

function smokeCure()
  cured = false
  for aff,state in ms.afflicted:pairs() do
  	if state == "aff" then
  		if matches[3] == "thick, musty smoke" and (aff == "aeon" or aff == "hellsight" or aff == "epilepsy" or aff == "slow equilibrium") then
  			ms.afflicted[aff]="notaff"
  			if aff == "aeon" then aeon = false end
  			sys("&lt;green&gt;"..aff:upper()) cecho("&lt;green&gt;CURED")
  			cured = true;return
  		elseif matches[3] == "light, bluish mist" and (aff == "disloyalty" or aff == "manaleech" or aff == "slow balance") then
  			ms.afflicted[aff]="notaff"
  			sys("&lt;green&gt;"..aff:upper()) cecho("&lt;green&gt;CURED")
  			cured = true;return
  		end
  	end
  end
  if pta then enableTrigger("affPrompt") end
  smokeUsed = false
end

function epCure()
  engineer = true
  cured = false
  for aff,state in ms.afflicted:pairs() do
  	if state == "aff" then
  		if aff == "epilepsy" or aff == "weariness" or aff == "clumsiness" or aff == "slow herbs" or aff == "ineptude" or aff == "disloyalty" or aff == "slow balance" or aff == "slow equilibrium" or aff == "calotropis" or aff == "metrazol" or (aff == "sensitivity" and not glow) or aff == "disloyalty" or aff == "luminal" or aff == "recklessness" or aff == "slickness" or aff == "asthma" or aff == "anorexia" or aff == "numbness" or aff == "paralysis" or aff == "nausea" or aff == "sulfonal" then
  			ms.afflicted[aff]="notaff"
  			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
  			if aff == "nausea" then disableTimer("nausea") end
  			if aff == "asthma" and not fitnessUsed then instill = true end
  			if aff == "slickness" and fitnessUsed then instill = true end
        		cured = true
  			return
  		end
  	end
  end
  	if not cured then
  		for aff,state in ms.afflicted:pairs() do
  			if state == "aff" and not table.contains(ms.passives, aff) then
  				ms.afflicted[aff] = "notaff"
  				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
  				cured = true;return
  			end
  		end
  	end
  if pta then enableTrigger("affPrompt") end
  epUsed = false
end

function apUsed()
  engineer = true
  cured = false
  for aff,state in ms.afflicted:pairs() do
  	if state == "aff" then
  		if aff == "madness" or aff == "vertigo" or aff == "agoraphobia" or aff == "deadening" or aff == "hellsight" or aff == "addiction" or aff == "epilepsy" or aff == "confusion" or aff == "ignorance" or aff == "disloyalty" or aff == "claustrophobia" or aff == "paranoia" or aff == "dementia" or aff == "loneliness" or aff == "disloyalty" or aff == "stuttering" or aff == "hallucinations" or aff == "hypersomnia" or aff == "heroism" or aff == "recklessness" or aff == "anorexia" or aff == "masochism" or aff == "peace" then
  			ms.afflicted[aff] = "notaff"
  			sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED")
  			if aff == "masochism" then disableTimer("masochism") end
        		cured = true
  			return
  		end
  	end
  end
  	if not cured then
  		for aff,state in ms.afflicted:pairs() do
  			if state == "aff" and not table.contains(ms.passives, aff) then
  				ms.afflicted[aff] = "notaff"
  				sys("&lt;green&gt;"..aff:title()) cecho("&lt;green&gt;CURED [Guess]")
  				cured = true;return
  			end
  		end
  	end
  if pta then enableTrigger("affPrompt") end
  apUsed = false
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Replace String with color</name>
						<packageName></packageName>
						<script>function ms.replace(system, string)
  selectCurrentLine() replace("")
  cecho(f(" &lt;red&gt;[ &lt;DimGrey&gt;{system}&lt;red&gt; ]: &lt;ivory&gt;{string}"))
  deselect()
  resetFormat()
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Defences</name>
						<packageName></packageName>
						<script>function showDef(skill, class)
  if skill == "current defences:" then
    selectCurrentLine()
    replace("")
    cecho(f("&lt;red&gt; [ &lt;cyan&gt;Defences &lt;red&gt;]:"))
  elseif class then
    selectCurrentLine()
    replace("")
    cecho(f("&lt;snow&gt;[{skill}] (&lt;green&gt;{class}&lt;snow&gt;)"))
  else
    selectCurrentLine()
    replace("")
    cecho(f("&lt;snow&gt;[{skill}]"))
  end
end

function qDef(skill, action)
  if not action then
    if not table.contains(ms.defApplied, skill) then table.insert(ms.def, skill) end
  else
    if not table.contains(ms.defApplied, skill) then table.insert(ms.def, action) end
  end
end

function ms.checkDef(defense, timeLeft)
  local class = gmcp.Char.Status.prof:lower()
  local defense = defense:lower()
  if timeLeft then
    if table.contains(ms.save["deflist"][class], defense) then
      showDef(defense.." ["..timeLeft.."]", gmcp.Char.Status.prof)
    else
      showDef(defense.." ["..timeLeft.."]")
    end
  elseif table.contains(ms.save["deflist"][class], defense) then
    showDef(defense, gmcp.Char.Status.prof)
  else
    showDef(defense)
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Installed Package</name>
						<packageName></packageName>
						<script>function msWelcome()
  fecho("MS Setup", "Welcome to Math's Combat System!!", "\(MS\)")
  sys("&lt;green&gt;MS Setup") cecho("&lt;snow&gt;Please type &lt;green&gt;ms help &lt;snow&gt;or &lt;green&gt;ms &lt;snow&gt;for further assistance and setup.\n\n")
  if io.exists(getMudletHomeDir().."/mssave.lua") then
    ms.save = {}
    table.load(getMudletHomeDir().."/mssave.lua", ms.save)
    msSaveDefault()
    ms.update = ms.save
    sys("MS Update") cecho("Updating system settings...")
    ms.save = table.update(ms.defaultSave, ms.update)
    sys("MS Update") cecho("&lt;green&gt;System settings update successful!")
  end
end

registerAnonymousEventHandler("sysInstallPackage", "msWelcome")</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>msLoad</name>
						<packageName></packageName>
						<script>function msLoad()
  startupMS()
end</script>
						<eventHandlerList>
							<string>sysLoadEvent</string>
						</eventHandlerList>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Quickdraw</name>
						<packageName></packageName>
						<script>function quickdraw(left, right)
  if ms.save["quickdraw"] then
    if right then
      return "quickdraw "..left.." "..right.." "..qd
    else
      return "quickdraw "..left.." "..qd
    end
  elseif qd == "left right" and right then
    return "unwield left"..s.."unwield right"..s.."wield "..left..""..s.."wield "..right
  else
    if right then
      return "unwield left"..s.."unwield right"..s.."wield "..right..""..s.."wield "..left
    else
      return "unwield left"..s.."unwield right"..s.."wield "..left
    end
  end
end

function quickdrawHunt(left, right)
  local lw = gmcp.Char.Vitals.leftwield
  local rw = gmcp.Char.Vitals.rightwield
  local lw_name = gmcp.Char.Vitals.leftwield_name
  local rw_name = gmcp.Char.Vitals.rightwield_name
  
  if (lw == "0" and rw == "0") or (lw_name ~= "shield" and rw_name ~= "shield") then
    if ms.save["quickdraw"] then
      if right then
        return "quickdraw "..left.." "..right.." "..qd
      else
        return "quickdraw "..left.." "..qd
      end
    elseif qd == "left right" and right then
      return "unwield left"..s.."unwield right"..s.."wield "..left..""..s.."wield "..right
    else
      if right then
        return "unwield left"..s.."unwield right"..s.."wield "..right..""..s.."wield "..left
      else
        return "unwield left"..s.."unwield right"..s.."wield "..left
      end
    end
  else
    return ''
  end
    
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Combat Message Functions</name>
						<packageName></packageName>
						<script>skills = {
  weaponmastery = {
    shred = "haemophilia",
  },
}

function affSkillCheck(skillset, skill)
  if table.contains(skills, skillset) then
    aff(skills[skillset][skill])
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Check Circle</name>
						<packageName></packageName>
						<script>circle = ""
ms.save["hunter_form"] = "wyvern"
function checkCircle()
  if ms.city == "Khandava" or ms.city == "Stavenn" then
    circle = "demonic"
    ms.save["hunter_form"] = "Weaver"
  elseif ms.city == "Antioch" or ms.city == "Ithaqua" then
    circle = "antimagick"
    ms.save["hunter_form"] = "Naga"
  elseif ms.city == "Kinsarmar" or ms.city == "Celidon" then
    circle = "magick"
    ms.save["hunter_form"] = "Wyvern"
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>copyCmd</name>
						<packageName></packageName>
						<script>function copyCmd(_, cmd)
  lastCmd = cmd
end</script>
						<eventHandlerList>
							<string>sysDataSendRequest</string>
						</eventHandlerList>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Solo/Dmg/Group Function</name>
						<packageName></packageName>
						<script>function sdg(input)
  local cmd = input:lower()
  if cmd == "solo" then
    ms.save["solo"] = true
    ms.save["dmg"] = false
    ms.save["group"] = false
    sys("&lt;green&gt;MS Solo") cecho("&lt;snow&gt;Set to &lt;cyan&gt;Solo")
  elseif cmd == "dmg" then
    ms.save["solo"] = false
    ms.save["dmg"] = true
    ms.save["group"] = false
    sys("&lt;green&gt;MS Damage") cecho("&lt;snow&gt;Set to &lt;red&gt;Damage")
  elseif cmd == "group" then
    ms.save["solo"] = false
    ms.save["dmg"] = false
    ms.save["group"] = true
    sys("&lt;green&gt;MS Group") cecho("&lt;snow&gt;Set to &lt;green&gt;Group")
  else
    sys("&lt;red&gt;Error") cecho("&lt;snow&gt;Wrong Input")
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Is afflicted/is not afflicted</name>
						<packageName></packageName>
						<script>function ia(affliction)
  if ms.afflicted[affliction] == "aff" then
    return true
  else
    return false
  end
end

function ina(affliction)
  if ms.afflicted[affliction] == "notaff" then
    return true
  else
    return false
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Sort by Keys</name>
						<packageName></packageName>
						<script>function pairsByKeys(t, f)
      local a = {}
      for n in pairs(t) do table.insert(a, n) end
      table.sort(a, f)
      local i = 0      -- iterator variable
      local iter = function ()   -- iterator function
        i = i + 1
        if a[i] == nil then return nil
        else return a[i], t[a[i]]
        end
      end
      return iter
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Assassin Function WSL</name>
						<packageName></packageName>
						<script>function wsl()
  send("queue eqbal worm create");send("queue eqbal worm attach demonic");send("queue eqbal worm summon lamia");send("queue eqbal demon protect");send("queue eqbal order loyals follow me")
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Movement</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Apply defenses</name>
						<packageName></packageName>
						<script>-- function ad(def_name, class, action, ti)
  -- if ti then
    -- if not table.contains(ms.defApplied, def_name) and ms.save["deflist"][class][def_name] then table.insert(ms.def, action) end
  -- elseif action then
    -- if not table.contains(ms.defApplied, def_name) and ms.save["deflist"][class][def_name] then send(action) end
  -- else
    -- if not table.contains(ms.defApplied, def_name) and ms.save["deflist"][class][def_name] then send(def_name) end
  -- end
-- end

function applyDefGeneral()
  for skill, ans in pairs(ms.save["deflist"]["general"]) do
    if ans["state"] and not table.contains(ms.defApplied, skill) then
      if ans["action"] then
        send(ans["action"])
      elseif ans["queue"] then
        local varType = type(ans["queue"])
        if varType == "string" then
          table.insert(ms.def, ans["queue"]:lower())
        elseif varType == "function" then
          ans["queue"]()
        end
      end
    end
  end
end

function applyDefClass()
  prof = gmcp.Char.Status.prof:lower()
  if ms.save["deflist"][prof] then
    for skill, ans in pairs(ms.save["deflist"][prof]) do
      if ans["state"] and not table.contains(ms.defApplied, skill) then
        if ans["action"] then
          send(ans["action"])
        elseif ans["queue"] then
          local varType = type(ans["queue"])
          if varType == "string" then
            table.insert(ms.def, ans["queue"]:lower())
          elseif varType == "function" then
            ans["queue"]()
          end
        end
      end
    end
  else
    sys("&lt;red&gt;Error") cecho("&lt;DimGray&gt;Class not added to MS yet")
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Set Class</name>
						<packageName></packageName>
						<script>function msSetClass()
  for k,v in pairs(ms.class) do
		if gmcp.Char.Status.prof == tostring(k) then
			enableAlias(tostring(k))
			enableTrigger(tostring(k))
			ms.class[k] = true
		else
			disableAlias(tostring(k))
			disableTrigger(tostring(k))
			ms.class[k] = false
		end		
	end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Update UI</name>
						<packageName></packageName>
						<script>function updateUI()
  setTextSize()
  charStat()
  statc()
  affWindow()
  roomList()
  gatherpeople()
  showpeople()
  checkCircle()
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Label UI</name>
						<packageName></packageName>
						<script>function lui(t_name)
    t_ui = {
      ["afflictions"] = {x=p(ww, 8), y=p(wh, 75)},
      ["toggles"] = {x=p(ww, 8), y=p(wh, 38)},
      ["healthmana"] = {x=p(ww, 33), y=p(wh, 86)},
      ["map"] = {x=p(ww, 86), y=p(wh, 59)},
      ["roominfo"] = {x=p(ww, 86), y=p(wh, 81)},
      ["selfaffs"] = {x=p(ww, 1), y=p(wh, 51)},
      ["skills"] = {x=p(ww, 12), y=p(wh, 51)},
      ["prompt"] = {x=p(ww, 55), y=p(wh, 86)},
      ["targetinfo"] = {x=p(ww, 37), y=p(wh, 90)},
      ["roomitems"] = {x=p(ww, 86), y=p(wh, 33)},
      ["charstats"] = {x=p(ww, 86), y=p(wh, 11)},
      ["chat"] = {x=p(ww, 8), y=p(wh, 11)},
    }
  createLabel(t_name.."_ui", t_ui[t_name].x, t_ui[t_name].y, 50, 50, 1)
  echo(t_name.."_ui", [[&lt;p style="font-size:25px"&gt;&lt;b&gt;&lt;center&gt;&lt;font color="yellow"&gt;]]..uwc..[[&lt;/font&gt;&lt;/center&gt;&lt;/b&gt;&lt;/p&gt;]])
end

function dui()
  local t_ui = {
    "afflictions",
    "toggles",
    "healthmana",
    "map",
    "roominfo",
    "selfaffs",
    "skills",
    "prompt",
    "targetinfo",
    "roomitems",
    "charstats",
    "chat",
  }
  for _,name in pairs(t_ui) do
    deleteLabel(name.."_ui")
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Percentage Calculation</name>
						<packageName></packageName>
						<script>function p(numb, perc)
  local f_n = tonumber(numb)
  local f_p = tonumber(perc)
  local calc = math.floor((f_n*f_p)/100)
  return calc
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Smithing Items</name>
						<packageName></packageName>
						<script>ms.smithing = {}
ms.smithing.weapons = {
  "club",
  "dirk",
  "spear",
  "halberd",
  "shortsword",
  "handaxe",
  "bardiche",
  "dagger",
  "whip",
  "morningstar",
  "glaive",
  "warhammer",
  "sabre",
  "javelin",
  "flail",
  "trident",
  "battleaxe",
  "claymore",
  "lance",
  "joustinglance",
  "scimitar",
  "broadsword",
  "longsword",
}
ms.smithing.ingots = {
  ["shovel"]      = 2,
  ["talons"]      = 2,
  ["pike"]        = 2,
  ["club"]        = 1,
  ["dirk"]        = 2,
  ["spear"]       = 4,
  ["halberd"]     = 9,
  ["shortsword"]  = 2,
  ["handaxe"]     = 3,
  ["bardiche"]    = 9,
  ["dagger"]      = 1,
  ["whip"]        = 1,
  ["morningstar"] = 6,
  ["glaive"]      = 4,
  ["warhammer"]   = 5,
  ["sabre"]       = 5,
  ["javelin"]     = 4,
  ["flail"]       = 6,
  ["trident"]     = 4,
  ["battleaxe"]   = 7,
  ["claymore"]    = 9,
  ["lance"]       = 7,
  ["scimitar"]    = 8,
  ["broadsword"]  = 8,
  ["longsword"]   = 8,
  ["leatherarmour"]    = 3,
  ["ringmail"]         = 4,
  ["leathervambraces"] = 2,
  ["leathergreaves"]   = 3,
  ["leatherhelm"]      = 2,
  ["scalemail"]        = 6,
  ["chainmail"]        = 12,
  ["chainvambraces"]   = 3,
  ["chaingreaves"]     = 4,
  ["chainhelm"]        = 3,
  ["splintmail"]       = 18,
  ["platevambraces"]   = 4,
  ["plategreaves"]     = 5,
  ["platehelm"]        = 4,
  ["fieldplate"]       = 34,
  ["fullplate"]        = 80,
  ["buckler"] = 1,
  ["cavalry"] = 1,
  ["banded"]  = 2,
  ["kite"]    = 5,
  ["tower"]   = 9,
}</script>
						<eventHandlerList />
					</Script>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>Var ID's and Tables</name>
					<packageName></packageName>
					<script></script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>ID List</name>
						<packageName></packageName>
						<script>fontSize = ms.save["fontSize"]
ww, wh = getMainWindowSize()

ms.deflist = {
["moon tattoo"] = true,
["moss tattoo"] = true,
["boar tattoo"] = true,
nightfall = true,
necrosis = true,
clarity = true,
skywatch = true,
shroud = true,
waterwalking = true,
waterbreathing = true,
stoneskin = true,
windveil = true,
shimmer = true,
density = true,
fenugreek = true,
contortionism = true,
selfrb = true,
insomnia = true,
tenemecy = true,
myrrh = true,
nightsight = true,
vitality = true,
thirdeye = true,
mindseye = true,
cloak = true,
hood = true,
bandages = true,
celerity = true,
deathsight = true,
befuddle = true,
alertness = true,
quince = true,
caloric = true,
levitating = true,
venom = true,
temperance = true,
curseward = true,
speed = true,
distortion = true,
warmth = true,
lifevision = true,
vengeance = true,
deathaura = true,
demonarmor = true,
demonregen = true,
putrefaction = true,
soulmask = true,
weathering = true,
resistance = true,
gripping = true,
fitness = true,
hide = true,
harden = true,
pacing = true,
weaving = true,
ghost = true,
shrugging = true,
["demon protect"] = true,
lipreading = true,
["wyvern scales"] = true,
camouflage = true,
}

toxCured = {}
ms.roomItems = {}
ms.def = {}
ms.defApplied = {}

hide = false
harden = false
pacing = false
weaving = false
ghost = false
shrugging = false
demonprotect = false
necrosis = false
clarity = false
skywatch = false
telesense = false
shroud = false
waterwalking = false
torch = false
waterbreathing = false
stoneskin = false
windveil = false
shimmer = false
density = false
fenugreek = false
contortionism = false
selfrb = false
insomnia = false
tenemecy = false
myrrh = false
nightsight = false
vitality = false
demonregen = false
thirdeye = false
mindseye = false
vigilance = false
nightfall = false
cloak = false
hood = false
bandages = false
celerity = false
deathsight = false
befuddle = false
hypersight = false
alertness = false
quince = false
caloric = false
levitating = false
venom = false
temperance = false
curseward = false
speed = false
distortion = false
warmth = false
lifevision = false
vengeance = false
deathaura = false
demonarmor = false
putrefaction = false
soulmask = false
weathering = false
resistance = false
gripping = false
fitness = false

ms.defCheck = {
  "demon protect",
  "caloric salve",
  "heightened speed",
  "sprinting",
  "blind",
  "insomnia",
  "density",
  "quince",
  "shroud",
  "hide",
  "weaving",
  "harden",
  "pacing",
  "ghost",
  "bandages",
  "metawake",
  "shrugging",
  "clarity",
  "anti-weapon field",
  "deaf",
  "boar tattoo",
  "moss tattoo",
  "moon tattoo",
  "levitating",
  "venom",
  "temperance",
  "curseward",
  "fenugreek",
  "enhanced learning",
  "alertness",
  "lifevision",
  "cloak",
  "mindseye",
  "tenemecy",
  "skywatch",
  "nightsight",
  "third eye",
  "celerity",
  "deathsight",
}</script>
						<eventHandlerList>
							<string>gmcp.Char.Status.prof</string>
							<string>GMCP</string>
						</eventHandlerList>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Startup/Reset</name>
						<packageName></packageName>
						<script>function msReset()
  -- smithing
  forge = false

  --Misc
  harvest_queued = false
  shardarea_name = ''
  body = ""
  ui = false
  force_capture = false
  ms.trooms = {}
  exitList = {}
  saf = tonumber(0)
  tik = false
  s = ms.save["separator"]
  mssHold = tonumber(0)
  tlock = false
  hk = false
  caloric = true
  frostheart = false
  lastCured = ""
    herbUsed = false
    purgeUsed = false
    focusUsed = false
    treeUsed = false
    salveUsed = false
    smokeUsed = false
    epUsed = false
    apUsed = false
    cureUsed = false
  ttd = false
  blackwind = false
  tth = tonumber(600)
  shieldUsed = tonumber(0)
  channeling = false
  mmp.game = "imperian"
  fontSize = calcFontSize(8)
  rbHit = false
  
  Transfer = false
  bardTransfer = false
  aktc = tonumber(0)
  bpCheck = false
  dblCrips = false
  res = true
  digging = false
  restore = false
  toadstool = true
  belief = tonumber(0)
  paf = ""
  shot = ""
  trackLocate = false
  trackTarget = ""
  targetAreaCheck = ""
  dos = false
  inGroup = false
  engineer = false
  priest = false
  crn = ""
  rn = ""
  block = false
  monk = false
  poc = false
  summoner = false
  ba = tonumber(0)
  eleMono = tonumber(0)
  ccd = false
  
  --limbs
  crl = false
  cll = false
  cra = false
  cla = false
  drl = false
  dll = false
  dra = false
  dla = false
  gat = false
  gaf = false
  drr = false
  afr = false
  bt = false
  limbBreaker = false
  sol = tonumber(0)
  soa = tonumber(0)
  mlh = ""
  tl1 = ""
  tl2 = ""
  llt = false
  llb = false
  llm = false
  lat = false
  lab = false
  lam = false
  rlt = false
  rlb = false
  rlm = false
  rat = false
  rab = false
  ram = false
  llHit = tonumber(0)
  laHit = tonumber(0)
  rlHit = tonumber(0)
  raHit = tonumber(0)
  llBP = tonumber(0)
  laBP = tonumber(0)
  rlBP = tonumber(0)
  raBP = tonumber(0)
  
  chilled = tonumber(0)
  brokenTorso = false
  impaled = false
  charged = false
  card = ""
  shuffle = false
  eic = false
  dpf = false
  reserves = true
  cmh = true
  cmm = true
  hammer = true
  batter = false
  bomb = false
  bombGiver = ""
  toxShrugged = ""
  openDoor = true
  wRoom = ""
  bhc = false
  defiler = false
  runeguard = false
  creature = "None"
  monolith = false
  joust = false
  mage = false
  bard = false
  shaman = false
  resetPets = false
  toxUsed = ""
  affName = ""
  rbhit = false
  tumbling = false
  indoors = false
  outrider = false
  barked = tonumber(0)
  zerker = false
  amazon = false
  diabolist = false
  assassin = false
  dmg = false
  trooms = {}
  loc = "khandava"
  group = false
  paralysis = false
  hk = false
  qf = ""
  afflictedNum = tonumber(0)
  switch = ""
  fitnessUsed = false
  ll = false
  akTimer = false
  autoKill = false
  fvb = false
  skies = false
  ikname = ""
  action = ""
  arteryShot = false
  relax = false
  reckless = false
  reflections = false
  ablaze = false
  
  --Pet table
  trainpet = ""
  petskills = {}
  
  --Berserker
  zerk_weaken = false
  zerk_susceptible = false
  zerk_enhanced = false
  zerk_crush = false
  zerk_elusion = false
  zerk_beguile = false
  zerk_eviscerate = false
  zerk_spurn = false
  zerk_shake = false
  zerk_shake_cd = false
  zerk_rage = false
  zerk_focus_cd = false
  zerk_focus = false
  zerk_warchant_cd = false

  
  --Druid
  earth = earth or tonumber(0)
  air = air or tonumber(0)
  golem_attacking = false
  reinforce = ""
  wisp_cooldown = false
  oppression = false
  disableTimer("Druid Shock")
  druid_shock = false
  druid_earthquake = false
  tornado = false
  owcd = false
  overwhelm = false
  disableTimer("cursed")
  cursed = false
  absorbed = false
  circling = false
  hawthornRoot = true
  elderRoot = true
  beechRoot = true
  willowRoot = true
  golem = true
  
  --Priest
  kanai_cost = "off"
  seraph_sear = false
  seraph_sw = false
  priest_alacrity = false
  kanai_incense = kanai_incense or {}
  sap_mana = false
  bo = false
  kt = false
  kb = false
  pc = true
  
  --Runeguard
  wunjo = true
  pithakhan = true
  nauthiz = true
  sleizak = true
  inguz = true
  sowulu = true
  loshre = true
  nairat = true
  eihwaz = true
  hugalaz = true
  kestrel = false
  lightning = true
  flame = true
  knife = true
  snowflake = true
  bolt = true
  
  --Hunter
  pb = false
  tl = false
  instability = false
  diseased = false
  wAtk = ""
  bAtk = ""
  moonaura = false
  waff = false
  group = false
  transfer = false
  probe = false
  tcc = tonumber(0)
  insanity = false
  pm = false
  shockUsed = false
  deadened = false
  shocked = false
  fire = tonumber(0)
  ice = tonumber(0)
  bm = false
  bmc = tonumber(0)
  bp = tonumber(0) 
  triggerSet = false
  triggerCount = tonumber(0)
  snare = false
  
  --Defiler
  psysap = false
  transmission = false
  tempest = false
  entropy = tonumber(0)
  treant = true
  whirl = true
  elder = false
  blackthorn = false
  willow = false
  hazel = false
  hawthorn = false
  birch = false
  honeysuckle = false
  seed = ""
  bloodrain = false
  entangled = false
  gutwyrm = false
  shadow = false
  shadowKilled = false
  shadowCD = false
  
  --Assassin/Renegade
  engulf_tick = false
  spectre = false
  lamia = false
  enthrall = false
  ptox = false
  snapped = false
  scTime = tonumber(0)
  suggestCount = tonumber(0)
  dispel = false
  sulfonal = false
  obscure = false
  becloud = "worm attach tundra"..s.."worm freeze "..creature
  fenugreek = true
  useBlizzard = false
  swiftAttach = true
  blizzard = false
  spk = true
  spmh = true
  spm = true
  spww = true
  shrugcd = false
  confound = true
  instill = true
  fakeplant = ""
  spcd = false
  annihilateCount = tonumber(0)
  shadowherb = ""
  shadowplant = false
  sealed = false
  seal = false
  engulfed = false
  hypcount = 1
  shrugToxin = "hemotoxin"
  toxinShrugged = toxinShrugged or ""
  if ms.class["Assassin"] or ms.class["Renegade"] then send("shrug hemotoxin") end
  cobra = true
  wloc = wloc or "None"
  snap = false
  hypnotised = false
  
  --Diabolist
  enveloped = false
  pp = false
  nightcurseCD = false
  disruption = false
  eWraith = false
  sunused = false
  sunset = tonumber(0)
  glow = false
  wall = true
  intensified = false
  damageType = ""
  useBark = false
  moonhit = false
  maldmg = false
  nfo = false
  sunc = tonumber(0)
  bark = true
  sunaff = false
  suncd = false
  repset = false
  msset = false
  sensset = false
  repfull = false
  sensfull = false
  spiderfull = false
  spiderset = false
  balanceset = false
  balancefull = false
  boneset = false
  bonefull = false
  tresist = true
  fsc = tonumber(0)
  msc = tonumber(0)
  fireshield = true
  magickshield = true
  drr = false
  afr = false
  sun = true
  sunhit = false
  moon = true
  moonset = tonumber(0)
  magickset = false
  lightningset = false
  iceset = false
  magickfull = false
  lightningfull = false
  icefull = false
  night = false
  wraith = true
  fiery = tonumber(0)
  glowing = tonumber(0)
  vigorous = tonumber(0)
  whispering = tonumber(0)
  translucent = tonumber(0)
  reflective = tonumber(0)
  ethereal = tonumber(0)
  midnight = tonumber(0)
  disfigure = ""
  breachCheck = false
  essence = tonumber(0)
  dcath = false
  dtype = "none"
  md = false
  eeaf = false
  eeaff = false
  inf = "none"
  gmc = true
  icd = false
  infirmity = false
  inflammation = false
  decay = false
  cath = true
  sap = false
  br = false
  dht = ""
  sleeping = false
  tlcall = false
  sshunt = true
  ss = false
  sst = ""
  dsear = false
  mi = tonumber(0)
  ki = tonumber(0)
  oi = tonumber(0)
  wi = tonumber(0)
  mhi = tonumber(0)
  po = false
  peacecd = false
  stain = false
  infcount = tonumber(0)
  orphinei = false
  mandrakei = false
  maidenhairi = false
  kelpi = false
  wormwoodi = false
  cw = true
  dhunt = true
  fiendatk = true
  fiend = false
  ghast = false
  lich = false
  wight = false
  aph = true
  
  --Deathknight
  anitype = anitype or "Unknown"
  swa = "none"
  spdwalkarea = false
  shardclot = false
  ukaf = tonumber(0)
  atk = ""
  pta = false
  rc = ""
  move = ""
  tcal = true
  healtype = ""
  resally = false
  gbody = false
  anitar = ""
  pullarrow = false
  rpl = false
  parriedlimb = ""
  tranger = false
  mononame = "reset"
  monotime = tonumber(0)
  wort = true
  slowebal = false
  metrazol = false
  torso = false
  tparried = false
  ms.afflictions = {}
  qd = "right left"
  lyre = false
  hbt = false
  pbob = false
  fob = false
  tob = false
  clt = true
  ms.def = {}
  ph = false
  fcount = tonumber(0)
  guard = false
  bact = false
  baction = ""
  rtog = true
  ik = false
  herbcd = false
  expandAlias("clearcrits", false)
  afflicted = tonumber(0)
  chop = false
  qq = false
  tprone = false
  deaf = true
  deadbuff = tonumber(0)
  mass = false
  asthma = false
  undeaf = false
  sipped = false
  ulb = true
  sipmalus = false
  sunder = false
  sundertarget = ""
  sunderdir = ""
  ablaze = false
  hty = false
  htr = tonumber(0)
  ht = ""
  ghh = ""
  waff = false
  eaff = false
  eqb = tonumber(0)
  dps = tonumber(0)
  maff = false
  sdmg = false
  cp = ""
  primary = ""
  secondary = ""
  stripmass = false
  draincd = false
  transfixed = false
  blind = true
  clumsy = false
  moved = false
  sludge = false
  hunttime = false
  escaping = false
  ht = true
  gba = false
  slba = false
  fatigue = tonumber(0)
  augment = tonumber(0)
  noecho = false
  scourge = false
  calcify = false
  ko = false
  sidesmash = false
  icicles = false
  drain = false
  sunallergy = false
  lb = false
  fat = tonumber(0)
  wat = tonumber(0)
  eat = tonumber(0)
  aat = tonumber(0)
  crystal = false
  geis = false
  shardarea = false
  learn = false
  toxin = false
  tdef = false
  deft = "none"
  kiyan = false
  slb = true
  sfs = 0
  prism = false
  rfp = false
  bandit = false
  friend = "none"
  et = true
  w1a = "yoth"
  w2a = "nuarinyu"
  w1d = "yoth"
  w2d = "shaite"
  sla = "sketchlink engage"
  ii = false
  clot = true
  myried = false
  hp = tonumber(100)
  mp = tonumber(100)
  affs = tonumber(0)
  utcaller = "none"
  brl = false
  bll = false
  bla = false
  bra = false
  drl = false
  dll = false
  dra = false
  dla = false
  crl = false
  cll = false
  cra = false
  cla = false
  trueassess = true
  revelation = false
  bash = false
  mount = false
  dryblood = false
  haemophilia = false
  shardfall = false
  unknown = tonumber(0)
  iengage = true
  parry = true
  engage = true
  ssb = false
  rebuff = false
  pl = "right leg"
  oyiem = false
  bashv = "false"
  anote = "ta"
  if target == nil then target = "None" else target = target end
  creature = "none"
  ptar = "none"
  redosongs = true
  healing = true
  resonance = tonumber(0)
  resnum = tonumber(24)
  yothed = false
  varaye = false
  rb = false
  shield = false
  cl = false
  dnote = "ta"
  ink = "ciguatoxin"
  we = false
  calltarget = false
  calltargetv = "false"
  usetarget = false
  usetargetv = "false"
  -- cph()
  
  --Summoner
  jc = tonumber(0)
  justiceCheck = false
  justiceGood = false
  du = false
  intensify = false
  lhc = tonumber(0)
  death = tonumber(0)
  fling = ""
  si = ""
  ashcloud = false
  ro = true
  enlcount = tonumber(0)
  fool = false
  speed = true
  aeon = false
  jt = true
  taint = tonumber(0)
  wms = false
  wm = false
  scount = tonumber(0)
  dcadmus = false
  moonaff = ""
  tcard = "justice"
  fcad = true
  smoked = false
  hierophant = false
  clarity = true
  incinerate = false
  ulb = true
  skyrax = true
  rixil = true
  eerion = true
  arctar = true
  scrag = true
  pyradius = true
  dameron = true
  palpatar = true
  nin = true
  istria = true
  marduk = true
  belial = true
  buul = true
  cadmus = true
  piridon = true
  danaeus = true
  lyncantha = true
  hecate = true
  golgotha = true
  
  --Shaman
  pf = ""
  disableTimer("prophecy failure")
  disableTimer("prophecy wasting")
  disableTimer("prophecy rejection")
  marked = false
  shaman_confound = false
  disableTimer("shaman confound")
  ignited = false
  prophecy_wasting_cooldown = false
  prophecy_rejection_cooldown = false
  prophecy_doom_cooldown = false
  prophecy_cooldown = false
  prophecy_failure = false
  prophecy_failure_cooldown = false
  
  --DK
  chill = true
  wAtk = ""
  draining = true
  rending = true
  soulquench = true
  fleshburn = true
  negating = true
  teeth = true
  agony = true
  tbleed = tonumber(0)
  bleeddsl = false
  bleed2dsl = false
  matk = ""
  eng = ""
  qdw = ""
  ddsl = false
  bdsl = false
  rebounded = false
  hound = false
  trembled = false
  bruised = false
  thit = tonumber(0)
  tht = tonumber(0)
  pbp = tonumber(0)
  ms.hound = {}
  ms.phantom = {}
  houndel = ""
end

function startupMS()

msReset()

sys("Priority") cecho("&lt;red&gt;Health")
send("aph", false)
send("autocuring health 80"..s.."autocuring mana 75", false)

expandAlias("mc");tempTimer(1, [[expandAlias("mc")]])
end

</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Affliction Variables</name>
						<packageName></packageName>
						<script>ms.afflictions = {}
ms.passives = {
"sulfonal",
"stupidity",
"sunallergy",
"butisol",
"dizziness",
"ablaze",
"hemotoxin",
"disfigurement",
"peace",
"rigidity",
"gutwyrm",
"poisoned blood",
"stun",
"an unknown affliction"
}
pbob = false
fob = false
herbcd = false
afflicted = tonumber(0)
tprone = false
deaf = true
mass = false
undeaf = false
sipped = false
slickness = false</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Hunting Rooms</name>
						<packageName></packageName>
						<script>ms.crawlers = {
"27210",
"27211",
"27212",
"27213",
"27214",
"27215",
"27216",
"27217",
"27218",
"27219",
"27220",
"27221",
"27222",
"27223",
"27224",
"27225",
"27226",
"27227",
"27228",
"27229",
"27230",
"27231",
"27232",
"27233",
"27234",
"27235",
"27236",
"27237",
"27238",
"27239",
"27240",
"27241",
"27242",
"27243",
"27244",
"27245",
"27246",
"27247",
"27248",
"27249",
"27250",
"27251",
"27252",
"27253",
"27254",
"27255",
"27256",
"27257",
"27258",
"27259",
"27260",
"27261",
"27262",
"27263",
"27264",
"27265",
"27266",
"27267",
"27268",
"27269",
"27270",
"27271",
"27272",
"27273",
"27274",
"27275",
"27276",
"27277",
"27278",
"27279",
"27280",
"27281",
"27282",
"27283",
"27284",
"27285",
"27286",
"27287",
"27288",
"27289",
"27290",
"27291",
"27292",
"27293",
"27294",
"27295",
"27296",
"27297",
"27298",
"27299",
"27300",
"27301",
"27302",
"27303",
"28067",
}
--
ms.creepers = {

"16431",
"16432",
"16433",
"16434",
"16435",
"16436",
"16437",
"16438",
"16439",
"16440",
"16441",
"16442",
"16443",
"16444",
"16445",
"16446",
"16447",
"16448",
"16449",
"16450",
"16451",
"16452",
"16453",
"16454",
"16455",
"16456",
"16457",
"16458",
"16459",
"16460",
"16461",
"16462",
"16463",
"16464",
"16465",
"16466",
"16467",
"16468",
"16469",
"16470",
"16471",
"16472",
"16473",
"16474",
"16475",
"16476",
"16477",
"16478",
"16479",
"16480",
"16481",
"16482",
"16483",
"16484",
"16485",
"16486",
"16487",
"16488",
"16489",
"16490",
"16491",
"16492",
"16493",
"16494",
"16495",
"16496",
"16497",
"16498",
"16499",
"16500",
"16501",
"16502",
"16503",
"16504",
"16505",
"16506",
"16507",
"16508",
"16509",
"16510",
"16511",
"16512",
"16513",
"16514",
"16515",
"16516",
"16517",
"16518",
"16519",
"16520",
"16521",
"16522",
"16523",
"16524",
"16525",
"16526",
"16527",
"16528",
"16529",
"16530",
"16531",
"16430",
}
--
ms.dp = {
"22744",
"22745",
"22746",
"22747",
"22748",
"22749",
"22750",
"22751",
"22752",
"22753",
"22754",
"22755",
"22756",
"22757",
"22758",
"22759",
"22760",
"22761",
"22762",
"22763",
"22764",
"22765",
"22766",
"22767",
"22768",
"22769",
"22770",
"22771",
"22772",
"22773",
"22774",
"22775",
"22776",
"22777",
"22778",
"22779",
"22780",
"22781",
"22782",
"22783",
"22784",
"22785",
"22786",
"22787",
"22788",
"22789",
"22790",
"22791",
"22792",
"22793",
"22794",
"22795",
"22796",
"22797",
"22798",
"22799",
"22800",
"22801",
"22802",
"22803",
"22804",
"22805",
"22806",
"22807",
"22808",
"22809",
"22810",
"22811",
"22812",
"22813",
"22814",
"22815",
"22816",
"22817",
"22818",
"22819",
"22820",
"22821",
"22822",
"22823",
"22824",
"22826",
"22827",
"22828",
"22829",
"22824"
}

ms.gongen = {
"8783",
"9216",
"9221",
"9883",
"9884",
"9885",
"9886",
"9889",
"9890",
"9891",
"9892",
"9893",
"9894",
"9895",
"9896",
"9897",
"9898",
"9899",
"9900",
"9901",
"9902",
"9903",
"9904",
"9905",
"9906",
"9907",
"9908",
"9909",
"9910",
"9911",
"9912",
"9913",
"9915",
"9916",
"9917",
"9919",
"9920",
"9921",
"9922",
"9923",
"9924",
"9925",
"9926",
"9927",
"9928",
"9929",
"8777"
}

ms.nagiri = {

"20943",
"20944",
"20945",
"20946",
"20947",
"20948",
"20949",
"20950",
"20951",
"20952",
"20953",
"20954",
"20955",
"20956",
"20957",
"20958",
"20959",
"20960",
"20961",
"20962",
"20963",
"20964",
"20965",
"20966",
"20968",
"20969",
"20970",
"20971",
"20942"
}

ms.serpents = {

"14130",
"14131",
"14132",
"14133",
"14137",
"14138",
"14140",
"14143",
"14144",
"14145",
"14146",
"14147",
"14148",
"14149",
"14150",
"14151",
"14152",
"14153",
"14154",
"14155",
"14156",
"14157",
"14158",
"14159",
"14160",
"14161",
"14162",
"14163",
"14164",
"14165",
"14166",
"14167",
"14168",
"14169",
"14170",
"14171",
"14172",
"14174",
"14175",
"14176",
"14177",
"14178",
"14179",
"14180",
"14181",
"14182",
"14184",
"14186",
"28064",
"14129"
}</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Afflicted</name>
						<packageName></packageName>
						<script>ms = ms or {}
ms.trooms = ms.trooms or {}
ms.afflicted = ol(
{justice = "notaff"},
{disfigurement = "notaff"},
{haemophilia = "notaff"},
{["taint attunement"] = "notaff"},
{aeon = "notaff"},
{["burning nerves"] = "notaff"},
{["poisoned mind"] = "notaff"},
{pacifism = "notaff"},
{hallucinations = "notaff"},
{hellsight = "notaff"},
{hypersomnia = "notaff"},
{hypochondria = "notaff"},
{addiction = "notaff"},
{entropy = "notaff"},
{rigidity = "notaff"},
{dryblood = "notaff"},
{confusion = "notaff"},
{metrazol = "notaff"},
{disloyalty = "notaff"},
{deadening = "notaff"},
{["slow balance"] = "notaff"},
{["slow equilibrium"] = "notaff"},
{ineptude = "notaff"},
{penance = "notaff"},
{manaleech = "notaff"},
{healthleech = "notaff"},
{frostbite = "notaff"},
{["slow herbs"] = "notaff"},
{["slow elixirs"] = "notaff"},
{calotropis = "notaff"},
{paranoia = "notaff"},
{dementia = "notaff"},
{claustrophobia = "notaff"},
{agoraphobia = "notaff"},
{weariness = "notaff"},
{ignorance = "notaff"},
{clumsiness = "notaff"},
{lethargy = "notaff"},
{sulfonal = "notaff"},
{vertigo = "notaff"},
{epilepsy = "notaff"},
{anorexia = "notaff"},
{slickness = "notaff"},
{asthma = "notaff"},
{paralysis = "notaff"},
{numbness = "notaff"},
{sensitivity = "notaff"},
{hemotoxin = "notaff"},
{impatience = "notaff"},
{["recurring freezing"] = "notaff"},
{shivering = "notaff"},
{frozen = "notaff"},
{heroism = "notaff"},
{madness = "notaff"},
{stupidity = "notaff"},
{recklessness = "notaff"},
{dizziness = "notaff"},
{sunallergy = "notaff"},
{masochism = "notaff"},
{nausea = "notaff"},
{butisol = "notaff"},
{peace = "notaff"},
{cyanide = "notaff"},
{ablaze = "notaff"},
{disruption = "notaff"},
{["wisp poison"] = "notaff"},
{["crippled right leg"] = "notaff"},
{["crippled left leg"] = "notaff"},
{["crippled right arm"] = "notaff"},
{["crippled left arm"] = "notaff"},
{["poisoned blood"] = "notaff"}
)

ms.affList = {
"crippled right leg",
"crippled left leg",
"crippled right arm",
"crippled left arm",
"disfigurement",
"haemophilia",
"taint attunement",
"aeon",
"burning nerves",
"hallucinations",
"hellsight",
"hypersomnia",
"hypochondria",
"addiction",
"entropy",
"rigidity",
"dryblood",
"confusion",
"metrazol",
"disloyalty",
"slow balance",
"slow equilibrium",
"ineptude",
"manaleech",
"healthleech",
"slow herbs",
"slow elixirs",
"calotropis",
"paranoia",
"dementia",
"claustrophobia",
"agoraphobia",
"weariness",
"ignorance",
"clumsiness",
"sulfonal",
"vertigo",
"epilepsy",
"anorexia",
"slickness",
"asthma",
"paralysis",
"numbness",
"sensitivity",
"hemotoxin",
"impatience",
"shivering",
"frozen",
"heroism",
"justice",
"rigidity",
"madness",
"stupidity",
"recklessness",
"dizziness",
"sunallergy",
"masochism",
"nausea",
"butisol",
"peace",
"cyanide",
"ablaze",
"disruption",
}

function passive()
for aff,state in ms.afflicted:pairs() do
	if state == "aff" and not table.contains(ms.passives, aff) then
		notaff(aff)
		return
	end
end
end

function ribwort()
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		ms.afflicted[aff]="notaff"
		sys("&lt;green&gt;Passive") cecho("&lt;green&gt;"..aff:title().." CURED")
		return
	end
end
end

function spearwort()
for aff,state in ms.afflicted:pairs() do
	if state == "aff" then
		ms.afflicted[aff]="notaff"
		sys("&lt;green&gt;Passive") cecho("&lt;green&gt;"..aff:title().." CURED")
		return
	end
	if state == "aff" then
		ms.afflicted[aff]="notaff"
		sys("&lt;green&gt;Passive") cecho("&lt;green&gt;"..aff:title().." CURED")
		return
	end
end
end

function moonwort()
for aff,state in ms.afflicted:pairs() do
	ms.afflicted[aff] = "notaff"
end
end

function affcount()
	local pastcount = acount
	acount = tonumber(0)
	scount = tonumber(0)
	if ukaf &lt; 0 then ukaf = tonumber(0) end
	for aff,state in ms.afflicted:pairs() do
		if state == "aff" then
			acount = acount + 1
				if table.contains(ms.summoner.enlighten, aff) then
					scount = scount + 1
				end
		end
	end
	if ms.afflicted["confusion"] == "notaff" then ms.afflicted["disruption"] = "notaff" end
	-- acount = acount + ukaf
	if pastcount ~= acount then disableTimer("affreset") end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Hunt Table</name>
						<packageName></packageName>
						<script>ms.ignoreRooms = {
28335,
28336,
28337,
22743,
28737,
28738,
28739,
28740,
28741,
9936,
9937,
9938,
9717,
1568,
1901,
30210,
23200,
23199,
23198,
23193,
23192,
23189,
23190,
23185,
23182,
23186,
23183,
23191,
23187,
23194,
23196,
23197,
23195,
23181,
23184,
23188,
23180,
23179,
23178,
23177,
23176,
23175,
12551,
8661,
9932,
9933,
9934,
9935,
9936,
9937,
9938,
9939,
}
ms.hunt = {}
ms.huntRooms = {}

function moveHunt()
	if #ms.huntRooms &gt; 0 then
		table.remove(ms.huntRooms, 1)
		if hunttime then 
			if #ms.huntRooms &gt; 0 then tempTimer(5, [[expandAlias("goto "..ms.huntRooms[1])]]) end
		else 
			if #ms.huntRooms &gt; 0 then expandAlias("goto "..ms.huntRooms[1]) end
		end
	end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>toxin list</name>
						<packageName></packageName>
						<script>ms.toxlist = {}
ms.toxins = {
"aconite",
"arsenic",
"aspartame",
"atropine",
"avidya",
"benzedrine",
"benzene",
"botulinum",
"bromine",
"butisol",
"calotropis",
"chloroform",
"ciguatoxin",
"cyanide",
"digitalis",
"dioxin",
"ether",
"formaldehyde",
"hemotoxin",
"iodine",
"ketamine",
"lindane",
"luminal",
"mazanor",
"mebaral",
"mercury",
"metrazol",
"noctec",
"opium",
"oxalis",
"psilocybin",
"strychnine",
"sulfonal",
"trioxin",
"veratrum",
"vitriol",
"xeroderma",
}</script>
						<eventHandlerList />
					</Script>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>Windows</name>
					<packageName></packageName>
					<script></script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>Target and Toggle Console</name>
						<packageName></packageName>
						<script>cc = Geyser.MiniConsole:new({
name = "cc",
x = "0%", y = "36%",
width = "23%", height = "28%",
color = "black",
})
cc:setFontSize(fontSize+ms.save["windows"]["toggles"])

function ccspace(name)
ccspacec = 11 - string.len(name)
echo("cc", string.rep(" ", ccspacec))
end

function ccspaceon()
echo("cc", "   ")
end

function ccspaceoff()
echo("cc", "  ")
end

res = res or false
function ccw() clearWindow("cc")
ccWidth = cc:getColumnCount()
cecho("cc", "&lt;SteelBlue&gt;"..string.rep("-", ccWidth))
cecho("cc", "\n&lt;SteelBlue&gt;Creature: &lt;grey&gt;"..creature)
if usetarget then cecho("cc", "\n&lt;SteelBlue&gt;Use-Target: ") ccspace("Use-Target") echoLink("cc", "ON", [[usetarget = false ccw()]], "Toggle off") ccspaceon() else cecho("cc", "\n&lt;SteelBlue&gt;Use-Target: ") ccspace("use-target") echoLink("cc", "OFF", [[usetarget = true ccw()]], "Toggle on") ccspaceoff() end
if calltarget then cecho("cc", "&lt;SteelBlue&gt;Call-Target: ") ccspace("Call-Target") echoLink("cc", "ON", [[calltarget = false ccw()]], "Toggle off") else cecho("cc", "&lt;SteelBlue&gt;Call-Target: ") ccspace("call-target") echoLink("cc", "OFF", [[calltarget = true ccw()]], "Toggle on") end
if bash then cecho("cc", "\n&lt;SteelBlue&gt;Bash: ") ccspace("Bash") echoLink("cc", "ON", [[bash = false ccw()]], "Toggle off") ccspaceon() else cecho("cc", "\n&lt;SteelBlue&gt;Bash: ") ccspace("bash") echoLink("cc", "OFF", [[bash = true ccw()]], "Toggle on") ccspaceoff() end
if prism then cecho("cc", "&lt;SteelBlue&gt;Prism: ") ccspace("prism") echoLink("cc", "ON", [[prism = false ccw()]], "Toggle off") else cecho("cc", "&lt;SteelBlue&gt;Prism: ") ccspace("prism") echoLink("cc", "OFF", [[prism = true ccw()]], "Toggle on") end
if sharding then cecho("cc", "\n&lt;SteelBlue&gt;Sharding: ") ccspace("sharding") echoLink("cc", "ON", [[sharding = false ccw()]], "Toggle off") ccspaceon() else cecho("cc", "\n&lt;SteelBlue&gt;Sharding: ") ccspace("sharding") echoLink("cc", "OFF", [[sharding = true ccw()]], "Toggle on") ccspaceoff() end
if shardfall then cecho("cc", "&lt;SteelBlue&gt;Shardfall: ") ccspace("shardfall") echoLink("cc", "ON", [[shardfall = false ccw()]], "Toggle off") else cecho("cc", "&lt;SteelBlue&gt;Shardfall: ") ccspace("shardfall") echoLink("cc", "OFF", [[shardfall = true ccw()]], "Toggle on") end
if parry then cecho("cc", "\n&lt;SteelBlue&gt;Parry: ") ccspace("parry") echoLink("cc", "ON", [[parry = false ccw()]], "Toggle off") ccspaceon() else cecho("cc", "\n&lt;SteelBlue&gt;Parry: ") ccspace("parry") echoLink("cc", "OFF", [[parry = true ccw()]], "Toggle on") ccspaceoff() end
if ms.save['ring'] then cecho("cc", "&lt;SteelBlue&gt;Ring: ") ccspace("Ring") echoLink("cc", "ON", [[ring = false ccw()]], "Toggle off") else cecho("cc", "&lt;SteelBlue&gt;Ring: ") ccspace("ring") echoLink("cc", "OFF", [[ring = true ccw()]], "Toggle on") end
if res then cecho("cc", "\n&lt;SteelBlue&gt;Resurrect: ") ccspace("resurrect") echoLink("cc", "ON", [[res = false ccw()]], "Toggle off") ccspaceon() else cecho("cc", "\n&lt;SteelBlue&gt;Resurrect: ") ccspace("resurrect") echoLink("cc", "OFF", [[res = true ccw()]], "Toggle on") ccspaceoff() end
if ms.save['arena'] then cecho("cc", "&lt;SteelBlue&gt;Arena: ") ccspace("arena") echoLink("cc", "ON", [[arena = false ccw()]], "Toggle off") else cecho("cc", "&lt;SteelBlue&gt;Arena: ") ccspace("arena") echoLink("cc", "OFF", [[arena = true ccw()]], "Toggle on") end
cecho("cc", "\n\n&lt;SteelBlue&gt;"..string.rep("-", ccWidth))
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Map</name>
						<packageName></packageName>
						<script>--485 left, 50 bottom, 120 wrapwidth

igmap = Geyser.MiniConsole:new({
name = "igmap",
x = "-20%", y = "-55%",
width = "15%", height = "32%",
color = "black",
})
igmap:setFontSize(fontSize+ms.save["windows"]["map"])

people = Geyser.MiniConsole:new({
name = "people",
x = "-20%", y = "-21%",
width = "15%", height = "11%",
color = "black",
})
people:setFontSize(fontSize)
people:enableAutoWrap()

function gatherpeople()
ms.people = {}
	for k,v in pairs(gmcp.Room.Players) do
		table.insert(ms.people, v.name) 
	end
end

function setDir(dir)
  if table.contains(ms.exits, dir) then
    cecho("people", "&lt;SteelBlue&gt;[&lt;ivory&gt;"..string.format("%2s", dir).."&lt;SteelBlue&gt;]")
  else
    cecho("people", "&lt;SteelBlue&gt;[&lt;DimGray&gt;"..string.format("%2s", "  ").."&lt;SteelBlue&gt;]")
  end
end

function p_s()
  cecho("people", " ")
end

function udio()
  udio_array = ol(
    {["u"] = "up"},
    {["d"] = "down"},
    {["i"] = "in"},
    {["o"] = "out"}
  )
  for k,v in udio_array:pairs() do
    if table.contains(ms.exits, v) then
      cecho("people", "&lt;snow&gt;"..k)
    else
      cecho("people", " ")
    end
  end
end

function showpeople() 
	clearWindow("people")
	cecho("people", "&lt;SteelBlue&gt;[&lt;DimGrey&gt;"..gmcp.Room.Info.area:title().."&lt;SteelBlue&gt;] (&lt;DimGrey&gt;"..gmcp.Room.Info.num.."&lt;SteelBlue&gt;) {&lt;DimGrey&gt;"..gmcp.Room.Info.details[1]:title().."&lt;SteelBlue&gt;}")
  cecho("people", "\n&lt;SteelBlue&gt;Exits: \n\n")
  setDir("nw");p_s();setDir("n");p_s();setDir("ne")
  cecho("people", "   &lt;SteelBlue&gt;Outdoors: ");if table.contains(gmcp.Room.Info.details, "outdoors") then cecho("people", "&lt;green&gt;Yes") else cecho("people", "&lt;red&gt;No") end;cecho("people", "\n")
  setDir("w");cecho("people", "&lt;SteelBlue&gt;[");udio();cecho("people", "&lt;SteelBlue&gt;]");setDir("e");cecho("people", "\n")
  setDir("sw");p_s();setDir("s");p_s();setDir("se")
  cecho("people", "\n\n&lt;SteelBlue&gt;People: ")
  if #ms.people &lt;= 10 then
    cecho("people", "&lt;ivory&gt;"..table.concat(ms.people, ", "))
  else
    cecho("people", "&lt;snow&gt;Over &lt;yellow&gt;"..tostring(#ms.people).." &lt;snow&gt;People")
  end
	if gmcp.Room.Info.num == 2251 and #ms.allies &lt;= 0 then expandAlias("msr") end
	ms.enemies = {}
	for _,name in pairs(ms.people) do
		if not table.contains(ms.allies, name) then table.insert(ms.enemies, name) end
	end 
end
</script>
						<eventHandlerList>
							<string>gmcp.Room</string>
						</eventHandlerList>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Health/Mana</name>
						<packageName></packageName>
						<script>hbar = Geyser.Gauge:new({
  name="hbar",
  x="25%", y="92%",
  width="9.5%", height="2%",
  color ="dark_green",
})
  hbar:setFontSize(fontSize+ms.save["windows"]["hbar"])
hbar:setValue(100, 100, [[&lt;font color="black"&gt;&lt;b&gt;Health (100%)&lt;/b&gt;&lt;/font&gt;]])
mbar = Geyser.Gauge:new({
  name="mbar",
  x="35%", y="92%",
  width="9.5%", height="2%",
  color = "SteelBlue",
})
  mbar:setFontSize(fontSize+ms.save["windows"]["mbar"])
mbar:setValue(100, 100, [[&lt;font color="black"&gt;&lt;b&gt;Mana (100%)&lt;/b&gt;&lt;/font&gt;]])
</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Status Consoles</name>
						<packageName></packageName>
						<script>statusconsole = Geyser.MiniConsole:new({
name = "statusconsole",
x = "0%", y = "50%",
width = "11%", height = "12%",
color = "black",
})

statusconsole2 = Geyser.MiniConsole:new({
name = "statusconsole2",
x = "10%", y = "50%",
width = "11%", height = "12%",
color = "black",
})

statusconsole3 = Geyser.MiniConsole:new({
name = "statusconsole3",
x = "25%", y = "95%",
width = "50%", height = "1.5%",
color = "black",
})

statusconsole4 = Geyser.MiniConsole:new({
name = "statusconsole4",
x = "45%", y = "92%",
width = "30%", height = "3%",
color = "black",
})


  statusconsole:setFontSize(fontSize+ms.save["windows"]["scOne"])
  statusconsole2:setFontSize(fontSize+ms.save["windows"]["scTwo"])
  statusconsole3:setFontSize(fontSize+ms.save["windows"]["scThree"])
  statusconsole4:setFontSize(fontSize+ms.save["windows"]["scFour"])

ms.class = {
Bard = false,
Berserker = false,
Shaman = false,
Druid = false,
Templar = false,
Monk = false,
Priest = false,
Amazon = false,
Ranger = false,
Predator = false,
Outrider = false,
Engineer = false,
Assassin = false,
Renegade = false,
Summoner = false,
Diabolist = false,
Deathknight = false,
Mage = false,
Runeguard = false,
Defiler = false,
Hunter = false
}

profs = {
"Bard",
"Berserker",
"Shaman",
"Druid",
"Templar",
"Monk",
"Priest",
"Amazon",
"Ranger",
"Predator",
"Outrider",
"Engineer",
"Assassin",
"Renegade",
"Summoner",
"Diabolist",
"Deathknight",
"Mage",
"Runeguard",
"Defiler",
"Hunter"
}

function statc() clearWindow("statusconsole");clearWindow("statusconsole2");clearWindow("statusconsole3");clearWindow("statusconsole4")
  essence = essence or "0"
	cecho("statusconsole4", "&lt;SteelBlue&gt;B:&lt;red&gt;"..bleed)
	cecho("statusconsole4", " &lt;tan&gt;E:"..gmcp.Char.Vitals.endurance.."&lt;ivory&gt;\/&lt;tan&gt;"..gmcp.Char.Vitals.max_endurance)
	if ms.class["Deathknight"] then cecho("statusconsole4", " &lt;SteelBlue&gt;E:&lt;purple&gt;"..tostring(essence)) end
  if ms.class["Berzerker"] then cecho("statusconsole4", " &lt;SteelBlue&gt;R:&lt;red&gt;"..gmcp.Char.Vitals.rage.."&lt;snow&gt;%") end
	if gmcp.Char.Vitals.eq == "1" then cecho("statusconsole4", " &lt;cyan&gt;[EQ]") else cecho("statusconsole4", " &lt;DimGrey&gt;[EQ]") end
	if gmcp.Char.Vitals.bal == "1" then cecho("statusconsole4", " &lt;yellow&gt;[BAL]") else cecho("statusconsole4", " &lt;DimGrey&gt;[BAL]") end
	if gmcp.Char.Vitals.deaf == "1" then cecho("statusconsole4", " &lt;ivory&gt;d") else cecho("statusconsole4", " &lt;DimGrey&gt;d") end
	if gmcp.Char.Vitals.blind == "1" then cecho("statusconsole4", "&lt;ivory&gt;b") else cecho("statusconsole4", "&lt;DimGrey&gt;b") end
	if healing then cecho("statusconsole4", " &lt;ivory&gt;[&lt;green&gt;H&lt;ivory&gt;]") else cecho("statusconsole4", " &lt;ivory&gt;[&lt;red&gt;H&lt;ivory&gt;]") end
	if lyre then cecho("statusconsole4", " &lt;red&gt;[&lt;yellow&gt;LYRE&lt;red&gt;]") end
	if gravehands then cecho("statusconsole4", " &lt;ivory&gt;[&lt;purple&gt;GH&lt;ivory&gt;]") end
	if belch then cecho("statusconsole4", " &lt;ivory&gt;[&lt;purple&gt;Belch&lt;ivory&gt;]") end
    if ms.save["group"] then cecho("statusconsole4", " &lt;ivory&gt;[&lt;green&gt;Group&lt;ivory&gt;]")
    elseif ms.save["dmg"] then cecho("statusconsole4", " &lt;ivory&gt;[&lt;red&gt;Damage&lt;ivory&gt;]")
    else cecho("statusconsole4", " &lt;ivory&gt;[&lt;cyan&gt;Solo&lt;ivory&gt;]") 
    end
  if ms.afflicted["paralysis"] == "aff" then cecho("statusconsole4", "&lt;ivory&gt;[&lt;yellow&gt; "..target.." PARALYZED&lt;ivory&gt;]") end
	cecho("statusconsole4", "&lt;snow&gt; TARGET =&gt; &lt;red&gt;[&lt;gold&gt;"..target.."&lt;red&gt;]")
  cecho("statusconsole4", f" &lt;red&gt;{hp}&lt;DimGrey&gt;% &lt;cyan&gt;{mp}&lt;DimGrey&gt;%")
	cecho("statusconsole", "&lt;SteelBlue&gt;Class:     &lt;DimGrey&gt;"..gmcp.Char.Status.prof)
	cecho("statusconsole", "\n&lt;SteelBlue&gt;Self-Affs: ")
			if #ms.afflictions &lt; 3 then cecho("statusconsole", "&lt;green&gt;"..#ms.afflictions)
			elseif #ms.afflictions &lt;= 5 then cecho("statusconsole", "&lt;yellow&gt;"..#ms.afflictions)
			elseif #ms.afflictions &gt;= 6 then cecho("statusconsole", "&lt;red&gt;"..#ms.afflictions)
			end
	cecho("statusconsole", "\n&lt;SteelBlue&gt;Left Arm:  ")
		if dla then cecho("statusconsole", "&lt;red&gt;Damaged") else cecho("statusconsole", "&lt;green&gt;Good") end
	cecho("statusconsole", "\n&lt;SteelBlue&gt;Right Arm: ")
		if dra then cecho("statusconsole", "&lt;red&gt;Damaged") else cecho("statusconsole", "&lt;green&gt;Good") end
	cecho("statusconsole", "\n&lt;SteelBlue&gt;Left Leg:  ")
		if dll then cecho("statusconsole", "&lt;red&gt;Damaged") else cecho("statusconsole", "&lt;green&gt;Good") end
	cecho("statusconsole", "\n&lt;SteelBlue&gt;Right Leg: ")
		if drl then cecho("statusconsole", "&lt;red&gt;Damaged") else cecho("statusconsole", "&lt;green&gt;Good") end
		if ms.class["Bard"] then
	cecho("statusconsole2", "&lt;SteelBlue&gt;Geis:         ");if geis then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Lamia:        ");if lamia then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Earthquake:   ");if earthquake then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Bedazzlement: ");if bedazzlement then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Revelation:   ");if revelation then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Dissonance:   ");if dissonance then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Cruel Lament: ");if cl then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
  cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ");if (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["anorexia"] == "aff" then cecho("statusconsole3", "&lt;green&gt;LOCKED");tlock = true else cecho("statusconsole3", "&lt;red&gt;NOT-LOCKED");tlock = false;tlcall = true end
  cecho("statusconsole3", " | &lt;SteelBlue&gt;Resonance: &lt;cyan&gt;[&lt;red&gt;"..resonance.."&lt;cyan&gt;]")
  if varaye then cecho("statusconsole3", " &lt;cyan&gt;[&lt;red&gt;Varaye Active&lt;cyan&gt;]") end
    elseif ms.class["Hunter"] then
  fire = tonumber(gmcp.Char.Vitals.fire) or tonumber(0)
  ice = tonumber(gmcp.Char.Vitals.ice) or tonumber(0)
  cecho("statusconsole2", "&lt;cyan&gt;Ice: &lt;ivory&gt;        "..ice)
  cecho("statusconsole2", "\n&lt;red&gt;Fire: &lt;ivory&gt;       "..fire)
  cecho("statusconsole2", "\n&lt;yellow&gt;Triggers:  &lt;ivory&gt;  "..triggerCount)
  cecho("statusconsole2", "\n&lt;green&gt;Disease:     ");if diseased then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;purple&gt;Deaden:      ");if deadened then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;ivory&gt;Shocked:     ");if shocked then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;DimGrey&gt;Instability: ");if instability then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;purple&gt;Insanity:    ");if insanity then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
  cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ");if (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["anorexia"] == "aff" then cecho("statusconsole3", "&lt;green&gt;LOCKED");tlock = true else cecho("statusconsole3", "&lt;red&gt;NOT-LOCKED");tlock = false;tlcall = true end
  cecho("statusconsole3", " | &lt;SteelBlue&gt;Brainmelt: &lt;green&gt;"..bmc)
  cecho("statusconsole3", " | &lt;red&gt;Bloodpoison: &lt;ivory&gt;"..bp)
	cecho("statusconsole3", " | ");if snare then cecho("statusconsole3", "&lt;green&gt;Snare") else cecho("statusconsole3", "&lt;DimGray&gt;Snare") end
		elseif ms.class["Mage"] then
	cecho("statusconsole2", "&lt;SteelBlue&gt;Fire:    &lt;red&gt;"..fat)
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Water:   &lt;blue&gt;"..wat)
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Earth:   &lt;brown&gt;"..eat)
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Air:     &lt;cyan&gt;"..aat)
	echo("statusconsole2", "\n")
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Calcify: ");if calcify then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Sludge:  ");if sludge then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	cecho("statusconsole3", " | &lt;SteelBlue&gt;");if icicles then cecho("statusconsole3", "&lt;cyan&gt;Icicles") else cecho("statusconsole3", "&lt;red&gt;Icicles") end	
	cecho("statusconsole3", " | &lt;SteelBlue&gt;");if firecircle then cecho("statusconsole3", "&lt;red&gt;Fire-O") else cecho("statusconsole3", "&lt;DimGrey&gt;Fire-O") end	
    elseif ms.class["Druid"] then
  cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
  cecho("statusconsole3", " | &lt;chocolate&gt;Earth: &lt;yellow&gt;"..earth)
  cecho("statusconsole3", " | &lt;cyan&gt;Air: &lt;yellow&gt;"..air)
  cecho("statusconsole2", "&lt;chocolate&gt;Earthquake: ");if druid_earthquake then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;cyan&gt;Oppression: ");if oppression then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;yellow&gt;Tornado:    ");if tornado then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;snow&gt;Circling:   ");if circling then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;purple&gt;Overwhelm:  ");if overwhelm then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;yellow&gt;Shock:      ");if druid_shock then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
    elseif ms.class["Templar"] then
  cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
  cecho("statusconsole3", " | &lt;cyan&gt;Devotion: &lt;snow&gt;"..gmcp.Char.Vitals.devotion)
    elseif ms.class["Priest"] then
  cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
  cecho("statusconsole3", " | &lt;yellow&gt;Fanatism: &lt;magenta&gt;"..gmcp.Char.Vitals.fanatism)
  cecho("statusconsole3", " | &lt;cyan&gt;Devotion: &lt;snow&gt;"..gmcp.Char.Vitals.devotion)
  cecho("statusconsole2", "&lt;yellow&gt;Alacrity:      ");if priest_alacrity then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;green&gt;Obliviousness: &lt;red&gt;"..kanai_cost:title())
  cecho("statusconsole2", "\n&lt;red&gt;Burning: \n");cecho("statusconsole2", "&lt;snow&gt;"..table.concat(kanai_incense, "&lt;snow&gt;\n"))
		elseif ms.class["Summoner"] then
	cecho("statusconsole2", "&lt;SteelBlue&gt;Enlighten:   &lt;green&gt;"..scount)
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Taint:       &lt;purple&gt;"..taint)
	cecho("statusconsole2", "\n")
	if arctar then cecho("statusconsole2", "&lt;ivory&gt;Arc") else cecho("statusconsole2", "&lt;DimGrey&gt;Arc") end
	cecho("statusconsole2", "   ")
	if belial then cecho("statusconsole2", "&lt;ivory&gt;Bel") else cecho("statusconsole2", "&lt;DimGrey&gt;Bel") end
	cecho("statusconsole2", "   ")
	if buul then cecho("statusconsole2", "&lt;ivory&gt;Bul") else cecho("statusconsole2", "&lt;DimGrey&gt;Bul") end
	cecho("statusconsole2", "\n")
	if cadmus then cecho("statusconsole2", "&lt;ivory&gt;Cad") else cecho("statusconsole2", "&lt;DimGrey&gt;Cad") end
	cecho("statusconsole2", "   ")
	if dameron then cecho("statusconsole2", "&lt;ivory&gt;Dam") else cecho("statusconsole2", "&lt;DimGrey&gt;Dam") end
	cecho("statusconsole2", "   ")
	if danaeus then cecho("statusconsole2", "&lt;ivory&gt;Dan") else cecho("statusconsole2", "&lt;DimGrey&gt;Dan") end
	cecho("statusconsole2", "\n")
	if eerion then cecho("statusconsole2", "&lt;ivory&gt;Eer") else cecho("statusconsole2", "&lt;DimGrey&gt;Eer") end
	cecho("statusconsole2", "   ")
	if golgotha then cecho("statusconsole2", "&lt;ivory&gt;Gol") else cecho("statusconsole2", "&lt;DimGrey&gt;Gol") end
	cecho("statusconsole2", "   ")
	if hecate then cecho("statusconsole2", "&lt;ivory&gt;Hec") else cecho("statusconsole2", "&lt;DimGrey&gt;Hec") end
	cecho("statusconsole2", "\n")
	if lyncantha then cecho("statusconsole2", "&lt;ivory&gt;Lyn") else cecho("statusconsole2", "&lt;DimGrey&gt;Lyn") end
	cecho("statusconsole2", "   ")
	if marduk then cecho("statusconsole2", "&lt;ivory&gt;Mar") else cecho("statusconsole2", "&lt;DimGrey&gt;Mar") end
	cecho("statusconsole2", "   ")
	if palpatar then cecho("statusconsole2", "&lt;ivory&gt;Pal") else cecho("statusconsole2", "&lt;DimGrey&gt;Pal") end
	cecho("statusconsole2", "\n")
	if pyradius then cecho("statusconsole2", "&lt;ivory&gt;Pyr") else cecho("statusconsole2", "&lt;DimGrey&gt;Pyr") end
	cecho("statusconsole2", "   ")
	if rixil then cecho("statusconsole2", "&lt;ivory&gt;Rix") else cecho("statusconsole2", "&lt;DimGrey&gt;Rix") end
	cecho("statusconsole2", "   ")
	if scrag then cecho("statusconsole2", "&lt;ivory&gt;Scr") else cecho("statusconsole2", "&lt;DimGrey&gt;Scr") end
	cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	cecho("statusconsole3", " | ");if ashcloud then cecho("statusconsole3", "&lt;gray&gt;Ashcloud") else cecho("statusconsole3", "&lt;DimGray&gt;Ashcloud") end
	cecho("statusconsole3", " | ");if incinerate then cecho("statusconsole3", "&lt;red&gt;Incinerate") else cecho("statusconsole3", "&lt;DimGray&gt;Incinerate") end
	cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ");if (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["anorexia"] == "aff" then cecho("statusconsole3", "&lt;green&gt;LOCKED");tlock = true else cecho("statusconsole3", "&lt;red&gt;NOT-LOCKED");tlock = false;tlcall = true end
		elseif ms.class["Defiler"] then
	cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	cecho("statusconsole3", " | &lt;SteelBlue&gt;Entropy: &lt;green&gt;"..entropy)
	cecho("statusconsole3", " | ");if bloodrain then cecho("statusconsole3", "&lt;red&gt;Incinerate") else cecho("statusconsole3", "&lt;DimGray&gt;Bloodrain") end
  cecho("statusconsole2", "&lt;SteelBlue&gt;Ash:          ");if ash then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;SteelBlue&gt;Birch:        ");if birch then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Blackthorn:   ");if blackthorn then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Elder:        ");if elder then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Hawthorn:     ");if hawthorn then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;SteelBlue&gt;Honeysuckle:  ");if honeysuckle then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
  cecho("statusconsole2", "\n&lt;SteelBlue&gt;Willow:       ");if willow then cecho("statusconsole2", "&lt;green&gt;Up") else cecho("statusconsole2", "&lt;red&gt;Down") end
		elseif ms.class["Diabolist"] then
	cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	if wall then cecho("statusconsole3", " | &lt;green&gt;[WALL]") else cecho("statusconsole3", " | &lt;DimGrey&gt;[WALL]") end
	cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ");if (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["anorexia"] == "aff" then cecho("statusconsole3", "&lt;green&gt;LOCKED");tlock = true else cecho("statusconsole3", "&lt;red&gt;NOT-LOCKED");tlock = false;tlcall = true end
	if ethereal &gt; 0 then cecho("statusconsole2", "&lt;SteelBlue&gt;Ethereal:     &lt;ivory&gt;"..ethereal) end
	if fiery &gt; 0 then cecho("statusconsole2", "\n&lt;SteelBlue&gt;Fiery:        &lt;ivory&gt;"..fiery) end
	if glowing &gt; 0 then cecho("statusconsole2", "\n&lt;SteelBlue&gt;Glowing:      &lt;ivory&gt;"..glowing) end
	if midnight &gt; 0 then cecho("statusconsole2", "\n&lt;SteelBlue&gt;Midnight:     &lt;ivory&gt;"..midnight) end
	if reflective &gt; 0 then cecho("statusconsole2", "\n&lt;SteelBlue&gt;Reflective:   &lt;ivory&gt;"..reflective) end
	if translucent &gt; 0 then cecho("statusconsole2", "\n&lt;SteelBlue&gt;Translucent:  &lt;ivory&gt;"..translucent) end
	if whispering &gt; 0 then cecho("statusconsole2", "\n&lt;SteelBlue&gt;Whispering:   &lt;ivory&gt;"..whispering) end
	if vigorous &gt; 0 then cecho("statusconsole2", "\n&lt;SteelBlue&gt;Vigorous:    &lt;ivory&gt;"..vigorous) end	
		elseif ms.class["Assassin"] or ms.class["Renegade"] then
	cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ");if (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["anorexia"] == "aff" then cecho("statusconsole3", "&lt;green&gt;LOCKED");tlock = true else cecho("statusconsole3", "&lt;red&gt;NOT-LOCKED");tlock = false;tlcall = true end
	cecho("statusconsole2", "&lt;SteelBlue&gt;Shrugging:   &lt;green&gt;"..toxinShrugged:title())
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Wormhole:    "..wloc)
  cecho("statusconsole2", "\n&lt;SteelBlue&gt;Engulfed:    ");if engulfed then cecho("statusconsole2", "&lt;red&gt;Active") else cecho("statusconsole2", "&lt;DimGray&gt;Inactive") end
  cecho("statusconsole2", "\n&lt;SteelBlue&gt;Hypnotised:  ");if hypnotised then cecho("statusconsole2", "&lt;green&gt;Active") else cecho("statusconsole2", "&lt;DimGray&gt;Inactive") end
  cecho("statusconsole2", "\n&lt;SteelBlue&gt;Sealed:      ");if sealed then cecho("statusconsole2", "&lt;cyan&gt;Active") else cecho("statusconsole2", "&lt;DimGray&gt;Inactive") end
    if not wloc:find("Volcano") then engulfed = false end
    elseif ms.class["Runeguard"] then
  cecho("statusconsole2", "&lt;gold&gt;Nairat:    ");if nairatGround then cecho("statusconsole2", "&lt;green&gt;Here") else cecho("statusconsole2", "&lt;red&gt;Not Here") end
  cecho("statusconsole2", "\n&lt;yellow&gt;Inguz:     ");if inguzGround then cecho("statusconsole2", "&lt;green&gt;Here") else cecho("statusconsole2", "&lt;red&gt;Not Here") end
  cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	cecho("statusconsole3", " | &lt;SteelBlue&gt;Bleed: &lt;red&gt;"..tbleed)
  cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ")
    elseif ms.class["Berserker"] then
  cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
  cecho("statusconsole3", " | &lt;red&gt;Rage: &lt;snow&gt;"..gmcp.Char.Vitals.rage)
  cecho("statusconsole2", "&lt;cyan&gt;Weakened:    ");if zerk_weaken then cecho("statusconsole2", "&lt;green&gt;Active") else cecho("statusconsole2", "&lt;DimGray&gt;Inactive") end
  cecho("statusconsole2", "\n&lt;snow&gt;Enhanced:    ");if zerk_enhanced then cecho("statusconsole2", "&lt;green&gt;Active") else cecho("statusconsole2", "&lt;DimGray&gt;Inactive") end
  cecho("statusconsole2", "\n&lt;green&gt;Susceptible: ");if zerk_susceptible then cecho("statusconsole2", "&lt;green&gt;Active") else cecho("statusconsole2", "&lt;DimGray&gt;Inactive") end
  cecho("statusconsole2", "\n&lt;yellow&gt;Crushed:     ");if zerk_crush then cecho("statusconsole2", "&lt;green&gt;Active") else cecho("statusconsole2", "&lt;DimGray&gt;Inactive") end
    elseif ms.class["Shaman"] then
  cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ");if (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["anorexia"] == "aff" then cecho("statusconsole3", "&lt;green&gt;LOCKED");tlock = true else cecho("statusconsole3", "&lt;red&gt;NOT-LOCKED");tlock = false;tlcall = true end
  cecho("statusconsole3", " | &lt;purple&gt;Swift Charges: &lt;yellow&gt;"..gmcp.Char.Vitals.curse_charges)
  cecho("statusconsole2", "&lt;cyan&gt;Prophecy: ");if prophecy_failure then cecho("statusconsole2", "&lt;DimGrey&gt;Cooldown") else cecho("statusconsole2", "&lt;green&gt;Ready") end
  cecho("statusconsole2", "\n&lt;cyan&gt;Pf : &lt;snow&gt;"..pf)
  cecho("statusconsole2", "\n&lt;purple&gt;Confound: ");if shaman_confound then cecho("statusconsole2", "&lt;DimGrey&gt;Cooldown") else cecho("statusconsole2", "&lt;green&gt;Ready") end
		elseif ms.class["Deathknight"] then
	cecho("statusconsole2", "&lt;SteelBlue&gt;Animation:   &lt;DimGrey&gt;"..anitype)
	cecho("statusconsole3", "&lt;SteelBlue&gt;Target Affs: &lt;green&gt;"..acount)
	cecho("statusconsole3", " | &lt;SteelBlue&gt;Bleed: &lt;red&gt;"..tbleed)
	echo("statusconsole2", "\n")
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Belch:       ");if belch then cecho("statusconsole2", "&lt;green&gt;UP") else cecho("statusconsole2", "&lt;red&gt;DOWN");belch = false end
	cecho("statusconsole2", "\n&lt;SteelBlue&gt;Gravehands:  ");if gravehands then cecho("statusconsole2", "&lt;green&gt;UP") else cecho("statusconsole2", "&lt;red&gt;DOWN");gravehands = false end
	cecho("statusconsole3", " | &lt;SteelBlue&gt;T-L: ")
		if (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["anorexia"] == "aff" then 
			cecho("statusconsole3", "&lt;green&gt;LOCKED");tlock = true
				if tlcall then callout(target, "TRUE-LOCKED!!!");tlcall = false end 
			else 
			cecho("statusconsole3", "&lt;red&gt;NOT-LOCKED");tlock = false;tlcall = true 
		end
  if llt then cecho("statusconsole3", " | &lt;yellow&gt;LL")
  elseif llb then cecho("statusconsole3", " | &lt;purple&gt;LL")
  elseif llm then cecho("statusconsole3", " | &lt;red&gt;LL")
  else cecho("statusconsole3", " | &lt;DimGrey&gt;LL")
  end
  if rlt then cecho("statusconsole3", " &lt;yellow&gt;RL")
  elseif rlb then cecho("statusconsole3", " &lt;purple&gt;RL")
  elseif rlm then cecho("statusconsole3", " &lt;red&gt;RL")
  else cecho("statusconsole3", " &lt;DimGrey&gt;RL")
  end
  if lat then cecho("statusconsole3", " &lt;yellow&gt;LA")
  elseif lab then cecho("statusconsole3", " &lt;purple&gt;LA")
  elseif lam then cecho("statusconsole3", " &lt;red&gt;LA")
  else cecho("statusconsole3", " &lt;DimGrey&gt;LA")
  end
  if rat then cecho("statusconsole3", " &lt;yellow&gt;RA")
  elseif rab then cecho("statusconsole3", " &lt;purple&gt;RA")
  elseif ram then cecho("statusconsole3", " &lt;red&gt;RA")
  else cecho("statusconsole3", " &lt;DimGrey&gt;RA")
  end
	if bruised then
		pbp = math.floor(thit*100/tht)
		cecho("statusconsole3", " | &lt;SteelBlue&gt;PBP: &lt;ivory&gt;"..pbp) 
	end
		end
	if th &lt; 25 then hbar:setValue(th, 100, [[&lt;font color="black"&gt;&lt;b&gt;Health ]]..ch..[[(&lt;font color="red"&gt;&lt;b&gt;]]..th..[[&lt;b&gt;&lt;/font&gt;%)&lt;/b&gt;&lt;/font&gt;]])
	elseif th &lt; 50 then hbar:setValue(th, 100, [[&lt;font color="black"&gt;&lt;b&gt;Health ]]..ch..[[(&lt;font color="yellow"&gt;&lt;b&gt;]]..th..[[&lt;b&gt;&lt;/font&gt;%)&lt;/b&gt;&lt;/font&gt;]])
	elseif th &gt; 50 then hbar:setValue(th, 100, [[&lt;font color="black"&gt;&lt;b&gt;Health ]]..ch..[[(&lt;font color="white"&gt;&lt;b&gt;]]..th..[[&lt;b&gt;&lt;/font&gt;%)&lt;/b&gt;&lt;/font&gt;]])
	end
	if tm &lt; 25 then mbar:setValue(tm, 100, [[&lt;font color="black"&gt;&lt;b&gt;Mana ]]..cm..[[(&lt;font color="red"&gt;&lt;b&gt;]]..tm..[[&lt;b&gt;&lt;/font&gt;%)&lt;/b&gt;&lt;/font&gt;]])
	elseif tm &lt; 50 then mbar:setValue(tm, 100, [[&lt;font color="black"&gt;&lt;b&gt;Mana ]]..cm..[[(&lt;font color="yellow"&gt;&lt;b&gt;]]..tm..[[&lt;b&gt;&lt;/font&gt;%)&lt;/b&gt;&lt;/font&gt;]])
	elseif tm &gt; 50 then mbar:setValue(tm, 100, [[&lt;font color="black"&gt;&lt;b&gt;Mana ]]..cm..[[(&lt;font color="white"&gt;&lt;b&gt;]]..tm..[[&lt;b&gt;&lt;/font&gt;%)&lt;/b&gt;&lt;/font&gt;]])
	end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Room Items</name>
						<packageName></packageName>
						<script>roomitems = Geyser.MiniConsole:new({
name = "roomitems",
x = "-20%", y = "25%",
width = "15%", height = "20%",
color = "black",
})
  roomitems:setFontSize(fontSize+ms.save["windows"]["roomItems"])

function roomList()
	clearWindow("roomitems")
    sendGMCP('Char.Items.Room')
		ms.roomItems = {}
		ms.hunt = {}
		--ms.save['mobs'] list
		for k,v in ipairs(gmcp.Char.Items.List.items) do
			if table.contains(ms.save['mobs'], gmcp.Char.Items.List.items[k]["name"]) and not table.contains(ms.hunt, gmcp.Char.Items.List.items[k]["id"]:lower()) then
				table.insert(ms.hunt, gmcp.Char.Items.List.items[k]["id"]:lower())
			end
			--Ethereal Check
			if gmcp.Char.Items.List.items[k]["name"] == "an ethereal wraith" then eWraith = true else eWraith = false end
		end
		--checking for traders
		for k,v in ipairs(gmcp.Char.Items.List.items) do
			if gmcp.Char.Items.List.items[k]["name"]:find("caravan trader") and not table.contains(ms.hunt, gmcp.Char.Items.List.items[k]["id"]:lower()) then
				table.insert(ms.hunt, gmcp.Char.Items.List.items[k]["id"]:lower())
			end
		end
	roomci = tonumber(0)
	for k,v in pairs(gmcp.Char.Items.List.items) do
		table.insert(ms.roomItems, gmcp.Char.Items.List.items[k]["name"]:lower())
	end
  if #ms.roomItems &lt; 12 then
    cecho("roomitems", "&lt;SteelBlue&gt;"..string.format("%s &lt;snow&gt;%s", "[Items#:", tostring(#ms.roomItems).."&lt;SteelBlue&gt;]\n"))
  end
	for k,v in pairs(gmcp.Char.Items.List.items) do
		itemspace = 7 - tonumber(string.len(v.id))
		ispace = string.rep(" ", itemspace)
		echoLink("roomitems", v.id, [[send("get ]]..v.id..[[")]], v.id)
		cecho("roomitems", ispace.."&lt;gray&gt;"..v.name.."\n")
    roomci = roomci + 1
	end--items
  if #ms.roomItems &gt;= 12 then
    cecho("roomitems", "&lt;SteelBlue&gt;"..string.format("%s &lt;snow&gt;%s", "[Items#:", tostring(#ms.roomItems).."&lt;SteelBlue&gt;]\n"))
  end
end--function</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Affliction Window</name>
						<packageName></packageName>
						<script>winAffs1 = Geyser.MiniConsole:new({
name = "winAffs1",
x = "0%", y = "62%",
width = "9%", height = "35%",
color = "black",
})

winAffs2 = Geyser.MiniConsole:new({
name = "winAffs2",
x = "7%", y = "62%",
width = "9%", height = "35%",
color = "black",
})

winAffs3 = Geyser.MiniConsole:new({
name = "winAffs3",
x = "14%", y = "62%",
width = "9%", height = "35%",
color = "black",
})


  winAffs1:setFontSize(fontSize+ms.save["windows"]["affOne"])
  winAffs2:setFontSize(fontSize+ms.save["windows"]["affTwo"])
  winAffs3:setFontSize(fontSize+ms.save["windows"]["affThree"])
  
function affWindow()
clearWindow("winAffs1")
clearWindow("winAffs2")
clearWindow("winAffs3")
aw1 = winAffs1:getColumnCount()
aw2 = winAffs2:getColumnCount()
aw3 = winAffs3:getColumnCount()
cecho("winAffs1", "&lt;SteelBlue&gt;"..string.rep("-", aw1).."\n\n")
cecho("winAffs2", "&lt;SteelBlue&gt;"..string.rep("-", aw2).."\n\n")
cecho("winAffs3", "&lt;SteelBlue&gt;"..string.rep("-", aw3).."\n\n")
if ms.afflicted["ablaze"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]ablaze\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]ablaze\n") end
if ms.afflicted["addiction"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]addiction\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]addiction\n") end
if ms.afflicted["aeon"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]aeon\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]aeon\n") end
if ms.afflicted["agoraphobia"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]agoraphobia\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]agoraphobia\n") end
if ms.afflicted["anorexia"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]anorexia\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]anorexia\n") end
if ms.afflicted["asthma"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]asthma\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]asthma\n");if not fitnessUsed then instill = true end end
if ms.afflicted["burning nerves"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]burning nerves\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]burning nerves\n") end
if ms.afflicted["butisol"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]butisol\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]butisol\n") end
if ms.afflicted["calotropis"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]calotropis\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]calotropis\n") end
if ms.afflicted["claustrophobia"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]claustrophobia\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]claustrophobia\n") end
if ms.afflicted["clumsiness"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]clumsiness\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]clumsiness\n") end
if ms.afflicted["confusion"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]confusion\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]confusion\n") end
if ms.afflicted["crippled left arm"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]crippled LA\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]crippled LA\n") end
if ms.afflicted["crippled left leg"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]crippled LL\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]crippled LL\n") end
if ms.afflicted["crippled right arm"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]crippled RA\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]crippled RA\n") end
if ms.afflicted["crippled right leg"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]crippled RL\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]crippled RL\n") end
if ms.afflicted["cyanide"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]cyanide\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]cyanide\n") end
if ms.afflicted["dementia"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]dementia\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]dementia\n") end
if ms.afflicted["deadening"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]deadening\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]deadening\n") end
if ms.afflicted["disfigurement"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]disfigurement\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]disfigurement\n") end
if ms.afflicted["disloyalty"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]disloyalty\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]disloyalty\n") end
if ms.afflicted["disruption"] == "aff" then cecho("winAffs1", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]disruption\n") else cecho("winAffs1", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]disruption\n") end
--end
if ms.afflicted["dizziness"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]dizziness\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]dizziness\n") end
if ms.afflicted["dryblood"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]dryblood\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]dryblood\n") end
if ms.afflicted["entropy"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]entropy\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]entropy\n") end
if ms.afflicted["epilepsy"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]epilepsy\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]epilepsy\n") end
if ms.afflicted["frostbite"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]frostbite\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]frostbite\n") end
if ms.afflicted["frozen"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]frozen\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]frozen\n") end
if ms.afflicted["haemophilia"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]haemophilia\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]haemophilia\n") end
if ms.afflicted["hallucinations"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]hallucinations\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]hallucinations\n") end
if ms.afflicted["healthleech"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]healthleech\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]healthleech\n") end
if ms.afflicted["hellsight"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]hellsight\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]hellsight\n") end
if ms.afflicted["hemotoxin"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]hemotoxin\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]hemotoxin\n") end
if ms.afflicted["heroism"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]heroism\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]heroism\n") end
if ms.afflicted["hypochondria"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]hypochondria\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]hypochondria\n") end
if ms.afflicted["hypersomnia"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]hypersomnia\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]hypersomnia\n") end
if ms.afflicted["ignorance"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]ignorance\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]ignorance\n") end
if ms.afflicted["impatience"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]impatience\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]impatience\n") end
if ms.afflicted["ineptude"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]ineptude\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]ineptude\n") end
if ms.afflicted["justice"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]justice\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]justice\n") end
if ms.afflicted["lethargy"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]lethargy\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]lethargy\n") end
if ms.afflicted["manaleech"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]manaleech\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]manaleech\n") end
if ms.afflicted["masochism"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]masochism\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]masochism\n") end
if ms.afflicted["metrazol"] == "aff" then cecho("winAffs2", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]metrazol\n") else cecho("winAffs2", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]metrazol\n") end
--end
if ms.afflicted["nausea"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]nausea\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]nausea\n") end
if ms.afflicted["numbness"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]numbness\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]numbness\n") end
  --Instant kill check
  if tik and ms.afflicted["numbness"] == "aff" then tik = false end
if ms.afflicted["pacifism"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]pacifism\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]pacifism\n") end
if ms.afflicted["paralysis"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]paralysis\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]paralysis\n") end
  --Instant kill check
  if tik and ms.afflicted["paralysis"] == "aff" then tik = false end
if ms.afflicted["paranoia"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]paranoia\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]paranoia\n") end
if ms.afflicted["peace"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]peace\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]peace\n") end
if ms.afflicted["poisoned blood"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]poisoned blood\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]poisoned blood\n") end
if ms.afflicted["poisoned mind"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]poisoned mind\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]poisoned mind\n") end
if ms.afflicted["recklessness"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]recklessness\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]recklessness\n") end
if ms.afflicted["recurring freezing"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]recurring freezing\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]recurring freezing\n") end
if ms.afflicted["rigidity"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]rigidity\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]rigidity\n") end
if ms.afflicted["sensitivity"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]sensitivity\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]sensitivity\n") end
if ms.afflicted["shivering"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]shivering\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]shivering\n") end
if ms.afflicted["slickness"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]slickness\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]slickness\n");if fitnessUsed then instill = true end end
if ms.afflicted["slow balance"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]slow balance\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]slow balance\n") end
if ms.afflicted["slow elixirs"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]slow elixirs\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]slow elixirs\n") end
if ms.afflicted["slow equilibrium"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]slow equilibrium\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]slow equilibrium\n") end
if ms.afflicted["slow herbs"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]slow herbs\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]slow herbs\n") end
if ms.afflicted["stupidity"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]stupidity\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]stupidity\n") end
if ms.afflicted["sulfonal"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]sulfonal\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]sulfonal\n") end
if ms.afflicted["sunallergy"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]sunallergy\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]sunallergy\n") end
if ms.afflicted["taint attunement"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]taint attunement\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]taint attunement\n") end
if ms.afflicted["vertigo"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]vertigo\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]vertigo\n") end
if ms.afflicted["weariness"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]weariness\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]weariness\n") end
if ms.afflicted["madness"] == "aff" then cecho("winAffs3", "&lt;ivory&gt;[&lt;green&gt;O&lt;ivory&gt;]whispering madness\n") else cecho("winAffs3", "&lt;ivory&gt;[&lt;red&gt;X&lt;ivory&gt;]whispering madness\n") end
--
if ms.class["Hunter"] then
  triggerNumber = tonumber(0)
  for cure, affs in pairs(ms.hunter.triggers) do
    triggerNumber = triggerNumber + 1
    if triggerNumber == 1 then
      cecho("winAffs1", "\n&lt;ivory&gt;[&lt;red&gt;"..tostring(triggerNumber).."&lt;ivory&gt;]&lt;gold&gt;"..cure)
      cecho("winAffs1", "\n&lt;ivory&gt;  \-&lt;DimGrey&gt; "..ms.hunter.triggers[cure][1]) 
      cecho("winAffs1", "\n&lt;ivory&gt;  \-&lt;DimGrey&gt; "..ms.hunter.triggers[cure][2]) 
    elseif triggerNumber == 2 then
      cecho("winAffs2", "\n&lt;ivory&gt;[&lt;red&gt;"..tostring(triggerNumber).."&lt;ivory&gt;]&lt;gold&gt;"..cure)
      cecho("winAffs2", "\n&lt;ivory&gt;  \-&lt;DimGrey&gt; "..ms.hunter.triggers[cure][1]) 
      cecho("winAffs2", "\n&lt;ivory&gt;  \-&lt;DimGrey&gt; "..ms.hunter.triggers[cure][2])
    end
  end--loop
  if triggerNumber == 0 then cecho("winAffs1", "\n&lt;ivory&gt;[&lt;red&gt;1&lt;ivory&gt;]&lt;grey&gt;No Trigger") end
  if (triggerNumber == 1 or triggerNumber == 0) then cecho("winAffs2", "\n&lt;ivory&gt;[&lt;red&gt;2&lt;ivory&gt;]&lt;grey&gt;No Trigger") end
end--class check
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Char Status</name>
						<packageName></packageName>
						<script>charstats = Geyser.MiniConsole:new({
name = "charstats",
x = "-20%", y = "1%",
width = "15%", height = "24%",
color = "black",
})
  charstats:setFontSize(fontSize+ms.save["windows"]["charStats"])
function charStat()
	clearWindow("charstats")
  csWidth = charstats:getColumnCount()
	cecho("charstats", "&lt;SteelBlue&gt;Msgs:  &lt;ivory&gt;"..gmcp.Char.Status.unread_msgs.."\n")
	cecho("charstats", "&lt;SteelBlue&gt;News:  &lt;ivory&gt;"..gmcp.Char.Status.unread_news.."\n")
	cecho("charstats", "&lt;SteelBlue&gt;Bank:  &lt;green&gt;"..gmcp.Char.Status.bank.."\n")
	cecho("charstats", "&lt;SteelBlue&gt;Gold:  &lt;gold&gt;"..gmcp.Char.Status.gold.."\n")
		ms.city = gmcp.Char.Status.city:sub(1, -5)
	cecho("charstats", "&lt;SteelBlue&gt;City:  &lt;DimGrey&gt;"..ms.city.."\n")
		ms.guild = gmcp.Char.Status.guild:sub(1, -5)
	cecho("charstats", "&lt;SteelBlue&gt;Guild: &lt;purple&gt;"..ms.guild.."\n")
		sect = gmcp.Char.Status.sect:sub(1, -5)
	cecho("charstats", "&lt;SteelBlue&gt;Sect:  &lt;cyan&gt;"..sect.."\n")
	echo("charstats", "\n")
	cecho("charstats", "&lt;SteelBlue&gt;OverLvl:   &lt;ivory&gt;"..gmcp.Char.Status.level.."\n")
	cecho("charstats", "&lt;SteelBlue&gt;BashLvl:   &lt;ivory&gt;"..gmcp.Char.Status.bash_level.."\n")
	cecho("charstats", "&lt;SteelBlue&gt;QuestLvl:  &lt;ivory&gt;"..gmcp.Char.Status.quest_level.."\n")
	cecho("charstats", "&lt;SteelBlue&gt;PKLvl:     &lt;ivory&gt;"..gmcp.Char.Status.pk_level.."\n")
  cecho("charstats", "\n&lt;SteelBlue&gt;Belief(+/-):   &lt;ivory&gt;");if belief &gt;= 0 then cecho("charstats", "&lt;green&gt;+"..belief) else cecho("charstats", "&lt;red&gt;"..belief) end
  cecho("charstats", "\n\n&lt;SteelBlue&gt;"..string.rep("-", csWidth))
end







</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Font Sizes</name>
						<packageName></packageName>
						<script>function setTextSize()
  winAffs1:setFontSize(fontSize+ms.save["windows"]["affOne"])
  winAffs2:setFontSize(fontSize+ms.save["windows"]["affTwo"])
  winAffs3:setFontSize(fontSize+ms.save["windows"]["affThree"])
  cc:setFontSize(fontSize+ms.save["windows"]["toggles"])
  hbar:setFontSize(fontSize+ms.save["windows"]["hbar"])
  igmap:setFontSize(fontSize+ms.save["windows"]["map"])
  mbar:setFontSize(fontSize+ms.save["windows"]["mbar"])
  people:setFontSize(fontSize+ms.save["windows"]["roomInfo"])
  statusconsole:setFontSize(fontSize+ms.save["windows"]["scOne"])
  statusconsole2:setFontSize(fontSize+ms.save["windows"]["scTwo"])
  statusconsole3:setFontSize(fontSize+ms.save["windows"]["scThree"])
  statusconsole4:setFontSize(fontSize+ms.save["windows"]["scFour"])
  roomitems:setFontSize(fontSize+ms.save["windows"]["roomItems"])
  charstats:setFontSize(fontSize+ms.save["windows"]["charStats"])
  demonnic.chat.config.fontSize = calcFontSize(fontSize+ms.save["windows"]["chat"])
end

windowNames = {
  afflictions = {
    "affOne",
    "affTwo",
    "affThree",
  },
  toggles = {"toggles"},
  healthmana = {
    "hbar",
    "mbar",
  },
  map = {"map"},
  roominfo = {"roomInfo"},
  selfaffs = {"scOne"},
  skills = {"scTwo"},
  prompt = {"scFour"},
  targetinfo = {"scThree"},
  roomitems = {"roomItems"},
  charstats = {"charStats"},
  chat = {"chat"},
}</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Reset Windows</name>
						<packageName></packageName>
						<script>function resetWindows()
  cc = Geyser.MiniConsole:new({
  name = "cc",
  x = "0%", y = "46%",
  width = "20%", height = "25%",
  color = "black",
  })
  
  igmap = Geyser.MiniConsole:new({
  name = "igmap",
  x = "-20%", y = "-44%",
  width = "15%", height = "31%",
  color = "black",
  })
  
  people = Geyser.MiniConsole:new({
  name = "people",
  x = "-20%", y = "88%",
  width = "15%", height = "11%",
  color = "black",
  })
  people:setWrap(50)
  
  hbar = Geyser.Gauge:new({
  name="hbar",
  x="25.5%", y="95%",
  width="9.5%", height="2%",
  color ="dark_green",
  })
  hbar:setValue(100, 100, [[&lt;font color="black"&gt;&lt;b&gt;Health (100%)&lt;/b&gt;&lt;/font&gt;]])
  mbar = Geyser.Gauge:new({
    name="mbar",
    x="35%", y="95%",
    width="9.5%", height="2%",
    color = "SteelBlue",
  })
  mbar:setValue(100, 100, [[&lt;font color="black"&gt;&lt;b&gt;Mana (100%)&lt;/b&gt;&lt;/font&gt;]])
  
  statusconsole = Geyser.MiniConsole:new({
  name = "statusconsole",
  x = "0%", y = "55%",
  width = "11%", height = "11%",
  color = "black",
  })
  
  statusconsole2 = Geyser.MiniConsole:new({
  name = "statusconsole2",
  x = "10%", y = "55%",
  width = "11%", height = "11%",
  color = "black",
  })
  
  statusconsole3 = Geyser.MiniConsole:new({
  name = "statusconsole3",
  x = "25.5%", y = "98%",
  width = "50%", height = "1.5%",
  color = "black",
  })
  
  statusconsole4 = Geyser.MiniConsole:new({
  name = "statusconsole4",
  x = "45%", y = "95%",
  width = "30%", height = "3%",
  color = "black",
  })
  
  winAffs1 = Geyser.MiniConsole:new({
  name = "winAffs1",
  x = "0%", y = "65%",
  width = "9%", height = "33%",
  color = "black",
  })
  
  winAffs2 = Geyser.MiniConsole:new({
  name = "winAffs2",
  x = "7%", y = "65%",
  width = "9%", height = "33%",
  color = "black",
  })
  
  winAffs3 = Geyser.MiniConsole:new({
  name = "winAffs3",
  x = "14%", y = "65%",
  width = "9%", height = "33%",
  color = "black",
  })
  
  roomitems = Geyser.MiniConsole:new({
  name = "roomitems",
  x = "-20%", y = "25%",
  width = "15%", height = "30%",
  color = "black",
  })
  
  charstats = Geyser.MiniConsole:new({
  name = "charstats",
  x = "-20%", y = "2%",
  width = "15%", height = "22%",
  color = "black",
  })
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Set Main Window</name>
						<packageName></packageName>
						<script>function msBorders()
  setBorderLeft(ms.save["mwbl"])
  setBorderBottom(ms.save["mwbb"])
  setWindowWrap(ms.save["mww"])
end

msBorders()
</script>
						<eventHandlerList />
					</Script>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>Test Folder</name>
					<packageName></packageName>
					<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
					<eventHandlerList />
					<Script isActive="no" isFolder="no">
						<name>Limbs</name>
						<packageName></packageName>
						<script>limbHit = {
rightleg = tonumber(4),
leftleg = tonumber(2),
rightarm = tonumber(3),
leftarm = tonumber(1)
}

function spairs(t, order)
    -- collect the keys
    local keys = {}
    for k in pairs(t) do keys[#keys+1] = k end

    -- if order function given, sort by it by passing the table and keys a, b,
    -- otherwise just sort the keys 
    if order then
        table.sort(keys, function(a,b) return order(t, a, b) end)
    else
        table.sort(keys)
    end

    -- return the iterator function
    local i = 0
    return function()
        i = i + 1
        if keys[i] then
            return keys[i], t[keys[i]]
        end
    end
end

function testDisplay(table)
	-- gather's and sorts selected table and puts the lowest value first.
	-- you can basically replace print(k,v) with targetLimb = k return
	for k,v in spairs(table, function(t,a,b) return t[a] &lt; t[b] end) do
    	print(k,v)
	end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="no" isFolder="no">
						<name>Hypno affs</name>
						<packageName></packageName>
						<script>ms.test = {
"Hypersomnia",
"Dementia",
"Deadening",
"Epilepsy",
"Agoraphobia",
"Paranoia",
"Recklessness",
"Vertigo",
"Heroism",
"Lethargy",
"Anorexia",
"Confusion",
"Stupidity",
"Generosity",
"Hypochondria",
}

testCount = tonumber(0)
function test(name)
	testCount = testCount + 1
	send("suggest "..name.." "..ms.test[testCount])
end</script>
						<eventHandlerList />
					</Script>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>Classes</name>
					<packageName></packageName>
					<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
					<eventHandlerList />
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Demonic</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>Diabolist</name>
							<packageName></packageName>
							<script>ms.diabolist = {}


function buffDiab() 
	if ms.diabolist.buffs[bnum] then send("queue reset all");send("queue eqbal top "..ms.diabolist.buffs[bnum]) end
	bnum = bnum + 1
end

ms.diabolist.dat = {}

function wraithSet()
	if glowing &gt; 0 then glow = true end
	if wraith and (drr or gat) then
		if vigorous == 5 and (sunused or gat) and not shield and not hk and not reflection and sunaff then
			watk = "wraith bodysap "..target
		elseif translucent == 5 and hp+mp &lt;= 100 then
			watk = "wraith envelop "..target
		elseif translucent &gt;= 2 and shield then
			watk = "wraith shatter "..target
		elseif whispering &gt;= 1 and tm &lt; 55 then
			watk = "wraith nightkiss me"
		elseif whispering &gt;= 1 and tm &lt; 55 then
			watk = "wraith nightkiss me"
		elseif fiery == 5 then
			watk = "wraith overload "..target
		elseif whispering == 5 then
			watk = "wraith shadowsap "..target
		else
			watk = ""
		end
	elseif wraith and afr then
		if vigorous == 5 and sun and fsc == 2 and not shield and not hk and not reflection and sunaff then
			watk = "wraith bodysap "..target
		elseif vigorous &lt; 5 and (moonnum == 3 or sunused or not sun) and reflective &gt;= 3 then
			watk = "wraith energize vigorous"
		elseif translucent == 5 and hp+mp &lt;= 100 then
			watk = "wraith envelop "..target
		elseif translucent &gt;= 2 and enveloped then
			watk = "wraith shatter "..target
		elseif vigorous &gt;= 1 and th &lt; 50 then
			watk = "wraith twirl me"
		elseif whispering &gt;= 1 and tm &lt; 55 then
			watk = "wraith nightkiss me"
		elseif reflective == 5 then
			watk = "wraith bane "..target
		elseif glowing == 5 and not nightcurseCD then
			watk = "wraith nightcurse "..target
		elseif whispering == 5 then
			watk = "wraith shadowsap "..target
		elseif glowing &gt;= 1 and ms.afflicted["sensitivity"] == "notaff" and deaf then
			watk = "wraith sensitivity "..target
		else
			watk = ""
		end
	else
		watk = ""
	end
end

function bodyAff()
ms.diabolist.body = {
"clumsiness",
"sensitivity",
"sunallergy",
"numbness",
"nausea",
"slickness",
"weariness",
"haemophilia",
"epilepsy",
"asthma"
}
	loop = tonumber(0)
	for k,v in pairs(ms.diabolist.body) do
		if (nfo or intensified) then
			if ms.afflicted[v] == "notaff" then
				ms.afflicted[v] = "aff"
				loop = loop + 1
				if loop &gt;= 2 then return end
			end
		elseif ms.afflicted[v] == "notaff" then
			ms.afflicted[v] = "aff"
			return
		end
	end
end

function mindAff()
	ms.diabolist.mind = {}
end

function moonCheck() 
moonnum = tonumber(0)
if magickfull then moonnum = moonnum + 1 end
if lightningfull then moonnum = moonnum + 1 end
if icefull then moonnum = moonnum + 1 end
if repfull then moonnum = moonnum + 1 end
if malfull then moonnum = moonnum + 1 end
if bodyfull then moonnum = moonnum + 1 end
if mindfull then moonnum = moonnum + 1 end
if stillfull then moonnum = moonnum + 1 end
if sensfull then moonnum = moonnum + 1 end
if spiderfull then moonnum = moonnum + 1 end
if bonefull then moonnum = moonnum + 1 end
if balancefull then moonnum = moonnum + 1 end
	if moonnum == 3 then 
		if sun then sunaff = true end
	end
end

function affSet()
	ms.diabolist.dat = {}
	if hk then table.insert(ms.diabolist.dat, "balance") end
	if not shield and fsc &lt; 2 and moonnum == 3 then table.insert(ms.diabolist.dat, "inversion");table.insert(ms.diabolist.dat, "fireshield") end 
	if not shield and not reflection and not hk and sunaff and fsc == 2 then 
		table.insert(ms.diabolist.dat, "sun");table.insert(ms.diabolist.dat, "repetition") 
	end
	if moonnum == 3 and not moon and sunused and not shield and not reflection and not hk then
		table.insert(ms.diabolist.dat, "moon");table.insert(ms.diabolist.dat, "repetition")
	end
	if (sunused or suncd) then table.insert(ms.diabolist.dat, "lightning");table.insert(ms.diabolist.dat, "repetition") end
	if moon and not sunused and sun and not suncd then table.insert(ms.diabolist.dat, "moon") end
	if not moon and moonnum == 3 and ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.diabolist.dat, "sensitivity") end
	if not moon and moonnum == 3 and ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.diabolist.dat, "stillness") end
		if moonset &lt; 3 then
			if pp and not boneset then table.insert(ms.diabolist.dat, "bone") end
			if pp and not balanceset then table.insert(ms.diabolist.dat, "balance") end
			if not malset and sun then table.insert(ms.diabolist.dat, "maladies") end
			if not stillset and sun then table.insert(ms.diabolist.dat, "stillness") end
			if not sensset and sun then table.insert(ms.diabolist.dat, "sensitivity") end
      -- if not bodyset and sun then table.insert(ms.diabolist.dat, "bodylink") end
      -- if not leechset and sun then table.insert(ms.diabolist.dat, "leech") end
		end
		if (nfo or intensified) then table.insert(ms.diabolist.dat, "bodylink") end
    table.insert(ms.diabolist.dat, "maladies")
		-- if ms.afflicted["hemotoxin"] == "notaff" then table.insert(ms.diabolist.dat, "maladies") end
		if ms.afflicted["sensitivity"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["clumsiness"] == "aff" and ms.afflicted["healthleech"] == "aff") then
			table.insert(ms.diabolist.dat, "sensitivity")
	  elseif ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then 
      table.insert(ms.diabolist.dat, "stillness")
		elseif ms.afflicted["sensitivity"] == "notaff" and not table.contains(ms.diabolist.dat, "sensitivity") then
			table.insert(ms.diabolist.dat, "sensitivity")
		end 
    	table.insert(ms.diabolist.dat, "bodylink")
    	table.insert(ms.diabolist.dat, "leech")
end

function dmgSet()
	ms.diabolist.dat = {}
	if hk then table.insert(ms.diabolist.dat, "balance") end
	if not shield and fsc &lt; 2 and moonnum == 3 then table.insert(ms.diabolist.dat, "inversion");table.insert(ms.diabolist.dat, "fireshield") end 
	if not shield and not reflection and not hk and sunaff and fsc == 2 then 
		table.insert(ms.diabolist.dat, "sun");table.insert(ms.diabolist.dat, "repetition") 
	end
	if moonnum == 3 and not moon and sunused and not shield and not reflection and not hk then
		table.insert(ms.diabolist.dat, "moon");table.insert(ms.diabolist.dat, "repetition")
	end
	if (sunused or suncd) then table.insert(ms.diabolist.dat, "lightning");table.insert(ms.diabolist.dat, "repetition") end
	if moon and not sunhit then table.insert(ms.diabolist.dat, "moon") end
	if not reflection and not moon and not sun and not moonnum == 3 then 
		table.insert(ms.diabolist.dat, "lightning");table.insert(ms.diabolist.dat, "repetition")
	elseif reflection and not moon and not sun and not moonnum == 3 then
		table.insert(ms.diabolist.dat, "ice");table.insert(ms.diabolist.dat, "lightning")
	end
	if reflection then table.insert(ms.diabolist.dat, "ice") end
	if not lightningset then table.insert(ms.diabolist.dat, "lightning") end
	if not reflection and not repset and not hk and not shield then table.insert(ms.diabolist.dat, "repetition") end
	if not iceset then table.insert(ms.diabolist.dat, "ice") end
	if msc &lt; 2 then table.insert(ms.diabolist.dat, "magickshield") end
	if not lightningfull then table.insert(ms.diabolist.dat, "lightning") end
	if not icefull and lightningfull then table.insert(ms.diabolist.dat, "ice") end
	if not reflection and (not repfull or not icefull or not lightningfull) and not shield and not hk then table.insert(ms.diabolist.dat, "repetition") end
	if not shield and fsc &lt; 2 and moonnum == 3 then table.insert(ms.diabolist.dat, "inversion");table.insert(ms.diabolist.dat, "fireshield") end 
	table.insert(ms.diabolist.dat, "lightning");table.insert(ms.diabolist.dat, "repetition")
end

function gatSet()
	ms.diabolist.dat = {}
	if shield and not watk:find("wraith shatter") then table.insert(ms.diabolist.dat, "hammer") end
	if hk then table.insert(ms.diabolist.dat, "balance") end
	if sun then table.insert(ms.diabolist.dat, "sun") end
	if not transfixed then table.insert(ms.diabolist.dat, "spider") end
	if ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["clumsiness"] == "aff" and ms.afflicted["healthleech"] == "aff" then table.insert(ms.diabolist.dat, "maladies") end
	if ms.afflicted["nausea"] == "notaff" then table.insert(ms.diabolist.dat, "magick") end
	if ms.afflicted["epilepsy"] == "notaff" then table.insert(ms.diabolist.dat, "lightning") end
	if ms.afflicted["shivering"] == "notaff" or ms.afflicted["frozen"] == "notaff" then table.insert(ms.diabolist.dat, "ice") end
	if ms.afflicted["ablaze"] == "notaff" then table.insert(ms.diabolist.dat, "fire") end
	table.insert(ms.diabolist.dat, "lightning");table.insert(ms.diabolist.dat, "repetition")
end

function gafSet()
	ms.diabolist.dat = {}
	if shield and not watk:find("wraith shatter") then table.insert(ms.diabolist.dat, "hammer") end
	if hk then table.insert(ms.diabolist.dat, "balance") end
	if sun and not sunused then table.insert(ms.diabolist.dat, "sun") end
	if ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["clumsiness"] == "aff" and ms.afflicted["healthleech"] == "aff" and ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.diabolist.dat, "sensitivity") end
	table.insert(ms.diabolist.dat, "maladies")
	if ms.afflicted["paralysis"] == "notaff" and ms.afflicted["numbness"] == "notaff" then table.insert(ms.diabolist.dat, "stillness") end
	if ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["clumsiness"] == "aff" and ms.afflicted["healthleech"] == "aff" then table.insert(ms.diabolist.dat, "repetition") end
	table.insert(ms.diabolist.dat,"bodylink")
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Summoner</name>
							<packageName></packageName>
							<script>ms.summoner = {}
scast = ""
ti = ""

ms.summoner.enlighten = {
"dementia",
"stupidity",
"confusion",
"hypersomnia",
"paranoia",
"hallucinations",
"impatience",
"hypochondria",
"recklessness",
"masochism",
"agoraphobia",
"anorexia",
"loneliness",
"claustrophobia",
"peace",
"addiction",
}

function buffSumm() 
	if ms.summoner.buffs[bnum] then send("queue eqbal "..ms.summoner.buffs[bnum]) end
	bnum = bnum + 1
end

--summoner damage

function uldmg()
	if ulb then
    if incinerate and pyradius and taint &lt;= 70 then
    	ul = "unleash pyradius at "..target
    elseif incinerate and dameron and taint &lt;= 70 then
      ul = "unleash dameron at "..target.. " pyradius"
    elseif pyradius and hp &gt;= 65 then
			ul = "unleash pyradius at "..target
		elseif belial and hp &gt;= 80 then 
			ul = "unleash belial at "..target
		elseif palpatar then 
			ul = "unleash palpatar at "..target
		elseif dameron then
			ul = "unleash dameron at "..target.. " palpatar"
		elseif golgotha and hp &lt;= 75 then 
			ul = "unleash golgotha at "..target
		elseif pyradius then
			ul = "unleash pyradius at "..target
		elseif scrag then 
			ul = "unleash scrag at "..target
		elseif cadmus then 
			ul = "unleash cadmus at "..target
		elseif lyncantha then 
			ul = "unleash lyncantha at "..target
		end
		return
	else ul = ""
	return
	end
end

function summdmg() dmger = ""
	if taint &gt;= 65 then dmger = "invoke soulburn "..target.." duplicate"
	elseif taint &lt; 100 then dmger = "invoke nervewrack "..target
	end
	return
end

--summoner enlightenment

function ulenl()
	if ulb then
		if belial and hp &gt; 70 then ul = "unleash belial at "..target
		elseif cadmus and (ms.afflicted["addiction"] == "notaff" or ms.afflicted["hallucinations"] == "notaff") then ul = "unleash cadmus at "..target
		elseif dameron and (ms.afflicted["addiction"] == "notaff" or ms.afflicted["hallucinations"] == "notaff") and ms.afflicted["asthma"] == "aff" and ms.afflicted["impatience"] == "aff" then ul = "unleash dameron at "..target.." cadmus"
		elseif palpatar then ul = "unleash palpatar at "..target
		elseif golgotha then ul = "unleash golgotha at "..target
		elseif scrag then ul = "unleash scrag at "..target
		elseif hecate and not rb then ul = "unleash hecate at "..target
		elseif lyncantha then ul = "unleash lyncantha at "..target
		elseif pyradius and taint &lt; 80 then ul = "unleash pyradius at "..target
		elseif rixil then ul = "unleash rixil at "..target
		end
	return
	else ul = ""
	return
	end
end


function summenl() ti = ""
	if speed and hp &lt; 60 and scount &gt;= 3 then scast = "soulwrack"
	elseif ms.afflicted["asthma"] == "notaff" and not si:find("combustion") and taint &gt;= 20 then scast = "combustion";ti = "intensify"
	elseif ms.afflicted["impatience"] == "notaff" and not si:find("quicken") then scast = "quicken"
	elseif ms.afflicted["masochism"] == "notaff" then scast = "soulburn"
	elseif ms.afflicted["butisol"] == "notaff" and ms.afflicted["asthma"] == "aff" then scast = "dehydrate"
	elseif ms.afflicted["epilepsy"] == "notaff" and not si:find("flash") then scast = "flash"
	elseif ms.afflicted["burning nerves"] == "notaff" then scast = "nerveburn"
	elseif ms.afflicted["hellsight"] == "notaff" and not si:find("hellsight") then scast = "hellsight"
	elseif ms.afflicted["vertigo"] == "notaff" and not si:find("disorient") then scast = "disorient"
	elseif ms.afflicted["sunallergy"] == "notaff" and not si:find("nervewrack") then scast = "nervewrack"
	else scast = "combustion"
	end
	return
end

function tarotenl() moonaff = "";si = si
	if acount &gt;= 10 then tcard = "devil";scast = "";if taint &gt;= 60 then si = "invoke soulburn "..target.." instant" end
	elseif ms.afflicted["heroism"] == "notaff" then tcard = "moon";moonaff = "heroism"
	elseif ms.afflicted["aeon"] == "notaff" and (ms.afflicted["asthma"] == "aff" or scast:find("combustion") or ashcloud) then tcard = "aeon"
    if not ashcloud and taint &gt;= 10 then scast = "ashcloud" end
	elseif ms.afflicted["hallucinations"] == "notaff" and not si:find("fever") and not scast:find("fever") then tcard = "creator"
	elseif ms.afflicted["recklessness"] == "notaff" and not bard and ro then tcard = "moon";moonaff = "recklessness"
	elseif ms.afflicted["stupidity"] == "notaff" and not si:find("fever") and not scast:find("fever") then tcard = "moon";moonaff = "stupidity"
	elseif ms.afflicted["confusion"] == "notaff" then tcard = "moon";moonaff = "confusion"
	elseif ms.afflicted["peace"] == "notaff" then tcard = "lovers"
	elseif ms.afflicted["paranoia"] == "notaff" then tcard = "moon";moonaff = "paranoia"
	elseif ms.afflicted["dementia"] == "notaff" then tcard = "moon";moonaff = "dementia"
	elseif ms.afflicted["hypersomnia"] == "notaff" then tcard = "moon";moonaff = "hypersomnia"
	elseif ms.afflicted["masochism"] == "notaff" and scast ~= "soulburn" then tcard = "moon";moonaff = "masochism"
	elseif ms.afflicted["manaleech"] == "notaff" and ms.afflicted["asthma"] == "aff" then tcard = "fool"
	elseif ms.afflicted["numbness"] == "notaff" then tcard = "emperor"
	elseif ms.afflicted["justice"] == "notaff" then tcard = "justice"
	elseif ms.afflicted["manaleech"] == "notaff" and ms.afflicted["asthma"] == "aff" then tcard = "fool"
	else tcard = "sun"
	end
	return
end

function sienl() si = ""
	if ulb and ashcloud then 
		if taint &gt;= 90 and ms.afflicted["asthma"] == "notaff" then si = "invoke combustion "..target.." instant intensify"
		elseif ms.afflicted["asthma"] == "aff" and taint &gt;= 80 then
			if ms.afflicted["impatience"] == "notaff" then si = "invoke quicken "..target.." instant"
			elseif ms.afflicted["hallucinations"] == "notaff" and not ul:find("cadmus") then si = "invoke fever "..target.." instant"
			elseif ms.afflicted["masochism"] == "notaff" then si = "invoke soulburn "..target.." instant"
			elseif ms.afflicted["vertigo"] == "notaff" and ms.afflicted["clumsiness"] == "notaff" then si = "invoke disorient "..target.." instant"
			elseif ms.afflicted["hellsight"] == "notaff" and acount &gt; 4 then si = "invoke hellsight "..target.." instant"
			elseif ms.afflicted["sunallergy"] == "notaff" then si = "invoke nervewrack "..target.." instant"
			else si = "invoke soulburn "..target.." instant"
			end
			return
		end
	return
	end
end


--tarot afflicting

function ulaff()
	if ulb then
		if cadmus and (ms.afflicted["addiction"] == "notaff" and ms.afflicted["hallucinations"] == "notaff") then ul = "unleash cadmus at "..target
		elseif hecate and not rb then ul = "unleash hecate at "..target
    elseif scrag and (tm &lt;= 50 or ms.afflicted["manaleech"] == "aff") then ul = "unleash scrag at "..target
		elseif pyradius and taint &lt; 20 then ul = "unleash pyradius at "..target
		elseif not tl and belial and hp &gt; 50 then ul = "unleash belial at "..target
		elseif not tl and palpatar then ul = "unleash palpatar at "..target
		elseif not tl and golgotha then ul = "unleash golgotha at "..target
		elseif rixil then ul = "unleash rixil at "..target
		elseif lyncantha then ul = "unleash lyncantha at "..target
		end
	return
	else ul = ""
	return
	end
end

function siaff() si = ""
	if not incinerate then
		if taint &gt;= 80 and ms.afflicted["impatience"] == "notaff" then si = "invoke quicken "..target.." instant"
		elseif taint &gt;= 90 and ms.afflicted["hallucinations"] == "notaff" and ms.afflicted["stupidity"] == "notaff" and ms.afflicted["impatience"] == "aff" and not ul:find("cadmus") then si = "invoke fever "..target.." instant intensify"
		elseif taint &gt;= 90 and ms.afflicted["vertigo"] == "notaff" and ms.afflicted["clumsiness"] == "notaff" then si = "invoke disorient "..target.." instant intensify"
		elseif taint &gt;= 80 and ms.afflicted["asthma"] == "notaff" and incinerate then si = "invoke combustion "..target.." instant"
		elseif taint &gt;= 90 and ms.afflicted["asthma"] == "notaff" and incinerate then si = "invoke combustion "..target.." instant intensify"
		elseif taint &gt;= 80 and ms.afflicted["hellsight"] == "notaff" and ms.afflicted["asthma"] == "aff" then si = "invoke hellsight "..target.." instant"
		elseif taint &gt;= 80 and ms.afflicted["masochism"] == "notaff" then si = "invoke soulburn "..target.." instant"
		elseif taint &gt;= 80 and ms.afflicted["sunallergy"] == "notaff" then si = "invoke nervewrack "..target.." instant"
		end
		return
	end
end
	

function summaff() ti = ""
	if speed and hp &lt; 60 and not buul then scast = "soulwrack"
  elseif ms.afflicted["hallucinations"] == "notaff" and ms.afflicted["stupidity"] == "notaff" and taint &gt;= 20 and not ul:find("cadmus") and not si:find("fever") then scast = "fever";if not incinerate then ti = "intensify" end
	elseif ms.afflicted["vertigo"] == "notaff" and ms.afflicted["clumsiness"] == "notaff" and taint &gt;= 20 and not si:find("disorient") then scast = "disorient";if not incinerate then ti = "intensify" end
  elseif ms.afflicted["impatience"] == "notaff" and not si:find("quicken") then scast = "quicken"
  elseif ms.afflicted["asthma"] == "notaff" and taint &gt;= 20 and not si:find("combustion") then scast = "combustion";if not incinerate then ti = "intensify" end
  elseif ms.afflicted["sunallergy"] == "notaff" and ms.afflicted["sensitivity"] == "notaff" and taint &gt;= 20 and not si:find("nervewrack") then scast = "nervewrack";if not incinerate then ti = "intensify" end
  elseif ms.afflicted["burning nerves"] == "notaff" then scast = "nerveburn"
  elseif ms.afflicted["asthma"] == "notaff" and taint &gt;= 20 and not si:find("combustion") then scast = "combustion";if not incinerate then ti = "intensify" end
  elseif ms.afflicted["hellsight"] == "notaff" and (ms.afflicted["asthma"] == "aff" or ashcloud or smoked) and not si:find("hellsight") and ms.afflicted["impatience"] == "aff" then scast = "hellsight"
 	elseif ms.afflicted["epilepsy"] == "notaff" and not si:find("flash") and (ms.afflicted["asthma"] == "aff" or ashcloud) then scast = "flash"
	elseif ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or ashcloud) then scast = "devolve"
	elseif ms.afflicted["masochism"] == "notaff" then scast = "soulburn"
  elseif ms.afflicted["taint attunement"] == "notaff" and taint &gt;= 20 then scast = "heave";ti = "intensify"
	elseif ms.afflicted["butisol"] == "notaff" and (ms.afflicted["asthma"] == "aff" or ashcloud) and ms.afflicted["hemotoxin"] == "aff" then scast = "dehydrate"
	elseif ms.afflicted["disloyalty"] == "notaff" and ms.afflicted["asthma"] == "aff" then scast = "devolve"
	elseif ms.afflicted["vertigo"] == "notaff" and not si:find("disorient") then scast = "disorient"
	elseif ms.afflicted["sunallergy"] == "notaff" and not si:find("nervewrack") then scast = "nervewrack"
	else scast = "quicken"
	end
	return
end

function tarot() moonaff = "";si = si
	if (tik or tl) and ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then tcard = "emperor"
	elseif ((acount &gt;= 12) or (acount &gt;= 10 and (hp &lt;= 75 or ms.afflicted["aeon"] == "aff")) or (acount &gt;= 8 and hp &lt;= 50) or (acount &gt;= 6 and hp &lt;= 25)) then tcard = "devil";scast = ""
		if golgotha then ul = "unleash golgotha at "..target
		elseif dameron then ul = "unleash dameron at "..target.." golgotha"
		end
  	elseif ms.afflicted["justice"] == "notaff" then tcard = "justice"	
  	elseif ms.afflicted["numbness"] == "notaff" then tcard = "emperor"
    elseif ms.afflicted["pacifism"] == "notaff" then tcard = "lovers"
    elseif shieldUsed &gt;= 10 and ms.afflicted["heroism"] == "notaff" and (ms.afflicted["impatience"] == "aff" or scast:find("quicken") or si:find("quicken")) then tcard = "moon";moonaff = "heroism"
	  elseif ms.afflicted["confusion"] == "notaff" and (mage or bard) and (ms.afflicted["impatience"] == "aff" or scast:find("quicken") or si:find("quicken")) then tcard = "moon";moonaff = "confusion"
  	elseif ms.afflicted["hallucinations"] == "notaff" and not si:find("fever") and not scast:find("fever") and (ms.afflicted["impatience"] == "aff" or (scast:find("quicken") or si:find("quicken"))) and not ul:find("cadmus") then tcard = "creator"
	  elseif ms.afflicted["masochism"] == "notaff" and scast ~= "soulburn" then tcard = "moon";moonaff = "masochism"
  	elseif ms.afflicted["confusion"] == "notaff" and (ms.afflicted["impatience"] == "aff" or scast:find("quicken") or si:find("quicken")) then tcard = "moon";moonaff = "confusion"
    elseif ms.afflicted["heroism"] == "notaff" and (ms.afflicted["impatience"] == "aff" or scast:find("quicken") or si:find("quicken")) then tcard = "moon";moonaff = "heroism"
    elseif ms.afflicted["stupidity"] == "notaff" and (ms.afflicted["impatience"] == "aff" or scast:find("quicken") or si:find("quicken")) and not si:find("fever") and not scast:find("fever") then tcard = "moon";moonaff = "stupidity"
	  elseif ms.afflicted["paranoia"] == "notaff" then tcard = "moon";moonaff = "paranoia"
	  elseif ms.afflicted["dementia"] == "notaff" then tcard = "moon";moonaff = "dementia"
    elseif ms.afflicted["aeon"] == "notaff" and (ms.afflicted["asthma"] == "aff" or ashcloud) then tcard = "aeon"
		  if not ashcloud and taint &gt;= 30 then scast = "ashcloud" end
    elseif ms.afflicted["manaleech"] == "notaff" then tcard = "fool"
		  if not ashcloud and taint &gt;= 30 then scast = "ashcloud" end
	  elseif ms.afflicted["hypersomnia"] == "notaff" then tcard = "moon";moonaff = "hypersomnia"
	  elseif ms.afflicted["recklessness"] == "notaff" and not bard and (ms.afflicted["impatience"] == "aff" or scast:find("quicken") or si:find("quicken")) and ro then tcard = "moon";moonaff = "recklessness"
	  else tcard = "moon"
	end
	return
end
</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Deathknight</name>
							<packageName></packageName>
							<script>bnum = tonumber(0)
ms.limbs = {}
ms.dk = {}
ms.ew = {}
ms.dk.affs = {}
ms.dk.toxins = {}


function buffDk() 
	if ms.dk.buffs[bnum] then send("queue eqbal "..ms.dk.buffs[bnum]) end
	bnum = bnum + 1
end

function ew()
	ewAtk = ""
	ms.ew = {}
	if fleshburn and tbleed &gt;= 50 then table.insert(ms.ew, "fleshburn") end
	if soulquench and hp &lt;= 59 then table.insert(ms.ew, "soulquench") end
	if draining and cm &lt; 60 then table.insert(ms.ew, "draining") end
  if teeth then table.insert(ms.ew, "teeth") end
	if negating and (not soulquench or not draining) and (hp &lt; 65 or th &lt; 65) then table.insert(ms.ew, "negating") end
  if agony and acount &gt;= 4 then table.insert(ms.ew, "agony") end
	if rending then table.insert(ms.ew, "rending") end
  table.insert(ms.ew, "soulquench")
	table.insert(ms.ew, "fleshburn")
  
  ms.ewd = {}
  if fleshburn and tbleed &gt;= 20 then table.insert(ms.ewd, "fleshburn") end
  if soulquench and hp &lt;= 59 then table.insert(ms.ewd, "soulquench") end
	if agony and acount &gt;= 4 then table.insert(ms.ewd, "agony") end
	if draining and cm &lt; 60 then table.insert(ms.ewd, "draining") end
	if negating and (hp &lt; 65 or th &lt; 65) then table.insert(ms.ewd, "negating") end
	if rending then table.insert(ms.ewd, "rending") end
  table.insert(ms.ewd, "soulquench");table.insert(ms.ewd, "negating")

	if ms.ew[1] == "fleshburn" and ms.ew[2] == "teeth" then ms.ew[1] = "teeth";ms.ew[2] = "fleshburn" end
end

function bleedDSL() ms.dk.affs = {};atk1 = "";atk2 = ""
    --affs
    if tumbling then table.insert(ms.dk.affs, "opium");table.insert(ms.dk.affs, "opium") end
    if (th &lt;= 50 or (#ms.afflictions  &gt;= 5)) and (ms.afflicted["metrazol"] == "aff" or ms.afflicted["paralysis"] == "aff") and deaf and not tprone then table.insert(ms.dk.affs, "strychnine") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then table.insert(ms.dk.affs, "ciguatoxin") end
    if deaf and (ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff" or ms.afflicted["metrazol"] == "aff") and (tbleed &gt;= 70 or acount &gt;= 10) and not tprone then table.insert(ms.dk.affs, "strychnine") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.dk.affs, "cyanide") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin") or pbob) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.dk.affs[1] == "ciguatoxin" or ms.dk.affs[2] == "ciguatoxin")) then table.insert(ms.dk.affs, "bromine") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.dk.affs, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and not mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.dk.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and (toxShrugged ~= "mercury" and fitnessUsed == false) then table.insert(ms.dk.affs, "mercury") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.dk.affs, "ether") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.dk.affs, "xeroderma") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.dk.affs, "botulinum") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "mebaral") end      
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.dk.affs, "metrazol") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin") or pbob) then table.insert(ms.dk.affs, "iodine") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.dk.affs, "butisol") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin") or pbob) then table.insert(ms.dk.affs, "mazanor") end
    if ms.afflicted["slow elixirs"] == "notaff" and ((ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin") or pbob) then table.insert(ms.dk.affs, "luminal") end
    if ms.afflicted["calotropis"] == "notaff" and ((ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin") or pbob) then table.insert(ms.dk.affs, "calotropis") end 
    if ms.afflicted["ignorance"] == "notaff" and mage then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["numbness"] == "notaff" and mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.dk.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and fitnessUsed and not table.contains(ms.dk.affs, "mercury") then table.insert(ms.dk.affs, "mercury") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.dk.affs, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "vitriol") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.dk.affs, "lindane") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.dk.affs, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.dk.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.dk.affs, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "vitriol") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.dk.affs, "atropine") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.dk.affs, "aconite") end
    table.insert(ms.dk.affs, "strychnine");table.insert(ms.dk.affs, "strychnine")

	--atks
  if ms.afflicted["haemophilia"] == "notaff" and ((ms.ew[1] == "teeth" or ms.ew[2] == "teeth")) then atk1 = "lacerate";atk2 = "shred"
	else atk1 = "lacerate";atk2 = "lacerate"
	end

  if (llb and llBP &gt; llHit) or (not llb) then 
    tl1 = "left leg" 
  else
    tl1 = "torso"
  end
	if (rlb and rlBP &gt; rlHit) or (not rlb) then 
    tl2 = "right leg" 
  else
    tl2 = "torso"
  end
  
	--rb and shield
	if rb and shield then atk1 = "raze";atk2 = "raze"
	elseif rb or shield then atk1 = "raze"
	end

	if atk1 == "slash" or atk2 == "slash" then
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance sabre with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance sabre with "..ms.ewd[1].." "..ms.ewd[2]
		end
	else
		if ms.ew[1] == ms.ew[2] then 
			ewAtk = "enhance "..ms.save["longsword"].." with "..ms.ew[1].." "..ms.ew[3]
		else
			ewAtk = "enhance "..ms.save["longsword"].." with "..ms.ew[1].." "..ms.ew[2]
		end
	end
end

function dmgDSL() ms.dk.affs = {};atk1 = "";atk2 = ""
    --affs
    if tumbling then table.insert(ms.dk.affs, "opium");table.insert(ms.dk.affs, "opium") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then table.insert(ms.dk.affs, "ciguatoxin") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.dk.affs, "cyanide") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.dk.affs[1] == "ciguatoxin" or ms.dk.affs[2] == "ciguatoxin")) then table.insert(ms.dk.affs, "bromine") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.dk.affs, "botulinum") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.dk.affs, "strychnine") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.dk.affs, "hemotoxin") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) then table.insert(ms.dk.affs, "iodine") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.dk.affs, "butisol") end
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.dk.affs, "luminal") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.dk.affs, "atropine") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.dk.affs, "mercury") end
    if ms.afflicted["clumsiness"] == "notaff" and not ccd and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.dk.affs, "ether") end 
	  if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and not tob then table.insert(ms.dk.affs, "ciguatoxin") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "mebaral") end  
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.dk.affs, "ciguatoxin") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.dk.affs, "metrazol") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) then table.insert(ms.dk.affs, "mazanor") end
    if ms.afflicted["calotropis"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) then table.insert(ms.dk.affs, "calotropis") end
    if ms.afflicted["butisol"] == "notaff" and ms.afflicted["asthma"] == "notaff" then table.insert(ms.dk.affs, "butisol") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.dk.affs, "xeroderma") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.dk.affs, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "vitriol") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.dk.affs, "aconite") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.dk.affs, "lindane") end
    if (ms.afflicted["crippled left leg"] == "notaff" or ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) then table.insert(ms.dk.affs, "benzedrine") end
    if (ms.afflicted["crippled left leg"] == "notaff" and ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) then table.insert(ms.dk.affs, "benzedrine") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.dk.affs, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.dk.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.dk.affs, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "vitriol") end
    table.insert(ms.dk.affs, "strychnine");table.insert(ms.dk.affs, "strychnine")

	--atks
  atk1 = "reave";atk2 = "reave"


	tl1 = "torso";tl2 = "torso"
  
	--rb and shield
	if rb and shield then atk1 = "raze";atk2 = "raze"
	elseif rb or shield then atk1 = "raze"
	end
  --enhance claymore
  if atk1 == "reave" or atk2 == "reave" then
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance battleaxe with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance battleaxe with "..ms.ewd[1].." "..ms.ewd[2]
		end
	else
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance claymore with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance claymore with "..ms.ewd[1].." "..ms.ewd[2]
		end
   end
end

function bleed2DSL() ms.dk.affs = {};atk1 = "";atk2 = ""
    --affs
    if tumbling then table.insert(ms.dk.affs, "opium");table.insert(ms.dk.affs, "opium") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then table.insert(ms.dk.affs, "ciguatoxin") end
    if deaf and (ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff" or ms.afflicted["metrazol"] == "aff") and (tbleed &gt;= 70 or acount &gt;= 10) and not tprone then table.insert(ms.dk.affs, "strychnine") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.dk.affs, "cyanide") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.dk.affs[1] == "ciguatoxin" or ms.dk.affs[2] == "ciguatoxin")) then table.insert(ms.dk.affs, "bromine") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.dk.affs, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and not mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.dk.affs, "ciguatoxin") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.dk.affs, "xeroderma") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not defiler and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.dk.affs, "ether") end 
    if ms.afflicted["asthma"] == "notaff" and (toxShrugged ~= "mercury" and fitnessUsed == false) then table.insert(ms.dk.affs, "mercury") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "mebaral") end      
    if ms.afflicted["metrazol"] == "notaff" and not defiler and not engineer and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.dk.affs, "metrazol") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.dk.affs, "butisol") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) then table.insert(ms.dk.affs, "mazanor") end
    if ms.afflicted["calotropis"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) then table.insert(ms.dk.affs, "calotropis") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.dk.affs, "botulinum") end
    if ms.afflicted["ignorance"] == "notaff" and mage then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["numbness"] == "notaff" and mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.dk.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and not table.contains(ms.dk.affs, "mercury") then table.insert(ms.dk.affs, "mercury") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) then table.insert(ms.dk.affs, "iodine") end
    if ms.afflicted["slow elixirs"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.dk.affs[1] == "iodine" or ms.dk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.dk.affs[1] == "hemotoxin" or ms.dk.affs[2] == "hemotoxin")) then table.insert(ms.dk.affs, "luminal") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.dk.affs, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "vitriol") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.dk.affs, "lindane") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.dk.affs, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.dk.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.dk.affs, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.dk.affs, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.dk.affs[1] == "mercury" or ms.dk.affs[2] == "mercury")) then table.insert(ms.dk.affs, "vitriol") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.dk.affs, "atropine") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.dk.affs, "aconite") end
    table.insert(ms.dk.affs, "strychnine");table.insert(ms.dk.affs, "strychnine")

	--atks
  if tth &lt;= 200 and not rb and not shield then atk1 = "slash";atk2 = "slash"
  else atk1 = "reave";atk2 = "reave"
  end
  


	tl1 = "torso";tl2 = "torso"
  
	--rb and shield
	if rb and shield then atk1 = "raze";atk2 = "raze"
	elseif rb or shield then atk1 = "raze"
	end
  --enhance switch
  if atk1 == "reave" or atk2 == "reave" then
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance battleaxe with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance battleaxe with "..ms.ewd[1].." "..ms.ewd[2]
		end
	elseif atk1 == "slash" or atk2 == "slash" then
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance claymore with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance claymore with "..ms.ewd[1].." "..ms.ewd[2]
		end
	else
		if ms.ew[1] == ms.ew[2] then 
			ewAtk = "enhance "..ms.save["longsword"].." with "..ms.ew[1].." "..ms.ew[3]
		else
			ewAtk = "enhance "..ms.save["longsword"].." with "..ms.ew[1].." "..ms.ew[2]
		end
	end
end

function affsDSL() ms.dk.affs = {}
	--affs
	if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.dk.affs, "cyanide") end
	if ms.afflicted["anorexia"] == "notaff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["impatience"] == "aff" then table.insert(ms.dk.affs, "bromine") end
	if ms.afflicted["slickness"] == "notaff" and ms.afflicted["asthma"] == "aff" and ms.afflicted["hemotoxin"] == "aff" then table.insert(ms.dk.affs, "iodine") end
	if ms.afflicted["slow elixirs"] == "notaff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["hemotoxin"] == "aff" then table.insert(ms.dk.affs, "luminal") end
	if ms.afflicted["slow herbs"] == "notaff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["hemotoxin"] == "aff" then table.insert(ms.dk.affs, "mazanor") end
	if ms.afflicted["calotropis"] == "notaff" and ms.afflicted["slickness"] == "aff" and ms.afflicted["hemotoxin"] == "aff" then table.insert(ms.dk.affs, "calotropis") end
	if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.dk.affs, "ciguatoxin") end
	if ms.afflicted["hemotoxin"] == "notaff" then table.insert(ms.dk.affs, "hemotoxin") end
	if ms.afflicted["slow balance"] == "notaff" and ms.afflicted["asthma"] == "aff" and ms.afflicted["hemotoxin"] == "aff" then table.insert(ms.dk.affs, "noctec") end
	if ms.afflicted["slow equilibrium"] == "notaff" and ms.afflicted["asthma"] == "aff" and ms.afflicted["hemotoxin"] == "aff" then table.insert(ms.dk.affs, "mebaral") end
	if ms.afflicted["clumsiness"] == "notaff" and clt then table.insert(ms.dk.affs, "ether") end
	if ms.afflicted["asthma"] == "notaff" then table.insert(ms.dk.affs, "mercury") end
	if ms.afflicted["butisol"] == "notaff" then table.insert(ms.dk.affs, "butisol") end
	if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.dk.affs, "metrazol") end
	if ms.afflicted["weariness"] == "notaff" then table.insert(ms.dk.affs, "arsenic") end
	if ms.afflicted["nausea"] == "notaff" then table.insert(ms.dk.affs, "botulinum") end
	if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.dk.affs, "xeroderma") end
	if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.dk.affs, "lindane") end
	if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.dk.affs, "avidya") end
	table.insert(ms.dk.affs, "atropine");table.insert(ms.dk.affs, "strychnine")
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Defiler</name>
							<packageName></packageName>
							<script>ms.defiler = {}
ms.defiler.affs = {}

function affRav() 
	ms.defiler.aff = {}
    if (ms.save["group"] or ms.save["dmg"]) and ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.defiler.aff, "strychnine") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.defiler.aff, "cyanide") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.defiler.aff[1] == "iodine" or ms.defiler.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.defiler.aff[1] == "hemotoxin" or ms.defiler.aff[2] == "hemotoxin")) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.defiler.aff[1] == "ciguatoxin" or ms.defiler.aff[2] == "ciguatoxin")) then table.insert(ms.defiler.aff, "bromine") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.defiler.aff[1] == "iodine" or ms.defiler.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.defiler.aff[1] == "hemotoxin" or ms.defiler.aff[2] == "hemotoxin")) and (ms.afflicted["asthma"] == "aff" or (ms.defiler.aff[1] == "mercury" or ms.defiler.aff[2] == "mercury")) and ms.afflicted["impatience"] == "aff" then table.insert(ms.defiler.aff, "ciguatoxin") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.defiler.aff, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.defiler.aff, "ciguatoxin") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.defiler.aff, "botulinum") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.defiler.aff, "xeroderma") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.defiler.aff, "mercury") end 
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff") and (ms.afflicted["hemotoxin"] == "aff" or pbob) then table.insert(ms.defiler.aff, "iodine") end
    if ms.afflicted["slow elixirs"] == "notaff" and (ms.afflicted["slickness"] == "aff") and (ms.afflicted["hemotoxin"] == "aff" or pbob) then table.insert(ms.defiler.aff, "luminal") end     
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.defiler.aff, "metrazol") end
    if ms.afflicted["weariness"] == "notaff" and (zerker or defiler) then table.insert(ms.defiler.aff, "arsenic") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.defiler.aff[1] == "mercury" or ms.defiler.aff[2] == "mercury")) or table.contains(ms.defiler.aff, "mercury")) then table.insert(ms.defiler.aff, "noctec") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.defiler.aff, "psilocybin") end
    if ms.afflicted["clumsiness"] == "notaff" and not ccd and not assassin and not shaman and not bard and not mage then table.insert(ms.defiler.aff, "ether") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.defiler.aff, "mercury") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.defiler.aff, "aconite") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.defiler.aff[1] == "mercury" or ms.defiler.aff[2] == "mercury")) or table.contains(ms.defiler.aff, "mercury")) then table.insert(ms.defiler.aff, "mebaral") end   
    if (ms.afflicted["crippled left arm"] == "notaff" or ms.afflicted["crippled right arm"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.defiler.aff[1] == "iodine" or ms.defiler.aff[2] == "iodine")) then table.insert(ms.defiler.aff, "benzene") end
    if (ms.afflicted["crippled left leg"] == "notaff" or ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.defiler.aff[1] == "iodine" or ms.defiler.aff[2] == "iodine")) then table.insert(ms.defiler.aff, "benzedrine") end
    if (ms.afflicted["crippled left leg"] == "notaff" and ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.defiler.aff[1] == "iodine" or ms.defiler.aff[2] == "iodine")) then table.insert(ms.defiler.aff, "benzedrine") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.defiler.aff, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.defiler.aff[1] == "mercury" or ms.defiler.aff[2] == "mercury")) then table.insert(ms.defiler.aff, "vitriol") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.defiler.aff[1] == "mercury" or ms.defiler.aff[2] == "mercury")) then table.insert(ms.defiler.aff, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.defiler.aff, "lindane") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.defiler.aff, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.defiler.aff, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.defiler.aff, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.defiler.aff[1] == "mercury" or ms.defiler.aff[2] == "mercury")) then table.insert(ms.defiler.aff, "vitriol") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.defiler.aff, "atropine") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.defiler.aff, "strychnine") end
    if ms.afflicted["sensitivity"] == "notaff" and deaf then table.insert(ms.defiler.aff, "strychnine") end
end

function dmgRte()
	atk = ""
	wld = quickdraw(ms.save["flail"], ms.save["shield"])
 if (hp+mp &lt;= 70) and not shield then
    atk = "treant implant "..target
	elseif (not shadow or shadowKilled) and not shadowCD and not shield then
		atk = "torment "..target.." with shadow"
	elseif not tempest and not shield then
		atk = "spatter tempest from blood"
	elseif not bloodrain and table.contains(gmcp.Room.Info.details, "outdoors") then
		atk = "spatter bloodrain from blood strychnine"
  elseif not transmission then
    atk = "shadowbind "..target.." with transmission"
	elseif shield or rb then
		atk = "devastate "..target.." "..ms.defiler.aff[1]
	else
		atk = "ravage "..target.." "..ms.defiler.aff[1]
	end
end

function dmgOB()
	ob = ""
  if ((entropy &gt;= 50 and hp &lt;= 50) or entropy &gt;= 95) and ((gutwyrm and ms.afflicted["rigidity"] == "notaff") or psysap) then
		ob = "treant bellow "..target.." 50"
  elseif gutwyrm and not psysap and ((entropy &gt;= 50 and hp &lt;= 50) or entropy &gt;= 95) and ms.afflicted["rigidity"] == "aff" then
    ob = "shadowbind "..target.." with psysap"
	elseif not gutwyrm and ((entropy &gt;= 50 and hp &lt;= 50) or entropy &gt;= 95) then
		ob = "torment "..target.." with gutwyrm"
  elseif ms.afflicted["entropy"] == "notaff" and ms.afflicted["rigidity"] == "notaff" then
		ob = "torment "..target.." with entropy"
  elseif ms.afflicted["haemophilia"] == "notaff" then
    ob = "torment "..target.." with haemophilia"
  elseif ms.afflicted["addiction"] == "notaff" and ms.afflicted["hallucinations"] == "notaff" then
    ob = "treant shred "..target
	else
		ob = "treant trip "..target
	end
end

function groupRte()
	atk = ""
	wld = quickdraw(ms.save["flail"], ms.save["shield"])
 if (hp+mp &lt;= 70) and not shield then
    atk = "treant implant "..target
	elseif (not shadow or shadowKilled) and not shadowCD and not shield then
		atk = "torment "..target.." with shadow"
	elseif not tempest and not shield then
		atk = "spatter tempest from blood"
	elseif not bloodrain and table.contains(gmcp.Room.Info.details, "outdoors") then
		atk = "spatter bloodrain from blood strychnine"
	elseif shield or rb then
		atk = "devastate "..target.." "..ms.defiler.aff[1]
	else
		atk = "ravage "..target.." "..ms.defiler.aff[1]
	end
  
  if th &lt; 50 then 
    if hawthorn and entropy &gt;= 20 then
      ob = "treant empower "..target.." hawthorn quick"..s.."treant entangle "..target..""..s..""..ob
    elseif not hawthorn and entropy &gt;= 20 then
      ob = "whirl branch at "..target.." hawthorn"..s.."treant empower "..target.." hawthorn quick"..s.."treant entangle "..target..""..s..""..ob
    else
      atk = "shadowbind "..target.." with healthdrain"
      ob = ""
    end
  end
end

function groupOB()
	ob = ""
  if not gutwyrm and ((entropy &gt;= 50 and hp &lt;= 50) or entropy &gt;= 95) then
		ob = "torment "..target.." with gutwyrm"
  elseif entropy &gt;= 50 then
    ob = "treant bellow "..target.." 25"
  elseif entropy &gt;= 25 then
		ob = "treant bellow "..target.." 25"
  elseif ms.afflicted["addiction"] == "notaff" and ms.afflicted["hallucinations"] == "notaff" then
    ob = "treant shred "..target
	else
		ob = "treant trip "..target
	end
end

function bleedRte() 
	atk = ""
	wld = quickdraw(ms.save["flail"], ms.save["shield"])
 if (hp+mp &lt;= 70) and not shield then
    atk = "treant implant "..target
	elseif (not shadow or shadowKilled) and not shadowCD and not shield then
		atk = "torment "..target.." with shadow"
	elseif not tempest and not shield then
		atk = "spatter tempest from blood"
	elseif not bloodrain and table.contains(gmcp.Room.Info.details, "outdoors") then
		atk = "spatter bloodrain from blood mercury"
  elseif not transmission then
    atk = "shadowbind "..target.." with transmission"
	elseif shield or rb then
		atk = "devastate "..target.." "..ms.defiler.aff[1]
	else
		atk = "ravage "..target.." "..ms.defiler.aff[1]
	end
  
  if th &lt; 50 then 
    if hawthorn and entropy &gt;= 20 then
      ob = "treant empower "..target.." hawthorn quick"..s.."treant entangle "..target..""..s..""..ob
    elseif not hawthorn and entropy &gt;= 20 then
      ob = "whirl branch at "..target.." hawthorn"..s.."treant empower "..target.." hawthorn quick"..s.."treant entangle "..target..""..s..""..ob
    else
      atk = "shadowbind "..target.." with healthdrain"
      ob = ""
    end
  end
  
end

function bleedOB() 
	ob = ""
  if blackthorn and birch and hawthorn and elder and entropy &gt;= 40 and (bloodrain or table.contains(gmcp.Room.Info.details, "indoors")) then
		ob = "treant germinate "..target.." blackthorn birch hawthorn elder"
	elseif (entropy &gt;= 50 and hp &lt;= 50) or entropy == 100 then
		ob = "treant bellow "..target.." 50"
	elseif not gutwyrm then
		ob = "torment "..target.." with gutwyrm"
  elseif ms.afflicted["entropy"] == "notaff" and ms.afflicted["rigidity"] == "notaff" then
		ob = "torment "..target.." with entropy"
  elseif ms.afflicted["haemophilia"] == "notaff" then
    ob = "torment "..target.." with haemophilia"
  elseif ms.afflicted["dryblood"] == "notaff" then
    ob = "treant intoxicate "..target
  elseif ms.afflicted["manaleech"] == "notaff" and ms.afflicted["asthma"] == "aff" then
		ob = "torment "..target.." with excision"
  elseif ms.afflicted["addiction"] == "notaff" and ms.afflicted["hallucinations"] == "notaff" then
    ob = "treant shred "..target
	else
		ob = "treant trip "..target
	end
  
  if th &lt; 50 then 
    if hawthorn and entropy &gt;= 20 then
      ob = "treant empower "..target.." hawthorn quick"..s.."treant entangle "..target..""..s..""..ob
    elseif not hawthorn and entropy &gt;= 20 then
      ob = "whirl branch at "..target.." hawthorn"..s.."treant empower "..target.." hawthorn quick"..s.."treant entangle "..target..""..s..""..ob
    else
      atk = "shadowbind "..target.." with healthdrain"
      ob = ""
    end
  end
  
end

function treantWhirl()
	seed = ""
  if not hawthorn then
		seed = "hawthorn"
  elseif not blackthorn then
		seed = "blackthorn"
  elseif not birch then
    seed = "birch"
  elseif not elder then
    seed = "elder"
	end
	if not shield and (seed:find("birch") or seed:find("hawthorn") or seed:find("blackthorn") or seed:find("elder")) and whirl then 
		atk = "whirl branch at "..target.." "..seed..""..s..""..atk
	end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Assassin</name>
							<packageName></packageName>
							<script>ms.ass = {}
ms.ass.aff = {}
ms.shadowplants = {}


ms.ass.hypnoAffs = {
"impatience",
"Hypochondria",
"Deadening",
"Stupidity",
"Hypersomnia",
"Dementia",
"Epilepsy",
"Agoraphobia",
"Paranoia",
"Recklessness",
"Vertigo",
"Heroism",
"Lethargy",
"Anorexia",
"Confusion",
"Generosity",
}

ms.ass.annihilate = {
"impatience",
"amnesia",
"addiction",
"masochism",
"loneliness",
"claustrophobia",
"stuttering",
"hallucinations",
"peace",
"hypersomnia",
"dementia",
"deadening",
"agoraphobia",
"paranoia",
"vertigo",
"heroism",
"lethargy",
"confusion",
"generosity",
"hypochondria",
}

function anorexiaDstabCheck()
  if ms.afflicted["anorexia"] == "notaff" then
    if ms.ass.aff[1]:find("hemotoxin") and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["impatience"] == "aff" and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" then return true
    elseif ms.ass.aff[1]:find("mercury") and (ms.afflicted["hemotoxin"] == "aff" or pbob) and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["impatience"] == "aff" and ms.afflicted["slickness"] == "aff" then return true
    elseif ms.ass.aff[1]:find("ciguatoxin") and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["slickness"] == "aff" then return true
    elseif ms.ass.aff[1]:find("iodine") and (ms.afflicted["hemotoxin"] == "aff" or pbob) and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and ms.afflicted["impatience"] == "aff" and ms.afflicted["asthma"] == "aff" then return true
    else return false
    end
  else
    return false
  end
end

function annihilate()
    annihilateCount = tonumber(0)
    for aff,state in ms.afflicted:pairs() do
        if table.contains(ms.ass.annihilate, aff) and state == "aff" then
            annihilateCount = annihilateCount + 1
        end
    end
end

function shadowPlant()
    if snap and spm then 
        fakeplant = "mandrake"
    elseif spk and (
                    (ms.afflicted["hemotoxin"] == "aff" or ms.afflicted["asthma"] == "aff")
                    or 
                    (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury")
                    or
                    (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin")
    ) then--spk
        fakeplant = "kelp"
    elseif spmh and (
                    (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or ms.afflicted["slickness"] == "aff")
                    or
                    (ms.ass.aff[1] == "ciguatoxin" or ms.ass.aff[2] == "ciguatoxin")
                    or
                    (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")
    ) then--spmh 
        fakeplant = "maidenhair"
    else 
        fakeplant = ""
    end
end

function dstabGroupAffs()
    ms.ass.aff = {}
    if ms.afflicted["hemotoxin"] == "notaff" then table.insert(ms.ass.aff, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.ass.aff, "ciguatoxin") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.ass.aff, "strychnine") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.ass.aff, "mercury") end
    if ms.afflicted["slickness"] == "notaff" then table.insert(ms.ass.aff, "iodine") end
    if ms.afflicted["anorexia"] == "notaff" then table.insert(ms.ass.aff, "bromine") end
    if ms.afflicted["sulfonal"] == "notaff" then table.insert(ms.ass.aff, "sulfonal") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.ass.aff, "atropine") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.ass.aff, "botulinum") end
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.ass.aff, "luminal") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.ass.aff, "aconite") end
    if ms.afflicted["cyanide"] == "notaff" then table.insert(ms.ass.aff, "cyanide") end
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.ass.aff, "lindane") end
    if ms.afflicted["slow herbs"] == "notaff" then table.insert(ms.ass.aff, "mazanor") end
    if ms.afflicted["slow balance"] == "notaff" then table.insert(ms.ass.aff, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" then table.insert(ms.ass.aff, "mebaral") end    
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.ass.aff, "butisol") end
    if ms.afflicted["calotropis"] == "notaff" then table.insert(ms.ass.aff, "calotropis") end
    if ms.afflicted["clumsiness"] == "notaff" then table.insert(ms.ass.aff, "ether") end
    if ms.afflicted["weariness"] == "notaff" then table.insert(ms.ass.aff, "arsenic") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.ass.aff, "xeroderma") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.ass.aff, "metrazol") end
    if ms.afflicted["disloyalty"] == "notaff" then table.insert(ms.ass.aff, "vitriol") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.ass.aff, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.ass.aff, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" then table.insert(ms.ass.aff, "vitriol") end
    table.insert(ms.ass.aff, "trioxin")
end

function dstabTL()
    ms.ass.aff = {}
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.ass.aff, "cyanide") end
    if tlock and ms.afflicted["stupidity"] == "notaff" then table.insert(ms.ass.aff, "aconite") end
    if ms.afflicted["hemotoxin"] == "notaff" then table.insert(ms.ass.aff, "hemotoxin") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin")) then table.insert(ms.ass.aff, "iodine") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.ass.aff, "ciguatoxin") end
    if ms.afflicted["anorexia"] == "notaff" and (((ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin")) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.ass.aff[1] == "ciguatoxin" or ms.ass.aff[2] == "ciguatoxin")))) then table.insert(ms.ass.aff, "bromine") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.ass.aff, "mercury") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin")) then table.insert(ms.ass.aff, "mazanor") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.ass.aff, "butisol") end
    if ms.afflicted["calotropis"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin")) then table.insert(ms.ass.aff, "calotropis") end
    if ms.afflicted["slow elixirs"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin") or pbob) then table.insert(ms.ass.aff, "luminal") end
    if ms.afflicted["clumsiness"] == "notaff" and not ccd and not engineer and not assassin and not shaman and not bard and not mage and not defiler then table.insert(ms.ass.aff, "ether") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) or table.contains(ms.ass.aff, "mercury")) then table.insert(ms.ass.aff, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) or table.contains(ms.ass.aff, "mercury")) then table.insert(ms.ass.aff, "mebaral") end   
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.ass.aff, "metrazol") end
    if (ms.afflicted["crippled left arm"] == "notaff" or ms.afflicted["crippled right arm"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzene") end
    if (ms.afflicted["crippled left arm"] == "notaff" and ms.afflicted["crippled right arm"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzene") end
    if (ms.afflicted["crippled left leg"] == "notaff" or ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzedrine") end
    if (ms.afflicted["crippled left leg"] == "notaff" and ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzedrine") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.ass.aff, "avidya") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.ass.aff, "arsenic") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) then table.insert(ms.ass.aff, "vitriol") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) then table.insert(ms.ass.aff, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.ass.aff, "lindane") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.ass.aff, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.ass.aff, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.ass.aff, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not shaman then table.insert(ms.ass.aff, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) then table.insert(ms.ass.aff, "vitriol") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.ass.aff, "strychnine") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.ass.aff, "strychnine") end
end

function dstabStall()
    ms.ass.aff = {}
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.ass.aff, "cyanide") end
    if tlock and ms.afflicted["stupidity"] == "notaff" then table.insert(ms.ass.aff, "aconite") end
    if ms.afflicted["hemotoxin"] == "notaff" and ((pbob == false) or (ms.afflicted["anorexia"] == "aff") or (ms.afflicted["slickness"] == "aff") or (ms.afflicted["paralysis"] == "aff")) then table.insert(ms.ass.aff, "hemotoxin") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin") or pbob) then table.insert(ms.ass.aff, "iodine") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.ass.aff, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and not fitnessUsed then table.insert(ms.ass.aff, "mercury") end
    if ms.afflicted["anorexia"] == "notaff" and (((ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin") or pbob) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.ass.aff[1] == "ciguatoxin" or ms.ass.aff[2] == "ciguatoxin")))) then table.insert(ms.ass.aff, "bromine") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not shaman and not bard and not mage and not diabolist then table.insert(ms.ass.aff, "ether") end
    if ms.afflicted["metrazol"] == "notaff" and tranger then table.insert(ms.ass.aff, "metrazol") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) or table.contains(ms.ass.aff, "mercury")) then table.insert(ms.ass.aff, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) or table.contains(ms.ass.aff, "mercury")) then table.insert(ms.ass.aff, "mebaral") end   
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin") or pbob) then table.insert(ms.ass.aff, "mazanor") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.ass.aff, "butisol") end
    if ms.afflicted["calotropis"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin") or pbo) then table.insert(ms.ass.aff, "calotropis") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.ass.aff, "metrazol") end
    if ms.afflicted["asthma"] == "notaff" and fitnessUsed then table.insert(ms.ass.aff, "mercury") end
    if ms.afflicted["slow elixirs"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.ass.aff[1] == "hemotoxin" or ms.ass.aff[2] == "hemotoxin") or pbob) then table.insert(ms.ass.aff, "luminal") end
    if (ms.afflicted["crippled left arm"] == "notaff" or ms.afflicted["crippled right arm"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzene") end
    if (ms.afflicted["crippled left arm"] == "notaff" and ms.afflicted["crippled right arm"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzene") end
    if (ms.afflicted["crippled left leg"] == "notaff" or ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzedrine") end
    if (ms.afflicted["crippled left leg"] == "notaff" and ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine")) then table.insert(ms.ass.aff, "benzedrine") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.ass.aff, "avidya") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.ass.aff, "arsenic") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) then table.insert(ms.ass.aff, "vitriol") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) then table.insert(ms.ass.aff, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.ass.aff, "lindane") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.ass.aff, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.ass.aff, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.ass.aff, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not shaman then table.insert(ms.ass.aff, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") or smoked) then table.insert(ms.ass.aff, "vitriol") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.ass.aff, "strychnine") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.ass.aff, "strychnine") end
end

function puncture()
    ms.ass.aff = {}
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.ass.aff, "luminal") end
    if ms.afflicted["slow herbs"] == "notaff" then table.insert(ms.ass.aff, "mazanor") end
    if ms.afflicted["sulfonal"] == "notaff" then table.insert(ms.ass.aff, "sulfonal") end
    table.insert(ms.ass.aff, "trioxin")
end

function dstabAtk()
    wld = quickdraw(ms.save["dirk"], ms.save["shield"])
    atk = ""
    if ms.ass.aff[1] == ms.ass.aff[2] then table.remove(ms.ass.aff, 2) end
    if shield then
        if hammer then
            atk = "touch hammer "..target
        elseif not rb then
            if fenugreek then
                wld = quickdraw(ms.save["whip"], ms.save["shield"])
                atk = "scourge "..target
            else
                atk = "puncture "..target.." with "..(ms.ass.aff[1] or "trioxin")
            end
        else
            wld = quickdraw(ms.save["whip"], ms.save["shield"])
            atk = "flay "..target.." aura"
        end
    elseif dispel then
        atk = "dispel "..target
    elseif hk then
        atk = "dstab "..ptar.." opium opium"
    elseif not rb and ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik and (ms.ass.aff[1] ~= "ciguatoxin" and ms.ass.aff[2] ~= "ciguatoxin") then
        atk = "dstab "..target.." ciguatoxin "..ms.ass.aff[1]
    elseif swiftAttach and annihilateCount &gt;= 6 and not shield then
        atk = "worm attach circular"..s.."worm annihilate "..target
    elseif #ms.afflictions &gt;= 6 and not table.contains(ms.afflictions, "paralysis") and (not dra and not dla) then
        if bard or summoner then 
			   atk = "worm attach circular"..s.."worm cleanse"
		    else
			   atk = "worm cleanse"
		    end
    elseif not group and not useBlizzard and (swiftAttach or wloc:find("Volcano")) and not engulfed and (ms.afflicted["asthma"] == "notaff" or rb) then
        atk = "worm attach volcano"..s.."worm engulf "..target
    elseif (useBlizzard) and (swiftAttach or wloc:find("Tundra")) and not blizzard then
        atk = "worm attach tundra"..s.."worm blizzard"
    elseif (rb or rbhit) and not engulfed and not swiftAttach then 
        wld = quickdraw(ms.save["whip"], ms.save["shield"])
        atk = "flay "..target.." aura"
    elseif tumbling then
        atk = "dstab "..target.." opium opium"
    elseif not sealed and hypnotised and seal and (swiftAttach or wloc:find("Circular")) and (ms.afflicted["asthma"] == "aff" and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ((ms.afflicted["numbness"] == "aff") or (ms.afflicted["paralysis"] == "aff")) and ms.afflicted["slickness"] == "aff") and ms.afflicted["impatience"] == "notaff" and not fenugreek then
        atk = "worm attach circular"..s.."worm enthrall "..target..""..s.."puncture "..target.." with "..ms.ass.aff[1]
    elseif snap and sealed then
        atk = "snap "..target..""..s.."dstab "..target.." "..(ms.ass.aff[1] or "").." "..(ms.ass.aff[2] or "")
    elseif #ms.ass.aff == 0 then
        if not scourge then
            wld = quickdraw(ms.save["whip"], ms.save["shield"])
            atk = "scourge "..target
        elseif ms.afflicted["sulfonal"] == "notaff" and scourge then
            atk = "puncture "..target.." with sulfonal"
        elseif ms.afflicted["sulfonal"] == "aff" and scourge then
            atk = "puncture "..target.." with trioxin"
        else
            atk = "puncture "..target.." with trioxin"
        end--Sulfonal Stuff
    else
        if ((ms.ass.aff[1] or ms.ass.aff[2]) == "bromine") and ms.afflicted["butisol"] == "notaff" then
            atk = "dstab "..target.." bromine butisol"
        else
			      wld = quickdraw(ms.save["dirk"], ms.save["shield"])
            atk = "dstab "..target.." "..ms.ass.aff[1].." "..(ms.ass.aff[2] or "")
        end--dstab
        if (rb or rbhit) and engulfed and swiftAttach then
          atk = "worm engulf "..target.." overload::"..atk
        end
    end--atk
end

function dstabWorm()
    --worm and hypnotise variable
    watk = ""
    if not shield and wloc ~= target and not pullarrow then
        if spm and snap then
            watk = "worm shadowplant "..target.." mandrake"
        elseif not table.contains(ms.afflictions, "clumsiness") and instill and not fitnessUsed and (ms.ass.aff[1] == "mercury" or ms.ass.aff[2] == "mercury") and ms.afflicted["hemotoxin"] == "aff" and (ms.afflicted["clumsiness"] == "aff" or ms.afflicted["weariness"] == "aff") then
            watk = "worm instill "..target.." asthma"
        elseif not table.contains(ms.afflictions, "clumsiness") and instill and fitnessUsed and (ms.ass.aff[1] == "iodine" or ms.ass.aff[2] == "iodine") and ((ms.afflicted["numbness"] == "aff") or (ms.afflicted["paralysis"] == "aff")) and ((ms.afflicted["sensitivity"] == "aff") or (ms.afflicted["metrazol"] == "aff")) then
            watk = "worm instill "..target.." slickness"
        elseif not snapped and not hypnotised and not sealed then
            watk = "hypnotise "..target
        elseif not snapped and ms.afflicted["impatience"] == "notaff" and not seal and hypnotised and not sealed then
            watk = "suggest "..target.." front impatience"
        elseif not snapped and not sealed and seal and hypnotised and (ms.afflicted["asthma"] == "aff" and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ((ms.afflicted["numbness"] == "aff") or (ms.afflicted["paralysis"] == "aff")) and ms.afflicted["slickness"] == "aff") and ms.afflicted["impatience"] == "notaff" then
            watk = "seal "..target.." 1"
        elseif not table.contains(ms.afflictions, "clumsiness") and (spk or spmh or spm) and fakeplant ~= "" and not tlock and (acount &lt;= 4 or ms.afflicted["impatience"] == "notaff") then
            watk = "worm shadowplant "..target.." "..fakeplant
        elseif confound and hypnotised and not snap and ms.afflicted["impatience"] == "notaff" and not table.contains(ms.afflictions, "clumsiness") then
            watk = "worm confound "..target
        elseif not table.contains(ms.afflictions, "clumsiness") and atk:find("snap") or snapped then
            watk = "worm shadowplant "..target
        elseif table.contains(ms.afflictions, "clumsiness") and not obscure and not shield then
            watk = "worm obscure "..target
        else
            watk = "suggest "..target.." whisper"
        end
    else
        watk = "suggest "..target.." whisper"   
    end--worm and hypnotise
end

function dstabGroup()
    wld = quickdraw(ms.save["dirk"], ms.save["shield"])
    if not shield and swiftAttach and annihilateCount &gt;= 6 and not shield then
        atk = "worm attach circular"..s.."worm annihilate "..target
    elseif (reflection or dispel) then
        atk = "dispel "..target
    elseif rb then
        wld = quickdraw(ms.save["whip"], ms.save["shield"])
        atk = "flay "..target.." aura"
    elseif ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik and (ms.ass.aff[1] ~= "ciguatoxin" and ms.ass.aff[2] ~= "ciguatoxin") then
        atk = "dstab "..target.." ciguatoxin "..ms.ass.aff[1]
    elseif (swiftAttach or wloc:find("Tundra")) and not blizzard then
        atk = "worm attach tundra"..s.."worm blizzard"
    else
        --atk
        if fenugreek then
            if not scourge then
                wld = quickdraw(ms.save["whip"], ms.save["shield"])
                atk = "scourge "..target
            else
                wld = quickdraw(ms.save["whip"], ms.save["shield"])
                atk = "flay "..target
            end
        else
              atk = "puncture "..target.." with "..ms.ass.aff[1]
        end
    end
end

function dstabDmg()
    wld = quickdraw(ms.save["dirk"], ms.save["shield"])
    if not shield and swiftAttach and annihilateCount &gt;= 6 and not shield then
        atk = "worm attach circular"..s.."worm annihilate "..target
    elseif (reflection or dispel) then
        atk = "dispel "..target
    elseif rb then
        wld = quickdraw(ms.save["whip"], ms.save["shield"])
        atk = "flay "..target.." aura"
    else
        --atk
        if fenugreek then
          wld = quickdraw(ms.save["whip"], ms.save["dirk"])
          atk = "scourge "..target
        else
            if scourge and obscure and ms.afflicted["sulfonal"] == "notaff" then
                atk = "puncture "..target.." with sulfonal"
            else
                atk = "puncture "..target.." with trioxin"
            end
        end
    end
end

function wormDmg()
    watk = ""
    if not obscure and not shield then
        watk = "worm obscure "..target
    elseif not shield and not group then
        watk = "worm attach rashirmir"..s.."worm choke "..target
    else
        watk = "suggest "..target.." whisper"
    end
      
end</script>
							<eventHandlerList />
						</Script>
					</ScriptGroup>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Magick</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>Bard</name>
							<packageName></packageName>
							<script>

function resetaff()
	for aff,state in ms.bard.afflicted:pairs() do
		ms.bard.afflicted[aff]="notaff"
	end
end

function nuarinyu()
  if ms.afflicted["dizziness"] == "notaff" then
    naff = "dizziness"
  elseif ms.afflicted["nausea"] == "notaff" then
    naff = "nausea"
  elseif ms.afflicted["loneliness"] == "notaff" then
    naff = "loneliness"
  elseif ms.afflicted["vertigo"] == "notaff" then
    naff = "vertigo"
  elseif ms.afflicted["heroism"] == "notaff" then
    naff = "heroism"
  elseif ms.afflicted["masochism"] == "notaff" then
    naff = "masochism"
  elseif ms.afflicted["stupidity"] == "notaff" then 
    naff = "stupidity"
  elseif ms.afflicted["hypersomnia"] == "notaff" then
    naff = "hypersomnia" 
  else 
    naff = "" 
  end
end

function bardaff()
	for aff,state in ms.bard.afflicted:pairs() do
		if state == "notaff" then
			naff = aff
			return
		end
	end
end

function sld()
	if slb and not pb then
		if shield then sla = "sketchlink raze "..target
		elseif engage and et then sla = "sketchlink engage "..target
		else sla = "sketchlink fireblast "..target
		end
	else 
		sla = ""
	end
end

function slg()
	if slb and not pb then
		if shield then sla = "sketchlink raze "..target
		else sla = "sketchlink fireblast "..target
		end
	else 
		sla = ""
	end
end

function slaf()
	if slb and not pb then
		if shield then sla = "sketchlink raze "..target
		elseif engage and et then sla = "sketchlink engage "..target
		elseif rb and yothed then sla = "sketchlink sting "..target
		elseif yothed then
     if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then
        sla = "sketchlink dstab "..target.." ciguatoxin"
      elseif ms.afflicted["stupidity"] == "notaff" then
        sla = "sketchlink dstab "..target.." aconite"
      elseif ms.afflicted["slickness"] == "notaff" then
        sla = "sketchlink dstab "..target.." iodine"
      end
		elseif not yothed then sla = ""
		end
	else 
		sla = ""
	end
end


function wd()
	if pb then sla = ""
		if yothed then w1 = "ta rubait "..target;w2 = "shaite "..target
		else w1 = "ta yoth "..target;w2 = "shaite "..target
		end
	elseif resonance &lt; 24 or varaye then
		if cl and we then
			if yothed then	w1 = "ta we rubait "..target;w2 = "shaite "..target
			else w1 = "ta we yoth "..target;w2 = "shaite "..target
			end
		elseif cl then 
			if yothed then w1 ="ta rubait "..target;w2 = "shaite "..target
			else w1 = "ta we rubait "..target;w2 = "shaite "..target
			end
		else
			if yothed then 	w1 = "ta rubait "..target;w2 = "shaite "..target
			else w1 = "yoth "..target;w2 = "shaite "..target
			end
		end
	else
		if yothed then w1 = "rubait "..target;w2 = "shaite "..target
		else w1 = "yoth "..target;w2 = "shaite "..target
		end
	end
	if trueassess and ms.save["ta"] then tat = "trueassess "..target else tat = "" end
end

function wg()
	if pb then sla = ""
		if yothed then w1 = "ta shaite "..target;w2 = "rubait "..target
		else w1 = "ta we yoth "..target;w2 = "shaite "..target
		end
	elseif resonance &lt; 24 or varaye then
		if cl then 
			if yothed then w1 = "ta we shaite "..target;w2 = "rubait "..target 
			else w1 = "ta we yoth "..target;w2 = "shaite "..target
			end
		end
	else 
		if yothed then w1 = "shaite "..target;w2 = "rubait "..target
		else w1 = "yoth "..target;w2 = "myried "..target
		end
	end
	if trueassess and not w2:find("myried") and ms.save["ta"] then tat = "trueassess "..target else tat = "" end
end

function wa()
	if pb then sla = ""
		if yothed then w1 = "ta innyo "..target;w2 = "nuarinyu "..target
		else w1 = "ta yoth "..target;w2 = "nuarinyu "..target
		end
	elseif shield and not slb then
		if yothed then w1 = "ta daemos "..target;w2 = "nuarinyu "..target
		else w1 = "yoth "..target;w2 = "daemos "..target
		end
	elseif yothed and not myried and (acount &lt; 6 or ms.afflicted["impatience"] == "notaff") then
		if ms.afflicted["impatience"] == "aff" then w1 = "ta myried "..target;w2 = "nuarinyu "..target
		else w1 = "ta myried "..target;w2 = "innyo "..target
		end
  elseif yothed and myried then w1 = anote.." innyo "..target;w2 = "nuarinyu "..target
	elseif not yothed then w1 = "yoth "..target;w2 = "nuarinyu "..target
	elseif ms.afflicted["impatience"] == "notaff" then w1 = anote.." innyo "..target;w2 = "nuarinyu "..target
	elseif ms.afflicted["peace"] == "notaff" then w1 = anote.." kiyan "..target;w2 = "nuarinyu "..target
	else w1 = anote.." innyo "..target;w2 = "nuarinyu "..target
	end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Mage</name>
							<packageName></packageName>
							<script>wsr = "Return"
function magebash(mbname)
	if ebal and bbal then
		aug()
		send("cast sidesmash batter at "..mbname)
	end
end
function aug()
	if augment == 0 and fatigue &lt; 3 then cci = "charge crystal instant" else cci = "" end
end

ms.mage = ms.mage or {}

ms.mage.afflicted = ol(
{impatience = "notaff"},
{addiction = "notaff"},
{numbness = "notaff"},
{recklessness = "notaff"},
{healthleech = "notaff"},
{burntnerves = "notaff"},
{confusion = "notaff"},
{stupidity = "notaff"},
{sunallergy = "notaff"},
{nausea = "notaff"},
{asthma = "notaff"},
{slowsalves = "notaff"},
{dizziness = "notaff"},
{weariness = "notaff"},
{clumsiness = "notaff"},
{paranoia = "notaff"},
{slowelixirs = "notaff"},
{anorexia = "notaff"},
{loneliness = "notaff"},
{vertigo = "notaff"}
)

function mageaff() iaff = ""
	--Primary
	if ms.afflicted["weariness"] == "notaff" and wat &gt;= 3 and not icicles then primary = "icicles";iaff = "weariness"
  elseif ms.afflicted["butisol"] == "notaff" and ms.afflicted["dizziness"] == "notaff" then primary = "dehydrate"
  elseif ms.afflicted["slow elixirs"] == "notaff" and not icicles then primary = "immerse"
  elseif ms.afflicted["clumsiness"] == "notaff" then primary = "sidesmash"
  elseif ms.afflicted["healthleech"] == "notaff" then primary = "howl"
  elseif ms.afflicted["addiction"] == "notaff" and wat &gt;= 2 and icicles then primary = "suffuse"
  elseif ms.afflicted["stupidity"] == "notaff" and ms.afflicted["impatience"] == "aff" then primary = "knockout"
	else primary = "sidesmash"
	end
	--Secondary
	if not icicles and wat &lt; 3 then secondary = "spray"
  elseif ms.afflicted["impatience"] == "notaff" then secondary = "hasten"
	elseif ms.afflicted["asthma"] == "notaff" and (icicles or primary == "immerse") then secondary = "immerse"
  elseif ms.afflicted["slow elixirs"] == "notaff" and not icicles then secondary = "immerse"
  elseif ms.afflicted["nausea"] == "notaff" and primary ~= "suffuse" then secondary = "suffuse"
  elseif ms.afflicted["stupidity"] == "notaff" and primary ~= "knockout" then secondary = "knockout"
	elseif ms.afflicted["recklessness"] == "notaff" then secondary = "flamewhip"
	else secondary = "toxicsplash"
	end
	--Crystal
	if icicles and ms.afflicted["weariness"] == "notaff" then cp = "weariness"
	elseif not icicles and wat &lt; 3 then cp = "icewreathe"
	elseif ms.afflicted["numbness"] == "notaff" then cp = "shock"
	elseif ms.afflicted["masochism"] == "notaff" then cp = "masochism"
	-- elseif ms.afflicted["loneliness"] == "notaff" then cp = "loneliness"
	-- elseif ms.afflicted["paranoia"] == "notaff" and primary ~= "maelstrom" then cp = "paranoia"
  -- elseif ms.afflicted["impatience"] == "aff" and ms.afflicted["anorexia"] == "notaff" then cp = "anorexia"
	else cp = "quickcast"
	end
	--Decompose
	dcount = tonumber(0)
	for aff,state in ms.afflicted:pairs() do
		if state == "aff" and (aff == "asthma" or aff == "nausea" or aff == "weariness" or aff == "sunallergy" or aff == "butisol" or aff == "healthleech" or aff == "clumsiness" or aff == "slow elixirs") then
			dcount = dcount + 1
		end
	end
	if  wat &gt;= 3 and ((hp &lt;= 50 and dcount &gt;= 3) or (hp &lt;= 75 and dcount &gt;= 6)) then primary = "decompose";secondary = "";cp = "icewreathe" end
end
	
function earthaff()
	--Primary
	if ms.afflicted["stupidity"] == "notaff" and eat &gt;= 4 then primary = "knockout"
	else primary = "sidesmash"
	end
	--Secondary
	if primary == "sludge" then secondary = ""
	elseif eat &lt; 5 then secondary = "tremors"
	else secondary = "batter"
	end
	--Crystal
	if sludge == false and eat &lt; 5 then cp = "earthwreathe"
	else cp = "etherpunch"
	end
end

function airaff()
	--Primary
	if not blind and not transfixed then primary = "transfix"
	elseif aat == 5 and not draincd then primary = "drain"
	else primary = "lightning"
	end
	--Secondary
	if primary == "transfix" then secondary = ""
	elseif aat &lt; 5 then secondary = "wind"
	else secondary = "batter"
	end
	--Crystal
	if primary ~= "drain" then cp = "infuse"
	else cp = "etherpunch"
	end
end

function fireaff()
	--Primary

	if ms.afflicted["butisol"] == "notaff" or ms.afflicted["dizziness"] == "notaff" then primary = "dehydrate"
	elseif ms.afflicted["recklessness"] == "notaff" and fat &gt;= 3 then primary = "flamewhip"
	elseif ms.afflicted["healthleech"] == "notaff" then primary = "howl"
	elseif ms.afflicted["stupidity"] == "notaff" then primary = "knockout"
	else primary = "bloodboil"
	end
	--Secondary
	if fat &lt; 4 then secondary = "heat"
	elseif ms.afflicted["impatience"] == "notaff" then secondary = "hasten"
	elseif ms.afflicted["recklessness"] == "notaff" and primary ~= "flamewhip" then secondary = "flamewhip"
	elseif ms.afflicted["stupidity"] == "notaff" and primary ~= "knockout" then secondary = "knockout"
	else secondary = "hasten"
	end
	--Crystal
	if fat &lt; 4 then cp = "firewreathe"
	elseif ms.afflicted["numbness"] == "notaff" then cp = "shock"
	elseif ms.afflicted["impatience"] == "aff" and ms.afflicted["anorexia"] == "notaff" then cp = "anorexia"
	elseif ms.afflicted["numbness"] == "notaff" then cp = "shock"
	elseif ms.afflicted["masochism"] == "notaff" then cp = "masochism"
	else cp = "penetration"
	end
	--Firecircle/Fireblast
	if fat &gt;= 4 and fcount &gt;= 5 then primary = "lavablast";secondary = "batter";cp = "penetration" 
	elseif fat &gt;= 3 and not firecircle then primary = "firecircle";secondary = "heat";cp = "firewreathe" end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Runeguard</name>
							<packageName></packageName>
							<script>bnum = tonumber(0)
ms.limbs = {}
ms.rg = {}
ms.ew = {}
ms.rg.affs = {}
ms.rg.toxins = {}

function affFlare()
	if et and engage then 
		eng = "engage "..target 
	elseif inguz and (ms.rg.affs[1] == "strychnine" or ms.rg.affs[2] == "strychnine" or not deaf) and (ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff" or ms.afflicted["metrazol"] == "aff") and not tprone then
		eng = "flare inguz at "..target
  elseif not table.contains(ms.defApplied, "rune flare mannaz") then
    eng = "flare mannaz"
  elseif shieldUsed &gt;= 5 and shield and hugalaz then
    eng = "flare hugalaz at "..target
  elseif wunjo and nairatGround and (th &lt; 50 or #ms.afflictions &gt;= 6) then
    eng = "flare wunjo at "..target.." nairat"
    ms.rg.affs[1] = "oxalis"
  elseif loshre and (ms.rg.affs[1] == "bromine" or ms.rg.affs[2] == "bromine") then
    eng = "flare loshre at "..target.." focus"
  elseif nairat then
    eng = "flare nairat at "..target.." plant"
  elseif wunjo and inguzGround and (ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff") then
    eng = "flare wunjo at "..target.." inguz"
  elseif pithakhan then
    eng = "flare pithakhan at "..target
  elseif nauthiz then
    eng = "flare nauthiz at "..target
  elseif sleizak and ms.afflicted["dementia"] == "notaff" and ms.afflicted["impatience"] == "aff" then
    eng = "flare sleizak at "..target
  elseif sowulu  and hp &lt; 75 then
    eng = "flare sowulu at "..target
    if deaf then ms.rg.affs[1] = "strychnine" end
	elseif not pullarrow then
		eng = "gauge "..target
  else
    eng = ""
	end
end

function ewRG()
	ewAtk = ""
	ms.ew = {}
  if bolt and ms.afflicted["dryblood"] == "notaff" then table.insert(ms.ew, "bolt") end
  if knife and hp &lt; 50 then table.insert(ms.ew, "knife") end
  if lightning and acount &gt;= 4 then table.insert(ms.ew, "lightning") end
  if flame and hp &lt; 60 then table.insert(ms.ew, "flame") end
  if snowflake and th &lt; 75 then table.insert(ms.ew, "snowflake") end
  table.insert(ms.ew, "bolt");table.insert(ms.ew, "flame")
  
  ms.ewd = {}
  if bolt and ms.afflicted["dryblood"] == "notaff" then table.insert(ms.ewd, "bolt") end
  if knife and hp &lt; 50 then table.insert(ms.ewd, "knife") end
  if lightning and acount &gt;= 4 then table.insert(ms.ewd, "lightning") end
  if flame and hp &lt; 60 then table.insert(ms.ewd, "flame") end
  if snowflake and th &lt; 75 then table.insert(ms.ewd, "snowflake") end
  table.insert(ms.ewd, "bolt");table.insert(ms.ewd, "flame")
end

function bleedRGDSL() ms.rg.affs = {};atk1 = "";atk2 = ""
    --affs
    if tumbling then table.insert(ms.rg.affs, "opium");table.insert(ms.rg.affs, "opium") end
    if (th &lt;= 50 or (#ms.afflictions  &gt;= 5)) and (ms.afflicted["metrazol"] == "aff" or ms.afflicted["paralysis"] == "aff") and deaf and not tprone then table.insert(ms.rg.affs, "strychnine") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then table.insert(ms.rg.affs, "ciguatoxin") end
    if deaf and (ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff") and (tbleed &gt;= 70 or acount &gt;= 10) and not tprone then table.insert(ms.rg.affs, "strychnine") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.rg.affs, "cyanide") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin") or pbob) and (ms.afflicted["impatience"] == "aff" or loshre) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.rg.affs[1] == "ciguatoxin" or ms.rg.affs[2] == "ciguatoxin")) then table.insert(ms.rg.affs, "bromine") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.rg.affs, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and not inguzGround and not mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.rg.affs, "ciguatoxin") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.rg.affs, "xeroderma") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.rg.affs, "botulinum") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.rg.affs, "metrazol") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.rg.affs, "ether") end    
    if ms.afflicted["asthma"] == "notaff" and (toxShrugged ~= "mercury" and fitnessUsed == false) then table.insert(ms.rg.affs, "mercury") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin") or pbob) then table.insert(ms.rg.affs, "iodine") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "mebaral") end      
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.rg.affs, "butisol") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin") or pbob) then table.insert(ms.rg.affs, "mazanor") end
    if ms.afflicted["slow elixirs"] == "notaff" and ((ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin") or pbob) then table.insert(ms.rg.affs, "luminal") end
    if ms.afflicted["calotropis"] == "notaff" and ((ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin") or pbob) then table.insert(ms.rg.affs, "calotropis") end 
    if ms.afflicted["ignorance"] == "notaff" and mage then table.insert(ms.rg.affs, "avidya") end
    if ms.afflicted["numbness"] == "notaff" and mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.rg.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and fitnessUsed and not table.contains(ms.rg.affs, "mercury") then table.insert(ms.rg.affs, "mercury") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.rg.affs, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.rg.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "vitriol") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.rg.affs, "lindane") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.rg.affs, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.rg.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.rg.affs, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.rg.affs, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "vitriol") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.rg.affs, "atropine") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.rg.affs, "aconite") end
    table.insert(ms.rg.affs, "strychnine");table.insert(ms.rg.affs, "strychnine")
    
	--atks
  if ms.afflicted["haemophilia"] == "notaff" then atk1 = "lacerate";atk2 = "shred"
	else atk1 = "lacerate";atk2 = "lacerate"
	end

  if (llb and llBP &gt; llHit) or (not llb) then 
    tl1 = "left leg" 
  else
    tl1 = "torso"
  end
	if (rlb and rlBP &gt; rlHit) or (not rlb) then 
    tl2 = "right leg" 
  else
    tl2 = "torso"
  end
      
	--rb and shield
	if rb and shield then atk1 = "raze";atk2 = "raze"
	elseif rb or shield then atk1 = "raze"
	end

	if atk1 == "slash" or atk2 == "slash" then
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance "..ms.save["sabre"].." with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance "..ms.save["sabre"].." with "..ms.ewd[1].." "..ms.ewd[2]
		end
	else
		if ms.ew[1] == ms.ew[2] then 
			ewAtk = "enhance "..ms.save["longsword"].." with "..ms.ew[1].." "..ms.ew[3]
		else
			ewAtk = "enhance "..ms.save["longsword"].." with "..ms.ew[1].." "..ms.ew[2]
		end
	end
end

function dmgRG()
	ewAtk = ""
	ms.ew = {}
  if knife and hp &lt; 50 then table.insert(ms.ew, "knife") end
  if lightning and acount &gt;= 4 then table.insert(ms.ew, "lightning") end
  if flame and hp &lt; 60 then table.insert(ms.ew, "flame") end
  if snowflake and th &lt; 50 then table.insert(ms.ew, "snowflake") end
  if bolt and ms.afflicted["dryblood"] == "notaff" then table.insert(ms.ew, "bolt") end
  table.insert(ms.ew, "knife");table.insert(ms.ew, "flame")
  
  ms.ewd = {}
  if knife and hp &lt; 50 then table.insert(ms.ewd, "knife") end
  if lightning and acount &gt;= 4 then table.insert(ms.ewd, "lightning") end
  if flame and hp &lt; 60 then table.insert(ms.ewd, "flame") end
  if snowflake and th &lt; 50 then table.insert(ms.ewd, "snowflake") end
  if bolt and ms.afflicted["dryblood"] == "notaff" then table.insert(ms.ewd, "bolt") end
  table.insert(ms.ewd, "knife");table.insert(ms.ewd, "flame")
end

function dmgRGDSL() ms.rg.affs = {};atk1 = "";atk2 = ""
    --affs
    if tumbling then table.insert(ms.rg.affs, "opium");table.insert(ms.rg.affs, "opium") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then table.insert(ms.rg.affs, "ciguatoxin") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.rg.affs, "cyanide") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin")) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.rg.affs[1] == "ciguatoxin" or ms.rg.affs[2] == "ciguatoxin")) then table.insert(ms.rg.affs, "bromine") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.rg.affs, "botulinum") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.rg.affs, "strychnine") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.rg.affs, "hemotoxin") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin")) then table.insert(ms.rg.affs, "iodine") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.rg.affs, "butisol") end
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.rg.affs, "luminal") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.rg.affs, "atropine") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.rg.affs, "mercury") end
    if ms.afflicted["clumsiness"] == "notaff" and not ccd and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.rg.affs, "ether") end 
	  if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and not tob then table.insert(ms.rg.affs, "ciguatoxin") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "mebaral") end  
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.rg.affs, "ciguatoxin") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.rg.affs, "metrazol") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin")) then table.insert(ms.rg.affs, "mazanor") end
    if ms.afflicted["calotropis"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.rg.affs[1] == "hemotoxin" or ms.rg.affs[2] == "hemotoxin")) then table.insert(ms.rg.affs, "calotropis") end
    if ms.afflicted["butisol"] == "notaff" and ms.afflicted["asthma"] == "notaff" then table.insert(ms.rg.affs, "butisol") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.rg.affs, "xeroderma") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.rg.affs, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.rg.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "vitriol") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.rg.affs, "aconite") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.rg.affs, "lindane") end
    if (ms.afflicted["crippled left leg"] == "notaff" or ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) then table.insert(ms.rg.affs, "benzedrine") end
    if (ms.afflicted["crippled left leg"] == "notaff" and ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.rg.affs[1] == "iodine" or ms.rg.affs[2] == "iodine")) then table.insert(ms.rg.affs, "benzedrine") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.rg.affs, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.rg.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.rg.affs, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.rg.affs, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.rg.affs[1] == "mercury" or ms.rg.affs[2] == "mercury")) then table.insert(ms.rg.affs, "vitriol") end
    table.insert(ms.rg.affs, "strychnine");table.insert(ms.rg.affs, "strychnine")

	--atks
  atk1 = "reave";atk2 = "reave"


	tl1 = "torso";tl2 = "torso"
  
	--rb and shield
	if rb and shield then atk1 = "raze";atk2 = "raze"
	elseif rb or shield then atk1 = "raze"
	end
  --enhance claymore
  if atk1 == "reave" or atk2 == "reave" then
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance battleaxe with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance battleaxe with "..ms.ewd[1].." "..ms.ewd[2]
		end
	else
		if ms.ewd[1] == ms.ewd[2] then 
			ewAtk = "enhance claymore with "..ms.ewd[1].." "..ms.ewd[3]
		else
			ewAtk = "enhance claymore with "..ms.ewd[1].." "..ms.ewd[2]
		end
   end
end

function dmgFlare()
	if et and engage then 
		eng = "engage "..target 
	elseif not rb and not shield and (ms.rg.affs[1] == "strychnine" or ms.rg.affs[2] == "strychnine" or not deaf) and (ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff" or ms.afflicted["metrazol"] == "aff") and not tprone then
		eng = "battlecry "..target
  elseif shieldUsed &gt;= 5 and shield and hugalaz then
    eng = "flare hugalaz at "..target
  elseif pithakhan then
    eng = "flare pithakhan at "..target
  elseif nauthiz then
    eng = "flare nauthiz at "..target
  elseif sowulu  then
    eng = "flare sowulu at "..target
    if deaf then ms.rg.affs[1] = "strychnine" end
	elseif not pullarrow then
		eng = "gauge "..target
  else
    eng = ""
	end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Druid</name>
							<packageName></packageName>
							<script>ms.druid = {}
ms.druid.affs = {}

function druidAffs()
  ms.druid.affs = {}
    if (th &lt;= 50 or (#ms.afflictions  &gt;= 5)) and (ms.afflicted["metrazol"] == "aff" or ms.afflicted["paralysis"] == "aff") and deaf and not tprone then table.insert(ms.druid.affs, "strychnine") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then table.insert(ms.druid.affs, "ciguatoxin") end
    if deaf and (ms.afflicted["paralysis"] == "aff" or ms.afflicted["frozen"] == "aff" or ms.afflicted["metrazol"] == "aff") and (tbleed &gt;= 70 or acount &gt;= 10) and not tprone then table.insert(ms.druid.affs, "strychnine") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.druid.affs, "cyanide") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.druid.affs[1] == "iodine" or ms.druid.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.druid.affs[1] == "hemotoxin" or ms.druid.affs[2] == "hemotoxin") or pbob) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.druid.affs[1] == "ciguatoxin" or ms.druid.affs[2] == "ciguatoxin")) then table.insert(ms.druid.affs, "bromine") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.druid.affs, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and not mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.druid.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and wisp_cooldown and (toxShrugged ~= "mercury" and fitnessUsed == false) then table.insert(ms.druid.affs, "mercury") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.druid.affs[1] == "hemotoxin" or ms.druid.affs[2] == "hemotoxin") or pbob) then table.insert(ms.druid.affs, "iodine") end   
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.druid.affs, "butisol") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or (ms.druid.affs[1] == "hemotoxin" or ms.druid.affs[2] == "hemotoxin") or pbob) then table.insert(ms.druid.affs, "mazanor") end
    if ms.afflicted["slow elixirs"] == "notaff" and ((ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") or (ms.druid.affs[1] == "iodine" or ms.druid.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.druid.affs[1] == "hemotoxin" or ms.druid.affs[2] == "hemotoxin") or pbob) then table.insert(ms.druid.affs, "luminal") end
    if ms.afflicted["calotropis"] == "notaff" and ((ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") or (ms.druid.affs[1] == "iodine" or ms.druid.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.druid.affs[1] == "hemotoxin" or ms.druid.affs[2] == "hemotoxin") or pbob) then table.insert(ms.druid.affs, "calotropis") end 
    if ms.afflicted["ignorance"] == "notaff" and mage then table.insert(ms.druid.affs, "avidya") end    
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.druid.affs, "ether") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) then table.insert(ms.druid.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) then table.insert(ms.druid.affs, "mebaral") end   
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.druid.affs, "botulinum") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.druid.affs, "metrazol") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.druid.affs, "xeroderma") end
    if ms.afflicted["numbness"] == "notaff" and mage and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.druid.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and fitnessUsed and not table.contains(ms.druid.affs, "mercury") then table.insert(ms.druid.affs, "mercury") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.druid.affs, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.druid.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) then table.insert(ms.druid.affs, "vitriol") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) then table.insert(ms.druid.affs, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.druid.affs, "lindane") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.druid.affs, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.druid.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.druid.affs, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.druid.affs, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.druid.affs[1] == "mercury" or ms.druid.affs[2] == "mercury")) then table.insert(ms.druid.affs, "vitriol") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.druid.affs, "atropine") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.druid.affs, "aconite") end
    table.insert(ms.druid.affs, "strychnine")
end



function eStaff()
  if earth &gt;= 70 and hp &lt;= 50 then
    return ("evoke imbue")
  elseif air &gt;= 90 then
    return ("evoke feather")
  else
    return ""
  end
end

function empower()
  local clr = (f"evoke empower clear{s}")
  if (earth &gt;= 20 or air &gt;= 20) then
    if hp &lt; 66 and not druid_shock and air &gt;= 20 then
      return (f"{clr}evoke empower shock")
    elseif druid_shock and ms.afflicted["stupidity"] == "notaff" and air &gt;= 20 and (ms.save["solo"] or afflict) then
      return (f"{clr}evoke empower knockout")
    elseif not tprone and earth &gt;= 20 and druid_earthquake then
      return (f"{clr}evoke empower drag")
    elseif air &gt;= 20 then
      return (f"{clr}evoke empower jolt")
    else
      return ""
    end
  else
    return ""
  end
end

function evokeAtk()
  if (rb or shield) and not impaled and air &lt; 10 and wisp_cooldown then
    return (f"quarterstaff raze {target}")
  elseif hk then
    return (f"quarterstaff knockdown {ptar}")
  elseif afflict then
    if impaled then
      return ("quarterstaff twist")
    elseif ((mp &lt; 40 and ms.afflicted["hellsight"] == "aff") or (mp &lt; 25)) and not shield then
      return (f"evoke reclaim {target}")
    elseif (acount &gt;= 10 or tbleed &gt;= 70 or (llm or rlm)) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
      return (f"quarterstaff impale {target}")
    elseif ((ms.afflicted["hellsight"] == "aff" and mp &lt;= 50) or (mp &lt;= 35)) or (overwhelm and not owcd) then
      return (f"evoke drain {target}")
    elseif not druid_earthquake and earth &gt;= 99 then
      return ("evoke earthquake")
    elseif not oppression then
      return ("evoke airsong oppression")
    elseif not tornado then
      return ("evoke tornado")
    else
      return (f"quarterstaff stab {target} {ms.druid.affs[1]}")
    end
  elseif dmg then
    if impaled then
      return ("quarterstaff twist")
    elseif ((mp &lt; 40 and ms.afflicted["hellsight"] == "aff") or (mp &lt; 25)) and not shield then
      return (f"evoke reclaim {target}")
    elseif (acount &gt;= 10 or tbleed &gt;= 70 or (llm or rlm)) and ((tprone and not deaf)) and not impaled and not rb and not shield and ms.afflicted["paralysis"] == "aff" then
      return (f"quarterstaff impale {target}")
    elseif not druid_earthquake and earth &gt;= 99 then
      return ("evoke earthquake")
    else
      return (f"quarterstaff stab {target} {ms.druid.affs[1]}")
    end
  end
end

function wispAtk()
  if air &gt;= 10 then reinforce = " reinforced" else reinforce = "" end
  if not wisp_cooldown then
    if shield and air &gt;= 10 then
      return (f"evoke wisp metallic {target}{reinforce}")
    elseif afflict then
      if ((mp &lt;= 50 and ms.afflicted["hellsight"] == "aff") or (mp &lt;= 35)) or (overwhelm and not owcd) then
        return (f"evoke rainbow hypnotic {target}{reinforce}")
      elseif ms.afflicted["asthma"] == "notaff" or ms.afflicted["hellsight"] == "notaff" then
        return (f"evoke wisp hypnotic {target}{reinforce}")
      elseif ms.afflicted["wisp poison"] == "notaff" or (air &gt;= 10 and ms.afflicted["wisp poison"] == "aff") then
        return (f"evoke wisp poisonous {target}{reinforce}")
      else
        return (f"evoke wisp metallic {target}")
      end
    elseif dmg then
      if ms.afflicted["wisp poison"] == "notaff" or (air &gt;= 10 and ms.afflicted["wisp poison"] == "aff") then
        return (f"evoke wisp poisonous {target}{reinforce}")
      else
        return (f"evoke wisp metallic {target}")
      end
    end
  else
    return ""
  end
end

function rootAtk()
  if afflict then
    if engage then
      return (f"naturebind entrap {target}")
    elseif th &lt;= 65 and not absorbed then
      return (f"naturebind absorb {target}")
    elseif not entangled and (#ms.afflictions &gt;= 6 or th &lt;= 45) then
      if not circling then
        return (f"naturebind circle {target}")
      else
        return (f"naturebind entangle {target}")
      end
    elseif hp &lt;= 60 and not overwhelm and not owcd then
      return (f"naturebind overwhelm {target}")
    elseif ((mp &lt;= 50 and ms.afflicted["hellsight"] == "aff") or (mp &lt;= 35)) or (overwhelm and not owcd) then
      return (f"naturebind drain {target}")
    elseif ms.afflicted["dizziness"] == "notaff" or ms.afflicted["recklessness"] == "notaff" or ms.afflicted["masochism"] == "notaff" or ms.afflicted["healthleech"] == "notaff" or ms.afflicted["anorexia"] == "notaff" then
      return (f"naturebind bewilder {target}")
    elseif ms.afflicted["sensitivity"] == "notaff" then
      return (f"naturebind shred {target}")
    else
      return (f"naturebind sting {target}")
    end
  elseif dmg then
    if engage then
      return (f"naturebind entrap {target}")
    elseif th &lt;= 65 and not absorbed then
      return (f"naturebind absorb {target}")
    elseif not entangled and (#ms.afflictions &gt;= 6 or th &lt;= 45) then
      if not circling then
        return (f"naturebind circle {target}")
      else
        return (f"naturebind entangle {target}")
      end
    else
      return (f"naturebind shred {target}")
    end
  end
end

</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Renegade</name>
							<packageName></packageName>
							<script>-- All code is in Scripts/Classes/Demonic/Assassin</script>
							<eventHandlerList />
						</Script>
					</ScriptGroup>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Anti-Magick</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>Priest</name>
							<packageName></packageName>
							<script>ms.priest = {}
ms.priest.affs = {}

function incense()
  if afflict then
    local iarray = {"juniper", "primrose", "galingale"}
    for _,p in pairs(iarray) do
      if not table.contains(kanai_incense, p) then
        send("burn incense "..p)
      end
    end
  elseif dmg then
    local iarray = {"linseed", "yellow incense stick", "myrrh"}
    for _,p in pairs(iarray) do
      if not table.contains(kanai_incense, p) then
        send("burn incense "..p)
      end
    end
  end
end

function priestAff()
  fanatism = tonumber(gmcp.Char.Vitals.fanatism)
  devotion = tonumber(gmcp.Char.Vitals.devotion)
  if shield and not pc and hammer then
    return "touch hammer "..target
  elseif mp &lt; 50 then
    return "seraph absolve "..target
  elseif not seraph_sw then
    return "seraph spiritwrack "..target
  elseif not bo and fanatism &gt;= 50 then
    return "kanai blackout"
  elseif not rb and not shield and ms.afflicted["penance"] == "notaff" and (ms.afflicted["stupidity"] == "aff" or ms.afflicted["asthma"] == "aff") and ms.afflicted["impatience"] == "aff" then
    if fanatism &gt;= 25 then
      return "kanai prepare alacrity"..s.."crusade penance"..s.."smite "..target
    else
      return "crusade penance"..s.."smite "..target
    end
  elseif devotion &gt;= 20 and ms.afflicted["justice"] == "notaff" then
    return "perform retribution "..target
  elseif (ms.afflicted["dizziness"] == "notaff" or ms.afflicted["confusion"] == "notaff" or ms.afflicted["epilepsy"] == "notaff" or ms.afflicted["stupidity"] == "notaff" or ms.afflicted["masochism"] == "notaff" or ms.afflicted["impatience"] == "notaff" or ms.afflicted["paranoia"] == "notaff") then
    return "chasten "..target
  else
    return "seraph sap "..target
  end
end

function priestDmg()
  fanatism = tonumber(gmcp.Char.Vitals.fanatism)
  devotion = tonumber(gmcp.Char.Vitals.devotion)
  if shield and not pc and hammer then
    return "touch hammer "..target
  elseif mp &lt; 50 then
    return "seraph absolve "..target
  elseif not seraph_sear then
    return "seraph sear "..target
  elseif fanatism &gt;= 15 then
    if pc and devotion &gt;= 250 and (rb or shield) then
      return "perform cleansing "..target..""..s.."kanai prepare supremacy"..s.."smite "..target
    elseif rb then
      return "seraph raze "..target
    else
      return "kanai prepare supremacy"..s.."smite "..target
    end
  else
    if pc and devotion &gt;= 250 and (rb or shield) then
      return "perform cleansing "..target..""..s.."smite "..target
    elseif rb then
      return "seraph raze "..target
    else
      return "smite "..target
    end
  end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Outrider</name>
							<packageName></packageName>
							<script>ms.outrider = {}
ms.outrider.affs = {}
</script>
							<eventHandlerList />
						</Script>
					</ScriptGroup>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Neutral</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>Hunter</name>
							<packageName></packageName>
							<script>ms.hunter = {}
ms.hunter.affs = {}
ms.hunter.triggers = {}
ms.hunter.triggerAffs = {}
ms.bat = {}
ms.bat.affs = {}
ms.brainmelt = {
"recklessness",
"stupidity",
"epilepsy",
"anorexia",
"vertigo",
"masochism",
"claustrophobia",
"loneliness",
"hypersomnia",
"hallucinations",
"paranoia",
"dementia",
"heroism",
"impatience",
"peace",
}

function anorexiaBatCheck()
  if ms.afflicted["anorexia"] == "notaff" then
    if wAtk:find("hemotoxin") and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and ms.afflicted["impatience"] == "aff" and ms.afflicted["asthma"] == "aff" and ms.afflicted["slickness"] == "aff" then return true
    elseif wAtk:find("mercury") and (ms.afflicted["hemotoxin"] == "aff" or pbob) and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and ms.afflicted["impatience"] == "aff" and ms.afflicted["slickness"] == "aff" then return true
    elseif wAtk:find("ciguatoxin") and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and ms.afflicted["impatience"] == "aff" and ms.afflicted["slickness"] == "aff" then return true
    elseif wAtk:find("iodine") and (ms.afflicted["hemotoxin"] == "aff" or pbob) and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and ms.afflicted["impatience"] == "aff" and ms.afflicted["asthma"] == "aff" then return true
    else return false
    end
  else
    return false
  end
end

function checkTriggers()
	ms.hunter.triggerAffs = {}
	ms.hunter.cures = {}
	for cure, affs in pairs(ms.hunter.triggers) do
		table.insert(ms.hunter.cures, tostring(cure))
		table.insert(ms.hunter.triggerAffs, ms.hunter.triggers[cure][1])
		table.insert(ms.hunter.triggerAffs, ms.hunter.triggers[cure][2])
	end
  for k,v in pairs(ms.bat.affs) do
    if table.contains(ms.hunter.triggerAffs, v) then
      table.remove(ms.bat.affs, k)
    end
  end
end

function toxReturn(tox)
  toxReturnAff = "sensitivity"
	if tox == "cyanide" then toxReturnAff = "cyanide" end
	if tox == "aconite" then toxReturnAff = "stupidity" end
	if tox == "arsenic" then toxReturnAff = "weariness" end
	if tox == "atropine" then toxReturnAff = "recklessness" end
	if tox == "avidya" then toxReturnAff = "ignorance" end
	if tox == "benzene" then toxReturnAff = "crippled right arm" end
	if tox == "benzedrine" then toxReturnAff = "crippled right leg" end
	if tox == "botulinum" then toxReturnAff = "nausea" end
	if tox == "bromine" then toxReturnAff = "anorexia" end
	if tox == "butisol" then toxReturnAff = "butisol" end
	if tox == "calotropis" then toxReturnAff = "calotropis" end
	if tox == "chloroform" then toxReturnAff = "epilepsy" end
	if tox == "digitalis" then toxReturnAff = "shyness" end
	if tox == "ether" then toxReturnAff = "clumsiness" end
	if tox == "hemotoxin" then toxReturnAff = "hemotoxin" end
	if tox == "iodine" then toxReturnAff = "slickness" end
	if tox == "lindane" then toxReturnAff = "dizziness" end
	if tox == "luminal" then toxReturnAff = "slow elixers" end
	if tox == "mazanor" then toxReturnAff = "slow herbs" end
	if tox == "mebaral" then toxReturnAff = "slow equilibrium" end
	if tox == "mercury" then toxReturnAff = "asthma" end
	if tox == "noctec" then toxReturnAff = "slow balance" end
	if tox == "strychnine" then toxReturnAff = "sensitivity" end
	if tox == "vitriol" then toxReturnAff = "disloyalty" end
	if tox == "xeroderma" then toxReturnAff = "sunallergy" end
	if tox == "sulfonal" then toxReturnAff = "sulfonal" end
	if tox == "psilocybin" then toxReturnAff = "ineptude" end
	return toxReturnAff
end


function weaverAffs()
  	ms.hunter.affs = {}
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and (ms.afflicted["slickness"] == "aff") then table.insert(ms.hunter.affs, "bromine") end
    if ms.afflicted["hemotoxin"] == "notaff" and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and (ms.afflicted["slickness"] == "aff") then table.insert(ms.hunter.affs, "hemotoxin") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.hunter.affs, "hemotoxin") end
    if ms.afflicted["metrazol"] == "notaff" and tranger then table.insert(ms.hunter.affs, "metrazol") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.hunter.affs, "mercury") table.insert(ms.hunter.affs, "ether") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and not instability then table.insert(ms.hunter.affs, "ciguatoxin") end
    if ms.afflicted["clumsiness"] == "notaff" and not ccd and not engineer and not assassin and not shaman and not bard and not mage and not diabolist then table.insert(ms.hunter.affs, "ether") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ms.afflicted["asthma"] == "aff" then table.insert(ms.hunter.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ms.afflicted["asthma"] == "aff" then table.insert(ms.hunter.affs, "mebaral") end  
    if ms.afflicted["slickness"] == "notaff" and ms.afflicted["asthma"] == "aff" then table.insert(ms.hunter.affs, "iodine") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.hunter.affs, "arsenic") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.hunter.affs, "metrazol") end
    if ms.afflicted["stupidity"] == "notaff" and ms.hunter.triggers["stupidity"] and not instability then table.insert(ms.hunter.affs, "aconite") end
    if ms.afflicted["ignorance"] == "notaff" and mage then table.insert(ms.hunter.affs, "avidya") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.hunter.affs, "xeroderma") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.hunter.affs, "butisol") end
    if ms.afflicted["slow herbs"] == "notaff" then table.insert(ms.hunter.affs, "mazanor") end 
    if ms.afflicted["calotropis"] == "notaff" then table.insert(ms.hunter.affs, "calotropis") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.hunter.affs, "strychnine") end 
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.hunter.affs, "botulinum") end
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.hunter.affs, "luminal") end
    if ms.afflicted["recklessness"] == "notaff" and not bard and ms.afflicted["impatience"] == "aff" then table.insert(ms.hunter.affs, "atropine") end
    if ms.afflicted["cyanide"] == "notaff" then table.insert(ms.hunter.affs, "cyanide") end
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.hunter.affs, "lindane") end
    if ms.afflicted["weariness"] == "notaff" then table.insert(ms.hunter.affs, "arsenic") end
    if ms.afflicted["disloyalty"] == "notaff" then table.insert(ms.hunter.affs, "vitriol") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.hunter.affs, "psilocybin") end
end

function weaverTl()
  	ms.hunter.affs = {}
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and (ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") and ms.afflicted["impatience"] == "aff" then table.insert(ms.hunter.affs, "bromine") end
    if ms.afflicted["hemotoxin"] == "notaff" and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and (ms.afflicted["slickness"] == "aff") then table.insert(ms.hunter.affs, "hemotoxin") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.hunter.affs, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and not instability then table.insert(ms.hunter.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and not fitnessUsed then table.insert(ms.hunter.affs, "mercury") end
    if ms.afflicted["slickness"] == "notaff" then table.insert(ms.hunter.affs, "iodine") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.hunter.affs, "butisol") end
    if ms.afflicted["slow herbs"] == "notaff" then table.insert(ms.hunter.affs, "mazanor") end 
    if ms.afflicted["calotropis"] == "notaff" then table.insert(ms.hunter.affs, "calotropis") end
  	if ms.afflicted["stupidity"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["impatience"] == "aff" then table.insert(ms.hunter.affs, "aconite") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not assassin and not shaman and not bard and not mage and not diabolist then table.insert(ms.hunter.affs, "ether") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ms.afflicted["asthma"] == "aff" then table.insert(ms.hunter.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ms.afflicted["asthma"] == "aff" then table.insert(ms.hunter.affs, "mebaral") end  
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.hunter.affs, "botulinum") end
    if ms.afflicted["recklessness"] == "notaff" and not bard and ms.afflicted["impatience"] == "aff" then table.insert(ms.hunter.affs, "atropine") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.hunter.affs, "xeroderma") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.hunter.affs, "metrazol") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.hunter.affs, "strychnine") end 
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.hunter.affs, "luminal") end
    if ms.afflicted["cyanide"] == "notaff" then table.insert(ms.hunter.affs, "cyanide") end
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.hunter.affs, "lindane") end
    if ms.afflicted["weariness"] == "notaff" then table.insert(ms.hunter.affs, "arsenic") end
    if ms.afflicted["disloyalty"] == "notaff" then table.insert(ms.hunter.affs, "vitriol") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.hunter.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.hunter.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" then table.insert(ms.hunter.affs, "vitriol") end
end

function weaverAffDmg()
  	ms.hunter.affs = {}
    if ms.afflicted["stupidity"] == "notaff"  then table.insert(ms.hunter.affs, "aconite") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.hunter.affs, "botulinum") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.hunter.affs, "strychnine") end 
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and (ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") and ms.afflicted["impatience"] == "aff" then table.insert(ms.hunter.affs, "bromine") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.hunter.affs, "hemotoxin") end
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.hunter.affs, "ciguatoxin") end
    if ms.afflicted["asthma"] == "notaff" and not fitnessUsed then table.insert(ms.hunter.affs, "mercury") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ms.afflicted["asthma"] == "aff" then table.insert(ms.hunter.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ms.afflicted["asthma"] == "aff" then table.insert(ms.hunter.affs, "mebaral") end  
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.hunter.affs, "butisol") end
    if ms.afflicted["slow herbs"] == "notaff" then table.insert(ms.hunter.affs, "mazanor") end 
    if ms.afflicted["calotropis"] == "notaff" then table.insert(ms.hunter.affs, "calotropis") end
    if ms.afflicted["clumsiness"] == "notaff" and not engineer and not assassin and not shaman and not bard and not mage and not diabolist then table.insert(ms.hunter.affs, "ether") end
    if ms.afflicted["recklessness"] == "notaff" and not bard and ms.afflicted["impatience"] == "aff" then table.insert(ms.hunter.affs, "atropine") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.hunter.affs, "xeroderma") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.hunter.affs, "metrazol") end
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.hunter.affs, "luminal") end
    if ms.afflicted["slickness"] == "notaff" then table.insert(ms.hunter.affs, "iodine") end
    if ms.afflicted["cyanide"] == "notaff" then table.insert(ms.hunter.affs, "cyanide") end
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.hunter.affs, "lindane") end
    if ms.afflicted["weariness"] == "notaff" then table.insert(ms.hunter.affs, "arsenic") end
    if ms.afflicted["disloyalty"] == "notaff" then table.insert(ms.hunter.affs, "vitriol") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.hunter.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.hunter.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" then table.insert(ms.hunter.affs, "vitriol") end
end

function weaverAtk()
  wAtk = ""
  weaverAffs()
  checkTriggers()
  if shield then
    if hammer then
      wAtk = "touch hammer "..target
    elseif ice &gt;= 8 then
      wAtk = ""..ms.save["hunter_form"].." iceblast "..target
    end
  elseif bp &gt;= 4 and not dblCrips then
    wAtk = "sting "..target.." rupture"
  elseif bm then
    wAtk = "bat brainmelt "..target
  elseif tumbling then
    wAtk = ""..ms.save["hunter_form"].." claw "..target.." opium"
  elseif ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then
    wAtk = ""..ms.save["hunter_form"].." claw "..target.." ciguatoxin"
  elseif ms.afflicted["crippled right arm"] == "notaff" and ms.afflicted["crippled left arm"] == "notaff" and tlock then
    wAtk = ""..ms.save["hunter_form"].." smash "..target.." arms"
  elseif ms.afflicted["crippled right leg"] == "notaff" and ms.afflicted["crippled left leg"] == "notaff" and tprone then
    wAtk = ""..ms.save["hunter_form"].." smash "..target.." legs"
  elseif tlock and caloric and ice &gt;= 50 then
    wAtk = ""..ms.save["hunter_form"].." icebreath "..target 
  elseif (frostheart or tlock) and not caloric and ms.afflicted["shivering"] == "notaff" and ms.afflicted["frozen"] == "notaff" and ice &gt;= 40 then
    wAtk = ""..ms.save["hunter_form"].." frostbite "..target
  elseif not shocked and not dblCrips and bp &gt;= 2 then
    wAtk = "sting "..target.." shock"
  elseif not dblCrips and (bp &gt;= 3 or (bp &gt;= 2 and (not shockUsed and shocked)) or (tlock and ms.afflicted["cyanide"] == "aff")) then
    wAtk = "sting "..target.." bloodpoison"
  elseif not dblCrips and ms.afflicted["stupidity"] == "notaff" and ms.hunter.triggers["stupidity"] and ms.afflicted["impatience"] == "notaff" and not deadened and ((shocked and shockUsed) or (not shocked and not shockUsed)) then
    wAtk = "sting "..target.." deaden"
  elseif not dblCrips and ms.afflicted["nausea"] == "notaff" and not diseased and (ms.afflicted["hemotoxin"] == "notaff" and not pbob) and ((shocked and shockUsed) or (not shocked and not shockUsed)) then
    wAtk = "sting "..target.." disease"
  elseif not dblCrips and ms.afflicted["poisoned mind"] == "notaff" and triggerCount == 2 and bp == 1 and ms.afflicted["impatience"] == "aff" and ((shocked and shockUsed) or (not shocked and not shockUsed)) and not anorexiaBatCheck() then
    wAtk = "sting "..target.." poisonmind"
  else
    if not dblCrips and tlock and ms.afflicted["cyanide"] == "notaff" and ((shocked and shockUsed) or (not shocked and not shockUsed)) then
      wAtk = ""..ms.save["hunter_form"].." claw "..target.." cyanide"
    elseif not dblCrips and (
                          ((ms.afflicted["hemotoxin"] == "aff") and ((ms.afflicted["impatience"] == "aff" and (ms.afflicted["sensitivity"] == "aff" or (bp == 3) or tlock)))
                          ) or (shocked and not shockUsed) or table.contains(ms.afflictions, "clumsiness")
                        ) then
      wAtk = "sting "..target.." bloodpoison"
    else
      wAtk = ""..ms.save["hunter_form"].." claw "..target.." "..ms.hunter.affs[1]
    end
  end
end

function weaverTlAtk()
  wAtk = ""
  checkTriggers()
  if shield then
    if hammer then
      wAtk = "touch hammer "..target
    elseif ice &gt;= 8 then
      wAtk = ""..ms.save["hunter_form"].." iceblast "..target
    end
  elseif bp &gt;= 4 and not dblCrips then
    wAtk = "sting "..target.." rupture"
  elseif bm then
    wAtk = "bat brainmelt "..target
  elseif tumbling then
    wAtk = ""..ms.save["hunter_form"].." claw "..target.." opium"
  elseif ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then
    wAtk = ""..ms.save["hunter_form"].." claw "..target.." ciguatoxin"
  elseif ms.afflicted["crippled right leg"] == "notaff" and ms.afflicted["crippled left leg"] == "notaff" and tprone then
    wAtk = ""..ms.save["hunter_form"].." smash "..target.." legs"
  elseif frostheart and not caloric and ms.afflicted["shivering"] == "notaff" and ms.afflicted["frozen"] == "notaff" and ice &gt;= 40 then
    wAtk = ""..ms.save["hunter_form"].." frostbite "..target
  elseif not shocked and not dblCrips and (tlock or pb) then
    wAtk = "sting "..target.." shock"
  else
    if not dblCrips and (tlock or pb) then
      wAtk = "sting "..target.." bloodpoison"
    else
      wAtk = ""..ms.save["hunter_form"].." claw "..target.." "..ms.hunter.affs[1]
    end
  end
end

function weaverDmg()
  wAtk = ""
    checkTriggers()
  if shield then
    if hammer then
      wAtk = "touch hammer "..target
    elseif ice &gt;= 8 then
      wAtk = ""..ms.save["hunter_form"].." iceblast "..target
    end
  elseif fire &gt;= 85 then
    wAtk = ""..ms.save["hunter_form"].." incinerate "..target
  elseif bm then
    wAtk = "bat brainmelt "..target
  elseif bp &gt;= 4 and not dblCrips then
    wAtk = "sting "..target.." rupture"
  elseif tumbling then
    wAtk = ""..ms.save["hunter_form"].." claw "..target.." opium"
  -- elseif not shocked and not dblCrips then
    -- wAtk = "sting "..target.." shock"
  elseif not table.contains(ms.afflictions, "clumsiness") then
    wAtk = ""..ms.save["hunter_form"].." claw "..target.." "..ms.hunter.affs[1]
  elseif not dblCrips then
    wAtk = "sting "..target.." bloodpoison"
  else
    wAtk = ""..ms.save["hunter_form"].." claw "..target.." "..ms.hunter.affs[1]
  end
end

function batAffs()
  ms.bat.affs = {}
  if ms.afflicted["anorexia"] == "notaff" and ms.hunter.affs[1] ~= "bromine" and (((ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and (ms.afflicted["slickness"] == "aff") and ms.afflicted["impatience"] == "aff") or anorexiaBatCheck()) then table.insert(ms.bat.affs, "anorexia") end
  if ms.afflicted["impatience"] == "notaff" then table.insert(ms.bat.affs, "impatience") end
  if ms.afflicted["recklessness"] == "notaff" and not bard and not wAtk:find("atropine") and wAtk:find("poisonmind") then table.insert(ms.bat.affs, "recklessness") end
  if ms.afflicted["stupidity"] == "notaff" and not wAtk:find("deaden") and not wAtk:find("aconite") and ms.hunter.triggers["stupidity"] then table.insert(ms.bat.affs, "stupidity") end
  if ms.afflicted["heroism"] == "notaff" and shieldUsed &gt;= 5 then table.insert(ms.bat.affs, "heroism") end
  if ms.afflicted["hallucinations"] == "notaff" then table.insert(ms.bat.affs, "hallucinations") end
  if ms.afflicted["epilepsy"] == "notaff" and (ms.afflicted["asthma"] == "aff" or wAtk:find("mercury")) then table.insert(ms.bat.affs, "epilepsy") end
  if ms.afflicted["heroism"] == "notaff" and shieldUsed &gt;= 1 then table.insert(ms.bat.affs, "heroism") end
  if ms.afflicted["dementia"] == "notaff" then table.insert(ms.bat.affs, "dementia") end
  if ms.afflicted["masochism"] == "notaff" then table.insert(ms.bat.affs, "masochism") end
  if ms.afflicted["peace"] == "notaff" then table.insert(ms.bat.affs, "peace") end
  if ms.afflicted["vertigo"] == "notaff" then table.insert(ms.bat.affs, "vertigo") end
  if ms.afflicted["loneliness"] == "notaff" then table.insert(ms.bat.affs, "loneliness") end
  if ms.afflicted["paranoia"] == "notaff" then table.insert(ms.bat.affs, "paranoia") end
  if ms.afflicted["heroism"] == "notaff" then table.insert(ms.bat.affs, "heroism") end
  if ms.afflicted["hypersomnia"] == "notaff" then table.insert(ms.bat.affs, "hypersomnia") end
  if ms.afflicted["claustrophobia"] == "notaff" then table.insert(ms.bat.affs, "claustrophobia") end
  if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.bat.affs, "sensitivity") end
  if ms.afflicted["sensitivity"] == "notaff" and deaf then table.insert(ms.bat.affs, "sensitivity") end
  table.insert(ms.bat.affs, "lash")
  table.insert(ms.bat.affs, "lash")  
  table.insert(ms.bat.affs, "lash")
  table.insert(ms.bat.affs, "lash")  
end

function batTl()
  ms.bat.affs = {}
  checkTriggers()
  if ms.afflicted["anorexia"] == "notaff" and ms.hunter.affs[1] ~= "bromine" and (((ms.afflicted["hemotoxin"] == "aff" or pbob) and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff" or instability) and (ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") and ms.afflicted["impatience"] == "aff") or anorexiaBatCheck()) then table.insert(ms.bat.affs, "anorexia") end
  if ms.afflicted["recklessness"] == "notaff" and not bard and not wAtk:find("atropine") and tlock then table.insert(ms.bat.affs, "recklessness") end
  if ms.afflicted["impatience"] == "notaff" then table.insert(ms.bat.affs, "impatience") end
  if ms.afflicted["heroism"] == "notaff" and shieldUsed &gt;= 5 then table.insert(ms.bat.affs, "heroism") end
  if ms.afflicted["hallucinations"] == "notaff" then table.insert(ms.bat.affs, "hallucinations") end
  if ms.afflicted["epilepsy"] == "notaff" and (ms.afflicted["asthma"] == "aff" or wAtk:find("mercury")) then table.insert(ms.bat.affs, "epilepsy") end
  if ms.afflicted["stupidity"] == "notaff" and not wAtk:find("deaden") and ms.hunter.triggers["stupidity"] then table.insert(ms.bat.affs, "stupidity") end
  if ms.afflicted["numbness"] == "notaff" and not instability and ms.afflicted["paralysis"] == "notaff" and ms.hunter.affs[1] ~= "ciguatoxin" then table.insert(ms.bat.affs, "numbness") end
  if ms.afflicted["vertigo"] == "notaff" then table.insert(ms.bat.affs, "vertigo") end
  if ms.afflicted["heroism"] == "notaff" and shieldUsed &gt;= 1 then table.insert(ms.bat.affs, "heroism") end
  if ms.afflicted["masochism"] == "notaff" then table.insert(ms.bat.affs, "masochism") end
  if ms.afflicted["loneliness"] == "notaff" then table.insert(ms.bat.affs, "loneliness") end
  if ms.afflicted["paranoia"] == "notaff" then table.insert(ms.bat.affs, "paranoia") end
  if ms.afflicted["dementia"] == "notaff" then table.insert(ms.bat.affs, "dementia") end
  if ms.afflicted["heroism"] == "notaff" then table.insert(ms.bat.affs, "heroism") end
  if ms.afflicted["peace"] == "notaff" then table.insert(ms.bat.affs, "peace") end
  if ms.afflicted["hypersomnia"] == "notaff" then table.insert(ms.bat.affs, "hypersomnia") end
  if ms.afflicted["claustrophobia"] == "notaff" then table.insert(ms.bat.affs, "claustrophobia") end
  if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.bat.affs, "sensitivity") end
  if ms.afflicted["sensitivity"] == "notaff" and deaf then table.insert(ms.bat.affs, "sensitivity") end
  table.insert(ms.bat.affs, "lash")
  table.insert(ms.bat.affs, "lash")  
  table.insert(ms.bat.affs, "lash")
  table.insert(ms.bat.affs, "lash")  
end

function batAffsGroup()
  ms.bat.affs = {}
  if ms.afflicted["anorexia"] == "notaff" and ms.afflicted["hemotoxin"] == "aff" and ms.afflicted["asthma"] == "aff" and (ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") and (ms.afflicted["slickness"] == "aff" or ms.afflicted["butisol"] == "aff") and ms.afflicted["impatience"] == "aff" then table.insert(ms.bat.affs, "anorexia") end
  if ms.afflicted["impatience"] == "notaff" then table.insert(ms.bat.affs, "impatience") end
  if ms.afflicted["heroism"] == "notaff" then table.insert(ms.bat.affs, "heroism") end
  if ms.afflicted["masochism"] == "notaff" then table.insert(ms.bat.affs, "masochism") end
  if ms.afflicted["vertigo"] == "notaff" then table.insert(ms.bat.affs, "vertigo") end
  if ms.afflicted["hallucinations"] == "notaff" then table.insert(ms.bat.affs, "hallucinations") end
  if ms.afflicted["numbness"] == "notaff" then table.insert(ms.bat.affs, "numbness") end
  if ms.afflicted["recklessness"] == "notaff" and not bard and (ms.afflicted["hemotoxin"] == "aff" or pbob) then table.insert(ms.bat.affs, "recklessness") end
  if ms.afflicted["stupidity"] == "notaff" and (ms.afflicted["hemotoxin"] == "aff" or pbob) then table.insert(ms.bat.affs, "stupidity") end
  if ms.afflicted["peace"] == "notaff" then table.insert(ms.bat.affs, "peace") end
  if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.bat.affs, "sensitivity") end
  if ms.afflicted["loneliness"] == "notaff" then table.insert(ms.bat.affs, "loneliness") end
  if ms.afflicted["hypersomnia"] == "notaff" then table.insert(ms.bat.affs, "hypersomnia") end
  if ms.afflicted["paranoia"] == "notaff" then table.insert(ms.bat.affs, "paranoia") end
  if ms.afflicted["dementia"] == "notaff" then table.insert(ms.bat.affs, "dementia") end
  if ms.afflicted["claustrophobia"] == "notaff" then table.insert(ms.bat.affs, "claustrophobia") end
  if ms.afflicted["epilepsy"] == "notaff" then table.insert(ms.bat.affs, "epilepsy") end
  table.insert(ms.bat.affs, "lash")
end

function batAtk()
  bAtk = ""
  bAff1 = ""
  bAff2 = ""
  checkTriggers()
  if not shield and not bm then
    if wAtk:find("opium") then
      bAtk = "bat sleep "..target
    elseif probe then
      bAtk = "bat probe "..target
    elseif anorexiaBatCheck() then
      bAtk = "bat anorexia "..target
    elseif ms.hunter.affs[1] == "bromine" and ms.afflicted["impatience"] == "notaff" then
      bAtk = "bat impatience "..target
    elseif triggerCount &lt; 2 and ms.bat.affs[1] ~= "lash" and #ms.hunter.affs &gt; 0 then
      if not ms.hunter.triggers["stupidity"] then
        if ms.bat.affs[1] == "stupidity" then
          bAtk = "bat trigger "..target.." "..ms.bat.affs[3].." "..ms.bat.affs[2].." affliction stupidity"
		      bAff1 = ms.bat.affs[3]
		      bAff2 = ms.bat.affs[2]
          bAffCure = "stupidity"
        elseif ms.bat.affs[2] == "stupidity" then
          bAtk = "bat trigger "..target.." "..ms.bat.affs[1].." "..ms.bat.affs[3].." affliction stupidity"
		      bAff1 = ms.bat.affs[1]
		      bAff2 = ms.bat.affs[3]
          bAffCure = "stupidity"
        else 
          bAtk = "bat trigger "..target.." "..ms.bat.affs[1].." "..ms.bat.affs[2].." affliction stupidity"
		      bAff1 = ms.bat.affs[1]
		      bAff2 = ms.bat.affs[2]
          bAffCure = "stupidity"
        end
      else
        if triggerCount == 1 then
          if ms.bat.affs[2] == "numbness" then 
				    ms.bat.affs[2] = ms.bat.affs[3]
          elseif ms.hunter.triggers["stupidity"] and ms.bat.affs[1] ~= "numbness" then
				    ms.bat.affs[2] = ms.bat.affs[1]
          end
          if ms.bat.affs[3] == ms.bat.affs[2] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[5].." "..ms.bat.affs[4].." affliction "..ms.bat.affs[2]
		        bAff1 = ms.bat.affs[5]
		        bAff2 = ms.bat.affs[4]
            bAffCure = ms.bat.affs[2]
          elseif ms.bat.affs[4] == ms.bat.affs[2] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[3].." "..ms.bat.affs[5].." affliction "..ms.bat.affs[2]
		        bAff1 = ms.bat.affs[3]
		        bAff2 = ms.bat.affs[5]
            bAffCure = ms.bat.affs[2]
          else 
            bAtk = "bat trigger "..target.." "..ms.bat.affs[3].." "..ms.bat.affs[4].." affliction "..ms.bat.affs[2]
		        bAff1 = ms.bat.affs[3]
		        bAff2 = ms.bat.affs[4]
            bAffCure = ms.bat.affs[2]
          end
        else
          if ms.bat.affs[1] == "numbness" then 
				    ms.bat.affs[1] = ms.bat.affs[2] 
          end
          if ms.bat.affs[2] == ms.bat.affs[1] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[4].." "..ms.bat.affs[3].." affliction "..ms.bat.affs[1]
		        bAff1 = ms.bat.affs[4]
		        bAff2 = ms.bat.affs[3]
            bAffCure = ms.bat.affs[1]
          elseif ms.bat.affs[3] == ms.bat.affs[1] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[2].." "..ms.bat.affs[4].." affliction "..ms.bat.affs[1]
		        bAff1 = ms.bat.affs[2]
		        bAff2 = ms.bat.affs[4]
            bAffCure = ms.bat.affs[1]
          else 
            bAtk = "bat trigger "..target.." "..ms.bat.affs[2].." "..ms.bat.affs[3].." affliction "..ms.bat.affs[1]
		        bAff1 = ms.bat.affs[2]
		        bAff2 = ms.bat.affs[3]
            bAffCure = ms.bat.affs[1]
          end
        end
      end
      if not instability and not insanity and not table.contains(ms.hunter.triggerAffs, "instability") and not not table.contains(ms.hunter.triggerAffs, "insanity") then
        bAtk = "bat trigger "..target.." "..bAff1.." instability affliction "..bAffCure
        bAff2 = "instability"
      end--instability/insanity check    
    elseif not instability and not insanity and ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and not table.contains(ms.hunter.triggerAffs, "insanity") then
      bAtk = "bat instability "..target
      if not dblCrips and not shield and bp &lt; 4 and not bm and acount &lt; 3 then
        wAtk = "sting "..target.. " bloodpoison"
      end
    elseif ice &lt; 50 then
      bAtk = "summon ice"
    else
      if (wAtk:find("deaden") or wAtk:find("aconite")) and ms.bat.affs[1] == "stupidity" then
        bAtk = "bat "..ms.bat.affs[2].. " "..target
      elseif not snare then
        bAtk = "bat snare "..target
      else
        bAtk = "bat "..ms.bat.affs[1].. " "..target
      end
    end
  end
end

function batTlAtk()
  bAtk = ""
  bAff1 = ""
  bAff2 = ""
  checkTriggers()
  if not shield and not bm then
    if wAtk:find("opium") then
      bAtk = "bat sleep "..target
    elseif probe then
      bAtk = "bat probe "..target
    elseif anorexiaBatCheck() then
      bAtk = "bat anorexia "..target
    elseif ms.hunter.affs[1] == "bromine" and ms.afflicted["impatience"] == "notaff" then
      bAtk = "bat impatience "..target
    elseif triggerCount &lt; 2 and ms.bat.affs[1] ~= "lash" and #ms.hunter.affs &gt; 0 then
      if not ms.hunter.triggers["stupidity"] then
        if ms.bat.affs[1] == "stupidity" then
          bAtk = "bat trigger "..target.." "..ms.bat.affs[3].." "..ms.bat.affs[2].." affliction stupidity"
		      bAff1 = ms.bat.affs[3]
		      bAff2 = ms.bat.affs[2]
          bAffCure = "stupidity"
        elseif ms.bat.affs[2] == "stupidity" then
          bAtk = "bat trigger "..target.." "..ms.bat.affs[1].." "..ms.bat.affs[3].." affliction stupidity"
		      bAff1 = ms.bat.affs[1]
		      bAff2 = ms.bat.affs[3]
          bAffCure = "stupidity"
        else 
          bAtk = "bat trigger "..target.." "..ms.bat.affs[1].." "..ms.bat.affs[2].." affliction stupidity"
		      bAff1 = ms.bat.affs[1]
		      bAff2 = ms.bat.affs[2]
          bAffCure = "stupidity"
        end
      else
        if triggerCount == 1 then
          if ms.bat.affs[2] == "numbness" then 
            if ms.bat.affs[3] ~= "stupidity" then 
				      ms.bat.affs[2] = ms.bat.affs[3] 
			       else
				      ms.bat.affs[2] = ms.bat.affs[4]
			       end 
          elseif ms.hunter.triggers["stupidity"] and ms.bat.affs[1] ~= "numbness" then
            if ms.bat.affs[1] ~= "stupidity" then 
				      ms.bat.affs[2] = ms.bat.affs[1]
			     else
				      ms.bat.affs[2] = ms.bat.affs[3]
			     end
          end
          if ms.bat.affs[3] == ms.bat.affs[2] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[5].." "..ms.bat.affs[4].." affliction "..ms.bat.affs[2]
		        bAff1 = ms.bat.affs[5]
		        bAff2 = ms.bat.affs[4]
            bAffCure = ms.bat.affs[2]
          elseif ms.bat.affs[4] == ms.bat.affs[2] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[3].." "..ms.bat.affs[5].." affliction "..ms.bat.affs[2]
		        bAff1 = ms.bat.affs[3]
		        bAff2 = ms.bat.affs[5]
            bAffCure = ms.bat.affs[2]
          else 
            bAtk = "bat trigger "..target.." "..ms.bat.affs[3].." "..ms.bat.affs[4].." affliction "..ms.bat.affs[2]
		        bAff1 = ms.bat.affs[3]
		        bAff2 = ms.bat.affs[4]
            bAffCure = ms.bat.affs[2]
          end
        else
          if ms.bat.affs[1] == "numbness" then 
            if ms.bat.affs[2] ~= "stupidity" then 
				      ms.bat.affs[1] = ms.bat.affs[2] 
			       else
				      ms.bat.affs[1] = ms.bat.affs[3]
			       end 
          end
          if ms.bat.affs[2] == ms.bat.affs[1] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[4].." "..ms.bat.affs[3].." affliction "..ms.bat.affs[1]
		        bAff1 = ms.bat.affs[4]
		        bAff2 = ms.bat.affs[3]
            bAffCure = ms.bat.affs[1]
          elseif ms.bat.affs[3] == ms.bat.affs[1] then
            bAtk = "bat trigger "..target.." "..ms.bat.affs[2].." "..ms.bat.affs[4].." affliction "..ms.bat.affs[1]
		        bAff1 = ms.bat.affs[2]
		        bAff2 = ms.bat.affs[4]
            bAffCure = ms.bat.affs[1]
          else 
            bAtk = "bat trigger "..target.." "..ms.bat.affs[2].." "..ms.bat.affs[3].." affliction "..ms.bat.affs[1]
		        bAff1 = ms.bat.affs[2]
		        bAff2 = ms.bat.affs[3]
            bAffCure = ms.bat.affs[1]
          end
        end
      end
      if not instability and not insanity and not table.contains(ms.hunter.triggerAffs, "instability") and not not table.contains(ms.hunter.triggerAffs, "insanity") then
        bAtk = "bat trigger "..target.." "..bAff1.." instability affliction "..bAffCure
        bAff2 = "instability"
      end--instability/insanity check    
    elseif not instability and not insanity and ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and not table.contains(ms.hunter.triggerAffs, "insanity") then
      bAtk = "bat instability "..target
      -- if not dblCrips and not shield and bp &lt; 4 and not bm and acount &lt; 3 then
        -- wAtk = "sting "..target.. " bloodpoison"
      -- end
    elseif ice &lt; 50 then
      bAtk = "summon ice"
    else
      if (wAtk:find("deaden") or wAtk:find("aconite")) and ms.bat.affs[1] == "stupidity" then
        bAtk = "bat "..ms.bat.affs[2].. " "..target
      elseif not snare then
        bAtk = "bat snare "..target
      else
        bAtk = "bat "..ms.bat.affs[1].. " "..target
      end
    end
  end
end

function weaverGroup()
  wAtk = ""
  if shield then
    if hammer then
      wAtk = "touch hammer "..target
    elseif ice &gt;= 8 then
      wAtk = ""..ms.save["hunter_form"].." iceblast "..target
    end
  elseif bp &gt;= 4 and not dblCrips then
    wAtk = "sting "..target.." rupture"
  elseif bm then
    wAtk = "bat brainmelt "..target
  elseif not shocked and not dblCrips then
    wAtk = "sting "..target.." shock"    
  else
    if not dblCrips then
      wAtk = "sting "..target.." bloodpoison"
    else
      wAtk = ""..ms.save["hunter_form"].." claw "..target.." "..ms.hunter.affs[1]
    end
  end
end

function batGroup()
  bAtk = ""
  if not shield and not bm then
    if not snare then
      bAtk = "bat snare "..target
    else
      bAtk = "bat "..ms.bat.affs[1].. " "..target
    end
  end
end

function batDmg()
  bAtk = ""
    checkTriggers()
  if not shield and not bm then
    if wAtk:find("opium") then
      bAtk = "bat sleep "..target
    elseif not snare then
      bAtk = "bat snare "..target
    elseif triggerCount &lt; 2 and not table.contains(ms.hunter.cures, "stupidity") then
	   bAtk = "bat trigger "..target.." lash lash affliction stupidity"
     bAff1 = "lash"
     bAff2 = "lash"
     bAffCure = "stupidity"
    elseif triggerCount &lt; 2 then
	   bAtk = "bat trigger "..target.." lash lash health 75"
     bAff1 = "lash"
     bAff2 = "lash"
     bAffCure = "health"
    else
      bAtk = "bat lash "..target
    end
  end
end

function bmCheck()
  --Loop afflictions
  bmc = tonumber(0)
  for aff,state in ms.afflicted:pairs() do
		if state == "aff" and table.contains(ms.brainmelt, aff) then
      bmc = bmc + 1
    end
	end
  --Check count and set brainmelt variable
  if (bmc &gt;= 7) or (bmc &gt;= 6 and ((ms.afflicted["sensitivity"] == "aff") or tth &lt;= 500)) or (bmc &gt;= 5 and tth &lt;= 200) or (bmc &gt;= 4 and tth &lt;= 100) then
    bm = true
  else
    bm = false
  end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Shaman</name>
							<packageName></packageName>
							<script>ms.shaman = {}
ms.shaman.curse = {}
ms.shaman.dust = {}

function curseAff()
    ms.shaman.curse = {}
    local t = ms.shaman.curse
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(t, "plague") end
    if tlock and ms.afflicted["stupidity"] == "notaff" then table.insert(t, "stupid") end
    if dmg and ina("sensitivity") then table.insert(t, "sensitivity") end
    if ina("anorexia") and (ia("hemotoxin") or pbob or prophecy_denial) and ia("asthma") and ia("impatience") and ia("slickness") and (ia("numbness") or ia("paralysis")) then table.insert(t,"anorexia") end
    if ina("impatience") and sleeping then table.insert(t, "impatience") end
    if ina("asthma") then table.insert(t, "asthma") end
    if ina("impatience") then table.insert(t, "impatience") end
    if ina("numbness") and ina("paralysis") and pf ~= "tree" then table.insert(t, "numbness") end
    if ia("asthma") and ina("epilepsy") then table.insert(t, "epilepsy") end
    if ina("dizziness") then table.insert(t, "dizzy") end
    if ina("vertigo") then table.insert(t, "vertigo") end
    if ina("masochism") then table.insert(t, "masochism") end
    if ina("recklessness") then table.insert(t, "reckless") end
    if ina("clumsiness") and not ccd and not tl then table.insert(t, "clumsy") end
    if ina("nausea") then table.insert(t, "vomiting") end
    if ina("healthleech") then table.insert(t, "healthleech") end
    if ina("manaleech") then table.insert(t, "manaleech") end
    if ina("addiction") then table.insert(t, "addiction") end
    if ina("peace") then table.insert(t, "peace") end
    if ina("dementia") then table.insert(t, "dementia") end
    if ina("paranoia") then table.insert(t, "paranoia") end
    if ina("claustrophobia") then table.insert(t, "claustrophobia") end
    if ina("agoraphobia") then table.insert(t, "agoraphobia") end
    if ina("sensitivity") then table.insert(t, "sensitivity") end
    table.insert(t, "bleed")
end

function dustAff()
  ms.shaman.dust = {}
  local t = ms.shaman.dust
  if ina("numbness") and pf ~= "tree" and ina("paralysis") and ms.shaman.curse[1] ~= "numbness" then table.insert(t, "numbness") end
  if ina("slickness") and ((pbob or ia("hemotoxin")) and (ia("asthma") or ms.shaman.curse[1] == "asthma") or tl) then table.insert(t, "slick") end
  if ina("confusion") or (ina("lethargy") and ia("dizziness")) then table.insert(t, "inhibit") end
  if ina("weariness") and zerker then table.insert(t, "drain") end
  if ina("aeon") and not sleeping and ia("asthma") then table.insert(t, "slow") end
  if ina("recklessness") and ms.shaman.curse[1] ~= "reckless" then table.insert(t, "reckless") end
  if ina("disloyalty") then table.insert(t, "disfigure") end
  if ina("frozen") then table.insert(t, "freeze") end
  table.insert(t, "choke")
end


function brand()
  if afflict or tl then
    if tlock and not shield and marked and not ignited then
      return (f"ignite mark on {target}")
    elseif not marked and not shield and tl then
      return (f"brand {target} with grimalkin and porcupine swiftly")
    elseif not marked and not shield then
      return (f"brand {target} with phoenix and porcupine swiftly")
    else
      return ""
    end
  elseif dmg then
    if not marked and not shield then
      return (f"brand {target} with rat and vampirebat swiftly")
    else
      return ""
    end
  end
end


function curses()
  curse_charges = tonumber(gmcp.Char.Vitals.curse_charges)
  if cw then
    if curse_charges &gt; 0 then
      return (f"swiftcurse {target} breach")
    else
      return (f"curse {target} breach")
    end
  else
    if afflict or tl then
      if ms.shaman.dust[1] == "slow" then
        return (f"dustthrow slow {ms.shaman.dust[2]} {target}")
      elseif curse_charges &gt; 0 then
        return (f"swiftcurse {target} {ms.shaman.curse[1]}")
      elseif (acount &gt;= 3 or tl) then
        return (f"curse {target} {ms.shaman.curse[1]}")
      else
        return (f"blight {target} {ms.shaman.curse[1]}")
      end
    elseif dmg then
      if curse_charges &gt; 0 then
        return (f"swiftcurse {target} {ms.shaman.curse[1]}")
      else
        return (f"blight {target} {ms.shaman.curse[1]}")
      end
    end
  end
end

function dustthrow()
  if shield or (ms.shaman.dust[1] == "slow") then
    return ""
  elseif probe then
    return (f"assess")
  else
    if afflict or tl then
      if not shaman_confound and not tl then
        return ("confound body")
      else
        return (f"{ms.shaman.dust[1]}")
      end
    elseif dmg then
      return (f"choke")
    end
  end
end

function prophecy()
  if afflict or tl then
    if not prophecy_cooldown then
      if not prophecy_failure_cooldown and (ina("numbness") and ina("paralysis")) then
        pf = "tree"
        return (f"predict failure tree {target}")
      elseif not prophecy_failure_cooldown and not pbob then   
        pf = "purge"
        return (f"predict failure purge {target}")
      elseif not prophecy_failure_cooldown and ina("impatience") then
        pf = "focus"
        return (f"predict failure plant {target}")
      elseif not prophecy_failure_cooldown and pbob then
        pf = "plant"
        return (f"predict failure plant {target}")
      elseif not prophecy_doom_cooldown and not deaf then
        return (f"predict doom {target}")
      else
        pf = "none"
        return ""
      end
    else
      pf = "none"
      return ""
    end
  elseif dmg then
    if not prophecy_cooldown then
      if not prophecy_rejection_cooldown then
        return (f"predict rejection {target}")
      elseif not prophecy_doom_cooldown then
        return (f"predict doom {target}")
      else
        return ""
      end
    else
      return ""
    end
  end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Berserker</name>
							<packageName></packageName>
							<script>ms.zerk = {}
ms.zerk.affs = {}
ms.zerk.weaken = {}

function zerkAff()
    ms.zerk.affs = {}
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and tik then table.insert(ms.zerk.affs, "ciguatoxin") end
    if tlock and ms.afflicted["cyanide"] == "notaff" then table.insert(ms.zerk.affs, "cyanide") end
    if ms.afflicted["asthma"] == "notaff" then table.insert(ms.zerk.affs, "mercury") end
    if ms.afflicted["anorexia"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.zerk.affs[1] == "iodine" or ms.zerk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.zerk.affs[1] == "hemotoxin" or ms.zerk.affs[2] == "hemotoxin")) and (ms.afflicted["impatience"] == "aff" or snap) and ((ms.afflicted["numbness"] == "aff" or ms.afflicted["paralysis"] == "aff") or (ms.zerk.affs[1] == "ciguatoxin" or ms.zerk.affs[2] == "ciguatoxin")) then table.insert(ms.zerk.affs, "bromine") end
    if ms.afflicted["nausea"] == "notaff" then table.insert(ms.zerk.affs, "botulinum") end
    if ms.afflicted["hemotoxin"] == "notaff" and not pbob then table.insert(ms.zerk.affs, "hemotoxin") end
    if ms.afflicted["slickness"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.zerk.affs[1] == "hemotoxin" or ms.zerk.affs[2] == "hemotoxin")) then table.insert(ms.zerk.affs, "iodine") end
    if ms.afflicted["butisol"] == "notaff" then table.insert(ms.zerk.affs, "butisol") end
    if ms.afflicted["slow elixirs"] == "notaff" then table.insert(ms.zerk.affs, "luminal") end
    if ms.afflicted["recklessness"] == "notaff" then table.insert(ms.zerk.affs, "atropine") end
    if ms.afflicted["clumsiness"] == "notaff" and not ccd and not shaman and not bard and not assassin and not summoner and not diabolist and not mage then table.insert(ms.zerk.affs, "ether") end 
	  if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" and not tob then table.insert(ms.zerk.affs, "ciguatoxin") end
    if ms.afflicted["slow balance"] == "notaff" and not bard and not mage and ((ms.afflicted["asthma"] == "aff" or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) then table.insert(ms.zerk.affs, "noctec") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (bard or mage) and ((ms.afflicted["asthma"] == "aff" or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) then table.insert(ms.zerk.affs, "mebaral") end  
    if ms.afflicted["numbness"] == "notaff" and ms.afflicted["paralysis"] == "notaff" then table.insert(ms.zerk.affs, "ciguatoxin") end
    if ms.afflicted["metrazol"] == "notaff" then table.insert(ms.zerk.affs, "metrazol") end
    if ms.afflicted["sensitivity"] == "notaff" then table.insert(ms.zerk.affs, "strychnine") end
    if ms.afflicted["slow herbs"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.zerk.affs[1] == "iodine" or ms.zerk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.zerk.affs[1] == "hemotoxin" or ms.zerk.affs[2] == "hemotoxin")) then table.insert(ms.zerk.affs, "mazanor") end
    if ms.afflicted["calotropis"] == "notaff" and (ms.afflicted["slickness"] == "aff" or (ms.zerk.affs[1] == "iodine" or ms.zerk.affs[2] == "iodine")) and (ms.afflicted["hemotoxin"] == "aff" or (ms.zerk.affs[1] == "hemotoxin" or ms.zerk.affs[2] == "hemotoxin")) then table.insert(ms.zerk.affs, "calotropis") end
    if ms.afflicted["butisol"] == "notaff" and ms.afflicted["asthma"] == "notaff" then table.insert(ms.zerk.affs, "butisol") end
    if ms.afflicted["sunallergy"] == "notaff" then table.insert(ms.zerk.affs, "xeroderma") end
    if ms.afflicted["weariness"] == "notaff" and zerker then table.insert(ms.zerk.affs, "arsenic") end
    if ms.afflicted["ignorance"] == "notaff" and (bard or mage or summoner) then table.insert(ms.zerk.affs, "avidya") end
    if ms.afflicted["disloyalty"] == "notaff" and (outrider or assassin) and (ms.afflicted["asthma"] == "aff" or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) then table.insert(ms.zerk.affs, "vitriol") end
    if ms.afflicted["stupidity"] == "notaff" then table.insert(ms.zerk.affs, "aconite") end
    if ms.afflicted["slow equilibrium"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) then table.insert(ms.zerk.affs, "mebaral") end 
    if ms.afflicted["dizziness"] == "notaff" then table.insert(ms.zerk.affs, "lindane") end
    if (ms.afflicted["crippled left leg"] == "notaff" or ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.zerk.affs[1] == "iodine" or ms.zerk.affs[2] == "iodine")) then table.insert(ms.zerk.affs, "benzedrine") end
    if (ms.afflicted["crippled left leg"] == "notaff" and ms.afflicted["crippled right leg"] == "notaff") and (ms.afflicted["slickness"] == "aff" or (ms.zerk.affs[1] == "iodine" or ms.zerk.affs[2] == "iodine")) then table.insert(ms.zerk.affs, "benzedrine") end
    if ms.afflicted["weariness"] == "notaff" and not zerker then table.insert(ms.zerk.affs, "arsenic") end
    if ms.afflicted["ineptude"] == "notaff" then table.insert(ms.zerk.affs, "psilocybin") end
    if ms.afflicted["ignorance"] == "notaff" then table.insert(ms.zerk.affs, "avidya") end
    if ms.afflicted["clumsiness"] == "notaff" and not shaman then table.insert(ms.zerk.affs, "ether") end
    if ms.afflicted["disloyalty"] == "notaff" and (ms.afflicted["asthma"] == "aff" or (ms.zerk.affs[1] == "mercury" or ms.zerk.affs[2] == "mercury")) then table.insert(ms.zerk.affs, "vitriol") end
    table.insert(ms.zerk.affs, "strychnine");table.insert(ms.zerk.affs, "strychnine")
end

function preAtk()
  pre = quickdraw(ms.save["longsword"], ms.save["shield"])..""..s
  if hp &lt; 60 then pre = f'warchant overwhelm {target}' end
  if not zerk_focus and not zerk_focus_cd then pre = f'warchant rage focus{s}{pre}' end
  if rage &gt;= 55 and #ms.zerk.weaken &gt;= 3 then pre = f'warchant release pierce {target}{s}{pre}' end
end


function zerkAtk()
  atk1 = '';atk2 = ''
  -- Main attack
  if acount &gt;= 10 and not tprone and (ia("paralysis") or (tprone and ia("metrazol"))) then
    atk1 = f'envenom {ms.save["longsword"]} with strychnine{s}impale {target}'
  elseif impaled then
    atk1 = f'disembowel {target}'
  elseif dmg then
    atk1 = f'strike {ms.zerk.affs[1]}'
  else
    atk1 = f'slash {ms.zerk.affs[1]}'
  end
  -- Shield attack
  if hk and ptar:find(target) then
    atk2 = f'trip'
  elseif not zerk_crush then
    atk2 = f'crush'
  elseif ina("nausea") or ina("clumsiness") or ina("weariness") then
    atk2 = f'smash'
  elseif afflict and  (ina("sensitivity") or (ina("numbness") and ina("paralysis")) or ina("ignorance")) then
    atk2 = f'bash'
  elseif afflict and (ina("stupidity") or ina("vertigo") or ina("dementia")) then
    atk2 = f'batter'
  elseif afflict and ina("dizziness") then
    atk2 = f'knockout'
  else
    atk2 = f'slam'
  end
  -- Razing
  if shield and rb then
    atk1 = f'raze'
    atk2 = f'raze'
  elseif shield or rb then
    atk1 = f'raze'
  end
end

function warchants()
  wc = ''
  if not zerk_warchant_cd then
    if (hp+mp &lt; 75) or (hp+mp &lt; 95 and zerk_weaken) then
      wc = f'shatter {target}'
    elseif #ms.zerk.weaken &gt;= 3 then
      wc = f'pierce {target}'
    elseif dmg and not zerk_shake and not zerk_shake_cd then
      wc = f'shake {target}'
    elseif dmg and hp &lt; 60 then 
      wc = f'shout {target}'
    elseif afflict and  (ina('healthleech') or ina('clumsiness') or ina('weariness') or ina('lethargy') or ina('nausea')) then
      wc = f'weaken {target}'
    elseif afflict and  (ina('dementia') or ina('hypersomnia') or ina('paranoia') or ina('vertigo') or ina('hallucinations')) then
      wc = f'disorient {target}'
    else
      wc = f'shout {target}'
    end
    if rage &gt;= 100 then wc = string.gsub(wc, "(%w+) ", "%1 enrage ") end
  else
    wc = target
  end
end

function checkWeaken()
  ms.zerk.weaken = {}
  if ia("healthleech") then table.insert(ms.zerk.weaken, "healthleech") end
  if ia("clumsiness") then table.insert(ms.zerk.weaken, "clumsiness") end
  if ia("weariness") then table.insert(ms.zerk.weaken, "weariness") end
  if ia("lethargy") then table.insert(ms.zerk.weaken, "lethargy") end
  if ia("nausea") then table.insert(ms.zerk.weaken, "nausea") end
end</script>
							<eventHandlerList />
						</Script>
					</ScriptGroup>
				</ScriptGroup>
			</ScriptGroup>
			<ScriptGroup isActive="yes" isFolder="yes">
				<name>MS System</name>
				<packageName></packageName>
				<script></script>
				<eventHandlerList />
				<Script isActive="yes" isFolder="no">
					<name>Install Updated MS</name>
					<packageName></packageName>
					<script>function installMS()
  uninstallPackage("Mathiaus_System")
  installPackage([[https://raw.githubusercontent.com/SMTemple/Mathiaus_System/main/Mathiaus_System.trigger]])
end

ms.version = "3.6.1"

function checkMSVersion()
  gitVerFile = getMudletHomeDir().."/latest.html"
  pageFile = "https://github.com/SMTemple/Mathiaus_System/releases/latest"
  downloadFile(gitVerFile, pageFile)
end

function downloaded_file(_, filename)
  -- is the file that downloaded ours?
  if not filename:find("latest.html", 1, true) then return end

  -- read the contents of the webpage in
  local f, s, webpage = io.open(filename)
  if f then webpage = f:read("*a"); io.close(f) end
  -- delete the file on disk, don't clutter
  os.remove(filename)

  -- parse our downloaded file for the player count
  local vs = webpage:match([[Release MS (.+) · SMTemple/Mathiaus_System · GitHub]])
  sys("&lt;green&gt;MS Version") cecho("&lt;snow&gt;Github version is:    &lt;yellow&gt;"..tostring(vs))
  sys("&lt;green&gt;MS Version") cecho("&lt;snow&gt;Installed version is: &lt;yellow&gt;"..ms.version)
  local vs_string = tostring(vs)
  echo("\n")
  if vs_string ~= ms.version then
    
    sys("&lt;red&gt;MS Version Outdated") cecho("&lt;snow&gt;Upgrade to most current MS version with &lt;green&gt;ms install new package")
    
  else
  
    sys("&lt;green&gt;MS Version Up-to-Date") cecho("&lt;snow&gt;You have the most current version of Mathiaus' System")
    
  end
  echo("\n\n")
end

-- register our function to run on the event that something was downloaded
registerAnonymousEventHandler("sysDownloadDone", "downloaded_file")</script>
					<eventHandlerList />
				</Script>
				<Script isActive="yes" isFolder="no">
					<name>Help Script</name>
					<packageName></packageName>
					<script>cmdTab = string.rep(" ", 6)
infoTab = string.rep(" ", 9)
function nl() echo("\n") end
function echoHelp(string, type)
  if type == "ms" then
    cecho(f"\n{cmdTab}&lt;green&gt;ms {string}")
  elseif type == "cmd" then
    cecho(f"\n{cmdTab}&lt;green&gt;{string}")
  else
    cecho(f"\n{infoTab}&lt;snow&gt;-{string}")
  end
end

function helpTemplar()
cecho(f("\n&lt;SteelBlue&gt;Coming soon!:\n"))
end

function helpMonk()
cecho(f("\n&lt;SteelBlue&gt;Coming soon!:\n"))
end

function helpAmazon()
cecho(f("\n&lt;SteelBlue&gt;Coming soon!:\n"))
end

function helpRanger()
cecho(f("\n&lt;SteelBlue&gt;Coming soon!:\n"))
end

function helpPredator()
cecho(f("\n&lt;SteelBlue&gt;Coming soon!:\n"))
end

function helpOutrider()
cecho(f("\n&lt;SteelBlue&gt;Coming soon!:\n"))
end

function helpBerserker()
cecho(f("\n&lt;SteelBlue&gt;List of Berserker Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("aff", "cmd")
	echoHelp("Affliction route focused on stacks towards multiple warchants and shouts")
	echoHelp("dmg", "cmd")
	echoHelp("Damage route focused on rage momentum and warchant health denial")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Cleave on current target")
nl()
sys("&lt;SteelBlue&gt;Maiming")
  echoHelp("cl [&lt;selected_target&gt;]", "cmd")
  echoHelp("Cleave current or selected target")
  echoHelp("bl &lt;direction&gt;", "cmd")
  echoHelp("Block people from leaving the selected exit")
nl()
sys("&lt;SteelBlue&gt;Rampage")
  echoHelp("wdo", "cmd")
  echoHelp("Turn off wardances")
  echoHelp("dd", "cmd")
  echoHelp("Doubledance for eviscerate and spurn")
nl()
sys("&lt;SteelBlue&gt;Warchants")
  echoHelp("wt [&lt;selected_target&gt;]", "cmd")
  echoHelp("Warchant taunt current or selected target to you")
  echoHelp("wp &lt;warchant&gt;", "cmd")
  echoHelp("Warchant persist a warchant")
nl()
end

function helpSmithing()
cecho(f("\n&lt;SteelBlue&gt;Smithing Functions:\n"))
sys("&lt;SteelBlue&gt;Smelting")
  echoHelp("ms smelt 1-10 rahnse|stehl|electrum", "cmd")
  echoHelp("Smelt for ingots. Example: &lt;green&gt;ms smelt 5 stehl")
  nl()
sys("&lt;SteelBlue&gt;Forging")
  echoHelp("ms smith &lt;item&gt; [properties]", "cmd")
  echoHelp("Smith an item, weapon, armour, or shield of choice. If you want properties, add them to the end of the syntax.")
  echoHelp("Example: &lt;green&gt;ms smith longsword serrated sharp")
  nl()
sys("&lt;SteelBlue&gt;Setting Ingots")
  echoHelp("ms ingot &lt;ingot_type&gt;", "cmd")
  echoHelp("Set the type of ingot you want to use for forging. Currently set to: &lt;yellow&gt;"..ms.save["ingot_type"])
  echoHelp("ms crystehl [on|off]", "cmd")
  echoHelp("Toggle whether you want to use crystehl with forging weapons.")
  nl()
end

function helpSetup()
cecho(f("\n&lt;SteelBlue&gt;List of Commands and Helpful Information of Math's System (MS):\n"))
sys("&lt;SteelBlue&gt;New User")
  echoHelp("ms setup", "cmd")
  echoHelp("Getting started? &lt;green&gt;ms setup&lt;snow&gt; will help you configure MS")
  echoHelp("ms save", "cmd")
  echoHelp("*&lt;yellow&gt;VERY IMPORTANT!!&lt;snow&gt;* Remember to &lt;green&gt;ms save&lt;snow&gt; when you want to keep changed settings")
  echoHelp("ms save reset", "cmd")
  echoHelp("Reset settings to default")
  echoHelp("ms install new package", "cmd")
  echoHelp("Reinstall Mathiaus' System from github with the lastest version.")
  nl()
sys("&lt;SteelBlue&gt;MS Functions")
  echoHelp("ms combat", "cmd")
  echoHelp("Combat related functions")
  echoHelp("ms toggles", "cmd")
  echoHelp("List of toggle commands")
  echoHelp("ms allies", "cmd")
  echoHelp("List of commands to modify and save Allies List")
  echoHelp("ms hunting", "cmd")
  echoHelp("List of commands for hunting")
  echoHelp("ms smithing", "cmd")
  echoHelp("List of commands for smithing")
  nl()
sys("&lt;SteelBlue&gt;Profession")
  echoHelp(f"ms {gmcp.Char.Status.prof:lower()}", "cmd")
  echoHelp("Current profession's commands")
  nl()
sys("&lt;SteelBlue&gt;User Interface (U.I.)")
  echoHelp("ms ui", "cmd")
  echoHelp("List of functions to resize fonts in miniconsoles and chat size")
sys("&lt;SteelBlue&gt;Misc")
  echoHelp("ms misc", "cmd")
  echoHelp("List of miscellaneous functions")
  nl()
sys("&lt;SteelBlue&gt;Index")
  echoHelp("ms index", "cmd")
  echoHelp("List all available help functions at once.")
  nl()
end

function helpUI()
cecho(f("\n&lt;SteelBlue&gt;U.I. System Functions:\n"))
sys("&lt;SteelBlue&gt;U.I.")
  echoHelp("ms window 1920|1600", "cmd")
  echoHelp("Set UI to scale to display resolution of either 1920 or 1600 width")
  echoHelp("ms ui show", "cmd")
  echoHelp("Shows where the windows are located to set the font sizes accordingly")
  echoHelp("ms ui hide", "cmd")
  echoHelp("Hides the numbers where the windows are located to set font sizes")
  echoHelp("ms fs", "cmd")
  echoHelp("Lists names of miniconsole windows")
  echoHelp("ms fs &lt;font_size&gt;", "cmd")
  echoHelp("Set overall font size for all windows at once")
  echoHelp("ms fs &lt;window_name&gt; &lt;font_increment&gt;", "cmd")
  echoHelp("Increase or decrease the size of a specific window by adding a positive or negative number")
  echoHelp("ms mw", "cmd")
  echoHelp("Show borders and wrap width of main windows")
  echoHelp("Left Border set to: &lt;yellow&gt;"..tostring(ms.save["mwbl"]))
  echoHelp("Bottom Border set to: &lt;yellow&gt;"..tostring(ms.save["mwbb"]))
  echoHelp("Wrap Width set to: &lt;yellow&gt;"..tostring(ms.save["mww"]))
  echoHelp("ms mw left|bottom|wrap &lt;number&gt;", "cmd")
  echoHelp("Set desired parameter to typed number")
  nl()
end

function helpCombat()
cecho(f("\n&lt;SteelBlue&gt;Combat Related System Functions:\n"))
sys("&lt;SteelBlue&gt;Defences")
  echoHelp("def", "cmd")
  echoHelp("Checks current defenses, and if &lt;green&gt;ms defMe &lt;snow&gt;toggled on, reapplies defenses as well")
  echoHelp("ms def", "cmd")
  echoHelp("See what defenses you are applying")
  echoHelp("ms defs", "cmd")
  echoHelp("List all skills that used by MS for auto-defenses, and see if they are toggled on")
  echoHelp("ms def &lt;defense_name&gt;", "cmd")
  echoHelp("Toggle whether to apply selected defence")
  nl()
sys("&lt;SteelBlue&gt;Curatives")
  echoHelp("cv", "cmd")
  echoHelp("Check if you have all vials and toxins")
  echoHelp("ch", "cmd")
  echoHelp("Check essential herbs in rift")
  nl()
sys("&lt;SteelBlue&gt;Weapons")
  echoHelp("ms weapons", "cmd")
  echoHelp("Tells system which weapons to use from your inventory")
  echoHelp("*&lt;yellow&gt;NOTE&lt;snow&gt;* Will set for all 26 weapons for every class.")
  echoHelp("To quickly set a weapon ID, use &lt;green&gt;ms set &lt;weapon_type&gt; &lt;id#&gt;")
  echoHelp("Examples: &lt;green&gt;ms set longsword longsword1234")
  echoHelp("          &lt;green&gt;ms set shield shield5678")
  nl()
sys("&lt;SteelBlue&gt;Misc")
  echoHelp("t &lt;target&gt;", "cmd")
  echoHelp("Standard of all fighting, set your target to the specified name. Use the &lt;yellow&gt;tab key &lt;snow&gt;to help fill out names faster when typing them out!")
  echoHelp("ms clan [&lt;clan_tag&gt;]", "cmd")
  echoHelp("Check current combat clan or optionally set clan to new ID tag")
  echoHelp("0 &lt;yellow&gt;\&lt;\= Zero", "cmd")
  echoHelp("Soft reset MS variables, afflictions, and defences to ready instance")
  echoHelp("*&lt;yellow&gt;NOTE&lt;snow&gt;* I use this often when target has escaped or arena fights")
  echoHelp("rbon, rboff", "cmd")
  echoHelp("Toggle autocuring rebounding on or off")
  nl()
sys("&lt;SteelBlue&gt;A.I. System")
  echoHelp("ms solo","cmd")
  echoHelp("Default route for current profession")
  echoHelp("ms dmg", "cmd")
  echoHelp("Switch MS to use a damage focused route")
  echoHelp("ms group", "cmd")
  echoHelp("While in a group, use focused route utilizing crowd control")
  echoHelp("ak", "cmd")
  echoHelp("Initiate/disengage MS combat system to automatically attack your current target")
  echoHelp(f"*&lt;yellow&gt;NOTE&lt;snow&gt;* Not recommended. Highly suggest using provided class aliases in &lt;green&gt;ms {gmcp.Char.Status.prof:lower()}") 
  nl()
end

function helpMisc()
cecho(f("\n&lt;SteelBlue&gt;Misc System Functions:\n"))
sys("&lt;SteelBlue&gt;Misc")
  echoHelp("artifactlist", "cmd")
  echoHelp("Automatically adds artifact ID#'s to artifact list")
  echoHelp("ms artifacts", "cmd")
  echoHelp("List artifacts saved to system")
  echoHelp("ms artifact &lt;add|remove&gt; &lt;artifact&gt;", "cmd")
  echoHelp("Add or remove an artifact to the artifact list")
  echoHelp("Example: &lt;green&gt;ms artifact add amulet1234")
  echoHelp("ms separator &lt;separator&gt;", "cmd")
  echoHelp("Set the systems and clientside seperator. Current separator is: &lt;yellow&gt;"..s)
  echoHelp("ms mount [&lt;mount_id&gt;]", "cmd")
  echoHelp("Check current mount or optionally set new mount ID#")
  echoHelp("Current mount is: &lt;yellow&gt;"..ms.save["mount"])
  echoHelp("mr", "cmd")
  echoHelp("Call mount")
  echoHelp("mp", "cmd")
  echoHelp("Ride your mount")
  echoHelp("ms set &lt;key&gt; &lt;value&gt;", "cmd")
  echoHelp("Use this to hard set particular keys and values within &lt;yellow&gt;ms.save&lt;snow&gt;. Be wary; know what you're setting and overwriting, else you will break the system.")
  nl()
end

function helpProf(class)
  if class:lower() == "bard" then
    helpBard()
  elseif class:lower() == "druid" then
    helpDruid()
  elseif class:lower() == "runeguard" then
    helpRuneguard()
  elseif class:lower() == "assassin" then
    helpAssassin()
  elseif class:lower() == "mage" then
    helpMage()
  elseif class:lower() == "summoner" then
    helpSummoner()
  elseif class:lower() == "deathknight" then
    helpDeathknight()
  elseif class:lower() == "defiler" then
    helpDefiler()
  elseif class:lower() == "diabolist" then
    helpDiabolist()
  elseif class:lower() == "hunter" then
    helpHunter()
  elseif class:lower() == "renegade" then
    helpRenegade()
  elseif class:lower() == "shaman" then
    helpShaman()
  elseif class:lower() == "priest" then
    helpPriest()
  elseif class:lower() == "templar" then
    helpTemplar()
  elseif class:lower() == "monk" then
    helpMonk()
  elseif class:lower() == "amazon" then
    helpAmazon()
  elseif class:lower() == "ranger" then
    helpRanger()
  elseif class:lower() == "predator" then
    helpPredator()
  elseif class:lower() == "outrider" then
    helpOutrider()
  elseif class:lower() == "berserker" then
    helpBerserker()
  end
end

function helpShaman()
cecho(f("\n&lt;SteelBlue&gt;List of Shaman Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
  echoHelp("aff", "cmd")
  echoHelp("Afflict while confounding and denying purge for a true lock")
  echoHelp("dmg", "cmd")
  echoHelp("Stacks on vampirebat brand while using prophecy doom and toadstool denial")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Grizzly on current target")
  nl()
sys("&lt;SteelBlue&gt;Curses")
  echoHelp("csm|csh [&lt;selected_target&gt;]", "cmd")
  echoHelp("Steal health or mana from current or selected target")
  echoHelp("Example: &lt;green&gt;csm &lt;snow&gt;or &lt;green&gt;csh "..gmcp.Char.Status.name)
  nl()
sys("&lt;SteelBlue&gt;Bonecasting")
  echoHelp("hl", "cmd")
  echoHelp("Heal yourself and allies in room")
  echoHelp("hm", "cmd")
  echoHelp("Heal for mana")
  echoHelp("acb, dcb", "cmd")
  echoHelp("Activate or deactivate thrown bone images on self and armour")
  echoHelp("bv [&lt;selected_target&gt;]", "cmd")
  echoHelp("Vortex current or selected target")
  nl()
sys("&lt;SteelBlue&gt;Shamanism")
  echoHelp("dtc [&lt;ally&gt;]", "cmd")
  echoHelp("Dustthrow cure self or ally")
  echoHelp("dp", "cmd")
  echoHelp("Next affliction route action will use &lt;yellow&gt;dustthrow assess")
  nl()
end

function helpAssassin()
cecho(f("\n&lt;SteelBlue&gt;List of Assassin Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
  echoHelp("aff", "cmd")
  echoHelp("Affliction route with hinders")
  echoHelp("tl", "cmd")
  echoHelp("True lock route")
  echoHelp("dmg", "cmd")
  echoHelp("Uses wormchoke with punctures of obscured toxins, sulfonal, and trioxin")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Devour on current target")
  nl()
sys("&lt;SteelBlue&gt;Sabotage")
  echoHelp("ld &lt;direction&gt; [toxin]", "cmd")
  echoHelp("Lay a dart trap, optionally choose to envenom the trap")
  echoHelp("ls [&lt;direction&gt;]", "cmd")
  echoHelp("Lay a snare trap in every possible exit in room. Optionally choose one exit")
  echoHelp("lc [&lt;direction&gt;]", "cmd")
  echoHelp("Lay a clothesline trap in every possible exit in room. Optionally choose one exit")
  echoHelp("ev", "cmd")
  echoHelp("Evade in given direction")
  echoHelp("fl &lt;target&gt; &lt;aura|mass&gt;, fl &lt;aura|mass&gt;", "cmd")
  echoHelp("Flay current or selected target's rebounding aura or mass defence")
  echoHelp("bl &lt;direction&gt;", "cmd")
  echoHelp("Block people from leaving the selected exit")
  echoHelp("lw &lt;direction&gt;", "cmd")
  echoHelp("Set a lightwall in chosen direction")
  echoHelp("y [&lt;selected_target&gt;]", "cmd")
  echoHelp("Yank current or selected target into your location")
  echoHelp("sb&lt;bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr&gt; &lt;direction&gt;", "cmd")
  echoHelp("sb&lt;bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr&gt; &lt;target&gt; &lt;direction&gt;", "cmd")
  echoHelp("Shoot bow at current or selected target")
  echoHelp("Arrow options are: aconite razor, cyanide wooden, aconite spiral, luminal spiral, broad, noctec barbed, net, formaldehyde barbed, aconite barbed, formaldehyde spiral, or formaldehyde razor")
  echoHelp("Example: &lt;green&gt;sbfr east")
  echoHelp("wat [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm attach wormhole to current or selected target in area")
  echoHelp("ws&lt;arrow_type&gt; [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm snipe current or selected target through attached wormhole")
  echoHelp("scob, sci", "cmd")
  echoHelp("Summon your cobra. &lt;green&gt;sci &lt;snow&gt;summons it into inventory")
  echoHelp("bs [&lt;selected_target&gt;]", "cmd")
  echoHelp("Backstab current or selected target")
  echoHelp("wcc [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm channel your cobra to current or selected target, as well as lamia")
  nl()
sys("&lt;SteelBlue&gt;Spatium")
  echoHelp("wsl", "cmd")
  echoHelp("Summon lamia")
  echoHelp("wb", "cmd")
  echoHelp("Summon worm blizzard")
  echoHelp("wfg", "cmd")
  echoHelp("Freeze the ground with your wormhole")
  echoHelp("bliz", "cmd")
  echoHelp("Toggles using blizzard in combat routes")
  echoHelp("becloud", "cmd")
  echoHelp("Toggle using becloud during hunting")
  echoHelp("bc", "cmd")
  echoHelp("Summon becloud")
  echoHelp("wv [&lt;selected_target&gt;]", "cmd")
  echoHelp("Pull your current or selected target through your wormhole")
  echoHelp("dex", "cmd")
  echoHelp("Send your demon through the wormhole and make them explode")
  echoHelp("wsw", "cmd")
  echoHelp("Summon wraith")
  echoHelp("dev [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm devour current or selected target. This is channeled if target is massed")
  echoHelp("wc", "cmd")
  echoHelp("Worm cleanse to cure an affliction")
  echoHelp("cft", "cmd")
  echoHelp("Toggles using confound on target")
  nl()
sys("&lt;SteelBlue&gt;Hypnosis")
  echoHelp("hyp &lt;target&gt; [&lt;action&gt;]", "cmd")
  echoHelp("Hypnotize target, optionally add an action that will seal and snap in 1 second")
  echoHelp("sug &lt;target&gt; &lt;suggestion&gt;", "cmd")
  echoHelp("sug &lt;suggestion&gt;", "cmd")
  echoHelp("Suggest to current or selected target a hypnosis affliction")
  echoHelp("sl &lt;target&gt; [&lt;time&gt;]", "cmd")
  echoHelp("Seal and snap on target. Optionally select how long until hypnosis takes affect")
  nl()
end

function helpHunting()
cecho(f("\n&lt;SteelBlue&gt;List of Hunting Functions:\n"))
sys("&lt;SteelBlue&gt;Hunting Functions")
  echoHelp("tc &lt;creature&gt;", "cmd")
  echoHelp("Target specified creature")
  echoHelp("mtc &lt;mob1&gt;, &lt;mob2&gt;, etc", "cmd")
  echoHelp("Multitarget creatures Make sure to use commas. Spammy, not recommended. Example: &lt;green&gt;mtc dog, cat, ghost,")
  echoHelp("add mob &lt;mob_name&gt;", "cmd")
  echoHelp("Add mob name to hunt list. Example: &lt;green&gt;add mob a fiendish demon")
  echoHelp("remove mob &lt;mob_name&gt;", "cmd")
  echoHelp("Remove mob name from hunt list. Example: &lt;green&gt;remove mob a fiendish demon")
  echoHelp("msm", "cmd")
  echoHelp("View list of creature names in hunt list")
  echoHelp("sst &lt;1-100&gt;", "cmd")
  echoHelp("Set shield threshold for health while hunting")
  echoHelp("ms rubcard on|off", "cmd")
  echoHelp("Toggle using cards while hunting")
  echoHelp("b [&lt;selected_creature]", "cmd")
  echoHelp("Either &lt;green&gt;b &lt;snow&gt;or &lt;green&gt;b &lt;yellow&gt;creature_name &lt;snow&gt;will attack a creature")
  echoHelp("Ctrl+b | bash ", "cmd")
  echoHelp("Hitting the &lt;green&gt;control+b &lt;snow&gt;keys will enable hitting the creatures in room automatically. &lt;red&gt;Note, &lt;snow&gt;please follow hunting guidelines and IRE's rules about being present at your keyboard while hunting, thank you!")
  echoHelp("brooms", "cmd")
  echoHelp("Hunts the current area and moves to the next room after clearing the room. Risky, and punishable if you are not at your keyboard when doing so")
  nl()
end

function helpRenegade()
cecho(f("\n&lt;SteelBlue&gt;List of Renegade Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
  echoHelp("aff", "cmd")
  echoHelp("Affliction route with hinders")
  echoHelp("tl", "cmd")
  echoHelp("True lock route")
  echoHelp("dmg", "cmd")
  echoHelp("Uses wormchoke with punctures of obscured toxins, sulfonal, and trioxin")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Devour on current target")
  nl()
sys("&lt;SteelBlue&gt;Sabotage")
  echoHelp("ld &lt;direction&gt; [toxin]", "cmd")
  echoHelp("Lay a dart trap, optionally choose to envenom the trap")
  echoHelp("ls [&lt;direction&gt;]", "cmd")
  echoHelp("Lay a snare trap in every possible exit in room. Optionally choose one exit")
  echoHelp("lc [&lt;direction&gt;]", "cmd")
  echoHelp("Lay a clothesline trap in every possible exit in room. Optionally choose one exit")
  echoHelp("ev", "cmd")
  echoHelp("Evade in given direction")
  echoHelp("fl &lt;target&gt; &lt;aura|mass&gt;, fl &lt;aura|mass&gt;", "cmd")
  echoHelp("Flay current or selected target's rebounding aura or mass defence")
  echoHelp("bl &lt;direction&gt;", "cmd")
  echoHelp("Block people from leaving the selected exit")
  echoHelp("lw &lt;direction&gt;", "cmd")
  echoHelp("Set a lightwall in chosen direction")
  echoHelp("y [&lt;selected_target&gt;]", "cmd")
  echoHelp("Yank current or selected target into your location")
  echoHelp("sb&lt;bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr&gt; &lt;direction&gt;", "cmd")
  echoHelp("sb&lt;bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr&gt; &lt;target&gt; &lt;direction&gt;", "cmd")
  echoHelp("Shoot bow at current or selected target")
  echoHelp("Arrow options are: aconite razor, cyanide wooden, aconite spiral, luminal spiral, broad, noctec barbed, net, formaldehyde barbed, aconite barbed, formaldehyde spiral, or formaldehyde razor")
  echoHelp("Example: &lt;green&gt;sbfr east")
  echoHelp("wat [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm attach wormhole to current or selected target in area")
  echoHelp("ws&lt;arrow_type&gt; [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm snipe current or selected target through attached wormhole")
  echoHelp("scob, sci", "cmd")
  echoHelp("Summon your cobra. &lt;green&gt;sci &lt;snow&gt;summons it into inventory")
  echoHelp("bs [&lt;selected_target&gt;]", "cmd")
  echoHelp("Backstab current or selected target")
  echoHelp("wcc [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm channel your cobra to current or selected target, as well as lamia")
  nl()
sys("&lt;SteelBlue&gt;Spatium")
  echoHelp("wss", "cmd")
  echoHelp("Summon spectre")
  echoHelp("wb", "cmd")
  echoHelp("Summon worm blizzard")
  echoHelp("wfg", "cmd")
  echoHelp("Freeze the ground with your wormhole")
  echoHelp("bliz", "cmd")
  echoHelp("Toggles using blizzard in combat routes")
  echoHelp("becloud", "cmd")
  echoHelp("Toggle using becloud during hunting")
  echoHelp("bc", "cmd")
  echoHelp("Summon becloud")
  echoHelp("wv [&lt;selected_target&gt;]", "cmd")
  echoHelp("Pull your current or selected target through your wormhole")
  echoHelp("spex", "cmd")
  echoHelp("Send your spectre through the wormhole and make them explode")
  echoHelp("dev [&lt;selected_target&gt;]", "cmd")
  echoHelp("Worm devour current or selected target. This is channeled if target is massed")
  echoHelp("wc", "cmd")
  echoHelp("Worm cleanse to cure an affliction")
  echoHelp("cft", "cmd")
  echoHelp("Toggles using confound on target")
  nl()
sys("&lt;SteelBlue&gt;Hypnosis")
  echoHelp("hyp &lt;target&gt; [&lt;action&gt;]", "cmd")
  echoHelp("Hypnotize target, optionally add an action that will seal and snap in 1 second")
  echoHelp("sug &lt;target&gt; &lt;suggestion&gt;", "cmd")
  echoHelp("sug &lt;suggestion&gt;", "cmd")
  echoHelp("Suggest to current or selected target a hypnosis affliction")
  echoHelp("sl &lt;target&gt; [&lt;time&gt;]", "cmd")
  echoHelp("Seal and snap on target. Optionally select how long until hypnosis takes affect")
  nl()
end

function helpDruid()
cecho(f("\n&lt;SteelBlue&gt;List of Druid Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("aff", "cmd")
	echoHelp("Damage and affliction hybrid route with &lt;yellow&gt;Earthquake &lt;snow&gt;and &lt;yellow&gt;Reclaim &lt;snow&gt;routes active")
	echoHelp("dmg", "cmd")
	echoHelp("Damage route more focused on &lt;yellow&gt;Earthquake")
	nl()
sys("&lt;SteelBlue&gt;Evocation")
	echoHelp("sls", "cmd")
	echoHelp("Summons golem and roots")
	echoHelp("equ", "cmd")
	echoHelp("Evoke the earthquake, when Earth is available")
	nl()
sys("&lt;SteelBlue&gt;Pioneering")
	echoHelp("pt [&lt;selected_target&gt;]", "cmd")
	echoHelp("Pursue current or selected target")
	echoHelp("ctt, gtt", "cmd")
	echoHelp("Call out current pursue target location to ring, clan, or arena chat with &lt;green&gt;ctt")
	echoHelp("&lt;green&gt;gtt &lt;snow&gt;runs to purue target location")
	echoHelp("pn", "cmd")
	echoHelp("Clears pursue target")
	echoHelp("gg [&lt;selected_target&gt;]", "cmd")
	echoHelp("Depending if you're outside and in a nature-type room, grove gate to current or selected target")
	echoHelp("lt [&lt;selected_target&gt;]", "cmd")
	echoHelp("Locate current or selected target")
	nl()
sys("&lt;SteelBlue&gt;Naturebinding")
	echoHelp("sar", "cmd")
	echoHelp("Only summons roots")
	nl()
end

function helpBard()
cecho(f("\n&lt;SteelBlue&gt;List of Bard Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("aff", "cmd")
	echoHelp("Applys songs and stacks afflicitons into &lt;yellow&gt;Varaye &lt;snow&gt;for &lt;yellow&gt;Cruel Lament &lt;snow&gt;damage")
	echoHelp("dmg", "cmd")
	echoHelp("Focuses on &lt;yellow&gt;Shaite &lt;snow&gt;and &lt;yellow&gt;Rubait &lt;snow&gt; with &lt;yellow&gt;Hunter Fireblast")
	echoHelp("F4 Key", "cmd")
	echoHelp("Channels Kantae on current target")
	nl()
sys("&lt;SteelBlue&gt;Voice")
	echoHelp("hv", "cmd")
	echoHelp("Hum varaye on current target")
	echoHelp("hka [&lt;selected_target&gt;]", "cmd")
	echoHelp("Hum Ka to find current or selected target")
	echoHelp("hz(s|n|p|k) &lt;direction&gt;", "cmd")
	echoHelp("hz(s|n|p|k) &lt;target&gt; &lt;direction&gt;", "cmd")
	echoHelp("Hum Zriku distantly at current or selected target with &lt;yellow&gt;Shaite, Nuarinyu, Paryes, &lt;snow&gt;or &lt;yellow&gt; Kawis")
	echoHelp("hl [&lt;ally&gt;]", "cmd")
	echoHelp("Hum Llan on self or selected ally for healing health")
	echoHelp("hla [&lt;selected_target&gt;]", "cmd")
	echoHelp("Hum Llan and Arinyu on self or ally for healing health and curing affliction")
	nl()
sys("&lt;SteelBlue&gt;Thespia")
	echoHelp("ward, res, bat, fli, req, emp, cor, enl, fort, awk, ther [&lt;ally&gt;]", "cmd")
	echoHelp("Sing either Ward, Restoration, Battlemarch, Flight, Requiem, Empower, Corescation, Enliven, Fortify, Awaken, or Therapeutics on self or selected ally")
	echoHelp("*&lt;yellow&gt;NOTE&lt;snow&gt;* It is better to use &lt;yellow&gt;SING ALL &lt;snow&gt; to have all songs at once for self")
	echoHelp("bd, dis, rev, lul, cl [&lt;selected_target&gt;]", "cmd")
	echoHelp("Sing either Bedazzlement, Dissonance, Revelation, Lullaby, or Cruel Lament on current or selected target")
	echoHelp("rst", "cmd")
	echoHelp("Toggle reapplying songs on self")
	echoHelp("equ", "cmd")
	echoHelp("Sing Earthquake to knockdown unlevitated people in room, stonewalls, and stop block bears. ")
	echoHelp("lam", "cmd")
	echoHelp("Sing Lamia to automatically recall sketches into room")
	echoHelp("sg", "cmd")
	echoHelp("Sing Geis to capture songs in room when target is slain")
	nl()
sys("&lt;SteelBlue&gt;Artistry")
	echoHelp("ms sb (hunter|runeguard|renegade) &lt;ID#&gt;", "cmd")
	echoHelp("Set sketchbooks for MS to easily access your sketches")
	echoHelp("ms sb", "cmd")
	echoHelp("Lists current ID's for sketchbooks")
	echoHelp("sb (hunter|runeguard|renegade) [ink]", "cmd")
	echoHelp("Weild a quill and selected sketchbook. Optionally, sketchlist desired sketchbook and MS will auto-ink it for you")
	echoHelp("Hunter and Runeguard have &lt;yellow&gt;Yellowink, &lt;purple&gt;Purpleink, &lt;snow&gt;and &lt;gold&gt;Goldink")
	echoHelp("Renegade has &lt;green&gt;Greenink, &lt;red&gt;Redink, &lt;snow&gt;and &lt;gold&gt;Goldink")
	echoHelp("csb", "cmd")
	echoHelp("Checks all your sketchbooks and what sketches you have in them")
	echoHelp("(hunt|rg|ren)", "cmd")
	echoHelp("Weild and tear for desired sketch from sketchbook")
	echoHelp("cs", "cmd")
	echoHelp("Call sketches to room")
	echoHelp("seg [&lt;selected_target&gt;]", "cmd")
	echoHelp("Sketchlink Engage current or selected target")
	nl()
end

function helpMage()
cecho(f("\n&lt;SteelBlue&gt;List of Mage Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("aff", "cmd")
	echoHelp("Water route focused on icicle weariness upkeep into decompose finish")
	echoHelp("dmg", "cmd")
	echoHelp("Fire route focused on firecircle and lavablast")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Submersion on current target")
	nl()
sys("&lt;SteelBlue&gt;Pyroglacia")
	echoHelp("cp", "cmd")
	echoHelp("Cast purify to heal afflictions")
	echoHelp("cww [&lt;selected_target&gt;]", "cmd")
	echoHelp("Summon adjacent current or selected target, given both rooms are flooded")
	echoHelp("ps&lt;l|t|d|h|m|w&gt; &lt;direction&gt;", "cmd")
	echoHelp("ps&lt;spell&gt; &lt;target&gt; &lt;direction&gt;", "cmd")
	echoHelp("Project chosen spell at current or selected target")
	echoHelp("Spells usable: &lt;yellow&gt;lightning, transfix, drain, howl, maelstrom, &lt;snow&gt;and &lt;yellow&gt;wind")
	echoHelp("cs &lt;direction&gt; [push|pull]", "cmd")
	echoHelp("Cast shrapnel in given direction, destroying wall, optionally giving PUSH or PULL")
	echoHelp("ea&lt;f|w|a|e&gt;", "cmd")
	echoHelp("Elemental assume a form of fire, water, air, or earth")
	nl()
sys("&lt;SteelBlue&gt;Terratheria")
	echoHelp("csp [&lt;selected_target&gt;]", "cmd")
	echoHelp("Cast a sonic portal at current or selected target to long travel")
	echoHelp("ws [&lt;word&gt;]", "cmd")
	echoHelp("Windscribe to already created word, or create a new word. If don't do an optional word, it defaults to RETURN")
	echoHelp("cb &lt;direction&gt;", "cmd")
	echoHelp("Cast blink in chosen direction")
	echoHelp("es", "cmd")
	echoHelp("Cast earthsense to see movement in area")
	echoHelp("wb", "cmd")
	echoHelp("Cast windbrace to sneak and escape")
	echoHelp("cr [&lt;selected_target&gt;]", "cmd")
	echoHelp("Cast reflection on self or selected target")
	nl()
sys("&lt;SteelBlue&gt;Crystalbinding")
	echoHelp("ot", "cmd")
	echoHelp("Use overtune to gain a temporary 40% resistance for 10 seconds that has a 120 second cooldown")
	nl()
end

function helpRuneguard()
cecho(f("\n&lt;SteelBlue&gt;List of Runeguard Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("sl", "cmd")
	echoHelp("Affliction route focused on bleeding while stacking cure denials")
	echoHelp("dmg", "cmd")
	echoHelp("Damage route focused on battleaxe momentum and health denial")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Cleave on current target")
	nl()
sys("&lt;SteelBlue&gt;Weaponmastery")
	echoHelp("bp &lt;direction&gt;", "cmd")
	echoHelp("bp &lt;target&gt; &lt;direction&gt;", "cmd")
	echoHelp("Barge current or selected target to designated direction")
  echoHelp("cl [&lt;selected_target&gt;]", "cmd")
	echoHelp("Channel cleave on current or selected target")
	echoHelp("sb&lt;bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr&gt; &lt;direction&gt;", "cmd")
	echoHelp("sb&lt;arrow_type&gt; &lt;target&gt; &lt;direction&gt;", "cmd")
	echoHelp("Shoot bow at current or selected target in designated direction")
	echoHelp("Arrow options are: aconite razor, cyanide wooden, aconite spiral, luminal spiral, broad, noctec barbed, net, formaldehyde barbed, aconite barbed, formaldehyde spiral, or formaldehyde razor")
  echoHelp("Example: &lt;green&gt;sbfr east")
	echoHelp("atd &lt;direction&gt;", "cmd")
	echoHelp("Aim in chosen direction at current target")
	nl()
sys("&lt;SteelBlue&gt;Runelore")
	echoHelp("ar, dr", "cmd")
	echoHelp("Activate and deactivate runes on self and armour")
	echoHelp("srg", "cmd")
	echoHelp("Sketches &lt;yellow&gt;Nairat &lt;snow&gt;and &lt;yellow&gt;Inguz &lt;snow&gt;on ground")
	nl()
sys("&lt;SteelBlue&gt;Chivalry")
	echoHelp("kr", "cmd")
	echoHelp("Recalls kestrel")
	nl()
end

function helpSummoner()
cecho(f("\n&lt;SteelBlue&gt;List of Summoner Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("aff", "cmd")
	echoHelp("Tarot affliction hinder route to enlightenment")
	echoHelp("tl", "cmd")
	echoHelp("Tarot affliciton true lock route to devil damage")
	echoHelp("dmg", "cmd")
	echoHelp("Tarot damage route using creator fever")
	echoHelp("enl", "cmd")
	echoHelp("Tarot group route focused solely on reaching enlightenment")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Marduk on current target")
  nl()
sys("&lt;SteelBlue&gt;Enslavery")
	echoHelp("ud [&lt;select_target&gt;]", "cmd")
	echoHelp("Fling current target with Danaeus. Optionally select target")
	echoHelp("dp[f|w|c|l|h] [&lt;select_target&gt;]", "cmd")
	echoHelp("Send doppleganger to attack current or select target")
	echoHelp("Moves are: flash, warpaura, cleanseaura, heave, and lust")
	echoHelp(f"Examples: &lt;green&gt;dpw {gmcp.Char.Status.name}&lt;snow&gt;, &lt;green&gt;dpf&lt;snow&gt;, &lt;green&gt;dpl")
	echoHelp("dt [&lt;target&gt;]", "cmd")
	echoHelp("Toggles auto-fling for crowd control. &lt;green&gt;dt &lt;snow&gt;toggles this off")
	echoHelp("sum[a|l|b|d|r|e|g|s]", "cmd")
	echoHelp("Change optional possession")
	echoHelp("Options are: arctar, lyncantha, buul, dameron, rixil, eerion, golgotha, and scrag")
	echoHelp("Example: &lt;green&gt;sumd")
  nl()
sys("&lt;SteelBlue&gt;Noctu")
	echoHelp("iac", "cmd")
	echoHelp("Invoke ashcloud")
	echoHelp("mw &lt;direction&gt;", "cmd")
	echoHelp("Melt icewall in specified direction")
  echoHelp("sch", "cmd")
  echoHelp("Invoke soulchain defense to inhibit runners")
  nl()
sys("&lt;SteelBlue&gt;Tarot")
	echoHelp("fl [&lt;select_target&gt;]", "cmd")
	echoHelp("Fling lust at current or select target")
	echoHelp("hl [&lt;select_target&gt;]", "cmd")
	echoHelp("Heal yourself with priestess or select target")
	echoHelp("hm [&lt;select_target&gt;]", "cmd")
	echoHelp("Heal yourself with magician or select target")
	echoHelp("ul &lt;area_name&gt;", "cmd")
	echoHelp("Checks to see if area is close to any Universe Tarot locations")
	echoHelp("fu[kh|i|nc|wc|a|am|c|h|ki|7|r|g|st|sh]", "cmd")
	echoHelp("Fling Universe")
	echoHelp("Options are: Khandava, Ithaqua, North Celidon, West Celidon, Areish, Antioch, Caanae, Heartlands, Kinsarmar, Sevenlakes, Reate, Graytrem, Stavenn, and Shaahri")
	echoHelp("Examples: &lt;green&gt;fuwc&lt;snow&gt;, &lt;green&gt;fu7")
	echoHelp("jt", "cmd")
	echoHelp("Toggle using justice tarot. Useful against knights")
	echoHelp("lh", "cmd")
	echoHelp("Levitate double hangedman tarot")
	echoHelp("fls [&lt;select_target&gt;]", "cmd")
	echoHelp("Fling star tarot at current or selected target")
	echoHelp("fle [&lt;select_target&gt;]", "cmd")
	echoHelp("Summon current or selected target with the empress tarot, given you have them lusted")
	echoHelp("rd [&lt;select_target&gt;]", "cmd")
	echoHelp("Rub death tarot on current or selected target")
	echoHelp("fd [&lt;select_target&gt;]", "cmd")
	echoHelp("When death is rubbed at least 7 times, fling death at current or selected target")
	echoHelp("ahc, fhc", "cmd")
	echoHelp("Set hermit card with &lt;green&gt;ahc &lt;snow&gt;and travel with hermit using &lt;green&gt;fhc")
	echoHelp("ls", "cmd")
	echoHelp("Levitate double sun tarot")
	echoHelp("fwl [&lt;select_target&gt;]", "cmd")
	echoHelp("Fling wheel to knock out current or selected target from room")
	echoHelp("jc", "cmd")
	echoHelp("Force MS to cure Justice")
	echoHelp("pc", "cmd")
	echoHelp("Force MS to cure Pacifism")
	nl()
end

function helpDiabolist()
cecho(f("\n&lt;SteelBlue&gt;List of Diabolist Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
  echoHelp("def", "cmd")
  echoHelp("Sets wraiths and combat variables accordingly. &lt;yellow&gt;!!Important!!")
	echoHelp("aff", "cmd")
	echoHelp("Affliction trace route, focused on &lt;yellow&gt;maladies &lt;snow&gt;stacking while &lt;yellow&gt;moon &lt;snow&gt;builds")
	echoHelp("dmg", "cmd")
	echoHelp("Damage trace route focused with &lt;yellow&gt;repetition&lt;snow&gt;, &lt;yellow&gt;lightning &lt;snow&gt;and &lt;yellow&gt;ice &lt;snow&gt;while &lt;snow&gt;moon &lt;yellow&gt;builds")
	echoHelp("gat", "cmd")
	echoHelp("Group route focused on crowd control and damage building while upkeeping &lt;yellow&gt;sun")
	echoHelp("pp", "cmd")
	echoHelp("Toggle perma-prone &lt;yellow&gt;bone/balance &lt;snow&gt;combo while using affliciton route while &lt;yellow&gt;moon &lt;snow&gt;builds")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Catharsis on current target")
	nl()
sys("&lt;SteelBlue&gt;Malignosis")
	echoHelp("dbl", "cmd")
	echoHelp("Demon blast everyone out of the room")
	echoHelp("dba", "cmd")
	echoHelp("Demon beckon everyone adjacent to room")
	echoHelp("db &lt;target&gt;", "cmd")
	echoHelp("Demon beckon select target into room")
  echoHelp("dr", "cmd")
  echoHelp("Travel to the Inferno with demon refuge")
	echoHelp("dsap [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon sap mana of current or selected target")
	echoHelp("dpr", "cmd")
	echoHelp("Use demon precences to check people in area")
	echoHelp("dst [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon stain current or selected target to reduce their stats")
	echoHelp("dsr [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon sear current or selected target to catch them on fire")
	echoHelp("catht", "cmd")
	echoHelp("Toggle using &lt;yellow&gt;Catharsis &lt;snow&gt;during routes")
	echoHelp("dht, dmt", "cmd")
	echoHelp("Demon health tap or demon mana tap to heal")
	echoHelp("dn", "cmd")
	echoHelp("Use demon negation to strip and stop shields for 10 seconds")
	echoHelp("cath [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon catharsis current or selected target")
	echoHelp("dob [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon observe current or selected target to see their location")
	echoHelp("dsi &lt;direction&gt;", "cmd")
	echoHelp("Demon sear icewall in chosen direction")
	echoHelp("dtr [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon trace current or selected target to continually track target")
	echoHelp("ctt, gtt", "cmd")
	echoHelp("&lt;yellow&gt;ctt &lt;snow&gt;calls out target's location, and &lt;yellow&gt;gtt &lt;snow&gt;makes you run to your target's current location")
	echoHelp("dd [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon disrupt current or selected target to interrupt their equilibrium")
	echoHelp("dsp [&lt;select_target&gt;]", "cmd")
	echoHelp("Demon strip current or selected target of defences")
  nl()
sys("&lt;SteelBlue&gt;Ritualism")
	echoHelp("tw", "cmd")
	echoHelp("Create a wall symbol to trap everyone in the room")
	echoHelp("tv", "cmd")
	echoHelp("Trace for the vitality defence")
	echoHelp("tww [&lt;select_target&gt;]", "cmd")
	echoHelp("Channel the whirlwind symbol on current or selected target")
	echoHelp("tb&lt;c|m|b|f|i|p|a|e|s&gt;", "cmd")
	echoHelp("Bark symbol. Cutting, Magickal, Fire, Cold, Poison, Asphyxiation, Electricity, Psychic, and Blunt can be chosen")
	echoHelp("td", "cmd")
	echoHelp("Creates darkness in the room")
	echoHelp("twk", "cmd")
	echoHelp("Creates the weakness symbol in the room, reducing resistance for everyone")
	echoHelp("teg", "cmd")
	echoHelp("Creates the eye symbol to track movement in room")
	echoHelp("hl [&lt;ally&gt;]", "cmd")
	echoHelp("Heal health for self or selected ally")
	nl()
sys("&lt;SteelBlue&gt;Nightfall")
	echoHelp("wea", "cmd")
	echoHelp("Enable all wraiths")
	echoHelp("stw [&lt;select_target&gt;]", "cmd")
	echoHelp("Shadowtwist current or selected target if ethereal has 5 charges")
	echoHelp("sg [&lt;select_target&gt;]", "cmd")
	echoHelp("Shadowgate to current or selected target if you have 3 or more charges on ethereal")
	nl()
end

function helpDeathknight()
cecho(f("\n&lt;SteelBlue&gt;List of Deathknight Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("sl", "cmd")
	echoHelp("Main affliction route focused on bleeding with longswords")
	echoHelp("dmg", "cmd")
	echoHelp("Momentum based route using battleaxes with lionstance")
	echoHelp("saw", "cmd")
	echoHelp("Sharpen weapons in the &lt;yellow&gt;ms.weapons &lt;snow&gt;list within the &lt;green&gt;saw &lt;snow&gt;alias")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Cleave on current target")
  nl()
sys("&lt;SteelBlue&gt;Weaponmastery")
	echoHelp("bp &lt;direction&gt;", "cmd")
	echoHelp("bp &lt;target&gt; &lt;direction&gt;", "cmd")
	echoHelp("Barge current or selected target to designated direction")
	echoHelp("sb&lt;bs|ar|cw|as|ls|b|nb|n|fb|ab|fs|fr&gt; &lt;direction&gt;", "cmd")
	echoHelp("sb&lt;arrow_type&gt; &lt;target&gt; &lt;direction&gt;", "cmd")
	echoHelp("Shoot bow at current or selected target in designated direction")
	echoHelp("Arrow options are: aconite razor, cyanide wooden, aconite spiral, luminal spiral, broad, noctec barbed, net, formaldehyde barbed, aconite barbed, formaldehyde spiral, or formaldehyde razor")
  echoHelp("Example: &lt;green&gt;sbfr east")
	echoHelp("atd &lt;direction&gt;", "cmd")
	echoHelp("Aim in chosen direction at current target")
  nl()
sys("&lt;SteelBlue&gt;Brutality")
	echoHelp("cl [&lt;selected_target&gt;]", "cmd")
	echoHelp("Channel cleave on current or selected target")
	echoHelp("bl &lt;direction&gt;", "cmd")
	echoHelp("Block chosen exit")
	echoHelp("su [&lt;selected_target&gt;]", "cmd")
	echoHelp("Sunder current or selected target in adjacent room")
	echoHelp("df &lt;ally&gt;", "cmd")
	echoHelp("Defend chosen ally")
  nl()
sys("&lt;SteelBlue&gt;Necromancy")
	echoHelp("bw", "cmd")
	echoHelp("Blackwind form to escape or sneak into areas")
	echoHelp("ess", "cmd")
	echoHelp("Draw heart from body, get body, and then evoke a soulspear")
	echoHelp("tss &lt;direction&gt;", "cmd")
	echoHelp("tss &lt;target&gt; &lt;direction&gt;", "cmd")
	echoHelp("Throw soulspear at current or selected target's direction")
	echoHelp("vv [&lt;selected_target&gt;]", "cmd")
	echoHelp("Vivisect current or selected target")
	echoHelp("ani &lt;target&gt;", "cmd")
	echoHelp("Animate body or corpse")
	echoHelp("fp", "cmd")
	echoHelp("Once you have done &lt;yellow&gt;possess \&lt;mob_name\&gt; &lt;snow&gt;on a mob, you can &lt;green&gt;fp &lt;snow&gt;to distant travel to them")
	echoHelp("ss &lt;name&gt;", "cmd")
	echoHelp("Soulsense to find name in area")
	nl()
end

function helpDefiler()
cecho(f("\n&lt;SteelBlue&gt;List of Defiler Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
  echoHelp("aff", "cmd")
  echoHelp("Focused on bleeding, stacking seeds, and exploding damage")
  echoHelp("dmg", "cmd")
  echoHelp("Healing denial with bellow focused bursts")
  echoHelp("gdmg", "cmd")
  echoHelp("Group damage focused around heal denial and bellow bursts towards implant")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Behead on current target")
  nl()
sys("&lt;SteelBlue&gt;Torment")
	echoHelp("bl &lt;exit&gt;", "cmd")
	echoHelp("Block designated exit")
	echoHelp("tnf", "cmd")
	echoHelp("Torment your flail with transmutation, corrosion, and thornsprout")
	nl()
sys("&lt;SteelBlue&gt;Shadowbinding")
	echoHelp("shz", "cmd")
	echoHelp("After you have set your three shadowveils in Aetherius, use this to siphon haze into your shadowring, shadowtorc, and shadowcrown")
	echoHelp("pj &lt;direction&gt;", "cmd")
	echoHelp("Project yourself into desired direction, bypassing obstacles such as walls")
	echoHelp("bm", "cmd")
	echoHelp("To stop target's movement, casts &lt;yellow&gt;blackvines &lt;snow&gt;and &lt;yellow&gt;mistbind")
	nl()
sys("&lt;SteelBlue&gt;Descecration")
	echoHelp("bv", "cmd")
	echoHelp("Spatter blackvines to inhibit target's movement")
	echoHelp("hb &lt;toxin&gt;", "cmd")
	echoHelp("Heartblood toxin to greatly increase chance of shrugging chosen toxin")
	echoHelp("lbe", "cmd")
	echoHelp("Fill an empty vial with blood for later skill use")
	nl()
end

function helpPriest()
cecho(f("\n&lt;SteelBlue&gt;List of Priest Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
  echoHelp("aff", "cmd")
  echoHelp("Focused on afflictions and draining mana towards absolve")
  echoHelp("dmg", "cmd")
  echoHelp("Damage and drain at the same time")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Judgement on current target")
nl()
sys("&lt;SteelBlue&gt;Fayth")
  echoHelp("sso", "cmd")
  echoHelp("Stop Seraph from using sear or spiritwrack")
	echoHelp("srsu", "cmd")
	echoHelp("Summon your Seraph")
	echoHelp("srt", "cmd")
	echoHelp("Assess what powers Seraph has active")
	echoHelp("srsh", "cmd")
	echoHelp("Cast light from Seraph")
	echoHelp("srsr [&lt;direction&gt;]", "cmd")
	echoHelp("Define a direction to sear a wall or use &lt;green&gt;srsr &lt;snow&gt;on its own to sear your target")
	echoHelp("ssm", "cmd")
	echoHelp("Summon a spirital mace")
	echoHelp("csm", "cmd")
	echoHelp("Call mace back to you")
	echoHelp("sra [&lt;ally&gt;]", "cmd")
	echoHelp("Summon a shield around yourself or optionally an ally")
	echoHelp("srp [&lt;selected_target&gt;]", "cmd")
	echoHelp("Cause panic (fear) in selected or current target")
	echoHelp("ms(rl|ra|ll|la) [&lt;selected_target&gt;]", "cmd")
	echoHelp("Mace smash the limb of main or optional target. Ex: &lt;green&gt;msra "..gmcp.Char.Status.name)
	echoHelp("srr", "cmd")
	echoHelp("Rest your seraph and their active powers")
	echoHelp("hh", "cmd")
	echoHelp("Hunt herectics and boost damage with smite")
	echoHelp("srrb [&lt;selected_target&gt;]", "cmd")
	echoHelp("Seraph raze rebounding on current or optional target")
	echoHelp("srse [&lt;selected_target&gt;]", "cmd")
	echoHelp("Seraph seek current or optional target")
	echoHelp("srmr[o]", "cmd")
	echoHelp("Command your Seraph to mindread. Toggle off with adding the 'o'.")
	echoHelp("srb [&lt;selected_target&gt;]", "cmd")
	echoHelp("Seraph beckon current or optional target")
	echoHelp("srst [&lt;selected_target&gt;]", "cmd")
	echoHelp("Strip defences of current or optional target")
	echoHelp("srrip", "cmd")
	echoHelp("Seraph ripples to check which demonic entities are in the realms")
	echoHelp("srward", "cmd")
	echoHelp("Create a seraph ward")
	echoHelp("srpr", "cmd")
	echoHelp("Check area for people with Seraph presences")
	echoHelp("ssap [&lt;selected_target]", "cmd")
	echoHelp("Seraph sap mana from current or optional target")
	echoHelp("src [&lt;ally&gt;]", "cmd")
	echoHelp("Cure an affliction with your Seraph on yourself or an ally")
	echoHelp("srsw [&lt;selected_target]", "cmd")
	echoHelp("Seraph spiritwrack current or optional target with afflictions")
	echoHelp("ref", "cmd")
	echoHelp("Escape with Seraph refuge")
	echoHelp("sre", "cmd")
	echoHelp("Heal yourself with Seraph empathy")
	echoHelp("abs [&lt;selected_target&gt;]", "cmd")
	echoHelp("Seraph absolve current or optional target if mana is at half or lower")
  echoHelp("str [&lt;selected_target&gt;]", "cmd")
  echoHelp("Seraph trace to see where your current or optional target is going")
  echoHelp("ctt, gtt", "cmd")
	echoHelp("&lt;yellow&gt;ctt &lt;snow&gt;calls out target's location, and &lt;yellow&gt;gtt &lt;snow&gt;makes you run to your target's current location")
nl()
sys("&lt;SteelBlue&gt;Devotion")
	echoHelp("de", "cmd")
	echoHelp("Check your current devotion")
	echoHelp("phs [&lt;ally&gt;]", "cmd")
	echoHelp("Heal self or ally with perform hands")
	echoHelp("pw &lt;direction&gt;", "cmd")
	echoHelp("Part waters in a selected direction")
	echoHelp("pil [&lt;selected_target&gt;]", "cmd")
	echoHelp("If you performed the rite, you can pilgrimage to current or optional target")
	echoHelp("plr", "cmd")
	echoHelp("Perform lastrites to regain devotion")
	echoHelp("imb", "cmd")
	echoHelp("Destroy runes on ground")
	echoHelp("pdc &lt;demon&gt;", "cmd")
	echoHelp("Calm a demon")
	echoHelp("pcp [&lt;selected_target&gt;]", "cmd")
	echoHelp("If setup, summon current or optional target within convocation that are unmassed")
	echoHelp("ban &lt;demon&gt;", "cmd")
	echoHelp("Banish demon")
	echoHelp("r &lt;name_of_rite&gt;", "cmd")
	echoHelp("Create a rite. List of rites are: truth, sustenance, piety, pilgrimage, warding, renewal, condemnation, allsight, well-being, convocation, revitalization, seance, cleansing, convergence, prayer, and healing. Note, partial names will work")
	echoHelp("cr &lt;name_of_rite&gt;", "cmd")
	echoHelp("Consume a rite. Same list as above, including &lt;green&gt;cr all&lt;snow&gt; to consume all rites")
	echoHelp("pres &lt;ally&gt;", "cmd")
	echoHelp("Resurrect an ally")
	echoHelp("damn|abs &lt;target&gt;", "cmd")
	echoHelp("Perform damnation on a target, or absolve them of their sins")
	echoHelp("red", "cmd")
	echoHelp("Get a chance at a second life, and perform redemption")
nl()
sys("&lt;SteelBlue&gt;Kanai")
	echoHelp("ka", "cmd")
	echoHelp("Check your current fanatism amount")
	echoHelp("kk", "cmd")
	echoHelp("Knockdown Kanai target to ground")
	echoHelp("pfp", "cmd")
	echoHelp("Increase health by praying for perseverance")
	echoHelp("kp", "cmd")
	echoHelp("Transfer an affliction to Kanai target")
	echoHelp("pfs", "cmd")
	echoHelp("Negate fear with stability")
	echoHelp("pfr", "cmd")
	echoHelp("Heal yourself and everyone in room with a prayer")
	echoHelp("pre", "cmd")
	echoHelp("Increase int and str with prayer")
  echoHelp("cbi", "cmd")
  echoHelp("Clear burning incense array in skills window")
nl()
end

function helpHunter()
cecho(f("\n&lt;SteelBlue&gt;List of Hunter Functions:\n"))
sys("&lt;SteelBlue&gt;Combat Functions")
	echoHelp("aff", "cmd")
	echoHelp("Affliction route dual focused on rupture and brainmelt")
	echoHelp("tl", "cmd")
	echoHelp("Focused more on brainmelt route")
	echoHelp("dmg", "cmd")
	echoHelp("Damage route focused around claw damage and triggering lash")
  echoHelp("F4 Key", "cmd")
  echoHelp("Channel Behead on current target")
  nl()
sys("&lt;SteelBlue&gt;Shapeshifting")
	echoHelp("bl &lt;exit&gt;", "cmd")
	echoHelp("Block chosen exit")
	echoHelp("bb", "cmd")
	echoHelp("Toggle using deadaim and toxicaura\/moonaura")
	echoHelp("ib [&lt;selected_target&gt;]", "cmd")
	echoHelp("Iceblast current or selected target")
	echoHelp("fb [&lt;selected_target&gt;]", "cmd")
	echoHelp("Fireblast current or selected target")
	echoHelp("wg [&lt;glare_target&gt;]", "cmd")
	echoHelp("&lt;green&gt;wg &lt;snow&gt;does &lt;yellow&gt;gust&lt;snow&gt;, while &lt;green&gt;wg &lt;target&gt; &lt;snow&gt;does &lt;yellow&gt;glare")
  nl()
sys("&lt;SteelBlue&gt;Supremacy")
	echoHelp("blt [&lt;selected_target&gt;]", "cmd")
	echoHelp("Lure current or selected target")
	echoHelp("bp", "cmd")
	echoHelp("Next combat command will probe target and check their afflictions")
	echoHelp("bc [&lt;selected_target&gt;]", "cmd")
	echoHelp("Clear current or selected target of triggers")
  nl()
sys("&lt;SteelBlue&gt;Terrestrialism")
	echoHelp("pt [&lt;selected_target&gt;]", "cmd")
	echoHelp("Pursue current or selected target")
	echoHelp("ctt, gtt", "cmd")
	echoHelp("Call out current pursue target location to ring, clan, or arena chat with &lt;green&gt;ctt")
	echoHelp("&lt;green&gt;gtt &lt;snow&gt;runs to purue target location")
	echoHelp("pn", "cmd")
	echoHelp("Clears pursue target")
	echoHelp("gg [&lt;selected_target&gt;]", "cmd")
	echoHelp("Depending if you're outside and in a nature-type room, grove gate to current or selected target")
	echoHelp("lt [&lt;selected_target&gt;]", "cmd")
	echoHelp("Locate current or selected target")
	nl()
end


function helpToggles()
cecho(f("\n&lt;SteelBlue&gt;List of Primary Toggles:\n"))
  echoHelp("ut", "cmd")
  echoHelp("Switch to new target name anytime it is called on channel")
  echoHelp("ct", "cmd")
  echoHelp("Call out target to Ring, Clan, or Arena team")
  echoHelp("bash", "cmd")
  echoHelp("Toggle PvE hunting mode")
  echoHelp("prism", "cmd")
  echoHelp("Toggle movement when seeing an incoming prism tattoo")
  echoHelp("sharding", "cmd")
  echoHelp("Actively watch and run to falling shards. Make sure to set &lt;green&gt;home &lt;snow&gt;location beforehand")
  echoHelp("To set your &lt;yellow&gt;home&lt;snow&gt;, go to any room and type &lt;green&gt;room mark home&lt;snow&gt;. Make sure to &lt;green&gt;map save&lt;snow&gt; afterwards.")
  echoHelp("shardfall", "cmd")
  echoHelp("If &lt;yellow&gt;shardwatch &lt;snow&gt;is applied, will actively &lt;yellow&gt;path find &lt;snow&gt;to shards in area and harvest")
  echoHelp("parry", "cmd")
  echoHelp("Actively attempt to parry attacks")
  echoHelp("ring", "cmd")
  echoHelp("Communicate combat information to current ring")
  echoHelp("clan", "cmd")
  echoHelp("Communicate combat information to pre-selected combat clan")
  echoHelp("at", "cmd")
  echoHelp("Communicate combat information to arena team")
  echoHelp("res", "cmd")
  echoHelp("Automatically resurrect allies if able")
  nl()
end

function helpAllies()
cecho(f("\n&lt;SteelBlue&gt;How to modify Allies List:\n"))
  echoHelp("msa &lt;ally_name&gt;", "cmd")
  echoHelp(f"Add ally to Allies List. Example: &lt;green&gt;msa {gmcp.Char.Status.name}")
  echoHelp("mss", "cmd")
  echoHelp("Saves Allies List")
  echoHelp("msr &lt;ally_name&gt;", "cmd")
  echoHelp("Remove name from Allies List")
  echoHelp("mse", "cmd")
  echoHelp("Empty Allies List")
  echoHelp("msr", "cmd")
  echoHelp("Resets Allies List to save")
  echoHelp("msc", "cmd")
  echoHelp("Checks who is on your Allies List")
  nl()
end

-- function subFunction()
-- cecho(f("\n&lt;SteelBlue&gt;List of CLASS Functions:\n"))
-- sys("&lt;SteelBlue&gt;Combat Functions")
-- nl()
-- sys("&lt;SteelBlue&gt;SKILL")
-- nl()
-- sys("&lt;SteelBlue&gt;SKILL")
-- nl()
-- sys("&lt;SteelBlue&gt;SKILL")
-- nl()
-- end</script>
					<eventHandlerList />
				</Script>
				<Script isActive="yes" isFolder="no">
					<name>Save Table</name>
					<packageName></packageName>
					<script>function msSaveDefault()
  ms.defaultSave = {
    ingot_type = "stehl",
    crystehl = true,
    rubcard = false,
    sth = 35,
    hunter_form = "weaver",
    mapper = {},
    wormholes = {},
    ta = false,
    passage = "caanae",
    kipup = "stand",
    ignore = {},
    contract = "",
    pack = "pack",
    pet = "pet",
    parry = false,
    mount = "horse",
    clan = false,
    clan_abbr = '',
    ring = false,
    arena = false,
    --
    mwbb = 75,
    mwbl = 480,
    mww = 120,
    sketchbooks = {
      hunter = "sketchbook.1",
      runeguard = "sketchbook.2",
      renegade = "sketchbook.3",
    },
    fontSize = 7,
    windows = {
      toggles = 1,
      map = 0,
      hbar = 1,
      mbar = 1,
      scOne = 1,
      scTwo = 1,
      scThree = 1,
      scFour = 2,
      affOne = 0,
      affTwo = 0,
      affThree = 0,
      roomInfo = 1,
      charStats = 1,
      roomItems = 1,
      chat = 3,
    },
    harp = "harp",
    drum = "drum",
    flute = "flute",
    mandolin = "mandolin",
    panpipes = "panpipes",
    firstTime = true,
    separator = "::",
    quickdraw = true,
    defMe = true,
    dmg = false,
    group = false,
    solo = true,
    quarterstaff = "quarterstaff",
    longsword = "longsword",
    broadsword = "broadsword",
    shortsword = "shortsword",
    scimitar = "scimitar",
    claymore = "claymore",
    sabre = "sabre",
    battleaxe = "battleaxe",
    handaxe = "handaxe",
    club = "club",
    dagger = "dagger",
    dirk = "dirk",
    flail = "flail",
    mace = "mace",
    javelin = "javelin",
    glaive = "glaive",
    halberd = "halberd",
    ["morning star"] = "morningstar",
    spear = "spear",
    warhammer = "warhammer",
    trident = "trident",
    whip = "whip",
    bardiche = "bardiche",
    daegger = "daegger",
    shield = "shield",
    artifacts = {},
    mobs = {
      "a pack of wild dogs",
      "a frost behemoth",
      "a gigantic mutated scorpion",
      "a mammoth",
      "a stone giant",
      "a troll soldier",
      "a repugnant imp",
      "a twisted equine creature",
      "a horned beast",
      "a chimeric avian",
      "a dire bear-like creature",
      "a carapaced mutant",
      "a monstrous plant",
      "a female rakrtai",
      "a male rakrtai",
      "a fierce prowling anvore",
      "an agitated kochlan",
      "a fell beast",
      "an incorporeal shadow",
      "a green meadowhawk",
      "a red and black centipede",
      "a giant black fire ant",
      "a brown spider",
      "a timber rattlesnake",
      "a bright red frog",
      "a sidewinder",
      "a crystalline salamander with shard-eyes",
      "a luminous beast",
      "a shard-pierced tarantula",
      "a flame-tailed rabbit",
      "a necrotic onyx-encrusted snake",
      "a crystalline warrior",
      "a troll soldier",
      "a frost behemoth",
      "a stone giant",
      "a mammoth",
      "a gigantic mutated scorpion",
      "a rabid Lycaean slave",
      "a Kaark'Zamhath Cultist",
      "a massive skeletal bat",
      "a mesmerized zombie lumberjack",
      "a disgruntled enchanted zombie",
      "a decomposing bat",
      "a killer snowman",
      "a gargantuan frost giant",
      "an undead stag wreathed in silver bells",
      "an irate dryad covered with gaudy decorations",
      "a massive terrifying snowman",
      "a silent ghoul",
      "a wild pig",
      "a flying fox",
      "a deformed crawler",
      "a carrion creeper",
      "a hulking, armoured orc",
      "a hulking ogre soldier",
      "a bulky, snarling orc",
      "a daunting ogre guard",
      "an ogre warmage",
      "a massive orc soldier",
      "an orcish footsoldier",
      "a giant snarling frost ogre",
      "an ominous orc warrior",
      "a troll warrior",
      "an ogre trooper",
      "an elite orc trooper",
      "an orc soldier",
    },
    deflist = {
      general = {
        alertness = {queue = "alertness", state = true,},
		    arrowcatching = {queue = "arrowcatch on", state = false,},
		    bandages = {queue = "apply bandages", state = true,},
        ["boar tattoo"] = {queue = "touch boar", state = true,},
        celerity = {queue = "celerity", state = true,},
        clarity = {queue = "clarity", state = true,},
        cloak = {queue = "touch cloak tattoo", state = true,},
        -- curseward = {action = nil, state = false,},
        deathsight = {queue = "deathsight", state = true,},
        ["enhanced learning"] = {action = "eat myrrh", state = true,},
        grounding = {queue = "grounding", state = true,},
        hood = {queue = "touch hood", state = true,},
        hypersight = {queue = "hypersight", state = true,},
        -- levitating = {action = nil, state = false,},
        lifevision = {action = "lifevision", state = false,},
        mindseye = {queue = "touch mindseye", state = true,},
        ["moon tattoo"] = {queue = "touch moon", state = true,},
        ["moss tattoo"] = {queue = "touch moss", state = true,},
        nightsight = {queue = "nightsight", state = true,},
        skywatch = {action = "skywatch", state = true,},
        sprinting = {action = "start sprinting", state = true,},
        -- speed = {action = "", state = true,},
        -- temperance = {action = "", state = true,},
        tenemecy = {queue = "tenemecy", state = true,},
        ["third eye"] = {queue = "thirdeye", state = true,},
        torch = {queue = "touch torch", state = false,},
        -- venom = {action = "", state = true,},
        warning = {queue = "warning", state = false,},
      },
       assassin = {
        ["demon protect"] = {queue = function() expandAlias("wsl") end, state = true,},
        ghost = {queue = "conjure ghost", state = true,},
        harden = {queue = "harden", state = true,},
        hide = {queue = "hide", state = true,},
        lipreading = {queue = "lipread", state = true,},
        pacing = {queue = "pacing on", state = true,},
        -- ["phantom watch"] = {queue = "", state = false,},
        shroud = {queue = "conjure cloak", state = true,},
        shrugging = {action = "shrug mercury", state = true,},
        weaving = {queue = "weaving on", state = true,},
      },
      bard = {
        befuddle = {queue = "befuddle on", state = true,},
        contortionism = {queue = "contortionism", state = true,},
        shroud = {action = "sketchlink cloak", state = true,},
      },
      berserker = {
        gripping = {action = "grip", state = true,},
        ["shield absorb"] = {queue = "shield absorb", state = true,},
        slippery = {queue = "flexibility", state = true,},
        balancing = {queue = "balancing on", state = true,},
        curseward = {action = "shield ward", state = true,},
        ["berserker rage"] = {queue = "warchant rage", state = false,},
        ["warchant toughen"] = {queue = "warchant toughen", state = false,},
        ["warchant rejuvenate"] = {queue = "warchant rejuvenate", state = false,},
        ["warchant regenerate"] = {queue = "warchant regenerate", state = false,},
        ["warchant empower"] = {queue = "warchant empower", state = false,},
        ["warchant warsong"] = {queue = "warchant warsong", state = false,},
        ["warchant invigorate"] = {queue = "warchant invigorate", state = false,},
        ["warchant echoing"] = {queue = "warchant echoing", state = false,},
      },
      deathknight = {
        bloodscent = {action = "hound bloodscent", state = true,},
        deathaura = {queue = "deathaura", state = true,},
        fitness = {queue = "fitness", state = true,},
        gripping = {action = "grip", state = true,},
        necrosis = {queue = "necrosis", state = true,},
        leprosy = {queue = "leprosy", state = true,},
        putrefaction = {queue = "putrefaction", state = true,},
        resistance = {action = "resistance", state = true,},
        shroud = {action = "shroud", state = true,},
        soulmask = {queue = "soulmask", state = true,},
        -- vengeance = {queue = "", state = true,},
        weathering = {action = "weathering", state = true,},
      },
      defiler = {
        gripping = {action = "grip", state = true,},
        blooddrinker = {queue = "blooddrinker", state = true,},
        confutation = {queue = "shadowbind me with confutation", state = true,},
        regrowth = {queue = "shadowbind me with regrowth", state = true,},
        recuperation = {queue = "shadowbind me with recuperation", state = true,},
        waterwalking = {queue = "shadowbind me with waterwalking", state = true,},
        shroud = {queue = "shadowbind me with shroud", state = true,},
        fleetness = {queue = "shadowbind me with fleetness", state = true,},
        ["bileshroud shrug"] = {queue = function() send("bileshroud off");send("bileshroud on") end, state = true,},
      },
      diabolist = {
        ["demon armour"] = {queue = "demon armor", state = true,},
        ["demon regeneration"] = {queue = "demon regeneration", state = true,},
        lifevision = {queue = "trace dens-sanve me", state = true,},
        necrosis = {queue = "demon necrosis", state = true,},
        nightfall = {queue = "nightfall", state = true,},
        ["ritualism anae-antarea"] = {queue = "trace vitality me", state = true,},
        shroud = {action = "shroud", state = true,},
        soulmask = {queue = "demon soulmask", state = true,},
      },
      druid = {
        ["naturebinding regen"] = {queue = "naturebind regenerate", state = true,},
        weathering = {action = "weathering", state = true,},
        fitness = {queue = "fitness", state = true,},
        camouflage = {action = "apply camouflage", state = true,},
        vitality = {queue = "vitality", state = true,},
        lifesense = {queue = "lifesense on", state = true,},
        resistance = {action = "resistance", state = true,},
        barkskin = {queue = "evoke barkskin", state = true,},
        density = {queue = "evoke density", state = true,},
        levitating = {queue = "evoke levitate", state = true,},
        ["nature protection"] = {queue = "evoke protection", state = true,},
        ["nature screen"] = {queue = "naturebind screen me", state = true,},
        bandages = {queue = "apply bandages", state = true,},
      },
      mage = {
        shimmer = {queue = "cast shimmer", state = true,},
        stoneskin = {queue = "cast stoneskin", state = true,},
        windveil = {queue = "cast windveil", state = true,},
        waterbreathing = {queue = "cast waterbreathing", state = true,},
        waterwalking = {queue = "cast waterwalking", state = true,},
        ["crystal charging"] = {queue = "charge crystal auto", state = true,},
      },
      outrider = {
        nightsight = {action = "nightsight", state = true,},
        weathering = {action = "weathering", state = true,},
        fitness = {queue = "fitness", state = true,},
        barkskin = {queue = "barkskin", state = true,},
        deadaim = {queue = "deadaim on", state = false,},
        ["secured weapons"] = {action = "secure wielded", state = true,},
        bandages = {queue = "apply bandages", state = true,},
        vitality = {queue = "vitality", state = true,},
        lifesense = {queue = "lifesense on", state = true,},
        camouflage = {action = "apply camouflage", state = true,},
        ["concealed weapons"] = {action = "conceal weapons", state = true,},
        ["cover tracks"] = {queue = "cover", state = true,},
      },
      priest = {
        ["hunting heretics"] = {queue = "hunt heresy", state = false,},
        clarity = {queue = "perform rite of bracing", state = true,},
        inspiration = {queue = "perform inspiration", state = true,},
        resistance = {queue = "perform bliss", state = true,},
        frostshield = {queue = "bless me frostshield", state = true,},
        earthshield = {queue = "bless me earthshield", state = true,},
        thermalshield = {queue = "bless me thermalshield", state = true,},
        ["celerity blessing"] = {queue = "bless me celerity", state = true,},
      },
      renegade = {
        ["spectre protect"] = {queue = function() expandAlias("wss") end, state = true,},
        ghost = {queue = "conjure ghost", state = true,},
        harden = {queue = "harden", state = true,},
        hide = {queue = "hide", state = true,},
        lipreading = {queue = "lipread", state = true,},
        pacing = {queue = "pacing on", state = true,},
        -- ["phantom watch"] = {queue = "", state = false,},
        shroud = {queue = "conjure cloak", state = true,},
        shrugging = {action = "shrug mercury", state = true,},
        weaving = {queue = "weaving on", state = true,},
      },
      runeguard = {
        weathering = {action = "weathering", state = true,},
        fitness = {queue = "fitness", state = true,},
        resistance = {action = "resistance", state = true,},
        gripping = {action = "grip", state = true,},
        
      },
      summoner = {
        lifevision = {queue = "invoke astralvision", state = true,},
        warmth = {queue = "invoke warmth", state = true,},
        distortion = {queue = "invoke distortion", state = true,},
        ["possessed by arctar"] = {queue = "summon arctar", state = false,},
        ["possessed by belial"] = {queue = "summon belial", state = false,},
        ["possessed by buul"] = {queue = "summon buul", state = false,},
        ["possessed by cadmus"] = {queue = "summon cadmus", state = true,},
        ["possessed by dameron"] = {queue = "summon dameron", state = false,},
        ["possessed by danaeus"] = {queue = "summon danaeus", state = false,},
        ["possessed by eerion"] = {queue = "summon eerion", state = false,},
        ["possessed by golgotha"] = {queue = "summon golgotha", state = false,},
        ["possessed by hecate"] = {queue = "summon hecate", state = true,},
        ["possessed by lyncantha"] = {queue = "summon lyncantha", state = false,},
        ["possessed by marduk"] = {queue = "summon marduk", state = true,},
        ["possessed by nin'kharsag"] = {queue = "summon nin'kharsag", state = false,},
        ["possessed by palpatar"] = {queue = "summon palpatar", state = true,},
        ["possessed by pyradius"] = {queue = "summon pyradius", state = true,},
        ["possessed by rixil"] = {queue = "summon rixil", state = false,},
        ["possessed by scrag"] = {queue = "summon scrag", state = false,},
        ["possessed by skyrax"] = {queue =  "summon skyrax", state = false,},
      },
      hunter = {
        bandages = {queue = "apply bandages", state = true,},
        deadaim = {queue = "deadaim on", state = false,},
        discernment = {queue = "bat discern", state = true,},
        camouflage = {action = "apply camouflage", state = true,},
        fitness = {queue = "fitness", state = true,},
        lifesense = {queue = "lifesense on", state = true,},
        resistance = {action = "resistance", state = true,},
        ["shapeshifting moonaura"] = {queue = function() send(ms.save["hunter_form"].." aura moon") end, state = true,},
        ["shapeshifting toxicaura"] = {queue = function() send(ms.save["hunter_form"].." aura toxic") end, state = false,},
        vitality = {queue = "vitality", state = true,},
        weathering = {action = "weathering", state = true,},
        ["wyvern scales"] = {queue = function() send("queue eqbal "..ms.save["hunter_form"].." transform");send("queue eqbal "..ms.save["hunter_form"].." scales") end, state = true,},
      },
      shaman = {
        ["lightning runestone"] = {queue = "runestone flare lightning", state = true,},
        nightsight = {action = "nightsight", state = true,},
        ["dust cover"] = {queue = "dustthrow cover with gold", state = true,},
      },
    }
  }
end

if io.exists(getMudletHomeDir().."/mssave.lua") then
  ms.save = {}
  table.load(getMudletHomeDir().."/mssave.lua", ms.save)
  msSaveDefault()
  ms.update = ms.save
  ms.save = table.update(ms.defaultSave, ms.update)
else
  ms.save = {}
  msSaveDefault()
  ms.save = ms.defaultSave
  enableTimer("first time setup")
  send("config separator ::", false)
  table.save(getMudletHomeDir().."/mssave.lua", ms.save)
  fecho("MS Setup", "Welcome to Math's Combat System!!", "\(MS\)")
  sys("&lt;green&gt;MS Setup") cecho("&lt;snow&gt;Please type &lt;green&gt;ms help &lt;snow&gt;or &lt;green&gt;ms &lt;snow&gt;for further assistance and setup.\n\n")
end
</script>
					<eventHandlerList />
				</Script>
				<Script isActive="yes" isFolder="no">
					<name>MS Setup Event Handlers</name>
					<packageName></packageName>
					<script>function msWeapons(_, cmd)
if cmd and cmd:lower() ~= "none" then
  if mwi == 2 then 
	ms.save["longsword"] = cmd
  elseif mwi == 3 then 
	ms.save["broadsword"] = cmd
  elseif mwi == 4 then 
	ms.save["shortsword"] = cmd
  elseif mwi == 5 then 
	ms.save["scimitar"] = cmd
  elseif mwi == 6 then 
	ms.save["claymore"] = cmd
  elseif mwi == 7 then 
	ms.save["sabre"] = cmd
  elseif mwi == 8 then 
	ms.save["battleaxe"] = cmd
  elseif mwi == 9 then 
	ms.save["handaxe"] = cmd
  elseif mwi == 10 then 
	ms.save["club"] = cmd
  elseif mwi == 11 then 
	ms.save["dagger"] = cmd
  elseif mwi == 12 then 
	ms.save["dirk"] = cmd
  elseif mwi == 13 then 
	ms.save["flail"] = cmd
  elseif mwi == 14 then 
	ms.save["mace"] = cmd
  elseif mwi == 15 then 
	ms.save["javelin"] = cmd
  elseif mwi == 16 then 
	ms.save["glaive"] = cmd
  elseif mwi == 17 then 
	ms.save["halberd"] = cmd
  elseif mwi == 18 then 
	ms.save["morning star"] = cmd
  elseif mwi == 19 then 
	ms.save["spear"] = cmd
  elseif mwi == 20 then 
	ms.save["warhammer"] = cmd
  elseif mwi == 21 then 
	ms.save["trident"] = cmd
  elseif mwi == 22 then 
	ms.save["whip"] = cmd
  elseif mwi == 23 then 
	ms.save["bardiche"] = cmd
  elseif mwi == 24 then 
	ms.save["daegger"] = cmd
  elseif mwi == 25 then 
	ms.save["quarterstaff"] = cmd
  elseif mwi == 26 then 
	ms.save["shield"] = cmd
  elseif mwi == 27 then
  ms.save["bow"] = cmd
  end
end
    if mwi == 1 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;longsword &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
    elseif mwi == 2 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;broadsword &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 3 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;shortsword &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 4 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;scimitar &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 5 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;claymore &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 6 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;sabre &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 7 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;battleaxe &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 8 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;handaxe &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 9 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;club &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 10 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;dagger &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 11 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;dirk &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 12 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;flail &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 13 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;mace &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 14 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;javelin &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 15 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;glaive &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 16 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;halberd &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 17 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;morning star &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 18 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;spear &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 19 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;warhammer &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 20 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;trident &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 21 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;whip &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 22 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;bardiche &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 23 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;daegger &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 24 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;quarterstaff &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
  	elseif mwi == 25 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;shield &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
    elseif mwi == 26 then
        sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;Type the &lt;cyan&gt;bow &lt;snow&gt;ID# (Put 'none' to use default or current ID#): ")
    elseif mwi &gt; 26 then
      sys("&lt;green&gt;Setup - Weapons") cecho("&lt;snow&gt;All weapons set!")
        sys("&lt;green&gt;MS") cecho("Saving Settings...")
        table.save(getMudletHomeDir().."/mssave.lua", ms.save)
        sys("&lt;green&gt;MS") cecho("&lt;green&gt;Successfully Saved!\n")
    end
    if mwi &lt; 27 then
      denyCurrentSend()
      mwi = mwi + 1
    else
      denyCurrentSend()
      mwi = nil
      disableAlias("msw")
      if mssHold &gt; 0 then
        mss = mssHold
        mssHold = tonumber(0) 
        enableAlias("mss") 
      end
    killAnonymousEventHandler("msWeapons")
    end   
end

function msSetup(_, cmd)
  if mss == 1 and (cmd:lower() == "yes" or cmd:lower() == "no") then
    mss = mss + 1
    if cmd:lower() == "yes" then
      ms.save["defMe"] = true
      sys("&lt;green&gt;ms defMe") cecho("&lt;snow&gt;Auto-applying defences\n")
    elseif cmd:lower() == "no" then
      ms.save["defMe"] = false
      sys("&lt;red&gt;ms defMe") cecho("&lt;snow&gt;Disabled auto-applying defences\n")
    end
  elseif mss == 3 and cmd:lower() == "continue" then
    mss = mss + 1
  elseif mss == 4 then
    if cmd:lower() == 'none' then
      ms.save["clan_abbr"] = ''
      sys("&lt;green&gt;Affliction Clan") cecho("&lt;snow&gt;Clan set to default\n")
      mss = mss + 1
    else
      ms.save["clan_abbr"] = tostring(cmd)
      sys("&lt;green&gt;Affliction Clan") cecho("&lt;snow&gt;Clan set to: &lt;yellow&gt;"..cmd.."\n")
      mss = mss + 1
    end
  elseif mss == 6 and (cmd:lower() == "yes" or cmd:lower() == "no") then
    mss = mss + 1
    if cmd:lower() == "yes" then
      ms.save["quickdraw"] = true
      sys("&lt;green&gt;MS Quickdraw") cecho("&lt;yellow&gt;Quickdraw &lt;snow&gt;will be used\n")
    elseif cmd:lower() == "no" then
      ms.save["quickdraw"] = false
      sys("&lt;red&gt;MS Quickdraw") cecho("&lt;yellow&gt;Regular wielding &lt;snow&gt;will be used\n")
    end
  elseif mss == 8 and (cmd:lower() == "yes" or cmd:lower() == "no") then
    mss = mss + 1
    if cmd:lower() == "yes" then
      ms.save["parry"] = true
      sys("&lt;green&gt;MS Parry") cecho("&lt;yellow&gt;Parry &lt;snow&gt;will be used\n")
    elseif cmd:lower() == "no" then
      ms.save["parry"] = false
      sys("&lt;red&gt;MS Parry") cecho("&lt;yellow&gt;Parry &lt;red&gt;will NOT be used\n")
    end
  elseif mss == 10 and (cmd:lower() == "yes" or cmd:lower() == "no") then
    mss = mss + 1
    if cmd:lower() == "yes" then
      ms.save["kipup"] = "kipup"
      sys("&lt;green&gt;MS Kipup") cecho("&lt;yellow&gt;Kipup &lt;snow&gt;will be used\n")
    elseif cmd:lower() == "no" then
      ms.save["kipup"] = "stand"
      sys("&lt;red&gt;MS Stand") cecho("&lt;yellow&gt;Stand &lt;snow&gt;will be used\n")
    end    
  elseif mss == 12 and (cmd:lower() == "yes" or cmd:lower() == "no") then
    mss = mss + 1
    if cmd:lower() == "yes" then
      ms.save["ta"] = true
      sys("&lt;green&gt;MS Kipup") cecho("&lt;yellow&gt;Trueassess &lt;snow&gt;will be used\n")
    elseif cmd:lower() == "no" then
      ms.save["ta"] = false
      sys("&lt;red&gt;MS Stand") cecho("&lt;yellow&gt;Truessess &lt;red&gt;will not be used\n")
    end   
  elseif mss == 14 then
    ms.save["separator"] = tostring(cmd)
    s = ms.save["separator"]
    sys("&lt;green&gt;Separator") cecho("&lt;snow&gt;Set to: &lt;yellow&gt;"..cmd.."\n")
    mss = mss + 1
  elseif mss == 16 and cmd:lower() == "finish" then
    mss = mss + 1
  elseif mss &gt; 0 then
    sys("&lt;red&gt;Error") cecho("&lt;snow&gt;Incorrect Command\n")
    mss = mss - 1
  end
    if mss == 0 then
      sys("&lt;green&gt;Setup - Settings") cecho("Do you want to allow MS to auto apply defences? (yes/no): ")
      mss = mss + 1
    elseif mss == 2 and ms.save["defMe"] then
      sys("&lt;green&gt;Setup - Settings") cecho("Check &lt;green&gt;ms defs &lt;snow&gt;and toggle defences on\/off with &lt;green&gt;ms def \&lt;def_name\&gt;")
      sys("&lt;green&gt;Setup - Settings") cecho("Type &lt;yellow&gt;continue &lt;snow&gt;when finished with defences")
      mss = mss + 1
    elseif mss == 4 or (mss == 2 and not ms.save["defMe"]) then
      sys("&lt;green&gt;Setup - Settings") cecho("Type the &lt;cyan&gt;clan name &lt;snow&gt;to call afflictions. Default to using &lt;DimGray&gt;none &lt;snow&gt;if you don't have any: ")
      if not ms.save["defMe"] then mss = mss + 2 end
    elseif mss == 5 then
      sys("&lt;green&gt;Setup - Settings") cecho("Do you have the skill &lt;yellow&gt;Quickdraw&lt;snow&gt; in Weaponry? (yes/no): ")
      mss = mss + 1
    elseif mss == 7 then
      sys("&lt;green&gt;Setup - Settings") cecho("Do you have the skill &lt;yellow&gt;Parry&lt;snow&gt; in Weaponry? (yes/no): ")
      mss = mss + 1
    elseif mss == 9 then
      sys("&lt;green&gt;Setup - Settings") cecho("Do you have the skill &lt;yellow&gt;Kipup&lt;snow&gt;? (yes/no): ")
      mss = mss + 1  
    elseif mss == 11 then
      sys("&lt;green&gt;Setup - Settings") cecho("Do you have the skill &lt;yellow&gt;Trueassess&lt;snow&gt; in Perception? (yes/no): ")
      mss = mss + 1      
    elseif mss == 13 then
      sys("&lt;green&gt;Setup - Settings") cecho("Type the &lt;cyan&gt;separator &lt;snow&gt;to use between actions. Default to use &lt;DimGray&gt;:: &lt;snow&gt;if not custom.: ")
      mss = mss + 1    
    elseif mss == 15 then
      sys("&lt;green&gt;Setup - Settings") cecho("Check &lt;green&gt;ms combat&lt;snow&gt; and set your weapon ID's: ")
      sys("&lt;green&gt;Setup - Settings") cecho("Type &lt;yellow&gt;finish &lt;snow&gt;when finished with weapon ID's")
      mss = mss + 1
    elseif mss &gt; 16 then
      sys("&lt;green&gt;Setup - Settings") cecho("&lt;snow&gt;Setup Finished! You're all set!\n")
      sys("&lt;green&gt;MS") cecho(f"In order for MS to work, &lt;yellow&gt;CONFIG COMBATMESSAGE BRIEF &lt;snow&gt;is toggled on. You may use &lt;yellow&gt;FULL &lt;snow&gt;as well.")
      sys("&lt;green&gt;MS") cecho(f"Check out &lt;green&gt;ms allies &lt;snow&gt;to see how to modify your allies list.")
      sys("&lt;green&gt;MS") cecho(f"Check out &lt;green&gt;ms {gmcp.Char.Status.prof:lower()} &lt;snow&gt;to study the functions of your profession. Happy hunting!")
        sys("&lt;green&gt;MS") cecho("Saving Settings...")
        table.save(getMudletHomeDir().."/mssave.lua", ms.save)
        sys("&lt;green&gt;MS") cecho("&lt;green&gt;Successfully Saved!\n")
    end
    if mss &lt; 17 then
      denyCurrentSend()
    else
      denyCurrentSend()
      mss = nil
      disableAlias("mss")
      send("config combatmessage brief", false)
      send("config separator "..ms.save["separator"], false)
      send("config GMCPVitalsAdvanced on", false)
    killAnonymousEventHandler("msSetup")
    end
end


</script>
					<eventHandlerList />
				</Script>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>Math Mapper</name>
					<packageName></packageName>
					<script></script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>Functions</name>
						<packageName></packageName>
						<script>function mmp.echonumsMS(roomname, area)
  local t = mmp.searchRoomExact(roomname)
  if area then
    t = filterRooms(t, area)
  end
 if not next(t) then
    echo "?" return nil end

  -- transform the kv table into a table of tables for cleaner code.
    -- + perhaps Mudlet in future will give this us anyway, sorted by relevancy
  local dt = {}
  for roomid,room in pairs(t) do
    dt[#dt+1] = {name = room, id = roomid}
  end

  -- Location
  if trackLocate == nil then trackLocate = "" end
  if trackLocate then targetLocation = dt[1] end
  ptn = dt[1]

  -- display first three ids. Can't really nicely table.concat them.
  if dt[2] then
    cechoLink("&lt;yellow&gt;\*&lt;cyan&gt;"..dt[1].id, 'mmp.gotoRoom('..dt[1].id..')', string.format("Go to %s (%s)", dt[1].id, tostring(dt[1].name)), true)
  elseif dt[1] then
    cechoLink("&lt;cyan&gt;"..dt[1].id, 'mmp.gotoRoom('..dt[1].id..')', string.format("Go to %s (%s)", dt[1].id, tostring(dt[1].name)), true)
  end


end

function mmp.moveMS()
  if mmp.paused or not mmp.autowalking or mmp.movetimer or not mmp.canmove() then
    return
  end
  -- sometimes it's 0 - default to 1
  if speedWalkCounter == 0 then
    speedWalkCounter = 1
  end
  local cmd
  if mmp.settings["caravan"] then
    cmd = "lead caravan " .. mmp.speedWalkDir[speedWalkCounter]
  elseif action ~= "" then cmd = mmp.speedWalkDir[speedWalkCounter]..""..s..""..action
  elseif bash and #ms.huntRooms &gt;= 1 then 
		if ms.class["Assassin"] or ms.class["Renegade"] then
			if gmcp.Room.Info.area == ("the Isle of Llus" or "Llus Labratory") then
				cmd = mmp.speedWalkDir[speedWalkCounter]..""..s.."attack kochlan"..s.."worm freeze kochlan"..s.."attack anvore"..s.."worm freeze anvore"..s.."attack rakrtai"..s.."worm freeze rakrtai"
			else
				cmd = mmp.speedWalkDir[speedWalkCounter]..""..s.."puncture "..creature.." with trioxin"..s.."worm freeze "..creature
			end
		elseif gmcp.Room.Info.area == ("the Isle of Llus" or "Llus Labratory") then
			cmd = mmp.speedWalkDir[speedWalkCounter]..""..s.."attack anvore"..s.."attack kochlan"..s.."attack rakrtai"
		elseif ms.class["Summoner"] then
			cmd = mmp.speedWalkDir[speedWalkCounter]..""..s.."invoke combustion "..creature.. " duplicate"
		elseif ms.class["Deathknight"] then
			cmd = mmp.speedWalkDir[speedWalkCounter]..""..s.."attack "..creature
		else
			cmd = mmp.speedWalkDir[speedWalkCounter]..""..s.."attack "..creature
		end
		direction = mmp.speedWalkDir[speedWalkCounter]
	else
    cmd = mmp.speedWalkDir[speedWalkCounter]
	direction = cmd
  end
  cmd = cmd or ''
  -- timeout before loadstring, so it can set its own if it would like to.
  mmp.setmovetimer()
  if string.starts(cmd, "script:") then
    cmd = string.gsub(cmd, "script:", "")
    loadstring(cmd)()
    if mmp.settings.showcmds then
      cecho(
        string.format(
          "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)",
          #mmp.speedWalkDir - speedWalkCounter + 1,
          "&lt;script&gt;"
        )
      )
    end
  else
	if cmd:find("worm warp") then cmd = "worm warp" end
    send(cmd, false)
    if mmp.settings.showcmds then
      cecho(
        string.format(
          "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)",
          #mmp.speedWalkDir - speedWalkCounter + 1,
          cmd
        )
      )
    end
  end
end

function mmp.locateAndEchoSideMS(room, person)
  local t = mmp.searchRoomExact(room)
  if room then
    cecho("&lt;DarkSlateGrey&gt;  (")
    mmp.echonumsMS(room)
    cecho("&lt;DarkSlateGrey&gt;)")
  end
  -- lowercase results
  for k, v in pairs(t) do
    if tonumber(k) then
      t[k] = v:lower()
    else
      t[k:lower()] = v
    end
  end
  if not (t[room:lower()] or table.contains(t, room:lower())) then
    return
  end
  --echo"\n"
  if table.size(t) == 1 then
    local k, v = next(t)
    cecho(
      "&lt;red&gt;  (" ..
      mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == "number" and k or v)] or "?") ..
      ")"
    )
	if trackLocate then targetArea = tostring(mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == "number" and k or v)] or "?")) end
  else
    local k, v = next(t)
    local areas = {}
    if type(k) == "number" then
      for k, _ in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    else
      for _, k in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    end
    local flattened_areas = {}
    for k, _ in pairs(areas) do
      if k ~= "" then
        flattened_areas[#flattened_areas + 1] = mmp.cleanAreaName(k)
      end
    end
    cecho("&lt;red&gt; (" .. table.concat(flattened_areas, ", ") .. ")")
  end
  if person then
    mmp.pdb[person] = room
    mmp.pdb_lastupdate[person] = true
    raiseEvent("mmapper updated pdb")
  end
  trackLocate = false
end

function mmp.echoRoomListMS(areaname, exact)
  local areaid, msg, multiples = mmp.findAreaID(areaname, exact)
  if areaid then
    local roomlist, endresult = getAreaRooms(areaid) or {}, {}

    -- obtain a room list for each of the room IDs we got
    local getRoomName = getRoomName
    for _, id in pairs(roomlist) do
      endresult[id] = getRoomName(id)
    end

    -- sort room IDs so we can display them in order
    table.sort(roomlist)
	if not brooms then trooms = {} end
	for k,v in pairs(roomlist) do
		table.insert(trooms, v)
	end

    -- now display something half-decent looking
if not brooms then
   	cecho(string.format("&lt;DarkSlateGrey&gt;List of all rooms in &lt;grey&gt;%s&lt;DarkSlateGrey&gt; (areaid &lt;grey&gt;%s&lt;DarkSlateGrey&gt; - &lt;grey&gt;%d&lt;DarkSlateGrey&gt; rooms):\n", msg, areaid, table.size(endresult)))
    local echoLink, sformat, fg, echo = echoLink, string.format, fg, cecho
    -- use pairs, as we can have gaps between room IDs
    for _, roomid in pairs(roomlist) do
      local roomname = endresult[roomid]
      fg("blue") cechoLink("&lt;"..mmp.settings.echocolour.."&gt;"..sformat("%6s", roomid), 'mmp.gotoRoom('..roomid..')', string.format("Go to %s (%s)", roomid, tostring(roomname)), true)
       cecho(string.format("&lt;DarkSlateGrey&gt;: &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n", roomname))
    end
end
  elseif not id and #multiples &gt; 0 then
    mmp.echo("For which area would you want to list rooms for?")
    fg("DimGrey")
    for _, areaname in ipairs(multiples) do
      echo"  "; setUnderline(true) echoLink(areaname, 'mmp.echoRoomList("'..areaname..'", true)', "Click to view the room list for "..areaname, true) setUnderline(false) echo"\n"
    end
    resetFormat()

  else
    mmp.echo(string.format("Don't know of any area named '%s'.", areaname))
  end
  return
end

function mmp.gotoRoomMS(where, dashtype, gotoType)
  mmp.speedWalk.type = gotoType or "room"
  if not where or not tonumber(where) then
    mmp.echo("Where do you want to go to?")
    return
  end
  if tonumber(where) == mmp.currentroom then
    mmp.echo("We're already at " .. where .. "!")
    raiseEvent("mmapper arrived")
    return
  end
  -- allow mapper 'addons' to link their own exits in
  raiseEvent("mmp link externals")
  -- if getPath worked, then the dirs and room #'s tables were populated for us
  if not mmp.getPath(mmp.currentroom, tonumber(where)) then
    mmp.echo("Don't know how to get there (" .. tostring(where) .. ") from here :(")
    if sharding then expandAlias("pf "..shardarea_name) end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    mmp.speedWalkCounter = 0
    raiseEvent("mmapper failed path")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    -- allow mapper 'addons' to unlink their special exits
    raiseEvent("mmp clear externals")
    return
  end
  doSpeedWalk(dashtype)
  -- allow mapper 'addons' to unlink their special exits
  raiseEvent("mmp clear externals")
end

function mmp.gotoAreaMS(where, number, dashtype, exact)
  mmp.speedWalk.type = "area"
  if not where or type(where) ~= "string" then
    mmp.echo("Where do you want to go to?")
    return
  end
  local where = where:lower()
  number = tonumber(number)
  local tmp = getRoomUserData(1, "gotoMapping")
  if not tmp or tmp == '' then
    tmp = "[]"
  end
  local temp, maptable = yajl.to_value(tmp), {}
  for k, v in pairs(temp) do
    maptable[k:lower()] = v
  end
  local destinationRoom = maptable[where]
  if destinationRoom then
    mmp.gotoRoom(destinationRoom, dashtype)
    return
  end
  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    mmp.gotoAreaID(areaid)
  elseif not areaid and #multiples &gt; 0 then
    if number and number &lt;= #multiples then
      mmp.gotoArea(multiples[number], nil, dashtype, true)
      return
    end
    mmp.echo("Which area would you like to go to?")
    fg("DimGrey")
    for key, areaname in ipairs(multiples) do
      echo("  ")
      echoLink(
        key .. ") ",
        'mmp.gotoArea("' ..
        areaname ..
        '", nil, ' ..
        (dashtype and '"' .. dashtype .. '"' or "nil") ..
        ', true)',
        "Click to go to " .. areaname,
        true
      )
      setUnderline(true)
      echoLink(
        areaname,
        'mmp.gotoArea("' ..
        areaname ..
        '", nil, ' ..
        (dashtype and '"' .. dashtype .. '"' or "nil") ..
        ', true)',
        "Click to go to " .. areaname,
        true
      )
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
    return
  else
    mmp.echo(string.format("Don't know of any area named '%s'.", where))
    if sharding then expandAlias("pf "..shardarea_name) end
    return
  end
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>speedwalkingMS</name>
						<packageName></packageName>
						<script>function speedwalkingMS(event, num)
  local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
  if num == mmp.speedWalkPath[#mmp.speedWalkPath] then
		--MathSystem
			if capture == nil then capture = false end
      		if shardarea or shardfall then send("queue eqbal top harvest shard");shardarea = false end
			if capture then
				tempTimer(2, [[expandAlias("cm");capture = false]])
			elseif autoMono then
				expandAlias("mos")
			end
			if bash then
				table.remove(ms.huntRooms, 1)
				if #ms.huntRooms == 0 then 
					spdwalkarea = false 
				else
					tempTimer(0.5, [[expandAlias("goto "..ms.huntRooms[1])]])
				end
			else
				table.remove(ms.trooms, 1)
				if #ms.trooms == 0 then 
					spdwalkarea = false 
				else
					tempTimer(0.5, [[expandAlias("goto "..ms.trooms[1])]])
				end
			end
	guard = false
	if bash and healing then expandAlias("b") end
    raiseEvent("mmapper arrived")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    speedWalkCounter = 0
    mmp.autowalking = false
  end
end</script>
						<eventHandlerList>
							<string>RoomNum</string>
							<string>gmcp.Room.Info</string>
						</eventHandlerList>
					</Script>
				</ScriptGroup>
			</ScriptGroup>
			<ScriptGroup isActive="yes" isFolder="yes">
				<name>additional packages</name>
				<packageName>additional packages</packageName>
				<script></script>
				<eventHandlerList />
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>deleteOldProfiles-MS</name>
					<packageName>deleteOldProfiles</packageName>
					<script>if exists("deleteOldProfiles", "script")==1 then
  disableAlias("deleteOldProfiles-MS")
end</script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>deleteOldProfiles script</name>
						<packageName></packageName>
						<script>function deleteOldProfiles(keepdays_arg, delete_folder)
  --[[
  Deletes old profiles/maps/modules in the "current"/"map"/"moduleBackups" folders of the Mudlet home directory.
  The following files are NOT deleted:
  - Files newer than the amount of days specified as an argument to deleteOldProfiles(), or 31 days if not specified.
  - One file for every month before that. Specifically: The first available file of every month prior to this.
  Setting the second argument to true will delete maps instead of profiles. (e.g. deleteOldProfiles(10, true))
  --]]

  -- Ensure correct value is passed for second argument
  assert(type(delete_folder) == "string", "Wrong type for delete_folder; expected string, got " .. type(delete_folder))
  assert(table.contains({"profiles", "maps", "modules"}, delete_folder), "delete_folder must be profiles, maps or modules")

  local keepdays = tonumber(keepdays_arg) or 31
  local profile_table = {}
  local used_last_mod_months = {}
  local slash = (string.char(getMudletHomeDir():byte()) == "/") and "/" or "\\"
  local delnum = 0

  local to_folder = {
    profiles = "current",
    maps = "map",
  }

  local dirpath = delete_folder == "modules"
    and getMudletHomeDir()..slash..".."..slash..".."..slash.."moduleBackups"
    or getMudletHomeDir()..slash..to_folder[delete_folder]

  -- Traverse the profiles folder and create a table of files:
  for filename in lfs.dir(dirpath) do
    if filename~="." and filename~=".." then
      profile_table[#profile_table+1] = {
        name = filename,
        last_mod = lfs.attributes(dirpath..slash..filename, "modification")
      }
    end
  end

  -- Sort the table according to last modification date from old to new:
  table.sort(profile_table, function (a,b) return a.last_mod &lt; b.last_mod end)

  echo(string.format(
    "\nDeleting old %s. Files newer than %d days and one for every month before that will be kept.",
    delete_folder,
    keepdays
  ))

  for i, v in ipairs(profile_table) do
    local days = math.floor(os.difftime(os.time(), v.last_mod) / 86400)
    local last_mod_month = os.date("%Y/%m", v.last_mod)
    if days &gt; keepdays then
      -- For profiles older than X days, check if we already kept a table for this month:
      if not table.contains(used_last_mod_months, last_mod_month) then
        -- If not, do nothing and mark this month as "kept".
        used_last_mod_months[#used_last_mod_months+1] = last_mod_month
      else
        -- Otherwise remove the file:
        local success, errorstring = os.remove(dirpath..slash..v.name)
        if success then
          delnum = delnum + 1
        else
          cecho("\n&lt;red&gt;ERROR: "..errorstring)
        end
      end
    end
  end

  echo(string.format("\nDeletion complete. %d/%d files were removed successfully.", delnum, #profile_table))
end
</script>
						<eventHandlerList />
					</Script>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>mudlet-mapper-MS</name>
					<packageName></packageName>
					<script>mudlet = mudlet or {}; mudlet.mapper_script = true
if exists("mudlet-mapper", "script")==1 then
  disableAlias("mudlet-mapper-MS")
end</script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>Load settings</name>
						<packageName></packageName>
						<script>-- mmp = mudlet mapper namespace
mmp =
  mmp or
  {
    paused = false,
    autowalking = false,
    currentroom = 0,
    currentroomname = "(unknown)",
    firstRun = true,
    specials = {},
    ferry_rooms = {},
  }
mmp.speedWalkWatch = createStopWatch()
-- speedWalkPath and speedWalkDir populated by Mudlet from getPath() and gotoRoom()
speedWalkPath = speedWalkPath or {}
speedWalkDir = speedWalkDir or {}

-- actually used by the mapper for walking
mmp.speedWalkCounter = 0
mmp.speedWalk = mmp.speedWalk or {}
mmp.speedWalkPath = mmp.speedWalkPath or {}
mmp.speedWalkDir = mmp.speedWalkDir or {}
mmp.lagtable =
  {
    [1] = {description = "Normal, default level.", time = 0.5},
    [2] = {description = "Decent, but slightly laggy.", time = 1},
    [3] = {description = "Noticeably laggy with occasional spikes.", time = 2},
    [4] = {description = "Bad. Terrible. Terribad.", time = 5},
    [5] = {description = "Carrier Pigeon", time = 10},
  }
local newversion = "23.5.2"
if mmp.version and mmp.version ~= newversion then
  if not mmp.game then
    mmp.echo("Mapper script updated - Thanks! I don't know what game are you connected to, though - so please reconnect, if you could.")
  else
    mmp.echo("Mapper script updated - thanks! You don't need to restart.")
  end
end
mmp.version = newversion

function mmp.startup()
  if not mmp.firstRun then
    return
  end
  local private_settings = {}

  --General settings

  private_settings["echocolour"] = mmp.createOption("cyan", mmp.changeEchoColour, {"string"}, "Set the color for room number echos?", function(newSetting) return color_table[newSetting] ~= nil end)
  private_settings["crowdmap"] = mmp.createOption(false, mmp.changeMapSource, {"boolean"}, "Use a crowd-sourced map instead of IREs default?", nil, {achaea = true, starmourn = true, lusternia = true, stickmud = true, asteria = true, imperian = true, aetolia = true})
  private_settings["showcmds"] = mmp.createOption(true, mmp.changeBoolFunc, {"boolean"}, "Show walking commands?")
  private_settings["laglevel"] = mmp.createOption(1, mmp.changeLaglevel, {"number"}, "How laggy is your connection, (fast 1&lt;-&gt;5 slow)?", mmp.verifyLaglevel)
  private_settings["slowwalk"] = mmp.createOption(false, mmp.setSlowWalk, {"boolean"}, "Walk slowly instead of as quick as possible?")
  private_settings["updatemap"] = mmp.createOption(true, mmp.changeUpdateMap, {"boolean"}, "Check for new maps from your MUD?")
  private_settings["waterwalk"] = mmp.createOption(true, mmp.setWaterWalk, {"boolean"}, "Have waterwalk (don't avoid water)?", nil, {achaea = true})

  --Settings that lock things

  private_settings["lockpathways"] = mmp.createOption(true, mmp.lockPathways, {"boolean"}, "Lock pathway exits?", nil, {lusternia = true})
  private_settings["locksewers"] = mmp.createOption(false, mmp.lockSewers, {"boolean"}, "Lock all sewers?", nil, {achaea = true})
  private_settings["lockspecials"] = mmp.createOption(false, mmp.lockSpecials, {"boolean"}, "Lock all special exits?")
  private_settings["lockwormholes"] = mmp.createOption(true, mmp.lockWormholes, {"boolean"}, "Lock all wormholes?", nil, {achaea = true, imperian = true, aetolia = true})

  --Sprint movement

  private_settings["dash"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Dash?", nil, {achaea = true, imperian = true, aetolia = true})
  private_settings["sprint"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Sprint?")
  private_settings["gallop"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Gallop?")
  private_settings["runaway"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Jester Runaway?", nil, {achaea = true})

  --Achaea wings and things

  private_settings["winglanguage"] = mmp.createOption("", mmp.setWingsLanguage, {"string"}, "Speak non-default language for wings:", nil, {achaea = true})
  private_settings["pebble"] = mmp.createOption(false, mmp.lockPebble, {"boolean"}, "Make use of your enchanted pebble?", nil, {achaea = true})
  private_settings["removewings"] = mmp.createOption(true, mmp.setWingsRemoval, {"boolean"}, "Remove Wings after using them?", nil, {achaea = true, imperian = true})
  private_settings["harness"] = mmp.createOption(false, mmp.setHarness, {"boolean"}, "Use Stratospheric Harness?", nil, {achaea = true})
  private_settings["duantahar"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Chenubian Wings?", nil, {achaea = true})
  private_settings["duanatharan"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Atavian Wings?", nil, {achaea = true, aetolia = true})
  private_settings["duanathar"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Eagle Wings?", nil, {achaea = true, aetolia = true})
  private_settings["duanatharic"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Island Wings?", nil, {achaea = true})
  private_settings["soar"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Aero Soar?", nil, {achaea = true})
  private_settings["shackle"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Take off shackle?", nil, {achaea = true})
  private_settings["universe"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Universe Tarot?", nil, {achaea = true})
  private_settings["gare"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Gare?", nil, {achaea = true})

  --aet wings and things
  private_settings["voltda"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use dark amulet?", nil, {aetolia = true})
  private_settings["voltdaran"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use midnight amulet?", nil, {aetolia = true})
  
  --Wings pathfinding improvements

  private_settings["betterwings"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Better Wings pathfinding?", nil, {achaea = true})

  --Achaea Orb of Confinement

  private_settings["orbashtan"] = mmp.createOption(false, function() mmp.setOrb("ashtan") end, {"boolean"}, "Orb of Confinement active in Ashtan?", nil, {achaea = true})
  private_settings["orbcyrene"] = mmp.createOption(false, function() mmp.setOrb("cyrene") end, {"boolean"}, "Orb of Confinement active in Cyrene?", nil, {achaea = true})
  private_settings["orbeleusis"] = mmp.createOption(false, function() mmp.setOrb("eleusis") end, {"boolean"}, "Orb of Confinement active in Eleusis?", nil, {achaea = true})
  private_settings["orbhashan"] = mmp.createOption(false, function() mmp.setOrb("hashan") end, {"boolean"}, "Orb of Confinement active in Hashan?", nil, {achaea = true})
  private_settings["orbmhaldor"] = mmp.createOption(false, function() mmp.setOrb("mhaldor") end, {"boolean"}, "Orb of Confinement active in Mhaldor?", nil, {achaea = true})
  private_settings["orbtargossas"] = mmp.createOption(false, function() mmp.setOrb("targossas") end, {"boolean"}, "Orb of Confinement active in Targossas?", nil, {achaea = true})

  --Imperian wings

  private_settings["shekinah"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Seraphim Wings?", nil, {imperian = true})
  private_settings["suriel"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use Orphanim Wings?", nil, {imperian = true})

  --Lusternia bixes

  private_settings["torus"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Torus?", nil, {lusternia = true})
  private_settings["prism"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your transplanar prism?", nil, {lusternia = true})
  private_settings["cubix"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Cubix?", nil, {lusternia = true})
  private_settings["medallion"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Medallion?", nil, {lusternia = true})

  --Lusternia Bubblixes
  private_settings["twist"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mt. Dio Bix?", nil, {lusternia = true})
  private_settings["figurine"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Icewynd Bix?", nil, {lusternia = true})
  private_settings["periscope"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Aquagoria Bix?", nil, {lusternia = true})
  private_settings["pebble"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Lyraa Bix?", nil, {lusternia = true})
  private_settings["shard"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Xion Bix?", nil, {lusternia = true})
  private_settings["tibia"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Cankermore Bix?", nil, {lusternia = true})
  private_settings["mud"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mucklemarsh Bix?", nil, {lusternia = true})
  private_settings["cookie"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Crumkindivia Bix?", nil, {lusternia = true})
  private_settings["icicle"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Frosticia Bix?", nil, {lusternia = true})
  private_settings["screwdriver"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Facility Bix?", nil, {lusternia = true})
  private_settings["snowglobe"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Tree of Trees Bix?", nil, {lusternia = true})
  private_settings["head"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Bottledowns Bix?", nil, {lusternia = true})
  private_settings["wheel"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Dramube Bix?", nil, {lusternia = true})

  --lusternia athergoop setButtons

  private_settings["buttons"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of Aethergoop Buttons?", nil, {lusternia = true})

  --Lusternia Curio collections

  private_settings["bonecurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Bone curios?", nil, {lusternia = true})
  private_settings["facecurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Face curios?", nil, {lusternia = true})
  private_settings["feathercurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Feather curios?", nil, {lusternia = true})
  private_settings["figurecurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Figure curios?", nil, {lusternia = true})
  private_settings["flowercurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Flower curios?", nil, {lusternia = true})
  private_settings["fluttercurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Flutter curios?", nil, {lusternia = true})
  private_settings["toolcurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Tool curios?", nil, {lusternia = true})
  private_settings["vernalcurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Vernal curios?", nil, {lusternia = true})
  private_settings["utensilcurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Utensil curios?", nil, {lusternia = true})
  private_settings["toycurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Toy curios?", nil, {lusternia = true})
  private_settings["soullesscurio"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Soulless curios?", nil, {lusternia = true})

  --Lusternia epic quest bixes

  private_settings["fingerblade"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Fingerblade?", nil, {lusternia = true})
  private_settings["blossom"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Flame of dae'Seren?", nil, {lusternia = true})
  private_settings["belt"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Belt?", nil, {lusternia = true})
  private_settings["mandala"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mandala?", nil, {lusternia = true})
  private_settings["mantle"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Mantle?", nil, {lusternia = true})
  private_settings["key"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Make use of your Key?", nil, {lusternia = true})

  --Lusternia other travel things
  private_settings["compass"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Use the Compass of the Basin?", nil, {lusternia = true})
  private_settings["astrojump"] = mmp.createOption(false, mmp.astroboots, {"boolean"}, "Use Astral Jumping boots?", nil, {lusternia = true})


  --I have no idea what this does tbh

  private_settings["caravan"] = mmp.createOption(false, mmp.changeBoolFunc, {"boolean"}, "Walk caravans?", nil, {imperian = true})



  mmp.settings = mmp.createOptionsTable(private_settings)
  mmp.settings.disp = mmp.echo
  mmp.game = false
  mmp.settings.dispOption =
    function(opt, val)
      cecho(
        "&lt;green&gt;" ..
        val.use ..
        "&lt;white&gt; (" ..
        opt ..
        ") " ..
        string.rep(" ", 50 - val.use:len() - opt:len()) ..
        tostring(val.value) ..
        "\n"
      )
    end
  mmp.settings.dispDefaultWriteError =
    function()
      mmp.echo("Please use the mconfig alias to set options!")
    end
  raiseEvent("mmp areas changed")
  mmp.firstRun = false
  mmp.echon("Mudlet Mapper script for IREs (" .. tostring(mmp.version) .. ") loaded! (")
  echoLink(
    "homepage",
    "(openUrl or openURL)'http://wiki.mudlet.org/w/IRE_mapping_script'",
    "Clicky clicky to read up on what's this about"
  )
  echo(")\n")
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Create Option Table</name>
						<packageName></packageName>
						<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
local spairs = spairs or function(tbl, order)
  local keys = table.keys(tbl)
  if order then
    table.sort(keys, function(a,b) return order(tbl, a, b) end)
  else
    table.sort(keys)
  end

  local i = 0
  return function()
    i = i + 1
    if keys[i] then
      return keys[i], tbl[keys[i]]
    end
  end
end


function mmp.createOption(startingValue, onChangeFunc, allowedVarTypes, use, checkOption, games)
	if allowedVarTypes then -- make sure our starting Value follows type rules
		if not table.contains(allowedVarTypes, type(startingValue)) then
			echo("Starting type is not of allowed type!\n")
			display(allowedVarTypes)
			echo("type: " .. type(startingValue) .. "\n")
			return
		end
	end

	local option = {
		value = startingValue,
		onChange = onChangeFunc,
		allowedVarTypes = allowedVarTypes,
		use = use or "",
		games = games,
		checkOption = checkOption or function() return true end
	}

	return option
end

function mmp.createOptionsTable(defaultTable)
	local index = {} -- index to store the default table at in our proxy table


	local proxyTable = {} -- This is the table that is returned to the user

	proxyTable.disp = echo

	proxyTable.dispDefaultWriteError = function()
		echo("Can't overwrite default options. Please use the SetOption function to change the value\n")
	end

	proxyTable.dispOption = function(opt, val)
		if not opt or not val then return end
		echo("Name: " .. string.title(opt) .. string.rep(" ", 10 - string.len(opt)))
		echo("Val: " .. tostring(val.value))
		echo(string.rep(" ", 10 - string.len(tostring(val.value))) ..  "- " .. val.use .. "\n")
	end

	function proxyTable:showAllOptions(game)
		proxyTable.disp("Available options: \n")
		for k, v in spairs(self[index]) do
			if not game or not v.games or v.games[game] then
				self.dispOption(k, v)
			end
		end
		echo("\n")
		for k, v in spairs(self["_customOptions"]) do
			self.dispOption(k, v)
		end

	end

	function proxyTable:getAllOptions()
		local t = {}
		for k, v in pairs(self[index]) do
			t[k] = v.value
		end

		return t
	end

   function proxyTable:setOption(option, value, silent)
		if self[option] == nil then
			proxyTable.disp("No such option!\n")
			return
		end

		-- otherwise, set the option
		if self["_customOptions"][option] then
			if not (table.contains(self["_customOptions"][option].allowedVarTypes, type(value)) and self["_customOptions"][option].checkOption(value)) then
				proxyTable.disp("You can't set '" .. option .. "' to that!\n")
				return
			end
			self["_customOptions"][option].value = value
			if self["_customOptions"][option].onChange then
				self["_customOptions"][option].onChange(option, value)
			end
		else
			if not (table.contains(self[index][option].allowedVarTypes, type(value)) and self[index][option].checkOption(value)) then
				proxyTable.disp("You can't set '" .. option .. "' to that!\n")
				return
			end
			rawset(self[index][option], "value", value)
			local opt = rawget(self[index], option)
			if opt.onChange  and not silent then opt.onChange(option, value) end
		end
		if mmp and mmp.clearpathcache then mmp.clearpathcache() end
	end


	proxyTable._customOptions = {}

	local mt = {
		__index = function(t, k)
			local custOp = rawget(t, "_customOptions")
			if custOp[k] then
			 	local opt = custOp[k]
				if opt then return opt.value else return nil end
			else
				local opt = t[index][k]
				if opt then return opt.value else return nil end
			end
		end,

		__newindex = function (t, k, v)
			if t[index][k] then
				proxyTable.dispDefaultWriteError()
			else
				t["_customOptions"][k] = v
			end
		end
	}


	proxyTable[index] = defaultTable

	setmetatable(proxyTable, mt)

	return proxyTable

end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>mmp.speedwalking</name>
						<packageName></packageName>
						<script>function mmp.gotoRoom(where, dashtype, gotoType)
  mmp.speedWalk.type = gotoType or "room"
  if not where or not tonumber(where) then
    mmp.echo("Where do you want to go to?")
    return
  end
  if tonumber(where) == mmp.currentroom then
    mmp.echo("We're already at " .. where .. "!")
    raiseEvent("mmapper arrived")
    return
  end
  -- allow mapper 'addons' to link their own exits in
  raiseEvent("mmp link externals")
  -- if getPath worked, then the dirs and room #'s tables were populated for us
  if not mmp.getPath(mmp.currentroom, tonumber(where)) then
    mmp.echo("Don't know how to get there (" .. tostring(where) .. ") from here :(")
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    mmp.speedWalkCounter = 0
    raiseEvent("mmapper failed path")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    -- allow mapper 'addons' to unlink their special exits
    raiseEvent("mmp clear externals")
    return
  end
  doSpeedWalk(dashtype)
  -- allow mapper 'addons' to unlink their special exits
  raiseEvent("mmp clear externals")
end

function mmp.gotoArea(where, number, dashtype, exact)
  mmp.speedWalk.type = "area"
  if not where or type(where) ~= "string" then
    mmp.echo("Where do you want to go to?")
    return
  end
  local where = where:lower()
  number = tonumber(number)
  local tmp = getRoomUserData(1, "gotoMapping")
  if not tmp or tmp == '' then
    tmp = "[]"
  end
  local temp, maptable = yajl.to_value(tmp), {}
  for k, v in pairs(temp) do
    maptable[k:lower()] = v
  end
  local destinationRoom = maptable[where]
  if destinationRoom then
    mmp.gotoRoom(destinationRoom, dashtype)
    return
  end
  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    mmp.gotoAreaID(areaid)
  elseif not areaid and #multiples &gt; 0 then
    if number and number &lt;= #multiples then
      mmp.gotoArea(multiples[number], nil, dashtype, true)
      return
    end
    mmp.echo("Which area would you like to go to?")
    fg("DimGrey")
    for key, areaname in ipairs(multiples) do
      echo("  ")
      echoLink(
        key .. ") ",
        'mmp.gotoArea("' ..
        areaname ..
        '", nil, ' ..
        (dashtype and '"' .. dashtype .. '"' or "nil") ..
        ', true)',
        "Click to go to " .. areaname,
        true
      )
      setUnderline(true)
      echoLink(
        areaname,
        'mmp.gotoArea("' ..
        areaname ..
        '", nil, ' ..
        (dashtype and '"' .. dashtype .. '"' or "nil") ..
        ', true)',
        "Click to go to " .. areaname,
        true
      )
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
    return
  else
    mmp.echo(string.format("Don't know of any area named '%s'.", where))
    return
  end
end

--- DOES NOT ACCOUNT FOR CHANGING THE MAP YET (within a profile load), because we don't know when it happens
local getpathcache = {}
--setmetatable(getpathcache, {__mode = "kv"}) -- weak keys/values = it'll periodically get cleaned up by gc

function mmp.getPath(from, to)
  assert(tonumber(from) and tonumber(to), "mmp.getPath: both from and to have to be room IDs")
  local key = string.format("%s_%s", from, to)
  local resulttbl = getpathcache[key]
  -- not in cache?
  if not resulttbl then
    mmp.computeGetPath = mmp.computeGetPath or createStopWatch()
    startStopWatch(mmp.computeGetPath)
    local boolean = getPath(from, to)
    if mmp.debug then
      mmp.echo(
        "a new getPath() from " ..
        from ..
        " to " ..
        to ..
        " took " ..
        stopStopWatch(mmp.computeGetPath) ..
        "s."
      )
    end
    -- save it into the cache &amp; send away
    getpathcache[key] = {boolean, speedWalkDir, speedWalkPath}
    return boolean
  end
  -- or if it is, retrieve &amp; send away
  speedWalkDir = resulttbl[2]
  speedWalkPath = resulttbl[3]
  return resulttbl[1]
end

function mmp.clearpathcache()
  if mmp.debug then
    mmp.echo("path cache cleared")
  end
  getpathcache = {}
end

registerAnonymousEventHandler("mmapper updated map","mmp.clearpathcache")

function mmp.showpathcache()
  return getpathcache
end

function mmp.setmovetimer(time, ignoreLatency)
  if mmp.movetimer then
    killTimer(mmp.movetimer)
  end
  if mmp.settings.slowwalk and not mmp.hasty then
    return
  end
  local laglevel = mmp.settings.laglevel or 1
  time = time or mmp.lagtable[laglevel].time
  local latency = ignoreLatency and 0 or getNetworkLatency()
  if mmp.debug then
    mmp.echo(f'setting move timer according to time {time} and latency {latency}')
  end
  mmp.movetimer =
    tempTimer(
      latency + time,
      function()
        if mmp.debug then
          mmp.echo('move timer fired')
        end
        mmp.movetimer = false
        mmp.move()
      end
    )
end

-- moves to the next room we need to.

function mmp.move()
  if mmp.paused or not mmp.autowalking or mmp.movetimer or not mmp.canmove() then
    return
  end
  -- sometimes it's 0 - default to 1
  if mmp.speedWalkCounter == 0 then
    mmp.speedWalkCounter = 1
  end
  local cmd
  if mmp.settings["caravan"] then
    cmd = "lead caravan " .. mmp.speedWalkDir[mmp.speedWalkCounter]
  else
    cmd = mmp.speedWalkDir[mmp.speedWalkCounter]
  end
  cmd = cmd or ''
  -- timeout before loadstring, so it can set its own if it would like to.
  mmp.setmovetimer()
  if string.starts(cmd, "script:") then
    cmd = string.gsub(cmd, "script:", "")
    loadstring(cmd)()
    if mmp.settings.showcmds and not mmp.hasty then
      cecho(
        string.format(
          "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)",
          #mmp.speedWalkDir - mmp.speedWalkCounter + 1,
          "&lt;script&gt;"
        )
      )
    end
    mmp.hasty = false
  else
    send(cmd, false)
    if mmp.settings.showcmds and not mmp.hasty then
      cecho(
        string.format(
          "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;%s&lt;red&gt;)",
          #mmp.speedWalkDir - mmp.speedWalkCounter + 1,
          cmd
        )
      )
    end
    mmp.hasty = false
  end
end

function mmp.swim()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[mmp.speedWalkCounter] then
    return
  end
  send(
    "swim " ..
    mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;swim %s&lt;red&gt;)",
        #mmp.speedWalkDir - mmp.speedWalkCounter + 1,
        mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
  mmp.hasty = true
  mmp.setmovetimer(2.5)
end

function mmp.enterGrate()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[mmp.speedWalkCounter] then
    return
  end
  send("enter grate " .. mmp.speedWalkDir[mmp.speedWalkCounter], false)
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;enter grate %s&lt;red&gt;)",
        #mmp.speedWalkDir - mmp.speedWalkCounter + 1,
        mmp.speedWalkDir[mmp.speedWalkCounter]
      )
    )
  end
  mmp.hasty = true
  mmp.setmovetimer(2.5)
end

function mmp.openDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[mmp.speedWalkCounter] then
    return
  end
  if mmp.game == "asteria" then
   send(
    "open " ..
    mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;open %s&lt;red&gt;)",
        #mmp.speedWalkDir - mmp.speedWalkCounter + 1,
        mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
else
  send(
    "open door " ..
    mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;open door %s&lt;red&gt;)",
        #mmp.speedWalkDir - mmp.speedWalkCounter + 1,
        mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
end
  mmp.hasty = true
  mmp.setmovetimer(getNetworkLatency())
end

function mmp.unlockDoor()
  -- not going anywhere? don't do anything
  if not mmp.speedWalkDir[mmp.speedWalkCounter] then
    return
  end
  send(
    "unlock door " ..
    mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
      "runaway ", ""
    ),
    false
  )
  if mmp.settings.showcmds then
    cecho(
      string.format(
        "&lt;red&gt;(&lt;maroon&gt;%d - &lt;dark_slate_grey&gt;unlock door %s&lt;red&gt;)",
        #mmp.speedWalkDir - mmp.speedWalkCounter,
        mmp.speedWalkDir[mmp.speedWalkCounter]:gsub("sprint ", ""):gsub("dash ", ""):gsub("gallop ", ""):gsub(
          "runaway ", ""
        )
      )
    )
  end
  mmp.hasty = true
  mmp.setmovetimer(getNetworkLatency())
end

function mmp.customwalkdelay(delay)
  mmp.setmovetimer(getNetworkLatency() + delay)
end

function mmp.stop()
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  mmp.speedWalkCounter = 0
  stopStopWatch(mmp.speedWalkWatch)
  --if mmp.movetimer then killTimer( mmp.movetimer ) end
  mmp.autowalking = false
  -- clear all the temps we've got
  for trigger, ID in pairs(mmp.specials) do
    killTrigger(ID)
  end
  mmp.specials = {}
  mmp.echo("Stopped walking.")
  raiseEvent("mmapper stopped")
  if mmp.settings.shackle then
    expandAlias("wear shackle")
  end
end

-- Aetolia and Lusternia support showing balances in GMCP. This is easy to support, so we do!
-- if we can't move, setup a polling timer to prompt walking when we can again.
-- popular systems that expose balance &amp; equilibrium values can be added here as well, perhaps though a similarly-named function.

function mmp.canmove(fromtimer)
  if mmp.mapperCanMove and mmp.mapperCanMove() then
    if fromtimer then
      mmp.move()
    else
      return true
    end
  elseif mmp.mapperCanMove then
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end
  if not gmcp.Char then
    return true
  end
  -- Achaea
  -- Lusternia
 if
    (
      gmcp.Char and
      (not gmcp.Char.Vitals.bal or gmcp.Char.Vitals.bal == "1") and
      (not gmcp.Char.Vitals.eq or gmcp.Char.Vitals.eq == "1") and
      (not gmcp.Char.Vitals.balance or gmcp.Char.Vitals.balance == "1") and
      (not gmcp.Char.Vitals.equilibrium or gmcp.Char.Vitals.equilibrium == "1") and
      (not gmcp.Char.Vitals.right_arm or gmcp.Char.Vitals.right_arm == "1") and
      (not gmcp.Char.Vitals.left_arm or gmcp.Char.Vitals.left_arm == "1") and
      (not gmcp.Char.Vitals.right_leg or gmcp.Char.Vitals.right_leg == "1") and
      (not gmcp.Char.Vitals.left_leg or gmcp.Char.Vitals.left_leg == "1") and
      (not gmcp.Char.Vitals.psisuper or gmcp.Char.Vitals.psisuper ~= "0") and
      (not gmcp.Char.Vitals.psisub or gmcp.Char.Vitals.psisub ~= "0") and
      (not gmcp.Char.Vitals.psiid or gmcp.Char.Vitals.psiid ~= "0") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.balance == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.equilibrium == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.rarm == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.larm == "1") and
      (not gmcp.Char.Balance or gmcp.Char.Balance.List.legs == "1") and
      (not gmcp.Char.Vitals.prone or (gmcp.Char.Vitals.prone == "0" or gmcp.Char.Vitals.prone == 0)
    ))
  then
    if fromtimer then
      mmp.move()
    else
      return true
    end
  else
    tempTimer(0.2, [[mmp.canmove(true)]])
    return false
  end
end

local oldnum

function mmp.speedwalking(event, num)
  local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
  if num ~= mmp.currentroom then
    mmp.previousroom = mmp.currentroom
  end
  mmp.currentroom = num
  mmp.currentroomname = getRoomName(num)
  -- Try to track if we're flying or not, for Imperian wings
  -- This is to avoid being "off path" if we FLY due to wings.
  local madeflight = false
  if gmcp.Room then
    local flying = false
    if string.find(gmcp.Room.Info.name, "^flying above") then
      flying = true
    end
    if mmp.flying and not flying then
      -- We were flying, and now we are not. Gravity!
      mmp.flying = false
    elseif not mmp.flying and flying then
      -- We were not flying and now we are.
      madeflight = true
      mmp.flying = true
    elseif not flying then
      mmp.flying = false
    end
  else
    mmp.flying = false
  end
  -- track if we're inside or outside, if possible
  if gmcp.Room then
    local areaID = getRoomArea(mmp.currentroom)
    if
      mmp.inside and
      not (
        table.contains(gmcp.Room.Info.details, "indoors") or
        table.contains(gmcp.Room.Info.details, "considered indoors")
      ) and
      not mmp.orbed()
    then
      mmp.inside = false
      raiseEvent("mmapper went outside")
    elseif
      not mmp.inside and
      (
        table.contains(gmcp.Room.Info.details, "indoors") or
        table.contains(gmcp.Room.Info.details, "considered indoors") or
        mmp.orbed()
      )
    then
      mmp.inside = true
      raiseEvent("mmapper went inside")
    end
    if
      #table.n_union(
        mmp.getareacontinents(getRoomArea(mmp.previousroom)),
        mmp.getareacontinents(getRoomArea(num))
      ) ~= #mmp.getareacontinents(getRoomArea(num))
    then
      raiseEvent("mmapper changed continent")
    end
    -- the event could cancel speedwalking - in this case quit
    if mmp.ignore_speedwalking then
      mmp.ignore_speedwalking = nil
      return
    end
  end
  if oldnum == num then
    return
  else
    oldnum = num
  end
  if not mmp.autowalking then
    return
  end
  if mmp.movetimer then
    killTimer(mmp.movetimer)
    mmp.movetimer = false
  end
  if num == mmp.speedWalkPath[#mmp.speedWalkPath] then
    local walktime = stopStopWatch(mmp.speedWalkWatch)
    mmp.echo(string.format("We've arrived! Took us %.1fs.\n", walktime))
    raiseEvent("mmapper arrived")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    mmp.speedWalkCounter = 0
    mmp.autowalking = false
  elseif mmp.speedWalkPath[mmp.speedWalkCounter] == num then
    mmp.speedWalkCounter = mmp.speedWalkCounter + 1
    tempPromptTrigger(mmp.move, 1)
  elseif mmp.game == "imperian" and madeflight then
    mmp.echo("We began flying!")
    tempPromptTrigger(mmp.move, 1)
  elseif
    #mmp.speedWalkPath &gt; 0 and
    not mmp.ferry_rooms[num] and
    not (gmcp.Room.Info.details and table.contains(gmcp.Room.Info.details, "ferry"))
  then
    -- ended up somewhere we didn't want to be, and this isn't a ferry room?
    speedWalkMoved = false
    -- re-calculate path then
    mmp.echo("Ended up off the path, recalculating a new path...")
    local destination = mmp.speedWalkPath[#mmp.speedWalkPath]
    if not mmp.getPath(num, destination) then
      mmp.echo(
        string.format(
          "Don't know how to get to %d (%s) anymore :( Move into a room we know of to continue",
          destination,
          getRoomName(destination)
        )
      )
    else
      mmp.gotoRoom(destination)
    end
  end
end

-- doSpeedWalk is used by the mudlet mapping script and should not be changed
function doSpeedWalk(dashtype)
  mmp.speedWalkDir = mmp.deepcopy(speedWalkDir)
  mmp.speedWalkPath = mmp.deepcopy(speedWalkPath)
  speedWalkDir, speedWalkPath = {}, {}
  resetStopWatch(mmp.speedWalkWatch)
  startStopWatch(mmp.speedWalkWatch)
  if
    mmp.settings["gallop"] or
    mmp.settings["dash"] or
    mmp.settings.sprint or
    mmp.settings.runaway or
    dashtype
  then
    mmp.fixPath(
      mmp.currentroom,
      mmp.speedWalkPath[#mmp.speedWalkPath],
      (mmp.settings["gallop"] and "gallop") or
      (mmp.settings["dash"] and "dash") or
      (mmp.settings.sprint and "sprint") or
      (mmp.settings.runaway and "runaway") or
      dashtype
    )
  end
  mmp.fixSpecialExits(mmp.speedWalkDir)
  if #mmp.speedWalkPath == 0 then
    mmp.autowalking = false
    mmp.echo("Couldn't find a path to the destination :(")
    raiseEvent("mmapper failed path")
    if mmp.settings.shackle then
      expandAlias("wear shackle")
    end
    return
  end
  -- this is a fix: convert nums to actual numbers
  for i = 1, #mmp.speedWalkPath do
    mmp.speedWalkPath[i] = tonumber(mmp.speedWalkPath[i])
  end
  mmp.autowalking = true
  raiseEvent("s")
  if mmp.settings.shackle then
    expandAlias("remove shackle")
  end
  if not mmp.paused then
    mmp.echon("Starting speedwalk from " .. (atcp.RoomNum or gmcp.Room.Info.num) .. " to ")
    cechoLink(
      "&lt;" .. mmp.settings.echocolour .. "&gt;" .. mmp.speedWalkPath[#mmp.speedWalkPath],
      'mmp.gotoRoom "' .. mmp.speedWalkPath[#mmp.speedWalkPath] .. '"',
      'Go to ' .. mmp.speedWalkPath[#mmp.speedWalkPath],
      true
    )
    echo(": ")
    mmp.speedWalkCounter = 1
    if mmp.canmove() then
      mmp.hasty = true
      mmp.setmovetimer(0.1, true)
    else
      echo("(when we get balance back / aren't hindered)")
    end
  else
    mmp.echo(
      "Will go to " ..
      mmp.speedWalkPath[#mmp.speedWalkPath] ..
      " as soon as the mapper is unpaused."
    )
  end
end

function mmp.failpath()
  if mmp.movetimer then
    local walktime = stopStopWatch(mmp.speedWalkWatch)
    mmp.echo(string.format("Can't continue further! Took us %.1fs to get here.\n", walktime))
  end
  mmp.autowalking = false
  if mmp.settings.shackle then
    expandAlias("wear shackle")
  end
  mmp.speedWalkPath = {}
  mmp.speedWalkDir = {}
  mmp.speedWalkCounter = 0
  if mmp.movetimer then
    killTimer(mmp.movetimer)
    mmp.movetimer = nil
  end
  raiseEvent("mmapper failed path")
end

function mmp.changeBoolFunc(name, option)
  local en
  en = option and "will now use" or "will no longer use"
  mmp.echo("&lt;green&gt;Okay, the mapper " .. en .. " &lt;white&gt;" .. name .. "&lt;green&gt;!")
end

function mmp.fixPath(rFrom, rTo, dashtype)
  local currentPath, currentIds = {}, {}
  local dRef = {["n"] = "north", ["e"] = "east", ["s"] = "south", ["w"] = "west"}
  if not getPath(rFrom, rTo) then
    return false
  end
  -- Logic: Look for a direction repeated at least two times.
  -- count the number of times it repeats, then look that many rooms ahead.
  -- if that room also contains the direction we're headed, just travel that many directions.
  -- otherwise, dash.
  local repCount = 1
  local index = 1
  local dashExaust = false
  while mmp.speedWalkDir[index] do
    if not table.contains(getSpecialExits(mmp.speedWalkPath[index]), mmp.speedWalkDir[index]) then
      dashExaust = false
      repCount = 1
      while mmp.speedWalkDir[index + repCount] == mmp.speedWalkDir[index] do
        repCount = repCount + 1
        if repCount == 11 then
          dashExaust = true
          break
        end
      end
      if repCount &gt; 1 then
        -- Found direction repetition. Calculate dash path.
        local exits = getRoomExits(mmp.speedWalkPath[index + (repCount - 1)])
        local pname = ""
        for word in mmp.speedWalkDir[index]:gmatch("%w") do
          pname = pname .. (dRef[word] or word)
        end
        if not exits[pname] or dashExaust then
          -- Final room in this direction does not continue, dash!
          table.insert(currentPath, string.format("%s %s", dashtype, mmp.speedWalkDir[index]))
          currentIds[#currentIds + 1] = mmp.speedWalkPath[index + repCount - 1]
        else
          -- Final room in this direction continues onwards, don't dash unless on achaea
          if mmp.game == "achaea" then
            table.insert(
              currentPath, string.format("%s %s %s", dashtype, mmp.speedWalkDir[index], repCount)
            )
            currentIds[#currentIds + 1] = mmp.speedWalkPath[index + repCount - 1]
          else
            for i = 1, repCount do
              table.insert(currentPath, mmp.speedWalkDir[index])
              currentIds[#currentIds + 1] = mmp.speedWalkPath[index + i - 1]
            end
          end
        end
        index = index + repCount
      else
        -- No repetition, just add the direction.
        table.insert(currentPath, mmp.speedWalkDir[index])
        currentIds[#currentIds + 1] = mmp.speedWalkPath[index]
        index = index + 1
      end
    else
      -- Special exit, skip over this step
      table.insert(currentPath, mmp.speedWalkDir[index])
      currentIds[#currentIds + 1] = mmp.speedWalkPath[index]
      index = index + 1
    end
  end
  mmp.speedWalkDir = currentPath
  mmp.speedWalkPath = currentIds
  return true
end

-- a certain version of the mapper gave us special exits prepended with 0 or 1 in the command
-- depending on if it was locked. Need to remove these before we can use them

function mmp.fixSpecialExits(directions)
  for i = 1, #directions do
    if directions[i]:match("^%d") then
      directions[i] = directions[i]:sub(2)
    end
  end
end

-- cleanup function to remove the temp special exit we made

function mmp.clearspecials(deleterooms)
  local t = getSpecialExits(mmp.currentroom)
  for connectingroom, exits in pairs(t) do
    if table.contains(deleterooms, connectingroom) then
      -- delete the special exits linking to this room
      for command, locked in pairs(exits) do
        removeSpecialExit(mmp.currentroom, command)
      end
    end
  end
end

function mmp.getShortestOfMultipleRooms(possibleRooms)
  local shortestWeight, closestRoom = 10000000, 0
  local checkedsofar, outoftime = 0, false
  local getStopWatchTime, tonumber = getStopWatchTime, tonumber

  -- allocate only 500ms to finding the shortest path, or more if we failed to find anything
  mmp.computeShortestWatch = mmp.computeShortestWatch or createStopWatch()
  startStopWatch(mmp.computeShortestWatch)
  raiseEvent("mmp link externals")

  -- mmp.echo(string.format("Have %s rooms nodes, %ss taken so far...", table.size(possibleRooms), getStopWatchTime(mmp.computeShortestWatch)))
  for _, id in pairs(possibleRooms) do
    local possible, thisWeight = getPath(mmp.currentroom, tonumber(id))
    if possible and thisWeight &lt; shortestWeight then
      shortestWeight = thisWeight
      closestRoom = tonumber(id)
    end
    checkedsofar = checkedsofar + 1
    if (getStopWatchTime(mmp.computeShortestWatch) &gt;= .5) then
      outoftime = true
      break
    end

    -- mmp.echo(string.format("pathed from %s to %s, running time so far: %s", mmp.currentroom, id, getStopWatchTime(mmp.computeShortestWatch)))
  end
  --mmp.echo(string.format("total time took: %s", getStopWatchTime(mmp.computeShortestWatch)))
  stopStopWatch(mmp.computeShortestWatch)
  return closestRoom, outoftime, checkedsofar
end

function mmp.gotoAreaID(areaid, number, dashtype)
  if not areaid or not tonumber(areaid) then
    mmp.echo("To where do you want to go?")
    return
  end
  areaid = tonumber(areaid)
  if not mmp.areatabler[areaid] then
    mmp.echo("Invalid area ID selected")
    return
  end
  local possibleRooms, shortestBorder = {}, 0
  for id,_ in pairs(mmp.getAreaBorders(areaid)) do
    possibleRooms[#possibleRooms+1] = id
  end
  shortestBorder, outoftime, checkedsofar = mmp.getShortestOfMultipleRooms(possibleRooms)
  if shortestBorder == 0 then
    if outoftime then
      mmp.echo(
        string.format(
          "I checked %d of the %d possible exits \"%s\" has, but none of the ways there worked and it was taking too long :( try doing this again?",
          checkedsofar,
          table.size(possibleRooms),
          getRoomAreaName(areaid)
        )
      )
    else
      mmp.echo(
        "Checked " ..
        table.size(possibleRooms) ..
        " exits in that area, and none of them worked :( I Don't know how to get you there."
      )
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    mmp.speedWalkCounter = 0
    raiseEvent("mmapper failed path")
    raiseEvent("mmp clear externals")
    return
  end
  raiseEvent("mmp clear externals")
  mmp.gotoRoom(shortestBorder, dashtype, "area")
end

function mmp.gotoFeature(partialFeatureName, dashtype)
  local mapFeatures = mmp.getMapFeatures()
  local feature
  if mapFeatures[partialFeatureName:lower()] then
    feature = partialFeatureName:lower()
  else
    for key in pairs(mapFeatures) do
      if key:find(partialFeatureName:lower()) then
        feature = key
        break
      end
    end
  end
  if not feature then
    mmp.echo("No feature like " .. partialFeatureName .. " found.")
    return
  end
  local possibleRooms = searchRoomUserData("feature-" .. feature, "true")
  closestFeature, outoftime, checkedsofar = mmp.getShortestOfMultipleRooms(possibleRooms)
  if closestFeature == 0 then
    if outoftime then
      mmp.echo(
        string.format(
          "I checked %d of the %d possible features \"%s\" has, but none of the ways there worked and it was taking too long :( try doing this again?",
          checkedsofar,
          table.size(possibleRooms),
          partialFeatureName
        )
      )
    else
      mmp.echo(
        "Checked " ..
        table.size(possibleRooms) ..
        " rooms with that feature, and none of them worked :( I Don't know how to get you there."
      )
    end
    mmp.speedWalkPath = {}
    mmp.speedWalkDir = {}
    mmp.speedWalkCounter = 0
    raiseEvent("mmapper failed path")
    raiseEvent("mmp clear externals")
    return
  end
  raiseEvent("mmp clear externals")
  mmp.gotoRoom(closestFeature, dashtype, "area")
end</script>
						<eventHandlerList>
							<string>RoomNum</string>
							<string>gmcp.Room.Info</string>
						</eventHandlerList>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>mmp.wentOutside</name>
						<packageName></packageName>
						<script>--genericized version of the went_outside event handlers.
--when you go outside, it sees if a shorter path can be found using external links. If so, routes you on the new path instead.
function mmp.wentOutside()
  if
    not mmp.autowalking or
    (mmp.currentroom == mmp.speedWalkPath[#mmp.speedWalkPath]) or
    table.contains(gmcp.Room.Info.details, "indoors") or
    table.contains(gmcp.Room.Info.details, "considered indoors") or
    mmp.orbed(mmp.currentroom)
  then
    return
  end
  -- repath, maybe that'll allow us to use wings now.
  local previousDirection = mmp.speedWalkDir[mmp.speedWalkCounter + 1]
  if mmp.speedWalk.type == "room" then
    raiseEvent("mmp link externals")
    mmp.getPath(mmp.currentroom, mmp.speedWalkPath[#mmp.speedWalkPath])
    raiseEvent("mmp clear externals")
    -- don't need to check return value since that fact shouldnt've changed
  else
    mmp.gotoAreaID(getRoomArea(mmp.speedWalkPath[#mmp.speedWalkPath]))
  end
  -- if our path didn't change, re-instate it as it was (since the new path starts from this room that we checked at)
  if speedWalkDir[1] ~= previousDirection then
    mmp.speedWalkCounter = 0
    mmp.echo("We got outside - going to shortcut with travel device.")
    if mmp.speedWalk.type == "room" then
      mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath])
    else
      mmp.gotoAreaID(getRoomArea(mmp.speedWalkPath[#mmp.speedWalkPath]))
    end
    mmp.ignore_speedwalking = true
  end
end</script>
						<eventHandlerList>
							<string>mmapper went outside</string>
							<string>mmapper changed continent</string>
						</eventHandlerList>
					</Script>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Wings and other fast travel</name>
						<packageName></packageName>
						<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>Wings functions</name>
							<packageName></packageName>
							<script>local exitsCreated = exitsCreated or {}

function mmp.tempSpecialExit(start, destination, command, weight)
  if type(destination) == "string" then
    -- no start room given, so shift all arguments one to the right
    start, destination, command, weight = mmp.currentroom, start, destination, command
  end
  table.insert(exitsCreated, {room = start, command = command})
  addSpecialExit(start, destination, command)
  if weight then
    setExitWeight(start, command, weight)
  end
end

function mmp.removeWings()
  --remove all special exits that were created by addWings, then resets the table.
  for _, exit in ipairs(exitsCreated) do
    removeSpecialExit(exit.room, exit.command)
  end
  exitsCreated = {}
end

registerAnonymousEventHandler("mmp clear externals", "mmp.removeWings")</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Achaea</name>
							<packageName></packageName>
							<script>registerAnonymousEventHandler("mmp link externals", "mmp.addWingsAchaea")



function mmp.addWingsAchaea()
  --Trimmed down version of the original function, meant to only be used for wings. (Where the command varies based on several MCONFIGS)

  local function getcmd(word)
    return
      mmp.settings.removewings and
      string.format(
        [[script:sendAll("wear wings", "say *%s %s", "remove wings", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      ) or
      string.format(
        [[script:send("say *%s %s", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      )
  end

  --Achaea stuff!
  if mmp.game ~= "achaea" then
    return
  end
  local area = getRoomArea(mmp.currentroom)
  --WINGS!
  if
    (mmp.settings.duanathar or mmp.settings.duanatharan or mmp.settings.duantahar) and
    not mmp.inside
  then
    --Sarapis wings.
    if mmp.oncontinent(area, "Main") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(4882, getcmd("duanatharan"))
        mmp.tempSpecialExit(3885, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(42319, getcmd("duanathar"))
        mmp.tempSpecialExit(4882, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(3885, getcmd("duanathar"))
      end
      --Meropis Wings
    elseif mmp.oncontinent(area, "Meropis") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(51603, getcmd("duanatharan"))
        mmp.tempSpecialExit(51188, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(42319, getcmd("duanathar"))
        mmp.tempSpecialExit(51603, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(51188, getcmd("duanathar"))
      end
    end
  end
  --Island wings.
  if mmp.settings.duanatharic and not mmp.inside then
    if
      mmp.oncontinent(area, "Main") or
      mmp.oncontinent(area, "Arcadia") or
      mmp.oncontinent(area, "Outer") or
      mmp.oncontinent(area, "Meropis") or
      mmp.oncontinent(area, "Island") or
      mmp.oncontinent(area, "North")
    then
      mmp.tempSpecialExit(47571, getcmd("duanatharic"))
    end
  end
  -- Stratospheric Harness support -- PapaGuacamole
  if mmp.settings.harness and not mmp.inside then
    -- eastern isles
    if mmp.oncontinent(area, "Eastern_Isles") then
      mmp.tempSpecialExit(54231, "Shake Harness")
      -- northern isles
    elseif mmp.oncontinent(area, "Northen_Isles") then
      mmp.tempSpecialExit(48719, "Shake Harness")
      -- western isles
    elseif mmp.oncontinent(area, "Western_Isles") then
      mmp.tempSpecialExit(54632, "Shake Harness")
    end
  end
  -- Air Elemental Aero Soar
  if mmp.settings.soar and not mmp.inside then
    --Sarapis soar.
    if mmp.oncontinent(area, "Main") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(4882, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(3885, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
      --Meropis soar
    elseif mmp.oncontinent(area, "Meropis") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(51603, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(51188, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
    end
  end
  --universe tarot
  if mmp.settings.universe and mmp.oncontinent(area, "Main") then
    local tarotLocations =
      {
        azdun = 1772,
        blackrock = 10573,
        bitterfork = 25093,
        genji = 10091,
        manusha = 8730,
        newthera = 20386,
        caerwitrin = 17678,
        shastaan = 2855,
        mannaseh = 1745,
        manara = 9124,
        brasslantern = 30383,
        mhojave = 39103,
        thraasi = 35703,
        newhope = 25581,
      }
    for village, roomnum in pairs(tarotLocations) do
      mmp.tempSpecialExit(
        roomnum,
        [=[script:
        mmp.customwalkdelay(4.5)
        send("fling universe at ground",false)
        tempTimer(4,[[send("touch ]=] ..
        village ..
        [=[",false)]])
        ]=],
        10
      )
    end
  end
  --gare
  if mmp.settings.gare and gmcp.Char and string.match(gmcp.Char.Status.race, "Dragon") then
    if
      mmp.oncontinent(area, "Main") or
      mmp.oncontinent(area, "Meropis") or
      mmp.oncontinent(area, "Island") or
      mmp.oncontinent(area, "North") or
      mmp.oncontinent(area, "Arcadia")
    then
      mmp.tempSpecialExit(
        12695,
        [=[script:
        mmp.customwalkdelay(4.5)
        send("pierce the veil",false)
        ]=],
        20
      )
    end
  end
  mmp.clearpathcache()
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Achaea betterWings</name>
							<packageName></packageName>
							<script>--builds a table based on current orb settings, then returns a function which can be used to quickly check that table.

local function orbedBlackList()
  local bannedAreas = {}
  local areaTable = mmp.getAchaeaOrbTable()
  for org, areas in pairs(areaTable) do
    for _, area in pairs(areas) do
      bannedAreas[area] = mmp.settings["orb" .. org]
    end
  end
  return
    function(roomId)
      return not bannedAreas[getRoomArea(roomId)]
    end
end

--searches for closest room that meets requirements.
--does stuff to handle weighted rooms, locked rooms, special exits.

local function closestOutdoors(startRoom)
--visited is rooms which have already been found by the search.
  local visited = {[startRoom] = true}
  --checking is the rooms that it is currently checking to see if they meet the desired conditions.
  local checking = {[startRoom] = true}
  --nextCheck is a list of rooms which will be checked once the algorithm is finished with the rooms in checking.
  local nextCheck = {}
  --weightedRooms contains rooms with greater than 1 weight, so that they can be handled differently.
  local weightedRooms = {}
  local orbed = orbedBlackList()

  --functions for handling weighted rooms.
  local function addWeighted(room, weight)
    if not weightedRooms[room] or weight &lt; weightedRooms[room] then
      weightedRooms[room] = weight
    end
  end

  --this function subtracts 1 from every room weight in the weighted room list.
  --if they hit zero then it will add them to the checking table and removes them from weightedRooms

  local function reduceWeights()
    --display(weightedRooms)
    local toDelete = {}
    for room, weight in pairs(weightedRooms) do
      weightedRooms[room] = weightedRooms[room] - 1
      if weightedRooms[room] &lt;= 0 then
        if not visited[room] then
          checking[room] = true
          visited[room] = true
        end
        toDelete[room] = true
      end
    end
    --cleans up the weighted stuff.
    for room, _ in pairs(toDelete) do
      weightedRooms[room] = nil
    end
  end

  local stopwatch = createStopWatch()
  startStopWatch(stopwatch)
  --only willing to search for 500ms. Will abort in longer cases,
  while getStopWatchTime(stopwatch) &lt; .5 do
    for room, val in pairs(checking) do
      --if these conditions are met, returns a roomid and exits out.
      --probably doesn't work great on weird planes, as when off plane, the room returned may not work for wings.
      if getRoomUserData(room, "outdoors") == "y" and orbed(room) then
        return room
      end
      local weights = getExitWeights(room)
      --loops through all exits in the room, doing stuff.
      for direction, destRoom in pairs(getRoomExits(room)) do
        if not mmp.hasExitLock(room, direction) and not visited[destRoom] then
          --if the exit+roomweight is higher than 1 (the default, for 1 room weight + 0 exit weight), then do a room weight subroutine
          if
            (((weights[direction] or 0) + getRoomWeight(destRoom)) &gt; 1) and not roomLocked(destRoom)
          then
            addWeighted(destRoom, (weights[direction] or 0) + getRoomWeight(destRoom))
          else
            --add it to visited, so it doesn't double back on it in the future.
            visited[destRoom] = true
            --if it's not locked, add it to nextCheck, which are the rooms that it searches through next cycle.
            --if it is locked, just ignore it.
            if not roomLocked(destRoom) then
              nextCheck[destRoom] = true
            end
          end
        end
      end
      --same as above loop, but for specialExits
      for destRoom, specialExits in pairs(getSpecialExits(room)) do
        for specialExit, locked in pairs(specialExits) do
          if locked == "0" and not visited[destRoom] then
            if
              (((weights[direction] or 0) + getRoomWeight(destRoom)) &gt; 1) and
              not roomLocked(destRoom)
            then
              addWeighted(destRoom, (weights[direction] or 0) + getRoomWeight(destRoom))
            else
              visited[destRoom] = true
            end
            if not roomLocked(destRoom) then
              nextCheck[destRoom] = true
            end
          end
        end
      end
    end
    --replaces checking with the next set of rooms to check, and clears nextCheck.
    checking, nextCheck = nextCheck, {}
    reduceWeights()
    --if no rooms on checking and weightedRooms, exits out.
    --If no rooms in checking but there are rooms in weightedRooms, it will iterate down the weights until something is in checking.
    if not next(checking) then
      if next(weightedRooms) then
        while next(weightedRooms) and not next(checking) do
          reduceWeights()
        end
      else
        return
      end
    end
  end
end

--does the actual linking and stuff. Mostly copied over from the main wings script.
--however, half of the checks have been removed because they were already done in the process
--of searching for a valid outdoors room.

local function linkWingsRemote(room)
  local function getcmd(word)
    return
      mmp.settings.removewings and
      string.format(
        [[script:sendAll("wear wings", "say *%s %s", "remove wings", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      ) or
      string.format(
        [[script:send("say *%s %s", false)]],
        (mmp.settings.winglanguage and mmp.settings.winglanguage or ""),
        word
      )
  end

  --decided to pull this out and set it as a local variable instead of calling it 20x throughout the script.
  local area = getRoomArea(room)
  --sarapis wings
  if (mmp.settings.duanathar or mmp.settings.duanatharan or mmp.settings.duantahar) then
    if mmp.oncontinent(area, "Main") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(room, 4882, getcmd("duanatharan"))
        mmp.tempSpecialExit(room, 3885, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(room, 42319, getcmd("duanathar"))
        mmp.tempSpecialExit(room, 4882, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(room, 3885, getcmd("duanathar"))
      end
      --Meropis Wings
    elseif mmp.oncontinent(area, "Meropis") then
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(room, 51603, getcmd("duanatharan"))
        mmp.tempSpecialExit(room, 51188, getcmd("duanathar"))
      elseif mmp.settings.duantahar then
        mmp.tempSpecialExit(room, 42319, getcmd("duanathar"))
        mmp.tempSpecialExit(room, 51603, getcmd("duanatharan"))
      else
        mmp.tempSpecialExit(room, 51188, getcmd("duanathar"))
      end
    end
  end
  --island wings
  if
    mmp.settings.duanatharic and
    (
      mmp.oncontinent(area, "Main") or
      mmp.oncontinent(area, "Arcadia") or
      mmp.oncontinent(area, "Outer") or
      mmp.oncontinent(area, "Meropis") or
      mmp.oncontinent(area, "Island") or
      mmp.oncontinent(area, "North")
    )
  then
    mmp.tempSpecialExit(room, 47571, getcmd("duanatharic"))
  end
  if mmp.settings.harness then
    -- eastern isles
    if mmp.oncontinent(area, "Eastern_Isles") then
      mmp.tempSpecialExit(room, 54231, "Shake Harness")
      -- northern isles
    elseif mmp.oncontinent(area, "Northen_Isles") then
      mmp.tempSpecialExit(room, 48719, "Shake Harness")
      -- western isles
    elseif mmp.oncontinent(area, "Western_Isles") then
      mmp.tempSpecialExit(room, 54632, "Shake Harness")
    end
  end
  if mmp.settings.soar then
    --Sarapis soar.
    if mmp.oncontinent(area, "Main") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(room, 4882, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(room, 3885, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(room, 54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
      --Meropis soar
    elseif mmp.oncontinent(area, "Meropis") then
      if
        gmcp.Char.Status.class == "air Elemental Lord" or
        gmcp.Char.Status.class == "air Elemental Lady"
      then
        mmp.tempSpecialExit(room, 51603, "aero soar high", 10)
        -- duanatharan
        mmp.tempSpecialExit(room, 51188, "aero soar low", 10)
        -- duanathar
        mmp.tempSpecialExit(room, 54173, "aero soar stratosphere", 10)
        -- Stratosphere!
      end
    end
  end
  mmp.clearpathcache()
end

--is called when you do pathfinding.

function mmp.achaeaBetterWings()
  --if you're not on achaea, or the crowdmap is not enabled, or the room you're in is flagged as outdoors, exit out.
  if
    (mmp.game ~= "achaea") or
    (not mmp.settings.betterwings) or
    (not mmp.settings.crowdmap) or
    (getRoomUserData(mmp.currentroom, "outdoors") == "y" and orbedBlackList()(mmp.currentroom))
  then
    return
  end
  --if none of the shortcut items are enabled, return.
  if
    not (
      mmp.settings.duanathar or
      mmp.settings.duantahar or
      mmp.settings.duanatharan or
      mmp.settings.soar or
      mmp.settings.harness or
      mmp.settings.duanatharic
    )
  then
    return
  end
  --find closest room, if that function returned something useful, call above function to create temporary remote special exits depending on settings.
  local closestRoom = closestOutdoors(mmp.currentroom)
  if closestRoom then
    if mmp.debug then
      mmp.echo("Closest outdoors room found at "..closestRoom)
    end
    linkWingsRemote(closestRoom)
  end
end

registerAnonymousEventHandler("mmp link externals", "mmp.achaeaBetterWings")</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Lusternia</name>
							<packageName></packageName>
							<script>registerAnonymousEventHandler("mmp link externals", "mmp.addWingsLusternia")

function mmp.addWingsLusternia()
  if mmp.game ~= "lusternia" then
    return
  end
  --items that use standard bix rules
  if mmp.usebix() then
    --cubix and things
    if mmp.settings.medallion then
      mmp.tempSpecialExit(13367, "touch medallion")
    end
    if mmp.settings.cubix then
      mmp.tempSpecialExit(6184, "touch cubix")
    end
    if mmp.settings.torus and mmp.usebix() then
      mmp.tempSpecialExit(28548, "touch torus")
    end
    --epic quest items
    if mmp.settings.fingerblade then
      mmp.tempSpecialExit(18777, "touch fingerblade")
    end
    if mmp.settings.blossom then
      mmp.tempSpecialExit(18730, "touch blossom")
    end
    if mmp.settings.mandala then
      mmp.tempSpecialExit(19563, "touch mandala")
    end
    if mmp.settings.belt then
      mmp.tempSpecialExit(19627, "touch enlightened")
    end
    if mmp.settings.mantle then
      mmp.tempSpecialExit(18762, "touch starlight")
    end
    if mmp.settings.key then
      mmp.tempSpecialExit(18732, "touch key")
    end
  end
  --things which use prism rules
  if mmp.useprism() then
    if mmp.settings.prism then
      mmp.tempSpecialExit(6182, "touch prism")
    end
    --curio collections
    if mmp.settings.bonecurio then
      mmp.tempSpecialExit(28613, "curio collection activate bone")
    end
    if mmp.settings.flowercurio then
      mmp.tempSpecialExit(28624, "curio collection activate flower")
    end
    if mmp.settings.utensilcurio then
      mmp.tempSpecialExit(28617, "curio collection activate utensil")
    end
    if mmp.settings.fluttercurio then
      mmp.tempSpecialExit(28622, "curio collection activate flutter")
    end
    if mmp.settings.toolcurio then
      mmp.tempSpecialExit(28586, "curio collection activate tool")
    end
    if mmp.settings.facecurio then
      mmp.tempSpecialExit(28433, "curio collection activate face")
    end
    if mmp.settings.toycurio then
      mmp.tempSpecialExit(21548, "curio collection activate toy")
    end
    if mmp.settings.feathercurio then
      mmp.tempSpecialExit(28591, "curio collection activate feather")
    end
    if mmp.settings.figurecurio then
      mmp.tempSpecialExit(28312, "curio collection activate figure")
    end
    if mmp.settings.vernalcurio then
      mmp.tempSpecialExit(29908, "curio collection activate vernal")
    end
    if mmp.settings.soullesscurio then
      mmp.tempSpecialExit(29909, "curio collection activate soulless")
    end
  end
  --all the bubblixes!
  local bubblixes =
    {
      {
        setting = "figurine",
        item = "icebix",
        room = 23187,
        areas = {"Northern Icewynd Mountains", "Southern Icewynd Mountains"},
      },
      {setting = "twist", item = "diobix", room = 18203, areas = {"Mount Dio"}},
      {setting = "snowglobe", item = "treebix", room = 10992, areas = {"the Great Spirit Tree"}},
      {setting = "periscope", item = "aquabix", room = 36073, areas = {"Aquagoria"}},
      {setting = "pebble", item = "lyraabix", room = 33825, areas = {"Lyraa Ey Rielys"}},
      {setting = "shard", item = "xionbix", room = 12652, areas = {"the Workshop of Xion"}},
      {setting = "cookie", item = "crumbix", room = 9888, areas = {"Crumkindivia"}},
      {setting = "wheel", item = "drambix", room = 10509, areas = {"the Dramube Triangle"}},
      {setting = "head", item = "bottlebix", room = 11811, areas = {"the Bubble of Bottledowns"}},
      {setting = "icicle", item = "frostbix", room = 10457, areas = {"Frosticia"}},
      {setting = "screwdriver", item = "facbix", room = 10185, areas = {"the Facility"}},
      {setting = "mud", item = "mucklebix", room = 9985, areas = {"Mucklemarsh"}},
      {
        setting = "tibia",
        item = "cankerbix",
        room = 11600,
        areas = {"the Cankermore Battlegrounds"},
      },
    }
  local shortcutCreated = false
  for _, bubblix in pairs(bubblixes) do
    if mmp.settings[bubblix.setting] then
      local command = "touch " .. bubblix.item
      if not shortcutCreated then
        --for the first bubblix in the list, let it be used as a shortcut to aetherplex.
        mmp.tempSpecialExit(bubblix.room, 6831, command)
        shortcutCreated = true
      end
      --for every bix, create an exit from outside aetherplex to the bubble.
      mmp.tempSpecialExit(148, bubblix.room, command)
      if mmp.usebubblix() then
        if table.contains(bubblix.areas, gmcp.Room.Info.area) then
          mmp.tempSpecialExit(mmp.currentroom, 6831, command)
        elseif not table.contains(gmcp.Room.Info.details, "an Aetherbubble") then
          mmp.tempSpecialExit(mmp.currentroom, bubblix.room, command)
        end
      end
    end
  end
  --one use button travel!
  if mmp.settings.buttons then
    local colors =
      {
        blue = 36073,
        brown = 11811,
        black = 11600,
        yellow = 9888,
        red = 10509,
        steel = 10185,
        white = 10457,
        purple = 47812,
        green = 9985,
        crystal = 12652,
        wooden = 10992,
      }
    local exitScript = [[script:sendAll("outr %sbutton", "touch %sbutton", false)]]
    if
      table.contains(gmcp.Room.Info.details, "the Prime Material Plane") and
      table.contains(gmcp.Room.Info.details, "outdoors")
    then
      for color, room in pairs(colors) do
        mmp.tempSpecialExit(mmp.currentroom, room, exitScript:format(color, color), 20)
      end
    else
      for color, room in pairs(colors) do
        mmp.tempSpecialExit(148, room, exitScript:format(color, color), 20)
      end
    end
  end
  --basin of life specific travel devices
  if mmp.settings.compass then
    local startingRoom = mmp.lusterniaInBasin() and mmp.currentroom or 148
    local compassPoints =
      {
        north = 21695,
        northeast = 10742,
        northwest = 6546,
        east = 9789,
        southeast = 14998,
        south = 10670,
        southwest = 19613,
        west = 20037,
      }
    for direction, destinationRoom in pairs(compassPoints) do
      mmp.tempSpecialExit(startingRoom, destinationRoom, "Touch compass " .. direction, 40)
    end
  end
  mmp.clearpathcache()
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Imperian</name>
							<packageName></packageName>
							<script>registerAnonymousEventHandler("mmp link externals", "mmp.addWingsImperian")
mmp.imperian = mmp.imperian or {}

function mmp.addWingsImperian()
  local function getcmd(word)
    return
      mmp.settings.removewings and
      [[script:if mmp.flying then sendAll("queue eqbal wear wings","queue eqbal say ]] ..
      word ..
      [[","queue eqbal remove wings",false) else sendAll("wear wings","fly",false) end]] or
      [[script:if mmp.flying then sendAll("queue eqbal say ]] ..
      word ..
      [[",false) else sendAll("fly",false) end]]
  end

  if
    (mmp.settings.shekinah or mmp.settings.suriel) and
    gmcp.Room and
    not table.contains(gmcp.Room.Info.details, "indoors") and
    not table.contains(gmcp.Room.Info.details, "considered indoors") and
    table.contains(mmp.imperian.wingAbleAreas, getRoomArea(mmp.currentroom))
  then
    if mmp.settings.shekinah then
      -- Seraphim wings - "Say shekinah"
      local weight = 15
      if mmp.flying then
        weight = 1
      end
      mmp.tempSpecialExit(4882, getcmd("shekinah"), weight)
    elseif mmp.settings.suriel then
      -- Using Orphanim wings, SURIEL works, takes you to 3885
      local weight = 15
      if mmp.flying == "1" then
        weight = 1
      end
      mmp.tempSpecialExit(3885, getcmd("suriel"), weight)
      -- clear cache so mmp.getPath accounts for the new way
    end
  end
  mmp.clearpathcache()
end

mmp.imperian.wingAbleAreas =
  {
    45,
    35,
    15,
    56,
    101,
    123,
    36,
    110,
    18,
    75,
    172,
    9,
    66,
    148,
    113,
    175,
    188,
    244,
    88,
    171,
    118,
    295,
    167,
    25,
    139,
    70,
    132,
    28,
    135,
    174,
    8,
    275,
    107,
    53,
    112,
    185,
    158,
    164,
    299,
    74,
    351,
    16,
    63,
    269,
    77,
    85,
    142,
    328,
    318,
    46,
    95,
    17,
    329,
    33,
    96,
    82,
    47,
    144,
    121,
    3,
    68,
    51,
    134,
    1,
    319,
    11,
    19,
    129,
    146,
    65,
    324,
    325,
    125,
    191,
    163,
    30,
    54,
    292,
    290,
    7,
    136,
    267,
    335,
    102,
    43,
    89,
    20,
    169,
    49,
    147,
    196,
    301,
    252,
    99,
    145,
    195,
    130,
    42,
    270,
    166,
    128,
    168,
    34,
    223,
    170,
    22,
    27,
    138,
    115,
    337,
    44,
    6,
    161,
    32,
    92,
    83,
    294,
    104,
    69,
    23,
    155,
    350,
    48,
    57,
    150,
    97,
    341,
    105,
    340,
    5,
    194,
    338,
    327,
    271,
    323,
    322,
    79,
    122,
    62,
    131,
    176,
    133,
    310,
    307,
    120,
    137,
    13,
    76,
    160,
    60,
    304,
    94,
    306,
    303,
    81,
    291,
    276,
    302,
    149,
    297,
    179,
    272,
    41,
    293,
    289,
    91,
    159,
    71,
    157,
    298,
    266,
    208,
    109,
    80,
    14,
    2,
    186,
    12,
    178,
    52,
    124,
    274,
    141,
    343,
    177,
    67,
    103,
    111,
    72,
    268,
    87,
    117,
    21,
    353,
    253,
    93,
    308,
    40,
    248,
    243,
    4,
    153,
    212,
    116,
    84,
    197,
    61,
    78,
    184,
    173,
    31,
    98,
    114,
    162,
    50,
    37,
    140,
    73,
    127,
    156,
    90,
    100,
    143,
    309,
    126,
  }</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Aetolia</name>
							<packageName></packageName>
							<script>registerAnonymousEventHandler("mmp link externals", "mmp.addWingsAetolia")



function mmp.addWingsAetolia()
  if mmp.game ~= "aetolia" then return end
  
  --Check plane / continent
  if mmp.aetoliaPlane == "the Prime Material Plane" and mmp.aetoliaContinent == "the Continent of Sapience" and
  --health check
  tonumber(gmcp.Char.Vitals.hp)/tonumber(gmcp.Char.Vitals.maxhp)&gt;.95 and 
  --mana check
  tonumber(gmcp.Char.Vitals.mp)/tonumber(gmcp.Char.Vitals.maxmp)&gt;.95 then
  
      --eagle wings
      if mmp.settings.duanathar or mmp.settings.duanatharan then
        mmp.tempSpecialExit(3885, "say duanathar")
      end
      --atavian wings
      if mmp.settings.duanatharan then
        mmp.tempSpecialExit(4882, "say duanatharan")
      end
      
      if mmp.settings.voltda or mmp.settings.voltdaran then
        mmp.tempSpecialExit(19911,"say voltda")
      end
      
      if mmp.settings.voltdaran then
        mmp.tempSpecialExit(19912,"say voltdaran")
      end
      
      
  
  end
end</script>
							<eventHandlerList />
						</Script>
					</ScriptGroup>
					<Script isActive="yes" isFolder="no">
						<name>Utilities</name>
						<packageName></packageName>
						<script>-- functions internal to the mapper

function mmp.highlight_unfinished_rooms()
	if not mmp.areatable then return end
	for a,b in pairs (mmp.areatable) do
		local roomList = getAreaRooms(b) or {}
		for c,d in pairs (roomList) do
			if (getRoomName(d) == "") then
				local fgr,fgg,fgb = unpack(color_table.red)
				local bgr,bgg,bgb = unpack(color_table.blue)
				highlightRoom(d, fgr,fgg,fgb,bgr,bgg,bgb, 1, 100, 100)
			end
		end
	end
end

function mmp.usebix()
	if mmp.game ~= "lusternia" then return end

	if (table.contains(gmcp.Room.Info.details, "the Prime Material Plane") or
		table.contains(gmcp.Room.Info.details, "the Ethereal Plane") or
		table.contains(gmcp.Room.Info.details, "the Water Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Air Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Fire Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Earth Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "Celestia, Plane of Light") or
		table.contains(gmcp.Room.Info.details, "the Tainted Plane of Nil") or
		table.contains(gmcp.Room.Info.details, "the Cosmic Plane of Continuum") or
		table.contains(gmcp.Room.Info.details, "the Cosmic Plane of Vortex") or
		table.contains(gmcp.Room.Info.details, "the Astral Plane")) and
        gmcp.Room.Info.area ~= "the City of Climanti" and
		table.contains(gmcp.Room.Info.details, "outdoors") then
		return true
	end
	return false
end

function mmp.useprism()
	if mmp.game ~= "lusternia" then return end
	if (table.contains(gmcp.Room.Info.details, "the Prime Material Plane") or
	table.contains(gmcp.Room.Info.details, "the Ethereal Plane") or
	table.contains(gmcp.Room.Info.details, "the Water Elemental Plane") or
	table.contains(gmcp.Room.Info.details, "the Air Elemental Plane") or
	table.contains(gmcp.Room.Info.details, "the Fire Elemental Plane") or
	table.contains(gmcp.Room.Info.details, "the Earth Elemental Plane")) and
    gmcp.Room.Info.area ~= "the City of Climanti" and
	table.contains(gmcp.Room.Info.details, "outdoors") then
		return true
	end
	return false
end
function mmp.usebubblix()
	if mmp.game ~= "lusternia" then return end

	if ((table.contains(gmcp.Room.Info.details, "the Prime Material Plane") or
		table.contains(gmcp.Room.Info.details, "the Ethereal Plane") or
		table.contains(gmcp.Room.Info.details, "the Water Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Air Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Fire Elemental Plane") or
		table.contains(gmcp.Room.Info.details, "the Earth Elemental Plane")) and
        gmcp.Room.Info.area ~= "the City of Climanti" and
		table.contains(gmcp.Room.Info.details, "outdoors")) or
		table.contains(gmcp.Room.Info.details, "an Aetherbubble") then
		return true
	end
	return false
end</script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>Locating &amp; echoing functions</name>
							<packageName></packageName>
							<script>function mmp.filterRooms(rooms, area)
  local unassignedRooms = {}
  local areaRooms = {}
  for roomnum, roomname in pairs(rooms) do
    local roomarea = getRoomUserData(roomnum, "Game Area")
    if roomarea == "" then
      unassignedRooms[roomnum] = roomname
    elseif roomarea == area then
      areaRooms[roomnum] = roomname
    end
  end
  return next(areaRooms) and areaRooms or unassignedRooms
end

-- for a given room name, we'll echo all the vnums

function mmp.echonums(roomname, area)
  local t = mmp.searchRoomExact(roomname)
  if area then
    t = mmp.filterRooms(t, area)
  end
  if not next(t) then
    echo("?")
    return nil
  end
  -- transform the kv table into a table of tables for cleaner code.
  -- + perhaps Mudlet in future will give this us anyway, sorted by relevancy
  local dt = {}
  for roomid, room in pairs(t) do
    dt[#dt + 1] = {name = room, id = roomid}
  end
  -- we can have nothing if we asked for exact match
  if not dt[1] then
    echo("?---")
    return
  end
  -- display first three ids. Can't really nicely table.concat them.
  cechoLink(
    "&lt;" .. mmp.settings.echocolour .. "&gt;" .. dt[1].id,
    'mmp.gotoRoom(' .. dt[1].id .. ')',
    string.format("Go to %s (%s)", dt[1].id, dt[1].name),
    true
  )
  if not dt[2] then
    return
  end
  echo(", ")
  cechoLink(
    "&lt;" .. mmp.settings.echocolour .. "&gt;" .. dt[2].id,
    'mmp.gotoRoom(' .. dt[2].id .. ')',
    string.format("Go to %s (%s)", dt[2].id, dt[2].name),
    true
  )
  if not dt[3] then
    return
  end
  echo(", ")
  cechoLink(
    "&lt;" .. mmp.settings.echocolour .. "&gt;" .. dt[3].id,
    'mmp.gotoRoom(' .. dt[3].id .. ')',
    string.format("Go to %s (%s)", dt[3].id, dt[3].name),
    true
  )
  if not dt[4] then
    return
  end
  echo(", ...")
end

function mmp.roomEcho(query)
  local result = mmp.searchRoom(query)
  if not tonumber(select(2, next(result))) then
    for roomid, roomname in pairs(result) do
      roomid = tonumber(roomid)
      cecho("&lt;DarkSlateGrey&gt; (")
      cechoLink(
        "&lt;" .. mmp.settings.echocolour .. "&gt;" .. roomid,
        'mmp.gotoRoom(' .. roomid .. ')',
        string.format("Go to %s (%s)", roomid, tostring(roomname)),
        true
      )
      cecho("&lt;DarkSlateGrey&gt;)")
    end
  else
    for roomname, roomid in pairs(result) do
      roomid = tonumber(roomid)
      cecho("&lt;DarkSlateGrey&gt; (")
      cechoLink(
        "&lt;" .. mmp.settings.echocolour .. "&gt;" .. roomid,
        'mmp.gotoRoom(' .. roomid .. ')',
        string.format("Go to %s (%s)", roomid, tostring(roomname)),
        true
      )
      cecho("&lt;DarkSlateGrey&gt;)")
    end
  end
end

function mmp.locateAndEcho(room, person, area)
  local t = mmp.searchRoomExact(room)
  if area then
    t = mmp.filterRooms(t, area)
  end
  echo("  (")
  mmp.echonums(room, area)
  echo(")")
  -- lowercase results
  for k, v in pairs(t) do
    if tonumber(k) then
      t[k] = v:lower()
    else
      t[k:lower()] = v
    end
  end
  if not (t[room:lower()] or table.contains(t, room:lower())) then
    return
  end
  echo("\n")
  if table.size(t) == 1 then
    local k, v = next(t)
    cecho(
      "&lt;red&gt;From your knowledge, that room is in &lt;orange_red&gt;" ..
      mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == "number" and k or v)] or "?") ..
      "&lt;red&gt;."
    )
  else
    local k, v = next(t)
    local areas = {}
    if type(k) == "number" then
      for k, _ in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    else
      for _, k in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    end
    local flattened_areas = {}
    for k, _ in pairs(areas) do
      if k ~= "" then
        flattened_areas[#flattened_areas + 1] = mmp.cleanAreaName(k)
      end
    end
    cecho(
      "&lt;red&gt;From your knowledge, that room might be in &lt;orange_red&gt;" ..
      table.concat(flattened_areas, ", or ") ..
      "&lt;red&gt;."
    )
  end
  if person then
    mmp.pdb[person] = room
    mmp.pdb_lastupdate[person] = true
    raiseEvent("mmapper updated pdb")
  end
end

function mmp.locateAndEchoSide(room, person)
  local t = mmp.searchRoomExact(room)
  echo("  (")
  mmp.echonums(room)
  echo(")")
  -- lowercase results
  for k, v in pairs(t) do
    if tonumber(k) then
      t[k] = v:lower()
    else
      t[k:lower()] = v
    end
  end
  if not (t[room:lower()] or table.contains(t, room:lower())) then
    return
  end
  --echo"\n"
  if table.size(t) == 1 then
    local k, v = next(t)
    cecho(
      "&lt;red&gt;  (" ..
      mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == "number" and k or v)] or "?") ..
      ")"
    )
  else
    local k, v = next(t)
    local areas = {}
    if type(k) == "number" then
      for k, _ in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    else
      for _, k in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    end
    local flattened_areas = {}
    for k, _ in pairs(areas) do
      if k ~= "" then
        flattened_areas[#flattened_areas + 1] = mmp.cleanAreaName(k)
      end
    end
    cecho("&lt;red&gt; (" .. table.concat(flattened_areas, ", ") .. ")")
  end
  if person then
    mmp.pdb[person] = room
    mmp.pdb_lastupdate[person] = true
    raiseEvent("mmapper updated pdb")
  end
end

function mmp.locateAndEchoInternal(room, person)
  local t = mmp.searchRoomExact(room)
  -- lowercase results
  for k, v in pairs(t) do
    if tonumber(k) then
      t[k] = v:lower()
    else
      t[k:lower()] = v
    end
  end
  if not (t[room:lower()] or table.contains(t, room:lower())) then
    return
  end
  --echo"\n"
  if table.size(t) == 1 then
    local k, v = next(t)
    cecho(
      "&lt;red&gt; in " ..
      mmp.cleanAreaName(mmp.areatabler[getRoomArea(type(k) == "number" and k or v)] or "?") ..
      "."
    )
  else
    local k, v = next(t)
    local areas = {}
    if type(k) == "number" then
      for k, _ in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    else
      for _, k in pairs(t) do
        areas[mmp.areatabler[getRoomArea(k)] or "?"] = true
      end
    end
    local flattened_areas = {}
    for k, _ in pairs(areas) do
      if k ~= "" then
        flattened_areas[#flattened_areas + 1] = mmp.cleanAreaName(k)
      end
    end
    cecho("&lt;red&gt; in " .. table.concat(flattened_areas, ", ") .. ".")
  end
  echo("  (")
  mmp.echonums(room, true)
  echo(")")
  if person then
    mmp.pdb[person] = room
    mmp.pdb_lastupdate[person] = true
    raiseEvent("mmapper updated pdb")
  end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Aliases</name>
							<packageName></packageName>
							<script>function mmp.roomWhoFind(query)
  if query:ends('.') then
    query = query:sub(1, -2)
  end
  local result = mmp.searchRoomExact(query)
  if type(result) == "string" or not next(result) then
    cecho("&lt;CadetBlue&gt;  You have no recollection of any room with that name.")
    return
  end
  if not tonumber(select(2, next(result))) then
    -- old style
    for roomid, roomname in pairs(result) do
      roomid = tonumber(roomid)
      cecho(string.format("  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (", tostring(roomname)))
      cechoLink(
        "&lt;" .. mmp.settings.echocolour .. "&gt;" .. roomid,
        'mmp.gotoRoom(' .. roomid .. ')',
        string.format("Go to %s (%s)", roomid, tostring(roomname)),
        true
      )
      cecho(
        string.format(
          "&lt;DarkSlateGrey&gt;) &lt;white&gt;%s&lt;DarkSlateGrey&gt;.\n",
          tostring(mmp.areatabler[getRoomArea(roomid)])
        )
      )
    end
  else
    -- new style
    for roomname, roomid in pairs(result) do
      roomid = tonumber(roomid)
      cecho(string.format("  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (", tostring(roomname)))
      cechoLink(
        "&lt;" .. mmp.settings.echocolour .. "&gt;" .. roomid,
        'mmp.gotoRoom(' .. roomid .. ')',
        string.format("Go to %s (%s)", roomid, tostring(roomname)),
        true
      )
      cecho(
        string.format(
          "&lt;DarkSlateGrey&gt;) &lt;white&gt;%s&lt;DarkSlateGrey&gt;.\n",
          tostring(mmp.areatabler[getRoomArea(roomid)])
        )
      )
    end
  end
end

function mmp.roomFind(query, lines)
  if query:ends('.') then
    query = query:sub(1, -2)
  end
  local defaultLine = 30 -- this could this to a setting instead of a static number
  local result = mmp.searchRoom(query)
  if lines == 'all' then
    lines = table.size(result)
  end
  lines = (lines ~= '') and tonumber(lines) or defaultLine

  --create a new table (roomsTable) with keys and add areas to the table
  local roomsTable = {}
  for k, v in pairs(result) do
    --not all rooms have an area associated with it in mmp.areatabler so need to either remove those or add one
    local a = mmp.areatabler[getRoomArea(k)] or "unknown"
    roomsTable[#roomsTable + 1] = {num = k, area = a, name = v}
  end
  --sort roomsTable by area name
  table.sort(
    roomsTable,
    function(a, b)
      return a.area &lt; b.area
    end
  )
  --start displaying info
  if type(result) == "string" or not next(result) then
    cecho("&lt;grey&gt;You have no recollection of any room with that name.")
    return
  end
  cecho("&lt;DarkSlateGrey&gt;You know the following relevant rooms:\n")

  local function showmeropis(roomid)
    if mmp.game ~= "achaea" then
      return ''
    end
    return mmp.oncontinent(getRoomArea(roomid), "Main") and '' or ' (Meropis)'
  end

  local i = 1
  if not tonumber(select(2, next(result))) then
    cecho(string.format("&lt;white&gt; %-10s%-40s%s\n", "ROOM ID", "ROOM NAME", "ROOM AREA"))
    for _, v in ipairs(roomsTable) do
      if i &gt; lines then
        break
      end
      roomid = tonumber(v.num)
      roomname = v.name
      roomarea = v.area
      cechoLink(
        string.format("&lt;" .. mmp.settings.echocolour .. "&gt; %-10s", roomid),
        'mmp.gotoRoom(' .. roomid .. ')',
        string.format("Go to %s (%s)", roomid, tostring(roomname)),
        true
      )
      cecho(string.format("&lt;LightSlateGray&gt;%-40s", string.sub(tostring(roomname), 1, 39)))
      cechoLink(
        string.format(
          "&lt;DarkSlateGrey&gt;%s%s&lt;DarkSlateGrey&gt;\n",
          mmp.cleanAreaName(tostring(mmp.areatabler[getRoomArea(roomid)])),
          showmeropis(roomid)
        ),
        [[mmp.echoPath(mmp.currentroom, ]] .. roomid .. [[)]],
        "Display directions from here to " .. roomname,
        true
      )
      resetFormat()
      i = i + 1
    end
  else
    -- new style
    --- not sure what this new area code is but it doesn't seem to fire
    for roomname, roomid in pairs(result) do
      roomid = tonumber(roomid)
      cecho(string.format("  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (", tostring(roomname)))
      cechoLink(
        "&lt;" .. mmp.settings.echocolour .. "&gt;" .. roomid,
        'mmp.gotoRoom(' .. roomid .. ')',
        string.format("Go to %s (%s)", roomid, tostring(roomname)),
        true
      )
      cecho(
        string.format(
          "&lt;DarkSlateGrey&gt;) in &lt;LightSlateGray&gt;%s%s&lt;DarkSlateGrey&gt;.",
          mmp.cleanAreaName(tostring(mmp.areatabler[getRoomArea(roomid)])),
          showmeropis(roomid)
        )
      )
      fg("DarkSlateGrey")
      echoLink(
        " &gt; Show path\n",
        [[mmp.echoPath(mmp.currentroom, ]] .. roomid .. [[)]],
        "Display directions from here to " .. roomname,
        true
      )
      resetFormat()
    end
  end
  if table.size(result) &lt;= lines then
    cecho(string.format("&lt;DarkSlateGrey&gt;%d rooms found.\n", table.size(result)))
  else
    lastRoomQuery = query
    cechoLink(
      string.format(
        "&lt;DarkSlateGrey&gt;%d of %d rooms shown. Click to see all rooms.\n", lines, table.size(result)
      ),
      'mmp.roomFind(lastRoomQuery, "all")',
      string.format("Show all %d rooms.", table.size(result)),
      true
    )
  end
end

function mmp.echoRoomList(areaname, exact)
  local areaid, msg, multiples = mmp.findAreaID(areaname, exact)
  if areaid then
    local roomlist, endresult = getAreaRooms(areaid) or {}, {}
    -- obtain a room list for each of the room IDs we got
    local getRoomName = getRoomName
    for _, id in pairs(roomlist) do
      endresult[id] = getRoomName(id)
    end
    -- sort room IDs so we can display them in order
    table.sort(roomlist)
    -- now display something half-decent looking
    cecho(
      string.format(
        "&lt;DarkSlateGrey&gt;List of all rooms in &lt;grey&gt;%s&lt;DarkSlateGrey&gt; (areaid &lt;grey&gt;%s&lt;DarkSlateGrey&gt; - &lt;grey&gt;%d&lt;DarkSlateGrey&gt; rooms):\n",
        msg,
        areaid,
        table.size(endresult)
      )
    )
    local echoLink, sformat, fg, echo = echoLink, string.format, fg, cecho
    -- use pairs, as we can have gaps between room IDs
    for _, roomid in pairs(roomlist) do
      local roomname = endresult[roomid]
      fg("blue")
      cechoLink(
        "&lt;" .. mmp.settings.echocolour .. "&gt;" .. sformat("%6s", roomid),
        'mmp.gotoRoom(' .. roomid .. ')',
        string.format("Go to %s (%s)", roomid, tostring(roomname)),
        true
      )
      cecho(string.format("&lt;DarkSlateGrey&gt;: &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n", roomname))
    end
  elseif not id and #multiples &gt; 0 then
    mmp.echo("For which area would you want to list rooms for?")
    fg("DimGrey")
    for _, areaname in ipairs(multiples) do
      echo("  ");
      setUnderline(true)
      echoLink(
        areaname,
        'mmp.echoRoomList("' .. areaname .. '", true)',
        "Click to view the room list for " .. areaname,
        true
      )
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
  else
    mmp.echo(string.format("Don't know of any area named '%s'.", areaname))
  end
end

function mmp.echoAreaList()
  local list = getAreaTable()
  local ids, rlist = {}, {}
  local totalroomcount = 0
  for area, id in pairs(list) do
    if id ~= 0 then
      ids[#ids + 1] = id;
      rlist[id] = area
    end
  end
  table.sort(ids)
  -- count the amount of rooms in an area, taking care to count the room in the 0th
  -- index as well if there is one
  -- saves the total room count on the side as well

  local function countrooms(areaid)
    local allrooms = getAreaRooms(areaid) or {}
    local areac = (#allrooms or 0) + (allrooms[0] and 1 or 0)
    totalroomcount = totalroomcount + areac
    return areac
  end

  cecho(string.format("&lt;DarkSlateGrey&gt;List of all areas we know of (click to view room list):\n"))
  local getAreaRooms, cecho, fg, echoLink, format, rep =
    getAreaRooms, cecho, fg, echoLink, string.format, string.rep
  for _, id in pairs(ids) do
    cecho(format("&lt;" .. mmp.settings.echocolour .. "&gt;%s%d ", rep(" ", (7 - #tostring(id))), id))
    -- +1 because getAreaRooms starts counting at 0
    fg("DarkSlateGrey")
    echoLink(
      rlist[id] .. (" "):rep(40 - #rlist[id]) .. "(" .. mmp.comma_value(countrooms(id)) .. " rooms)",
      'mmp.echoRoomList("' .. rlist[id] .. '", true)',
      "View the room list for " .. rlist[id],
      true
    )
    echo("\n")
  end
  cecho(
    string.format(
      "&lt;DarkSlateGrey&gt;Total amount of rooms in this map: %s\n", mmp.comma_value(totalroomcount)
    )
  )
end

function mmp.clearLabels(areaid)
  local function clearlabels(areaid)
    local t = getMapLabels(areaid)
    if type(t) ~= "table" then
      return
    end
    for labelid, _ in pairs(t) do
      deleteMapLabel(areaid, labelid)
    end
  end

  if areaid == "map" then
    for areaid in pairs(mmp.areatabler) do
      clearlabels(areaid)
    end
    mmp.echo("Cleared labels in all of the map.")
    return
  end
  clearlabels(areaid)
  mmp.echo(string.format("Cleared all labels in '%s'.", mmp.areatabler[areaid]))
end

function mmp.deleteArea(name, exact)
  local id, fname, ma = mmp.findAreaID(name, exact)
  if id then
    mmp.doareadelete(id)
  elseif next(ma) then
    mmp.echo("Which one of these specifically would you like to delete?")
    fg("DimGrey")
    for _, name in ipairs(ma) do
      echo("  ")
      setUnderline(true)
      echoLink(name, [[mmp.deleteArea("]] .. name .. [[", true)]], "Delete " .. name, true)
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
  else
    mmp.echo("Don't know of that area.")
  end
  raiseEvent("mmp areas changed")
end

-- the function actually doing area deletion

function mmp.doareadelete(areaid)
  mmp.deletingarea = {}
  local t = mmp.deletingarea
  local rooms = getAreaRooms(areaid)
  t.roomcount = table.size(rooms)
  t.roombatches = {}
  t.currentbatch = 1
  t.areaid = areaid
  t.areaname = getAreaTableSwap()[areaid]
  -- delete the area right away if there's nothing in it
  if t.roomcount == 0 then
    deleteArea(t.areaid)
    mmp.echo("All done! The area was already gone/empty.")
  end
  local rooms_per_batch = 100
  -- split up rooms into tables of tables, to be deleted in batches so
  -- that our print statements in between get a chance to be processed
  for batch = 1, t.roomcount, 100 do
    t.roombatches[#t.roombatches + 1] = {}
    local onebatch = t.roombatches[#t.roombatches]
    for inbatch = 1, 100 do
      onebatch[#onebatch + 1] = rooms[batch + inbatch]
    end
  end

  function mmp.deletenextbatch()
    local t = mmp.deletingarea
    if not t then
      return
    end
    local currentbatch = t.roombatches[t.currentbatchi]
    if currentbatch == nil then
      deleteArea(t.areaid)
      mmp.echo("All done! Deleted the '" .. t.areaname .. "' area.")
      mmp.deletingarea = nil
      centerview(mmp.currentroom)
      return
    end
    local deleteRoom = deleteRoom
    for i = 1, #currentbatch do
      deleteRoom(currentbatch[i])
    end
    mmp.echo(
      string.format(
        "Deleted %d batch%s so far, %d left to go - %.2f%% done out of %d needed",
        t.currentbatchi,
        (t.currentbatchi == 1 and '' or 'es'),
        #t.roombatches - t.currentbatchi,
        (100 / #t.roombatches) * t.currentbatchi,
        #t.roombatches
      )
    )
    t.currentbatchi = t.currentbatchi + 1
    tempTimer(0.010, mmp.deletenextbatch)
  end

  t.currentbatchi = 1
  mmp.echo("Prepped room batches, starting deletion...")
  tempTimer(0.010, mmp.deletenextbatch)
end

function mmp.renameArea(name, exact)
  if not (mmp.currentroom or getRoomArea(mmp.currentroom)) then
    mmp.echo("Don't know what area are we in at the moment, to rename it.")
  else
    setAreaName(getRoomArea(mmp.currentroom), name)
    mmp.echo(
      string.format(
        "Renamed %s to %s (%d).",
        mmp.areatabler[getRoomArea(mmp.currentroom)],
        name,
        getRoomArea(mmp.currentroom)
      )
    )
    centerview(mmp.currentroom)
  end
  raiseEvent("mmp areas changed")
end

function mmp.roomArea(otherroom, name, exact)
  local id, fname, ma
  if tonumber(name) then
    id = tonumber(name);
    fname = mmp.areatabler[id]
  else
    id, fname, ma = mmp.findAreaID(name, exact)
  end
  if otherroom ~= "" and not mmp.roomexists(otherroom) then
    mmp.echo("Room id " .. otherroom .. " doesn't seem to exist.")
    return
  elseif otherroom == "" and not mmp.roomexists(mmp.currentroom) then
    mmp.echo("Don't know where we are at the moment.")
    return
  end
  otherroom = otherroom ~= "" and otherroom or mmp.currentroom
  if id then
    setRoomArea(otherroom, id)
    mmp.echo(
      string.format(
        "Moved %s to %s (%d).",
        (getRoomName(otherroom) ~= "" and getRoomName(otherroom) or "''"),
        fname,
        id
      )
    )
    centerview(otherroom)
  elseif next(ma) then
    mmp.echo("Into which area exactly would you like to move the room?")
    fg("DimGrey")
    for _, name in ipairs(ma) do
      echo("  ")
      setUnderline(true)
      echoLink(
        name, [[mmp.roomArea('', "]] .. name .. [[", true)]], "Move the room to " .. name, true
      )
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
  else
    mmp.echo("Don't know of that area.")
  end
end

function mmp.getAreaBorders(areaid)
  if mmp.debug then
    mmp.getAreaBordersTimer = mmp.getAreaBordersTimer or createStopWatch()
    startStopWatch(mmp.getAreaBordersTimer)
  end
  -- make sure we have all exits into the area.
  raiseEvent("mmp link externals")
  local roomlist, endresult = getAreaRooms(areaid), {}
  -- sometimes getAreaRooms can give us no result :(
  if not roomlist then
    mmp.echo(
      "Sorry, seems we can't go there - getAreaRooms(" ..
      areaid ..
      ") didn't give us any results (Mudlet problem - redownloading the map might help fix it)"
    )
    return
  end
  if table.is_empty(roomlist) then
    mmp.echo(
      "Sorry, seems we can't go there - " .. getRoomAreaName(areaid) .. " has no rooms in it."
    )
    return
  end
  -- make a key-value list of room IDs
  local reverselist = {}
  for i = 0, #roomlist do
    reverselist[roomlist[i]] = true
  end
  local getRoomName, contains, pairs = getRoomName, table.contains, pairs
  if getAllRoomEntrances then
    for i = 0, #roomlist do
      local id = roomlist[i]
      local entrancesFrom = getAllRoomEntrances(id)
      for remoteRoomIndex = 1, #entrancesFrom do
        if not reverselist[entrancesFrom[remoteRoomIndex]] then
          endresult[id] = getRoomName(id)
        end
      end
    end
  else
    local getRoomExits, getSpecialExitsSwap = getRoomExits, getSpecialExitsSwap
    -- obtain a room list for each of the room IDs we got
    --for _, id in pairs(roomlist) do
    for i = 0, #roomlist do
      local id = roomlist[i]
      local exits = getRoomExits(id)
      for _, to in pairs(exits) do
        if not reverselist[to] then
          endresult[id] = getRoomName(id)
        end
      end
      local specialexits = getSpecialExitsSwap(id)
      for _, to in pairs(specialexits) do
        if not reverselist[to] then
          endresult[id] = getRoomName(id)
        end
      end
    end
  end
  if mmp.debug then
    mmp.echo(
      "mmp.getAreaBordersTimer() on areaid " ..
      areaid ..
      " took " ..
      stopStopWatch(mmp.getAreaBordersTimer) ..
      "s to run. Returned " ..
      table.size(endresult) ..
      " results."
    )
  end
  -- clean up external exits
  raiseEvent("mmp clear externals")
  return endresult
end

function mmp.viewArea(where, exact)
  if not where or not type(where) == "string" then
    mmp.echo("Which area would you like to view?")
    return
  end
  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    -- center on the first room ID, which typically is the start of an area
    local rooms = getAreaRooms(areaid) or {}
    if not rooms[1] then
      mmp.echo("The area has no rooms in it.")
    else
      centerview(rooms[1])
    end
  elseif not areaid and #multiples &gt; 0 then
    mmp.echo("Which area would you like to view exactly?")
    fg("DimGrey")
    for _, areaname in ipairs(multiples) do
      echo("  ");
      setUnderline(true)
      echoLink(
        areaname, 'mmp.viewArea("' .. areaname .. '", true)', "Click to view " .. areaname, true
      )
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
    return
  else
    mmp.echo(string.format("Don't know of any area named '%s'.", where))
    return
  end
end

-- room label the room I'm in
-- room label 342 this is a label in room 342
-- room label green this is a green label where I'm at
-- room label green black this is a green to black label where I'm at
-- room label 34 green black this is a green to black label at room 34
-- how it works: split input string into tokens by space, then determine
-- what to do by checking first few tokens, and finally call the local
-- function with the proper arguments

function mmp.roomLabel(input)
  if not createMapLabel then
    mmp.echo(
      "Your Mudlet doesn't support createMapLabel() yet - please update to 2.0-test3 or better."
    )
    return
  end
  local tk = input:split(" ")
  local room, fg, bg, message = mmp.currentroom, "yellow", "red", "Some room label"
  -- input always have to be something, so tk[1] at least always exists
  if tonumber(tk[1]) then
    room = tonumber(table.remove(tk, 1))
    -- remove the number, so we're left with the colors or msg
  end
  -- next: is this a foreground color?
  if tk[1] and color_table[tk[1]] then
    fg = table.remove(tk, 1)
  end
  -- next: is this a background color?
  if tk[1] and color_table[tk[1]] then
    bg = table.remove(tk, 1)
  end
  -- the rest would be our message
  if tk[1] then
    message = table.concat(tk, " ")
  end
  -- if we haven't provided a room ID and we don't know where we are yet, we can't make a label
  if not room then
    mmp.echo("We don't know where we are to make a label here.")
    return
  end
  local x, y = getRoomCoordinates(room)
  local f1, f2, f3 = unpack(color_table[fg])
  local b1, b2, b3 = unpack(color_table[bg])
  -- finally: do it :)
  local lid = createMapLabel(getRoomArea(room), message, x, y, f1, f2, f3, b1, b2, b3)
  mmp.echo(
    string.format(
      "Created new label #%d '%s' in %s.", lid, message, getRoomAreaName(getRoomArea(room))
    )
  )
end

function mmp.areaLabels(where, exact)
  if not getMapLabels then
    mmp.echo(
      "Your Mudlet doesn't support getMapLabels() yet - please update to 2.0-test3 or better."
    )
    return
  end
  if (not where or not type(where) == "string") and not mmp.currentroom then
    mmp.echo("For which area would you like to view labels?")
    return
  end
  if not where then
    exact = true
    where = getRoomAreaName(getRoomArea(mmp.currentroom))
  end
  local areaid, msg, multiples = mmp.findAreaID(where, exact)
  if areaid then
    local t = getMapLabels(areaid)
    if type(t) ~= "table" or not next(t) then
      mmp.echo(string.format("'%s' doesn't seem to have any labels.", getRoomAreaName(areaid)))
      return
    end
    mmp.echo(string.format("Area labels for '%s'", getRoomAreaName(areaid)))
    for labelid, labeltext in pairs(t) do
      fg("DimGrey")
      echo(string.format("  %d) %s (", labelid, labeltext))
      fg("orange_red")
      setUnderline(true)
      echoLink(
        'delete',
        string.format(
          'deleteMapLabel(%d, %d); mmp.echo("Deleted label #' .. labelid .. '")', areaid, labelid
        ),
        "Delete label #" .. labelid .. " from " .. getRoomAreaName(areaid)
      )
      setUnderline(false)
      echo(")\n")
    end
    resetFormat()
  elseif not areaid and #multiples &gt; 0 then
    mmp.echo("Which area would you like to view exactly?")
    fg("DimGrey")
    for _, areaname in ipairs(multiples) do
      echo("  ");
      setUnderline(true)
      echoLink(
        areaname,
        'mmp.areaLabels("' .. areaname .. '", true)',
        "Click to view labels in " .. areaname,
        true
      )
      setUnderline(false)
      echo("\n")
    end
    resetFormat()
    return
  else
    mmp.echo(string.format("Don't know of any area named '%s'.", where))
    return
  end
end

function mmp.echoPath(from, to)
  assert(tonumber(from) and tonumber(to), "mmp.getPath: both from and to have to be room IDs")
  if mmp.getPath(from, to) then
    mmp.echo(
      "&lt;white&gt;Directions from &lt;yellow&gt;" ..
      string.upper(searchRoom(from)) ..
      " &lt;white&gt;to &lt;yellow&gt;" ..
      string.upper(searchRoom(to)) ..
      "&lt;white&gt;:"
    )
    mmp.echo(table.concat(speedWalkDir, ", "))
    return mmp.speedWalkDir
  else
    mmp.echo(
      "&lt;white&gt;I can't find a way from &lt;yellow&gt;" ..
      string.upper(searchRoom(from)) ..
      " &lt;white&gt;to &lt;yellow&gt;" ..
      string.upper(searchRoom(to)) ..
      "&lt;white&gt;"
    )
  end
end

function mmp.listSpecialExits(filter)
  local c = 0
  mmp.echo("Listing special exits...")
  for area, areaname in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)
      if exits and next(exits) then
        for exit, cmd in pairs(exits) do
          if type(cmd) == "table" then
            cmd = next(cmd)
          end
          if cmd:match("^%d") then
            cmd = cmd:sub(2)
          end
          if not filter or cmd:lower():find(filter, 1, true) then
            if getRoomArea(exit) ~= area then
              cecho(
                string.format(
                  "&lt;dark_slate_grey&gt;%s &lt;LightSlateGray&gt;(%d, in %s)&lt;dark_slate_grey&gt; &lt;MediumSlateBlue&gt;-&gt; &lt;coral&gt;%s -&lt;MediumSlateBlue&gt;&gt;&lt;dark_slate_grey&gt; %s &lt;LightSlateGray&gt;(%d, in %s)\n",
                  getRoomName(rooms[i]),
                  rooms[i],
                  areaname,
                  cmd,
                  getRoomName(exit),
                  exit,
                  mmp.areatabler[getRoomArea(exit)] or '?'
                )
              )
            else
              cecho(
                string.format(
                  "&lt;dark_slate_grey&gt;%s &lt;LightSlateGray&gt;(%d)&lt;dark_slate_grey&gt; &lt;MediumSlateBlue&gt;-&gt; &lt;coral&gt;%s &lt;MediumSlateBlue&gt;-&gt;&lt;dark_slate_grey&gt; %s &lt;LightSlateGray&gt;(%d)&lt;dark_slate_grey&gt; in %s\n",
                  getRoomName(rooms[i]),
                  rooms[i],
                  cmd,
                  getRoomName(exit),
                  exit,
                  areaname
                )
              )
            end
            c = c + 1
          end
        end
      end
    end
  end
  mmp.echo(
    string.format(
      "%d exits listed%s.", c, (not filter and '' or ", with for the filter '" .. filter .. "'")
    )
  )
end

function mmp.delSpecialExits(filter)
  local c = 0
  for area, areaname in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)
      if exits and next(exits) then
        for exit, cmd in pairs(exits) do
          if type(cmd) == "table" then
            cmd = next(cmd)
          end
          if cmd:match("^%d") then
            cmd = cmd:sub(2)
          end
          if not filter or cmd:lower():find(filter, 1, true) then
            local rid, action
            local originalExits = {}
            local e = getSpecialExits(rooms[i])
            for t, n in pairs(e) do
              rid = tonumber(t)
              for a, l in pairs(n) do
                action = tostring(a)
              end
              if not action:find(filter, 1, true) then
                originalExits[rid] = action
              end
            end
            clearSpecialExits(rooms[i])
            for rid, act in pairs(originalExits) do
              addSpecialExit(rooms[i], tonumber(rid), tostring(act))
            end
            c = c + 1
          end
        end
      end
    end
  end
  mmp.echo(
    string.format(
      "%d exits deleted%s.", c, (not filter and '' or ", with for the filter '" .. filter .. "'")
    )
  )
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Directions-translating functions</name>
							<packageName></packageName>
							<script>-- translates n to north and so forth
local temp = {
    n = "north",
    e = "east",
    s = "south",
    w = "west",
    ne = "northeast",
    se = "southeast",
    sw = "southwest",
    nw = "northwest",
    u = "up",
    d = "down",
    i = "in",
    o = "out",
    ["in"] = "in"
}
local anytolongmap = {}
for s, l in pairs(temp) do anytolongmap[l] = l; anytolongmap[s] = l end
function mmp.anytolong(exit)

  return anytolongmap[exit]
end

function mmp.anytoshort(exit)
  local t = {
    n = "north",
    e = "east",
    s = "south",
    w = "west",
    ne = "northeast",
    se = "southeast",
    sw = "southwest",
    nw = "northwest",
    u = "up",
    d = "down",
    ["in"] = "in",
    out = "out"
  }
  local rt = {}
  for s,l in pairs(t) do
    rt[l] = s; rt[s] = s
  end

  return rt[exit]
end


function mmp.ranytolong(exit)
  local t = {
    n = "south",
    north = "south",
    e = "west",
    east = "west",
    s = "north",
    south = "north",
    w = "east",
    west = "east",
    ne = "southwest",
    northeast = "southwest",
    se = "northwest",
    southeast = "northwest",
    sw = "northeast",
    southwest = "northeast",
    nw = "southeast",
    northwest = "southeast",
    u = "down",
    up = "down",
    d = "up",
    down = "up",
    i = "out",
    ["in"] = "out",
    o = "in",
    out = "in"
  }

  return t[exit]
end

-- returns nil or the room number relative to this one
function mmp.relativeroom(from, dir)
  if not mmp.roomexists(from) then return end

  local exits = getRoomExits(tonumber(from))
  return exits[mmp.anytolong(dir)]
end
</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mconfig settings functions</name>
							<packageName></packageName>
							<script>function mmp.doLock(what, lock, filter)
  if what then mmp.echo(string.format("%s all %s...", (lock and "Locking" or "Unlocking"), what)) end
  local c = 0

  local getAreaRooms, getSpecialExits, lockSpecialExit, next = getAreaRooms, getSpecialExits, lockSpecialExit, next
  for _, area in pairs(getAreaTable()) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == "table" then cmd = next(cmd) end

           if (not filter and not (cmd:lower():find("pathfind", 1, true) or cmd:lower():find("worm warp", 1, true) or cmd:lower():find("enter grate", 1, true))) or (filter and cmd:lower():find(filter, 1, true)) then
             lockSpecialExit(rooms[i], exit, cmd, lock)
             c = c + 1
           end
         end
       end
    end
  end

  if what then mmp.echo(string.format("%s %s known %s.", (lock and "Locked" or "Unlocked"), c, what)) end
  return c
end

function mmp.changeEchoColour()
    mmp.echo("Now displaying echos in &lt;"..mmp.settings.echocolour.."&gt;"..mmp.settings.echocolour )
end

function mmp.changeLaglevel()
    local laglevel = mmp.settings.laglevel
    local laginfo = mmp.lagtable[laglevel]
    mmp.echo(string.format("Lag level set to [%d]: %s (%ss timer)", laglevel, laginfo.description, tostring(laginfo.time)))
end

function mmp.verifyLaglevel(value)
  if mmp.lagtable[value] then return true end
  return false
end

function mmp.lockPathways()
  local lock = mmp.settings.lockpathways and true or false
  mmp.doLock("pathways", lock, "pathfind")
end

function mmp.lockSewers()
  local lock = mmp.settings.locksewers and true or false
  return mmp.doLock("sewer grates", lock, "enter grate")
end

function mmp.lockWormholes()
  local lock = mmp.settings.lockwormholes and true or false
  return mmp.doLock("wormholes", lock, "worm warp")
end
tempTimer(0, function() if mmp.firstRun then mmp.lockWormholes() end end)

function mmp.lockPebble()
  local disabled = (not mmp.settings.pebble) and true or false
  mmp.doLock(nil, disabled, "touch 116998")
  mmp.doLock(nil, disabled, "touch 277930")

  mmp.echo(string.format("Use of pebble %s.", disabled and "disabled" or "enabled"))
end

function mmp.lockSpecials()
  local lock = mmp.settings.lockspecials and true or false
  mmp.doLock("special exits", lock)
end


function mmp.changeMapSource()
  local use = mmp.settings.crowdmap and true or false
  if use and not (mmp.game == "achaea" or mmp.game == "starmourn" or mmp.game == "lusternia" or mmp.game == "stickmud" or mmp.game == "asteria" or mmp.game == "imperian" or mmp.game == "aetolia") then
    mmp.echo("Sorry - the crowdsourced map is only available for use in Achaea, Starmourn, Lusternia, StickMUD and Asteria. If you'd like to help start one for your game, please post at http://forums.mudlet.org/viewtopic.php?f=13&amp;t=1696. If you are playing one of the games, then it is likely that you just downloaded the script - and it doesn't know what you are playing. Reconnect and it'll know.")
    mmp.settings.crowdmap = false
  elseif use and not loadMap then
   mmp.echo("Sorry - your Mudlet is too old and can't load maps. Please update: http://forums.mudlet.org/viewtopic.php?f=5&amp;t=1874")
   mmp.settings.crowdmap = false
  elseif use then
    mmp.echo("Will use the crowdsourced map for updates instead!")
    mmp.checkforupdate()
  else
    mmp.echo("Will use the default game map for updates.")
  end
end

function mmp.setWingsLanguage()
  mmp.echo("Alright, will say Duanathar and Duanathar in "..mmp.settings.winglanguage:title()..".")
end

function mmp.setWingsRemoval()
  mmp.echo("Okay - "..(mmp.settings.removewings and "will" or "won't").." remove wings after using them.")
end

function mmp.setSlowWalk()
  if mmp.settings.slowwalk then
    mmp.echo("Will walk 'slowly' - that is, only try to move in a direction once per room, and move again once we've arrived. This will make us better walkers when it's very laggy, as we won't spam directions unnecessarily and miss certain turns - but it does mean that if we fail to move for some reason, we won't retry again either at all.")
  else
    mmp.echo("Will walk as quick as we can!")
  end
end

function mmp.disableWaterWalk()
  local c = 0
  local getRoomEnv, setRoomWeight = getRoomEnv, setRoomWeight
  for roomid, roomname in pairs(getRooms()) do
    if mmp.waterenvs[getRoomEnv(roomid)] then
      setRoomWeight(roomid, 3)
      c = c + 1
    end
  end

  return c
end

function mmp.enableWaterWalk()
  local c = 0
  local getRoomEnv, setRoomWeight = getRoomEnv, setRoomWeight
  for roomid, roomname in pairs(getRooms()) do
    if mmp.waterenvs[getRoomEnv(roomid)] then
      setRoomWeight(roomid, 1)
      c = c + 1
    end
  end

  return c
end

function mmp.setWaterWalk()
  if mmp.settings.waterwalk then
    mmp.echo("Enabled waterwalk for "..mmp.enableWaterWalk().." rooms - so we'll be treating land and water rooms the same now in terms of traverse speed over them.")
  else
    mmp.echo("Disabled waterwalk for "..mmp.disableWaterWalk().." rooms - so we'll be preferring land rooms over water ones wherever it's quicker.")
  end
end

function mmp.setOrb(city)
  if mmp.settings["orb"..city:lower()] then
    mmp.echo("&lt;green&gt;Okay, we won't use wings in &lt;white&gt;" .. city:title().."&lt;green&gt;!")
  else
    mmp.echo("&lt;green&gt;Okay, we will use wings in &lt;white&gt;" .. city:title().."&lt;green&gt;!")
  end
end
</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>API</name>
							<packageName></packageName>
							<script>-------------------------------------------------
-- This script lists some of the API functions available from the IRE mudlet-mapper
-- not all functions that are available are included here, however.

function mmp.echo(what)
  what = what or ""
  moveCursorEnd("main") if getCurrentLine() ~= "" then echo"\n" end
  decho("&lt;112,229,0&gt;(&lt;73,149,0&gt;mapper&lt;112,229,0&gt;): &lt;255,255,255&gt;")
  cecho(tostring(what))
  echo("\n")
end

function mmp.echon(what)
  moveCursorEnd("main") if getCurrentLine() ~= "" then echo"\n" end
  decho("&lt;112,229,0&gt;(&lt;73,149,0&gt;mapper&lt;112,229,0&gt;): &lt;255,255,255&gt;")
  cecho(tostring(what))
end

function mmp.deleteLineP()
  deleteLine()
  tempLineTrigger(1,1,[[
    if isPrompt() then deleteLine() end
  ]])
end

function mmp.pause(what)
  assert(what == nil or what == "on" or what == "off", "mmp.pause wants 'on', 'off' or nothing as an argument")

  if what == "on" or (what == nil and not mmp.paused) then
    mmp.paused = true
  elseif  what == "off" or (what == nil and mmp.paused) then
    mmp.paused = false
  end

  mmp.echo("Speedwalking " .. (mmp.paused and "paused" or "unpaused") .. ".")
  if not mmp.paused then mmp.move() end
end

function mmp.mapLook(roomid, delay)
  centerview(roomid)
  if mmp.maplooktimer then killTimer(mmp.maplooktimer) end
  mmp.maplooktimer = tempTimer(tonumber(delay) or 4, [[centerview(mmp.currentroom); mmp.maplooktimer = nil]])
end

function mmp.getnums(roomname, exact)
  if tonumber(roomname) then return {roomname} end

  local t = (not exact and mmp.searchRoom or mmp.searchRoomExact)(roomname)

  if not t or not next(t) then
    return nil end

  local result = {}

  if not tonumber(select(2, next(t))) then
    for roomid,_ in pairs(t) do
      if roomid ~= 0 then result[#result+1] = tonumber(roomid) end
    end
  else
    for _,roomid in pairs(t) do
      if roomid ~= 0 then result[#result+1] = tonumber(roomid) end
    end
  end

  return result
end

-- searchRoom with a cache!
local cache = {}
setmetatable(cache, {__mode = "kv"}) -- weak keys/values = it'll periodically get cleaned up by gc

function mmp.searchRoom(what)
  local result = cache[what]
  if not result then
    result = searchRoom(what)
    local realResult = {}
    for key, value in pairs(type(result) == "table" and result or {}) do
        -- both ways, because searchRoom can return either id-room name or the reverse
        if type(key) == "string" then
          realResult[key:ends(" (road)") and key:sub(1, -8) or key] = value
        else
          realResult[key] = value:ends(" (road)") and value:sub(1, -8) or value
        end
    end
    cache[what] = realResult
    result = realResult
  end
  return result
end

local function endswith(s, suffix)
    return s:sub(#s - #suffix + 1) == suffix
end

function mmp.searchRoomExact(what)
  if type(what) ~= 'string' then return end

  local roomTable = mmp.searchRoom(what)
  local realResult = {}
  what = what:lower()
  for key, value in pairs (roomTable) do
    if type(key) == "string" and (key:lower() == what or (endswith(key, '.') and key:sub(1, -2) == what)) then
        realResult[key:ends(" (road)") and key:sub(1, -8) or key] = value
    elseif type(value) == "string" and (value:lower() == what or (endswith(value, '.') and value:sub(1, -2) == what)) then
        realResult[key] = value:ends(" (road)") and value:sub(1, -8) or value
    end
  end
  if (table.is_empty(realResult)) then
    return roomTable
  else
    return realResult
  end
end

function mmp.findAreaID(areaname, exact)
  local areaname = areaname:lower()
  local list = getAreaTable()

  -- iterate over the list of areas, matching them with substring match.
  -- if we get match a single area, then return it's ID, otherwise return
  -- 'false' and a message that there are than one are matches
  local returnid, fullareaname, multipleareas = nil, nil, {}
  for area, id in pairs(list) do
    if (not exact and area:lower():find(areaname, 1, true)) or (exact and areaname == area:lower()) then
      returnid = id; fullareaname = area; multipleareas[#multipleareas+1] = area
    end
  end

  if #multipleareas == 1 then
    return returnid, fullareaname
  else
    return nil, nil, multipleareas
  end
end

function mmp.roomexists(num)
  if not num then return false end
  if roomExists then return roomExists(num) end

  local s,m = pcall(getRoomArea, tonumber(num))
  return (s and true or false)
end

function mmp.getcontinents()
  local tmp = getRoomUserData(1, "areaContinents")
  if tmp == "" then return {} end

  return yajl.to_value(tmp)
end

-- patches welcome to finish this function.
function mmp.removecontinent(area, continent)
  local continents = mmp.getcontinents()

  if not next(continents) then return nil, "no continents are known" end
  if not continents[continent] then return nil, "no such continent is recorded" end

  local index = mmp.indexof_valueonly(continents[continent], area)
  if not index then return nil, "this area is not on that continent" end
  table.remove(continents[continent], index)
  local tmp = yajl.to_string(continents)
  setRoomUserData(1, "areaContinents", tmp)
  return true
end

function mmp.addcontinent(areaid, continent)
  local continents = mmp.getcontinents()

  if not next(continents) then return nil, "no continents are known" end
  if not continents[continent] then continents[continent] = {} end

  local index = mmp.indexof_valueonly(continents[continent], areaid)
  if index then return nil, "this area is already on that continent" end
  continents[continent][#continents[continent] + 1] = areaid
  local tmp = yajl.to_string(continents)
  setRoomUserData(1, "areaContinents", tmp)
  return true
end

function mmp.indexof_valueonly(data, value)
  for i = 1, #data do
    if data[i] == value then return i end
  end

  return false
end

-- checks if given area ID is on the given continent. Returns true only if certainly knows
function mmp.oncontinent(areaid, continent)
  local continents = mmp.getcontinents()
  if not continents[continent] then return nil, "no such continent is recorded" end

  return mmp.indexof_valueonly(continents[continent], areaid)
end

function mmp.getareacontinents(areaid)
  local areaContinents = {}
  for continentName, areas in pairs(mmp.getcontinents()) do
    if mmp.indexof_valueonly(areas, areaid) then
      areaContinents[#areaContinents + 1] = continentName
    end
  end
  return areaContinents
end

-- accepts areaname or ID
function mmp.cleanAreaName(area)
  local areaname = type(area) == "number" and mmp.areatabler[area] or area
  if not areaname then return area end

  -- strip , the
  areaname = areaname:gsub(", the$", '')

  -- strip , the Type of
  areaname = areaname:gsub(", the %w+ of$", '')

  -- strip , the Type of (important)
  areaname = areaname:gsub(", the %w+ of %((.+)%)$", " (%1)")

  -- strip , the (important)
  areaname = areaname:gsub(", the %((.+)%)$", " (%1)")

  return areaname
end

-- if this room is in a unique area, report it. Otherwise gives nil
function mmp.getexactarea(roomname)
  local rooms = mmp.searchRoomExact(roomname)

  if not rooms or not next(rooms) then return nil end

  local areaid
  for roomid, roomname in pairs(rooms) do

    local caid = getRoomArea(roomid)
    if areaid and areaid ~= caid then return nil end
    areaid = caid
  end

  if areaid then return mmp.areatabler[areaid] end
end

-- returns the area name of a room or ?
function mmp.getAreaName(roomid)
   return mmp.areatabler[getRoomArea(roomid)] or '?'
end

-- removes extra prefixes and suffixes that are not part of the actual room name
function mmp.cleanroomname(roomname)
  local starts, ends = string.starts, string.ends

  if starts(roomname, "Flying above ") then
    roomname = string.sub(roomname, -(#roomname-13))
  end
  if starts(roomname, "In the trees above ") then
    roomname = string.sub(roomname, -(#roomname-19))
  end
  if starts(roomname, "The ruins of ") then
    roomname = string.sub(roomname, -(#roomname-13))
  end
  if ends(roomname, ".") then
    roomname = string.sub(roomname, 1, (#roomname-1))
  end
  if ends(roomname, " (road)") then
    roomname = string.sub(roomname, 1, (#roomname-7))
  end
  if ends(roomname, " (indoors)") then
    roomname = string.sub(roomname, 1, (#roomname-10))
  end
  if ends(roomname, " (indoor road)") then
    roomname = string.sub(roomname, 1, (#roomname-14))
  end

  return roomname
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.roomLook</name>
							<packageName></packageName>
							<script>function mmp.roomLook(input)
  -- we can do a report with a number

  local function handle_number(num)
    -- compile all available data
    if not mmp.roomexists(num) then
      mmp.echo(num .. " doesn't seem to exist.")
      return
    end
    local s, areanum = pcall(getRoomArea, num)
    if not s then
      mmp.echo(areanum);
      return ;
    end
    local exits = getRoomExits(num)
    local name = getRoomName(num)
    local islocked = roomLocked(num)
    local weight = (getRoomWeight(num) and getRoomWeight(num) or "?")
    -- getRoomWeight is buggy in one of the versions, is actually linked to setRoomWeight and thus returns nil
    local exitweights = (getExitWeights and getExitWeights(num) or {})
    local coords = {getRoomCoordinates(num)}
    local specexits = getSpecialExits(num)
    local env = getRoomEnv(num)
    local envname = (mmp.envidsr and mmp.envidsr[env]) or "?"
    -- generate a report
    mmp.echo(
      string.format(
        "Room: %s #: %d area: %s (%d)", name, num, tostring(mmp.areatabler[areanum]), areanum
      )
    )
    mmp.echo(
      string.format(
        "Coordinates: x:%d, y:%d, z:%d, locked: %s, weight: %s",
        coords[1],
        coords[2],
        coords[3],
        (islocked and "yep" or "nope"),
        tostring(weight)
      )
    )
    mmp.echo(
      string.format(
        "Environment: %s (%d)%s",
        tostring(envname),
        env,
        (getRoomUserData(num, "indoors") ~= '' and ", indoors" or '')
      )
    )
    mmp.echo(string.format("Exits (%d):", table.size(exits)))
    for exit, leadsto in pairs(exits) do
      echo(
        string.format(
          "  %s -&gt; %s (%d)%s%s\n",
          exit,
          getRoomName(leadsto),
          leadsto,
          (
            (getRoomArea(leadsto) or "?") == areanum and
            "" or
            " (in " ..
            (mmp.areatabler[getRoomArea(leadsto)] or "?") ..
            ")"
          ),
          (
            (not exitweights[mmp.anytoshort(exit)] or exitweights[mmp.anytoshort(exit)] == 0) and
            "" or
            " (weight: " ..
            exitweights[mmp.anytoshort(exit)] ..
            ")"
          )
        )
      )
    end
    -- display special exits if we got any
    if next(specexits) then
      mmp.echo(string.format("Special exits (%d):", table.size(specexits)))
      for leadsto, command in pairs(specexits) do
        if type(command) == "string" then
          echo(string.format("  %s -&gt; %s (%d)\n", command, getRoomName(leadsto), leadsto))
        else
          -- new format - exit name, command
          for cmd, locked in pairs(command) do
            if locked == '1' then
              cecho(
                string.format(
                  "&lt;DarkSlateGrey&gt;  %s -&gt; %s (%d) (locked)\n", cmd, getRoomName(leadsto), leadsto
                )
              )
            else
              echo(string.format("  %s -&gt; %s (%d)\n", cmd, getRoomName(leadsto), leadsto))
            end
          end
        end
      end
    end
    local message = "This room has the feature '%s'."
    for _, mapFeature in pairs(mmp.getRoomMapFeatures(num)) do
      mmp.echo(string.format(message, mapFeature))
    end
    -- actions we can do. This will be a short menu of sorts for actions
    mmp.echo("Stuff you can do:")
    echo("  ")
    echo("Clear all labels ")
    setUnderline(true)
    echoLink("(in area)", 'mmp.clearLabels(' .. areanum .. ')', '', true)
    setUnderline(false)
    echo(" ")
    setUnderline(true)
    echoLink(
      "(whole map)",
      [[
    if not mmp.clearinglabels then
      mmp.echo("Are you sure you want to clear all of your labels on this map? If yes, click the link again.")
      mmp.clearinglabels = true
    else
      mmp.clearLabels("map")
      mmp.clearinglabels = nil
    end
    ]],
      '',
      true
    )
    setUnderline(false)
    echo("\n")
    echo("  ")
    setUnderline(true)
    echoLink(
      "Check for mapper &amp; map updates", 'mmp.echo("Checking...") mmp.checkforupdate()', '', true
    )
    setUnderline(false)
    echo(" ")
    setUnderline(true)
    echoLink(
      "(force map)",
      [[
      if io.exists(getMudletHomeDir().."/map downloads/current") then
        local s,m = os.remove(getMudletHomeDir().."/map downloads/current")
        if not s then mmp.echo("Couldn't delete '"..getMudletHomeDir().."/map downloads/current' file: "..tostring(m)..".") end
      end
      mmp.echo("Re-downloading the latest crowdmap...")
      mmp.checkforupdate()
    ]],
      "Re-download the map regardless if you have latest",
      true
    )
    setUnderline(false)
    echo("\n")
  end

  -- see if we can do anything with the name

  local function handle_name(name)
    local result = mmp.searchRoom(name)
    if type(result) == "string" then
      cecho("&lt;grey&gt;You have no recollection of any room with that name.")
      return
    end
    -- if we got one result, then act on it
    if table.size(result) == 1 then
      if type(next(result)) == "number" then
        handle_number(next(result))
      else
        handle_number(select(2, next(result)))
      end
      return
    end
    -- if not, then ask the user to clarify which one would they want
    mmp.echo("Which room specifically would you like to look up?")
    if not select(2, next(result)) or not tonumber(select(2, next(result))) then
      for roomid, roomname in pairs(result) do
        roomid = tonumber(roomid)
        cecho(string.format("  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (", tostring(roomname)))
        cechoLink(
          "&lt;" .. mmp.settings.echocolour .. "&gt;" .. roomid,
          'mmp.roomLook(' .. roomid .. ')',
          string.format("View room details for %s (%s)", roomid, tostring(roomname)),
          true
        )
        cecho(
          string.format(
            "&lt;DarkSlateGrey&gt;) in the &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n",
            tostring(mmp.areatabler[getRoomArea(roomid)])
          )
        )
      end
    else
      for roomname, roomid in pairs(result) do
        roomid = tonumber(roomid)
        cecho(string.format("  &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt; (", tostring(roomname)))
        cechoLink(
          "&lt;" .. mmp.settings.echocolour .. "&gt;" .. roomid,
          'mmp.roomLook(' .. roomid .. ')',
          string.format("View room details for %s (%s)", roomid, tostring(roomname)),
          true
        )
        cecho(
          string.format(
            "&lt;DarkSlateGrey&gt;) in the &lt;LightSlateGray&gt;%s&lt;DarkSlateGrey&gt;.\n",
            tostring(mmp.areatabler[getRoomArea(roomid)])
          )
        )
      end
    end
  end

  if not input then
    if not mmp.roomexists(mmp.currentroom) then
      mmp.echo(mmp.currentroom .. " doesn't seem to be mapped yet.")
      mmp.echo("Stuff you can do:")
      echo("  ")
      echoLink("Check for all updates", 'mmp.echo("Checking...") mmp.checkforupdate()', '')
      echo(" ")
      echoLink(
        "(force map)",
        [[
      local s,m = os.remove(getMudletHomeDir().."/map downloads/current")
        if io.exists(getMudletHomeDir().."/map downloads/current") then
          local s,m = os.remove(getMudletHomeDir().."/map downloads/current")
          if not s then mmp.echo("Couldn't delete '"..getMudletHomeDir().."/map downloads/current' file: "..tostring(m)..".") end
        end
        mmp.echo("Re-downloading the latest map...")
        mmp.checkforupdate()
      ]],
        "Re-download the map regardless if you have latest"
      )
      echo("\n")
      mmp.echo(string.format("version %s.", tostring(mmp.version)))
      return
    else
      input = mmp.currentroom
    end
  end
  if tonumber(input) then
    handle_number(tonumber(input))
  else
    handle_name(input)
  end
  mmp.echo(string.format("version %s.", tostring(mmp.version)))
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.ferriesfix</name>
							<packageName></packageName>
							<script>function mmp.ferriesfix()
  if table.is_empty(mmp.ferry_rooms) then
    local tmp = getRoomUserData(1, "ferry rooms")
    if tmp ~= "" then
      for _, i in ipairs(yajl.to_value(tmp)) do
        mmp.ferry_rooms[i] = true
      end
    end
  end
end</script>
							<eventHandlerList>
								<string>mmapper updated map</string>
								<string>sysConnectionEvent</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.wormholesfix</name>
							<packageName></packageName>
							<script>function mmp.wormholesfix()
  local c = 0
  local weight = 10
  for _, area in pairs(getAreaTable()) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)

       if exits and next(exits) then
         for exit, cmd in pairs(exits) do
           if type(cmd) == "table" then cmd = next(cmd) end

           if (cmd:lower():find("worm warp", 1, true)) then
				setExitWeight(rooms[i], cmd, weight)
             c = c + 1
           end
         end
       end
    end
  end

  if c &gt; 0 then mmp.echo(string.format("%s wormholes weighted to %s (so we don't take them over too short distances).", c, weight)) end
end</script>
							<eventHandlerList>
								<string>mmapper updated map</string>
								<string>sysMapDownloadEvent</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.clearlastupdate</name>
							<packageName></packageName>
							<script>function mmp.clearlastupdate()
  -- reset mmp.pdb_lastupdate on the prompt
  enableTrigger"Mudlet Mapper prompt trigger"
end</script>
							<eventHandlerList>
								<string>mmapper updated pdb</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Third-party functions</name>
							<packageName></packageName>
							<script>-- from: http://lua-users.org/wiki/CopyTable
local function deepcopy(orig)
    local orig_type = type(orig)
    local copy
    if orig_type == 'table' then
        copy = {}
        for orig_key, orig_value in next, orig, nil do
            copy[deepcopy(orig_key)] = deepcopy(orig_value)
        end
        setmetatable(copy, deepcopy(getmetatable(orig)))
    else -- number, string, boolean, etc
        copy = orig
    end
    return copy
end

mmp.deepcopy = deepcopy</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.regenerateAreas</name>
							<packageName></packageName>
							<script>function mmp.regenerateAreas()
  -- cached data
  mmp.areatable = getAreaTable() -- this translates an area name to an ID
  mmp.areatabler = {} -- this translates an ID to an area name

  local t = getAreaTable()
  for k,v in pairs(t) do
    mmp.areatabler[tonumber(v)] = k
  end

  mmp.clearpathcache()
end</script>
							<eventHandlerList>
								<string>mmp areas changed</string>
								<string>mmapper map reloaded</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.relockAreas</name>
							<packageName></packageName>
							<script>function mmp.relockAreas()
	local getAreaRooms, lockRoom, lockedareas = getAreaRooms, lockRoom, mmp.locked

	for areaid, areaname in pairs(getAreaTableSwap()) do
		if lockedareas[areaid] then
			local rooms = getAreaRooms(areaid) or {}
			for _, roomid in pairs(rooms) do
				lockRoom(roomid, true)
			end
		else
			local rooms = getAreaRooms(areaid) or {}
			for _, roomid in pairs(rooms) do
				lockRoom(roomid, false)
			end
		end
	end

	-- make sure area with ID 0 is locked - this was causing crashing issues
	local rooms = getAreaRooms(0) or {}
	for _, roomid in pairs(rooms) do
		lockRoom(roomid, true)
	end
end</script>
							<eventHandlerList>
								<string>mmapper map reloaded</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Fix setExit</name>
							<packageName></packageName>
							<script>do
local oldsetExit = setExit

local exitmap = {
  n = 1,
  north = 1,
  ne = 2,
  northeast = 2,
  nw = 3,
  northwest = 3,
  e = 4,
  east = 4,
  w = 5,
  west = 5,
  s = 6,
  south = 6,
  se = 7,
  southeast = 7,
  sw = 8,
  southwest = 8,
  u = 9,
  up = 9,
  d = 10,
  down = 10,
  ["in"] = 11,
  out = 12
}

function mmp.setExit(from, to, direction)
  if type(direction) == "string" and not exitmap[direction] then return false end

  return oldsetExit(from, to, type(direction) == "string" and exitmap[direction] or direction)
end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Fix exit locking funcs</name>
							<packageName></packageName>
							<script>do
local oldlockExit = lockExit
local oldhasExitLock = hasExitLock

local exitmap = {
  n = 1,
  north = 1,
  ne = 2,
  northeast = 2,
  nw = 3,
  northwest = 3,
  e = 4,
  east = 4,
  w = 5,
  west = 5,
  s = 6,
  south = 6,
  se = 7,
  southeast = 7,
  sw = 8,
  southwest = 8,
  u = 9,
  up = 9,
  d = 10,
  down = 10,
  ["in"] = 11,
  out = 12
}

function mmp.lockExit(from, direction, status)
  if type(direction) == "string" and not exitmap[direction] then return false end

  return oldlockExit(from, type(direction) == "string" and exitmap[direction] or direction, status)
end

function mmp.hasExitLock(from, direction)
  if type(direction) == "string" and not exitmap[direction] then return false end

  return oldhasExitLock(from, type(direction) == "string" and exitmap[direction] or direction)
end
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Assorted small utilities</name>
							<packageName></packageName>
							<script>function mmp.comma_value(n) -- credit http://richard.warburton.it
	local left,num,right = string.match(n,'^([^%d]*%d)(%d*)(.-)$')
	return left..(num:reverse():gsub('(%d%d%d)','%1,'):reverse())..right
end</script>
							<eventHandlerList />
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Defense tracking</name>
							<packageName></packageName>
							<script>mmp.defs = {current = {}}
mmp.defs.add =
  function()
    local def = gmcp.Char.Defences.Add.name
    if not mmp.defs.current[def] then
      mmp.defs.current[def] = true
      raiseEvent("mmp got def", def)
    end
  end
mmp.defs.remove =
  function()
    for _, def in ipairs(gmcp.Char.Defences.Remove) do
      mmp.defs.current[def] = nil
      raiseEvent("mmp lost def", def)
    end
  end
mmp.defs.list =
  function()
    local newDefs = {}
    local addedDefs, lostDefs = {}, {}
    for _, v in ipairs(gmcp.Char.Defences.List) do
      newDefs[v.name] = true
      if not mmp.defs.current[v.name] then
        addedDefs[#addedDefs + 1] = v.name
      end
    end
    for def in pairs(mmp.defs.current) do
      if not newDefs[def] then
        lostDefs[#lostDefs + 1] = def
      end
    end
    mmp.defs.current = newDefs
    for _, def in pairs(lostDefs) do
      raiseEvent("mmp lost def", def)
    end
    for _, def in ipairs(addedDefs) do
      raiseEvent("mmp got def", def)
    end
  end
-- EVENT HANDLERS
registerAnonymousEventHandler("gmcp.Char.Defences.Add", "mmp.defs.add")
registerAnonymousEventHandler("gmcp.Char.Defences.Remove", "mmp.defs.remove")
registerAnonymousEventHandler("gmcp.Char.Defences.List", "mmp.defs.list")</script>
							<eventHandlerList />
						</Script>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Person tracking</name>
						<packageName></packageName>
						<script>--[[
mmp will have 2 person tracking databases:
- mmp.pdb  =  used to store the last known location of a person
- mmp.pdb_lastupdate  =  used to store the output of the last locating command

Both databases work with the person's name as key and the location name as value.

]]
mmp.pdb = mmp.pdb or {}
mmp.pdb_lastupdate = mmp.pdb_lastupdate or {}

function mmp.is_here(who)
  return (mmp.pdb[who] and mmp.pdb[who] == mmp.currentroomname) and true or false
end</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Lock Area</name>
						<packageName></packageName>
						<script>-- Lock Area

mmp.locked = mmp.locked or {}
mmp.lastLockSearch = mmp.lastLockSearch or nil

function mmp.doLockArea(search)
	local areaList
	if search ~= nil then
		local r = rex.new(string.lower(search))
		mmp.lastLockSearch = search
		for name, id in pairs(getAreaTable()) do
			if r:match(string.lower(name)) then
				areaList = areaList or {}
				areaList[name] = id
			end
		end
		if areaList == nil then
			mmp.echo("'" .. search .. "' did not match any known areas!")
			return
		end
	else
		mmp.lastLockSearch = nil
		areaList = getAreaTable()
	end

	for name, id in pairs(areaList) do
		mmp.echon(name .. string.rep(" ", 40 - string.len(name)))
		if not mmp.locked[id] then
			setFgColor(0, 200, 0)
			setUnderline(true)
			echoLink("Lock!", [[mmp.lockArea( ']] .. name:gsub("'", [[\']]) .. [[', true )]], "Click to lock area '" .. name .. "'", true)
		else
			setFgColor(200, 0, 0)
			setUnderline(true)
			echoLink("Unlock!", [[mmp.lockArea( ']] .. name:gsub("'", [[\']]) .. [[', false )]], "Click to unlock area '" .. name .. "'", true)
		end
	end

	if not search then
		echo"\n\n" mmp.echo("Use &lt;green&gt;arealock &lt;area&gt;&lt;white&gt; to filter areas.")
	end
end

function mmp.lockArea(name, lock, dontreshow)
	local areas = getAreaTable()
	local rooms = getAreaRooms(areas[name]) or {}
    local lockRoom = lockRoom
    local count = 0
	for _, room in pairs(rooms) do
		lockRoom(room, lock)
        count = count + 1
	end

	mmp.locked[areas[name]] = lock and true or nil
	mmp.echo(string.format("Area '%s' %slocked! All %s room%s within it.", name, (lock and '' or 'un'), count, (count == 1 and '' or 's')))

	if not dontreshow then mmp.doLockArea(mmp.lastLockSearch) end
end


</script>
						<eventHandlerList />
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>Center view via GMCP</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>mmp.centerRoominfo</name>
							<packageName></packageName>
							<script>function mmp.centerRoominfo()
  -- lusternia has gmcp.Room.Players before gmcp.Room.Info is created
  if gmcp.Room.Info then centerview(gmcp.Room.Info.num) end
end</script>
							<eventHandlerList>
								<string>gmcp.Room</string>
							</eventHandlerList>
						</Script>
					</Script>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>mm Mapping</name>
						<packageName></packageName>
						<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>mmp.mappingNewroom</name>
							<packageName></packageName>
							<script>--mmp.mappingNewroom

local function makeroom(oldid, newid, x, y, z)
  assert(x and y and z, "makeroom: need all 3 coordinates")
  addRoom(newid)
  setRoomCoordinates(newid, x, y, z)
  setRoomArea(newid, getRoomArea(oldid))
  local fgr, fgg, fgb = unpack(color_table.red)
  local bgr, bgg, bgb = unpack(color_table.blue)
  highlightRoom(newid, fgr, fgg, fgb, bgr, bgg, bgb, 1, 100, 100)
  if mmp.envids[gmcp.Room.Info.environment] then
    setRoomEnv(newid, mmp.envids[gmcp.Room.Info.environment])
  else
    setRoomEnv(newid, getRoomEnv(oldid))
  end
  return string.format("Created new room %d at %dx,%dy,%dz.", newid, x, y, z)
end

-- gives the reverse shifted coordinates, ie asking for the sw exit + coords will give the coords at ne

local function getshiftedcoords(original, ox, oy, oz)
  local x, y, z
  local has = table.contains
  -- reverse the exit
  w = mmp.ranytolong(original)
  if has({"west", "left", "w", "l"}, w) then
    x = (x or ox) - 1
    y = (y or oy)
    z = (z or oz)
  elseif has({"east", "right", "e", "r"}, w) then
    x = (x or ox) + 1
    y = (y or oy)
    z = (z or oz)
  elseif has({"north", "top", "n", "t"}, w) then
    x = (x or ox)
    y = (y or oy) + 1
    z = (z or oz)
  elseif has({"south", "bottom", "s", "b"}, w) then
    x = (x or ox)
    y = (y or oy) - 1
    z = (z or oz)
  elseif has({"northwest", "topleft", "nw", "tl"}, w) then
    x = (x or ox) - 1
    y = (y or oy) + 1
    z = (z or oz)
  elseif has({"northeast", "topright", "ne", "tr"}, w) then
    x = (x or ox) + 1
    y = (y or oy) + 1
    z = (z or oz)
  elseif has({"southeast", "bottomright", "se", "br"}, w) then
    x = (x or ox) + 1
    y = (y or oy) - 1
    z = (z or oz)
  elseif has({"southwest", "bottomleft", "sw", "bl"}, w) then
    x = (x or ox) - 1
    y = (y or oy) - 1
    z = (z or oz)
  elseif has({"up", "u"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) + 1
  elseif has({"down", "d"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) - 1
  elseif has({"in", "i"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) - 1
  elseif has({"out", "o"}, w) then
    x = (x or ox)
    y = (y or oy)
    z = (z or oz) + 1
  else
    mmp.echo(
      "Don't know where to shift the coordinates for a " ..
      tostring(w) ..
      " (" ..
      tostring(original) ..
      ") exit."
    )
  end
  return x, y, z
end

function mmp.mappingNewroom(_, num)
  local s, m =
    xpcall(
      function()
        if not mmp.editing then
          return
        end
        if not gmcp.Room then
          mmp.echo(
            "You need to have GMCP turned on (see preferences on a recent Mudlet) for mapping stuff."
          )
          return
        end
        -- wilderness mapping right now is UNFINISHED! It does not handle the grid breakup. So, please don't try it, and please won't whine about it.

        local function inwilderness()
          return (gmcp.Room.Info.coords == "" and gmcp.Room.Info.area == "")
        end

        local getRoomName, getRoomCoordinates, getRoomsByPosition =
          getRoomName, getRoomCoordinates, getRoomsByPosition
        local num = tonumber(num) or tonumber(gmcp.Room.Info.num)
        local currentexits = gmcp.Room.Info.exits
        local s = ""
        if not mmp.roomexists(num) then
          -- see if we can create and link this room with an existing one
          -- wilderness and non-wilderness rooms require different methods of calculating relative coordinates
          if not inwilderness() then
            for exit, id in pairs(currentexits) do
              if mmp.roomexists(id) then
                s = makeroom(id, num, getshiftedcoords(exit, getRoomCoordinates(id)))
              end
            end
          else
            local x, y = tostring(num):match(".-(%d%d%d)(%d%d%d)$")
            -- Achaea's coordinates seem to be in the 4th quadrant, while Mudlets 0,0 is in the middle of the map. Invert y so going north-south looks alright
            s = makeroom(mmp.previousroom, num, x, y * -1, 0)
          end
        end
        -- if we created it, and some data could be filled in
        if mmp.roomexists(num) then
          -- cleanup the room name
          local rootroomname = mmp.cleanroomname(gmcp.Room.Info.name)
          -- match exact case, so mappers alertness' works properly
          if getRoomName(num) ~= rootroomname then
            setRoomName(num, rootroomname)
            unHighlightRoom(num)
            s = s .. (#s &gt; 0 and " " or "") .. "Updated room name to '" .. rootroomname .. "'."
          end
          -- autolink exits
          if not inwilderness() then
            local x = getRoomExits(num) or {}
            -- check for missing exits
            for exit, id in pairs(currentexits) do
              if id == 0 then
                s =
                  s ..
                  (#s &gt; 0 and " " or "") ..
                  "Can't link to the " ..
                  exit ..
                  ", it leads to a room with ID 0 (and that's not supported yet)."
              else
                if not x[mmp.anytolong(exit)] then
                  if not mmp.roomexists(id) then
                    s =
                      makeroom(
                        num, id, getshiftedcoords(mmp.ranytolong(exit), getRoomCoordinates(num))
                      )
                  end
                  if mmp.setExit(num, id, exit) then
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      "Added missing exit " ..
                      exit ..
                      " to " ..
                      (getRoomName(id) ~= "" and getRoomName(id) or "''") ..
                      " (" ..
                      id ..
                      ")."
                  else
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      string.format(
                        "Failed to link %d with %d via %s exit for some reason :/", num, id, exit
                      )
                  end
                end
              end
            end
          else
            local function getshiftedcoords(direction, ox, oy, oz)
              if direction == 'n' then
                return ox, oy + 1, oz
              elseif direction == 'e' then
                return ox + 1, oy, oz
              elseif direction == 's' then
                return ox, oy - 1, oz
              elseif direction == 'w' then
                return ox - 1, oy, oz
              elseif direction == 'ne' then
                return ox + 1, oy + 1, oz
              elseif direction == 'se' then
                return ox + 1, oy - 1, oz
              elseif direction == 'sw' then
                return ox - 1, oy - 1, oz
              elseif direction == 'nw' then
                return ox - 1, oy + 1, oz
              else
                error("getshiftedcoords: direction " .. direction .. " isn't supported yet.")
              end
            end

            local x, y, z = getRoomCoordinates(num)
            local currentexits = getRoomExits(num) or {}
            for _, exit in ipairs({'n', 'e', 's', 'w', 'ne', 'se', 'sw', 'nw'}) do
              local roomatdir =
                getRoomsByPosition(getRoomArea(num), getshiftedcoords(exit, x, y, z))
              if roomatdir[0] then
                local id = roomatdir[0]
                if not currentexits[mmp.anytolong(exit)] then
                  if mmp.setExit(num, id, exit) then
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      "Added missing exit " ..
                      exit ..
                      " to " ..
                      (getRoomName(id) ~= "" and getRoomName(id) or "''") ..
                      " (" ..
                      id ..
                      ")."
                  else
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      string.format(
                        "Failed to link %d with %d via %s exit for some reason :/", num, id, exit
                      )
                  end
                  local exit = mmp.anytoshort(mmp.ranytolong(exit))
                  if mmp.setExit(id, num, exit) then
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      "Added missing exit " ..
                      exit ..
                      " to " ..
                      (getRoomName(id) ~= "" and getRoomName(id) or "''") ..
                      " (" ..
                      id ..
                      ")."
                  else
                    s =
                      s ..
                      (#s &gt; 0 and " " or "") ..
                      string.format(
                        "Failed to link %d with %d via %s exit for some reason :/", num, id, exit
                      )
                  end
                end
              end
            end
          end
          -- check for unexisting exits
          if mmp.settings["autoclear"] then
            for exit, id in pairs(getRoomExits(num)) do
              if not currentexits[mmp.anytoshort(exit)] then
                mmp.setExit(num, -1, exit)
                s =
                  s ..
                  (#s &gt; 0 and " " or "") ..
                  exit ..
                  " exit to " ..
                  id ..
                  " doesn't actually exist, removed it."
              end
            end
          end
          -- check for environment update, if we have environments mapped out
          if
            mmp.envids[gmcp.Room.Info.environment] and
            mmp.envids[gmcp.Room.Info.environment] ~= getRoomEnv(num)
          then
            setRoomEnv(num, mmp.envids[gmcp.Room.Info.environment])
            s =
              s ..
              (#s &gt; 0 and " " or "") ..
              "Updated environment name to " ..
              gmcp.Room.Info.environment ..
              "."
          end
          -- check indoors status
          if mmp.game ~= "asteria" then
            local indoors = table.contains(gmcp.Room.Info.details, "indoors")
            if indoors and (getRoomUserData(num, "indoors") == '' or getRoomUserData(num,"outdoors") ~= '') then
            setRoomUserData(num, "indoors", "y")
            clearRoomUserDataItem(num, "outdoors")
            s = s .. (#s &gt; 0 and " " or "") .. "Updated room to be indoors."
          elseif not indoors and (getRoomUserData(num, "indoors") ~= '' or getRoomUserData(num, "outdoors") == '') then
            clearRoomUserDataItem(num, "indoors")
            setRoomUserData(num, "outdoors", "y")
            s = s .. (#s &gt; 0 and " " or "") .. "Updated room to be outdoors."
          end
        end

          -- check server area name (Achaea only for now)
          if mmp.game == "achaea" then
            local serverArea = gmcp.Room.Info.area
            if serverArea ~= getRoomUserData(num, "Game Area") then
              setRoomUserData(num, "Game Area", serverArea)
              s = s .. (#s &gt; 0 and " " or "") .. "Updated game area to " .. serverArea .. "."
            end
          end
          -- check for wilderness exits
          if getRoomChar(num) ~= "W" and table.contains(gmcp.Room.Info.details, "wilderness") then
            setRoomChar(num, "W")
            s = s .. (#s &gt; 0 and " " or "") .. "Added the wilderness mark."
          end
        end
        if #s &gt; 0 then
          mmp.echo(s)
          centerview(mmp.currentroom)
        end
      end,
      function(error)
        mmp.echo("Oops! Had a small problem (" .. error .. ").")
        echo("  ")
        echoLink(
          "view steps",
          'echo[[' .. debug.traceback() .. ']]',
          "View steps of code that led up to it"
        )
      end
    )
  if not s then
    mmp.echo(m)
  end
end</script>
							<eventHandlerList>
								<string>gmcp.Room.Info</string>
								<string>RoomNum</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.saveOptions</name>
							<packageName></packageName>
							<script>function mmp.saveOptions()
	local saveTable = {
		locked_areas = mmp.locked,
		options = mmp.settings:getAllOptions()
	}
  local _sep
	if string.char(getMudletHomeDir():byte()) == "/" then _sep = "/" else  _sep = "\\" end
	local saveFile = getMudletHomeDir() ..  _sep .. "mapper.options.lua"

	table.save(saveFile, saveTable)
end</script>
							<eventHandlerList>
								<string>sysExitEvent</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>mmp.loadOptions</name>
							<packageName></packageName>
							<script>function mmp.loadOptions()
	local loadTable = mmp.loadLocks()

	if loadTable.options then
		for k, v in pairs(loadTable.options) do
			mmp.settings:setOption(k, v, true)
		end
	end
end

function mmp.loadLocks()
	local loadTable = {}
  local _sep
	if string.char(getMudletHomeDir():byte()) == "/" then _sep = "/" else  _sep = "\\" end
	local loadFile = getMudletHomeDir() ..  _sep .. "mapper.options.lua"

    if io.exists(loadFile) then table.load(loadFile, loadTable) end

	if loadTable.locked_areas then
		mmp.locked = loadTable.locked_areas
	end

    local lockRoom, getAreaRooms = lockRoom, getAreaRooms
	for area in pairs(mmp.locked) do
		local rooms = getAreaRooms(area)
		for _, roomid in pairs(rooms or {}) do
			lockRoom(roomid, true)
		end
	end

	return loadTable
end</script>
							<eventHandlerList>
								<string>sysLoadEvent</string>
							</eventHandlerList>
						</Script>
					</ScriptGroup>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Game-specific</name>
						<packageName></packageName>
						<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>Achaea</name>
							<packageName></packageName>
							<script></script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerAchaeasEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerAchaeasEnvData(_, game)
  if game ~= "Achaea" then
    return
  end
  mmp.envids =
    {
      ["Constructed underground"] = 2,
      ["Crimson Sea"] = 45,
      ["Deep Ocean"] = 24,
      ["Deep Ocean floor"] = 30,
      ["Dwarven city"] = 18,
      ["Lava Fields"] = 39,
      ["Magma Caves"] = 31,
      ["Natural underground"] = 3,
      ["Ocean floor"] = 34,
      ["Planar Highway"] = 42,
      ["Sanguine River"] = 44,
      ["Tsol'aa city"] = 19,
      ["Vast Ocean"] = 40,
      Abstract = 37,
      Agrarian = 48,
      Ausafoss = 47,
      Beach = 5,
      Blighted = 29,
      Catacombs = 14,
      Chaos = 38,
      Desert = 6,
      Earthen = 43,
      Flames = 49,
      Forest = 4,
      Freshwater = 22,
      Garden = 21,
      Grasslands = 7,
      Hills = 9,
      Jungle = 17,
      Mountains = 14,
      Nothing = 0,
      Ocean = 20,
      Path = 11,
      Polar = 27,
      Reef = 25,
      River = 10,
      Road = 12,
      Ruins = 32,
      Sewer = 23,
      Skies = 10,
      Storm = 50,
      Swamp = 15,
      Trees = 28,
      Tundra = 16,
      Urban = 8,
      Valley = 13,
      Vessel = 36,
      Viscera = 46,
      Wastelands = 41,
      Water = 30,
    }
  mmp.waterenvs = {}
  local waterids =
    {"Freshwater", "Ocean", "River", "Deep Ocean", "Water", "Reef", "Ocean floor", "Vast Ocean"}
  for i = 1, #waterids do
    mmp.waterenvs[mmp.envids[waterids[i]]] = true
  end
  mmp.envidsr = {}
  for name, id in pairs(mmp.envids) do
    mmp.envidsr[id] = name
  end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp.achaeaGaiaWhirlpoolReset</name>
								<packageName></packageName>
								<script>function mmp.achaeaGaiaWhirlpoolReset(event, game)
	if game == "Achaea" then
		mmp.whirlString = 'script: send("enter whirlpool") if tempWhirlTrigger then killTrigger(tempWhirlTrigger) tempWhirlTrigger = nil end if tempWhirlTimer then killTimer(killWhirlTimer) tempWhirlTimer = nil end tempWhirlTrigger = tempTrigger("What do you wish to enter?", [[if tempWhirlTimer then killTimer(tempWhirlTimer) tempWhirlTimer = nil end mmp.echo("Whirlpool not found here. Trying another room.") local x = {45817, 45780, 45903, 45868, 46254, 45866} if tempWhirlTrigger then killTrigger(tempWhirlTrigger) tempWhirlTrigger = nil end clearSpecialExits(]]..mmp.currentroom..[[) local y = table.index_of(x, ]]..mmp.currentroom..[[) + 1 if y &gt; #x then y = 1 end addSpecialExit(x[y], 793, mmp.whirlString) mmp.clearpathcache() mmp.gotoRoom(mmp.speedWalkPath[#mmp.speedWalkPath]) mmp.echo("Moved whirlpool to "..x[y]..".")]]) tempWhirlTimer = tempTimer(1, [[if tempWhirlTrigger then killTrigger(tempWhirlTrigger) tempWhirlTrigger = nil end if tempWhirlTimer then killTimer(tempWhirlTimer) tempWhirlTimer = nil end]])'
		local x = {45817, 45780, 45903, 45868, 46254, 45866}
		for i, v in ipairs(x) do clearSpecialExits(v) end
		addSpecialExit(45868, 793, mmp.whirlString)
	end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>Shackle handling</name>
								<packageName></packageName>
								<script>local density = false
--Wear shackle function

function mmp.wearShackle()
  if mmp.settings.shackle and density then
    send("wear shackle")
  end
end

function mmp.unwearShackle()
  if mmp.settings.shackle and mmp.defs.current.density then
    density = true
    send("remove shackle")
  elseif not mmp.defs.current.density then
    density = false
  end
end

--Event Handlers
registerAnonymousEventHandler("mmapper failed path", "mmp.wearShackle")
registerAnonymousEventHandler("mmapper stopped", "mmp.wearShackle")
registerAnonymousEventHandler("mmapper arrived", "mmp.wearShackle")
registerAnonymousEventHandler("started speedwalk", "mmp.unwearShackle")</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp Achaea Orb of Confinement</name>
								<packageName></packageName>
								<script>--returns a table depending on current crowdmap settings. Functionized so that these tables will only have to be stored in one location.
function mmp.getAchaeaOrbTable()
  return
  --first table is areas in each org for the crowdmap, second is for the game provided map.
    mmp.settings.crowdmap and
    {
      ashtan = {49, 53},
      cyrene = {57, 59, 62, 63, 68, 70},
      eleusis = {51},
      hashan = {55, 56, 267},
      mhaldor = {44, 40, 48},
      targossas = {368},
    } or
    {
      ashtan = {49, 53, 54, 60},
      cyrene = {57, 62, 67, 174, 189, 292, 293, 294},
      eleusis = {51},
      hashan = {55, 56},
      mhaldor = {44, 48, 295, 296, 297},
      targossas = {271, 277, 298, 299, 300},
    }
end

--roomID is optional, if not it will default to current room. Returns true if you're in an area covered by the orb of confinement.
function mmp.orbed(roomID)
  if mmp.game ~= "achaea" then
    return false
  end
  local orbTable = mmp.getAchaeaOrbTable()
  --first table is the areas in the city for the crowdmap, second is for the game provided map.
  local areaID = getRoomArea(roomID or mmp.currentroom)
  for city, areaTable in pairs(orbTable) do
    if table.contains(areaTable, areaID) then
      return mmp.settings["orb" .. city]
    end
  end
  return false
end</script>
								<eventHandlerList />
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Aetolia</name>
							<packageName></packageName>
							<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerAetoliasEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerAetoliasEnvData(_, game)
  if game ~= "Aetolia" then return end

  mmp.envids =
  {
    ["a bridge"]                = 55,
    ["Airship wreckage"]        = 62,
    ["camp site"]               = 57,
    ["Constructed underground"] = 2,
    ["Deep ocean"]              = 24,
    ["lifeless sands"]          = 54,
    ["logged forest"]           = 56,
    ["Natural underground"]     = 3,
    ["Tsol'aa city"]            = 19,
    ["Underwater city"]         = 28,
    ["within a tree"]           = 36,
    Beach                       = 5,
    Canyon                      = 34,
    Castle                      = 61,
    Cavern                      = 69,
    Chaos                       = 1,
    Crater                      = 37,
    Desert                      = 6,
    Ethereal                    = 67,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    Grasslands                  = 7,
    Graveyard                   = 31,
    grotto                      = 70,
    Hills                       = 9,
    Ice                         = 30,
    Jungle                      = 17,
    lava                        = 39,
    Mines                       = 32,
    Mountains                   = 14,
    Ocean                       = 20,
    Onboard                     = 33,
    Path                        = 11,
    Reef                        = 25,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 26,
    Sewer                       = 23,
    Shadows                     = 58,
    Swamp                       = 15,
    Temple                      = 29,
    Tundra                      = 16,
    Urban                       = 8,
    Valley                      = 13,
    Village                     = 27,
  }

  mmp.waterenvs = {}
  local waterids = { "River", "Freshwater", "Deep ocean", "Reef", "Underwater city" }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp.aetContinentCheck</name>
								<packageName></packageName>
								<script>local oldArea = oldArea or ""
function mmp.aetContinentCheck()
  if mmp.game ~= "aetolia" then return end
  
  if oldArea ~= gmcp.Room.Info.area then
    oldArea = gmcp.Room.Info.area
    enableTrigger("Aetolia Gag Survey")
    send("survey",false)
    tempTimer(5,function() disableTrigger("Aetolia Gag Survey") end)
  end
end</script>
								<eventHandlerList>
									<string>gmcp.Room.Info</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Asteria</name>
							<packageName></packageName>
							<script></script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.asteriaStopSpeedwalkForWrongDir</name>
								<packageName></packageName>
								<script>function mmp.asteriaStopSpeedwalkForWrongDir()
  if mmp.game and mmp.game ~= "asteria" then
    return
  end
  if #mmp.speedWalkPath &gt; 0 then
    echo("Can't go \"" .. gmcp.Room.WrongDir .. "\". Stopping speedwalk.")
    mmp.stop()
  end
end</script>
								<eventHandlerList>
									<string>gmcp.Room.WrongDir</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerAsteriasEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerAsteriasEnvData(_, game)
  if game ~= "Asteria" then
    return
  end
  mmp.envids =
    {
      Air = 20,
      Airship = 21,
      Badland = 22,
      Beach = 23,
      Carriage = 24,
      Cave = 25,
      City = 26,
      Coast = 27,
      Default = 28,
      Desert = 29,
      Field = 30,
      Forest = 31,
      Ghetto = 32,
      Hills = 33,
      Home = 34,
      Inn = 35,
      Inside = 36,
      Marsh = 37,
      Mountain = 38,
      Road = 39,
      Ship = 40,
      Shop = 41,
      Temple = 42,
      Tundra = 43,
      Underwater = 44,
      Vehicle = 45,
      Water = 46,
    }
  mmp.waterenvs = {}
  mmp.envidsr = {}
  for name, id in pairs(mmp.envids) do
    mmp.envidsr[id] = name
  end


mmp.colorcodes = {}
mmp.colorcodes[20] = {176, 224, 230, 255}
mmp.colorcodes[21] = {160, 82, 45, 255}
mmp.colorcodes[22] = {205, 133, 63, 255}
mmp.colorcodes[23] = {218, 165, 32, 255}
mmp.colorcodes[24] = {132, 112, 255, 255}
mmp.colorcodes[25] = {47, 79, 79, 255}
mmp.colorcodes[26] = {190, 190, 190, 255}
mmp.colorcodes[27] = {210, 180, 140, 255}
mmp.colorcodes[28] = {255, 69, 0, 255}
mmp.colorcodes[29] = {255, 215, 0, 255}
mmp.colorcodes[30] = {127, 255, 0, 255}
mmp.colorcodes[31] = {0, 100, 0, 255}
mmp.colorcodes[32] = {184, 134, 11, 255}
mmp.colorcodes[33] = {50, 205, 50, 255}
mmp.colorcodes[34] = {102, 205, 170, 255}
mmp.colorcodes[35] = {0, 128, 128, 255}
mmp.colorcodes[36] = {255, 250, 205, 255}
mmp.colorcodes[37] = {107, 142, 35, 255}
mmp.colorcodes[38] = {139, 69, 19, 255}
mmp.colorcodes[39] = {112, 128, 144, 255}
mmp.colorcodes[40] = {265, 42, 42, 255}
mmp.colorcodes[41] = {0, 190, 255, 255}
mmp.colorcodes[42] = {138, 43, 226, 255}
mmp.colorcodes[43] = {255, 250, 250, 255}
mmp.colorcodes[44] = {65, 105, 225, 255}
mmp.colorcodes[45] = {90, 158, 160, 255}
mmp.colorcodes[46] = {30, 144, 255, 255}

function mmp.setAsteriaColorcodes()
  for id, rgba in pairs(mmp.colorcodes) do
    setCustomEnvColor(id, rgba[1], rgba[2], rgba[3], rgba[4])
  end
 end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp.asteriaCanMove</name>
								<packageName></packageName>
								<script>-- Asteria's GMCP butts heads with existing GMCP 'able' checks in the speedwalking script. This works around it.

function mmp.asteriaCanMove(_, game)
  if game ~= "Asteria" then
    return
  end

function mmp.mapperCanMove()
    return gmcp.Char and gmcp.Char.Balance and gmcp.Char.Balance.balance == 0
  end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Dragonswords</name>
							<packageName></packageName>
							<script></script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.dragonswordsStopSpeedwalkForWrongDir</name>
								<packageName></packageName>
								<script>function mmp.dragonswordsStopSpeedwalkForWrongDir()
  if mmp.game and mmp.game ~= "dragonswords" then
    return
  end
  if #mmp.speedWalkPath &gt; 0 then
    echo("The way \"" .. gmcp.Room.WrongDir .. "\" is blocked. Stopping speedwalk.")
    mmp.stop()
  end
end</script>
								<eventHandlerList>
									<string>gmcp.Room.WrongDir</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerDragonswordsEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerDragonswordsEnvData(_, game)
  if game ~= "dragonswords" then
    return
  end
  mmp.envids =
    {
      ["inside"] = 1,
        ["city"] = 2,
        ["field"] = 3,
        ["forest"] = 4,
        ["hills"] = 5,
        ["mountain"] = 6,
        ["swim"] = 7,
        ["noswim"] = 8,
        ["underwater"] = 9,
        ["air"] = 10,
        ["desert"] = 11,
        ["river"] = 12,
        ["oceanfloor"] = 13,
        ["underground"] = 14,
        ["jungle"] = 15,
        ["swamp"] = 16,
        ["tundra"] = 17,
        ["ice"] = 18,
        ["ocean"] = 19,
        ["lava"] = 20,
        ["shore"] = 21,
        ["tree"] = 22,
        ["stone"] = 23,
        ["quicksand"] = 24,
        ["wall"] = 25,
        ["glacier"] = 26,
        ["exit"] = 27,
        ["trail"] = 28,
        ["badlands"] = 29,
        ["grassland"] = 30,
        ["scrub"] = 31,
        ["barren"] = 32,
        ["bridge"] = 33,
        ["road"] = 34,
    }
  mmp.waterenvs = {}
  mmp.envidsr = {}
  for name, id in pairs(mmp.envids) do
    mmp.envidsr[id] = name
  end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Lusternia</name>
							<packageName></packageName>
							<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerLusterniasEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerLusterniasEnvData(_, game)
  if game ~= "Lusternia" then return end

  mmp.envids =
  {
    ["constructed underground"] = 2,
    ["deep ocean"]              = 24,
    ["natural underground"]     = 3,
    ["constructed underwater"]  = 41,
    aether                      = 36,
    astral                      = 35,
    beach                       = 5,
    chaos                       = 39,
    clouds                      = 37,
    concordance                 = 38,
    darkness                    = 1,
    desert                      = 6,
    divine                      = 33,
    farmlands                   = 30,
    flesh                       = 18,
    forest                      = 4,
    freshwater                  = 22,
    garden                      = 21,
    grasslands                  = 7,
    hills                       = 9,
    jungle                      = 17,
    mountains                   = 14,
    netherworld                 = 34,
    ocean                       = 20,
    path                        = 11,
    polar                       = 27,
    reef                        = 25,
    river                       = 10,
    road                        = 12,
    ruins                       = 19,
    sewer                       = 23,
    swamp                       = 15,
    trees                       = 28,
    tundra                      = 16,
    urban                       = 8,
    valley                      = 13,
    volcanic                    = 32,
    wasteland                   = 29,
    badlands                    = 40,
    wetlands                    = 31,
  }

  mmp.waterenvs = {}
  local waterids = { "river", "ocean", "freshwater", "deep ocean" }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>Astral utilities</name>
								<packageName></packageName>
								<script>local astralExits =
  {
    {5079, 5175, "n"},
    {5072, 5065, "w"},
    {5088, 5132, "e"},
    {5145, 5176, "s"},
    {5138, 5146, "e"},
    {5158, 5192, "s"},
    {5152, 5041, "e"},
    {5031, 5042, "e"},
    {5022, 5131, "n"},
    {5116, 5198, "w"},
    {5130, 5096, "e"},
    {5089, 5058, "n"},
    {5102, 5115, "e"},
    {5111, 5159, "e"},
    {5103, 5071, "n"},
    {5059, 5053, "w"},
    {5187, 5169, "w"},
    {5190, 5204, "e"},
    {5065, 5072, "e"},
    {45333, 5093, "u"},
    {45334, 5113, "u"},
    {45356, 5075, "u"},
    {45335, 5171, "u"},
    {45357, 5066, "u"},
    {45329, 5156, "u"},
    {45330, 5201, "u"},
    {45331, 5121, "u"},
    {45324, 5055, "u"},
    {45354, 5177, "u"},
    {45325, 5024, "u"},
    {45355, 5133, "u"},
  }
local mirror =
  {
    n = "s",
    ne = "sw",
    e = "w",
    se = "nw",
    s = "n",
    sw = "ne",
    w = "e",
    nw = "se",
    u = "d",
    d = "u",
    out = "in",
    ["in"] = "out",
  }

function mmp.astroboots()
  if mmp.game ~= "lusternia" then
    return
  end
  local option = mmp.settings.astrojump
  mmp.echo("&lt;green&gt;" .. (option and "Set up" or "Removed") .. " &lt;white&gt;Astrojump &lt;green&gt;exits")
  local exitString = [[script:if gmcp.Room.Info.exits.%s then send("%s", false) else send("astrojump", false) end]]
  for k, v in pairs(astralExits) do
    if option then
      addSpecialExit(v[1], v[2], string.format(exitString, v[3], v[3]))
      addSpecialExit(v[2], v[1], string.format(exitString, mirror[v[3]], mirror[v[3]]))
    else
      removeSpecialExit(v[1], "astrojump")
      removeSpecialExit(v[2], "astrojump")
      removeSpecialExit(v[1], string.format(exitString, v[3], v[3]))
      removeSpecialExit(v[2], string.format(exitString, mirror[v[3]], mirror[v[3]]))
    end
  end
end

function mmp.wildnodes(create)
  if mmp.game ~= "lusternia" then
    return
  end
  for k, v in pairs(astralExits) do
    if create then
      mmp.setExit(v[1], v[2], v[3])
      mmp.setExit(v[2], v[1], mirrorExits[v[3]])
    else
      mmp.setExit(v[1], -1, v[3])
      mmp.setExit(v[2], -1, mirrorExits[v[3]])
    end
  end
end</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>Transverse and pathfind</name>
								<packageName></packageName>
								<script>local planes =
  {
    ["the Prime Material Plane"] = "prime",
    ["the Ethereal Plane"] = "ethereal",
    ["the Water Elemental Plane"] = "elemental",
    ["the Earth Elemental Plane"] = "elemental",
    ["the Air Elemental Plane"] = "elemental",
    ["the Fire Elemental Plane"] = "elemental",
    ["Celestia, Plane of Light"] = "cosmic",
    ["the Cosmic Plane of Vortex"] = "cosmic",
    ["the Cosmic Plane of Continuum"] = "cosmic",
    ["the Tainted Plane of Nil"] = "cosmic",
    ["the Astral Plane"] = "astral",
  }

function mmp.transverse(_, command)
  command = command:lower()
  if command:sub(0, 11) == "transverse " or command == "pathfind" then
    transverseCMD = command
    transversedFrom = gmcp.Room.Info.num
    lastPlane = planes[gmcp.Room.Info.details[1]]
    validTransverse = true
  end
end

registerAnonymousEventHandler("sysDataSendRequest", "mmp.transverse")

function mmp.registerTransverseExit()
  if transversedFrom ~= gmcp.Room.Info.num then
    addSpecialExit(transversedFrom, gmcp.Room.Info.num, transverseCMD)
    setExitWeight(transversedFrom, transverseCMD, 20)
    if lastPlane then
      addSpecialExit(gmcp.Room.Info.num, transversedFrom, "transverse " .. lastPlane)
      setExitWeight(gmcp.Room.Info.num, "transverse " .. lastPlane, 20)
    end
    validTransverse = false
  end
end

function mmp.clearTransverse()
  local otherSide = 0
  for room, command in pairs(getSpecialExits(gmcp.Room.Info.num)) do
    if next(command) == transverseCMD then
      otherSide = room
    end
  end
  for room, command in pairs(getSpecialExits(otherSide) or {}) do
    if room == gmcp.Room.Info.num and string.sub(next(command), 0, 11) == "transverse " then
      removeSpecialExit(otherSide, next(command))
    end
  end
  removeSpecialExit(gmcp.Room.Info.num, transverseCMD)
  if mmp.autowalking then
    mmp.autowalking = false
    mmp.gotoRoom(string.split(next(mmp.showpathcache()), "_")[2])
  end
end

function mmp.registerPathfind()
  addSpecialExit(transversedFrom, gmcp.Room.Info.num, "pathfind")
  setExitWeight(transversedFrom, "pathfind", 15)
  addSpecialExit(gmcp.Room.Info.num, transversedFrom, "pathfind")
  setExitWeight(gmcp.Room.Info.num, "pathfind", 15)
  validTransverse = false
end

function mmp.clearPathfind()
  local otherSide = 0
  for room, command in pairs(getSpecialExits(gmcp.Room.Info.num)) do
    if next(command) == "pathfind" then
      otherSide = room
    end
  end
  for room, command in pairs(getSpecialExits(otherSide) or {}) do
    if room == gmcp.Room.Info.num and next(command) == "pathfind" then
      removeSpecialExit(otherSide, next(command))
    end
  end
  removeSpecialExit(gmcp.Room.Info.num, "pathfind")
  if mmp.autowalking then
    mmp.autowalking = false
    mmp.gotoRoom(string.split(next(mmp.showpathcache()), "_")[2])
  end
end

function mmp.lockpaths(lock)
  local count = 0
  for area, areaname in pairs(mmp.areatabler) do
    local rooms = getAreaRooms(area) or {}
    for i = 0, #rooms do
      local exits = getSpecialExits(rooms[i] or 0)
      for room, command in pairs(exits or {}) do
        if next(command) == "pathfind" then
          count = count + 1
          lockSpecialExit(rooms[i], room, "pathfind", lock)
        end
      end
    end
  end
  mmp.echo((lock and "Locked " or "Unlocked ") .. count .. " pathfinding exits.")
end</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>Lusternia basin areas</name>
								<packageName></packageName>
								<script>local basinAreas =
  {
    ["Ackleberry Highway"] = true,
    ["Alabaster Road"] = true,
    ["Avechna's Peak"] = true,
    ["Avechna's Teeth"] = true,
    ["Balach Swamp"] = true,
    ["Bondero Bay"] = true,
    ["Caoimhe Dell"] = true,
    ["Cay of Cloadahi"] = true,
    ["Emerald Road"] = true,
    ["Epicure's Alley"] = true,
    ["Glomdoring Forest"] = true,
    ["Great Southern Highway"] = true,
    ["Highwater Keep"] = true,
    ["Irshaw Heights"] = true,
    ["Mornhai Sanctuary"] = true,
    ["Mount Krog"] = true,
    ["Mount Wend"] = true,
    ["Mount Zoaka"] = true,
    ["Old Imperial Road"] = true,
    ["Snow Valley"] = true,
    ["Spectre Isle"] = true,
    ["St. Gathlyn's Orphanage for the Dispossessed"] = true,
    ["The Emerald Enclave"] = true,
    ["Tolborolla Valley"] = true,
    ["Verasavir Valley"] = true,
    ["Waste Storage Facility"] = true,
    ["Wyrden Isle"] = true,
    ["the Base of Operations"] = true,
    ["the Blasted Land"] = true,
    ["the Carai Caroo"] = true,
    ["the Caverns of Muhanlesh"] = true,
    ["the Caves of Hhuhur"] = true,
    ["the Chancel of Clangoran Mysteries"] = true,
    ["the City of Gaudiguch"] = true,
    ["the City of Hallifax"] = true,
    ["the City of Magnagora"] = true,
    ["the City of New Celest"] = true,
    ["the Clarramore Cloud Gardens"] = true,
    ["the Crimson Lady"] = true,
    ["the Divine Luck Club"] = true,
    ["the Dracnari Nomad Camp"] = true,
    ["the Empress' Last Breath"] = true,
    ["the Estengare River"] = true,
    ["the Feyranti Estate"] = true,
    ["the Floating Island of the Forgotten"] = true,
    ["the Gloriana River"] = true,
    ["the Grand Junction Bazaar"] = true,
    ["the Grey Moors"] = true,
    ["the Hifarae Hills"] = true,
    ["the Inner Sea"] = true,
    ["the Isle of Itecia"] = true,
    ["the Isle of Nyalia"] = true,
    ["the Isle of Olimsito"] = true,
    ["the Isle of Vesucia"] = true,
    ["the Kelpie Maiden"] = true,
    ["the Kiakodan Nature Reserve"] = true,
    ["the Lucidian Mesa Compound"] = true,
    ["the Meliashmora of Imperial Secrets"] = true,
    ["the New Celest sewer system"] = true,
    ["the Northern Mountains"] = true,
    ["the Oleanvir Valley"] = true,
    ["the Presidio of the Damned"] = true,
    ["the Razine Mountain Range"] = true,
    ["the Rhizoda Mangrove"] = true,
    ["the Ruins of Shallach"] = true,
    ["the Scorpion Caverns"] = true,
    ["the Sea of Despair"] = true,
    ["the Serenwilde Forest"] = true,
    ["the Shallach River"] = true,
    ["the Shallamurine Cathedral"] = true,
    ["the Skarch Desert"] = true,
    ["the Southern Mountains"] = true,
    ["the Tainted Broadcast Centre"] = true,
    ["the Tar Pits"] = true,
    ["the Tosha Monastery"] = true,
    ["the Transcendental Fulcrux"] = true,
    ["the Triple Junction Inn"] = true,
    ["the Upper Peaks of the Razines"] = true,
    ["the Upper Peaks of the Southern Mountains"] = true,
    ["the Village of Acknor"] = true,
    ["the Village of Angkrag"] = true,
    ["the Village of Dairuchi"] = true,
    ["the Village of Delport"] = true,
    ["the Village of Duum"] = true,
    ["the Village of Estelbar"] = true,
    ["the Village of Paavik"] = true,
    ["the Village of Rikenfriez"] = true,
    ["the Village of Rockholm"] = true,
    ["the Village of Shanthmark"] = true,
    ["the Village of Southgard"] = true,
    ["the Village of Stewartsville"] = true,
    ["the Village of Talthos"] = true,
    ["the i'Xiia Asylum"] = true,
    ["the sewers of Magnagora"] = true,
  }

function mmp.lusterniaInBasin()
  return basinAreas[gmcp.Room.Info.area] or false
end</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp.lusterniaMapUpdated</name>
								<packageName></packageName>
								<script>function mmp.lusterniaMapUpdated()
  if mmp.game == "lusternia" then
    mmp.lockPathways()
    mmp.astroboots()
  end
end</script>
								<eventHandlerList>
									<string>mmapper updated map</string>
									<string>sysMapDownloadEvent</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Imperian</name>
							<packageName></packageName>
							<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerImperiansEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerImperiansEnvData(_, game)
  if game ~= "Imperian" then return end
  mmp.envids =
  {
    ["a sheltered dell"]        = 68,
    ["Arcane Temple"]           = 66,
    ["Blackened Lands"]         = 58,
    ["Blackstone Dungeon"]      = 65,
    ["Blackstone Keep"]         = 62,
    ["Constructed underground"] = 2,
    ["Dark Forest"]             = 1,
    ["Deep Ocean"]              = 24,
    ["Desert Ruins"]            = 38,
    ["Dwarven city"]            = 18,
    ["Forestal Council"]        = 44,
    ["Frozen Bog"]              = 76,
    ["Lake of Fire"]            = 56,
    ["Natural underground"]     = 3,
    ["Noble Bar"]               = 53,
    ["Noble Chambers"]          = 51,
    ["Rocky Shore"]             = 77,
    ["Sylayan city"]            = 19,
    ["Tainted Underground"]     = 35,
    ["Tainted Water"]           = 39,
    ["Underground Lake"]        = 36,
    ["Vast Ocean"]              = 26,
    ["Wetlands Village"]        = 64,
    ["within a tent"]           = 69,
    Academia                    = 42,
    Acropolis                   = 33,
    Beach                       = 5,
    Blighted                    = 74,
    bog                         = 73,
    Catacombs                   = 63,
    Church                      = 54,
    Cliffs                      = 67,
    Crags                       = 32,
    Desert                      = 6,
    Docks                       = 30,
    Farmland                    = 41,
    Forest                      = 4,
    Freshwater                  = 22,
    Garden                      = 21,
    garrison                    = 71,
    Grasslands                  = 7,
    Graveyard                   = 46,
    Hills                       = 9,
    Jungle                      = 17,
    Mountains                   = 14,
    Nobility                    = 50,
    Ocean                       = 20,
    Path                        = 11,
    Polar                       = 27,
    Pond                        = 49,
    pyramid                     = 72,
    quarry                      = 70,
    River                       = 10,
    Road                        = 12,
    Ruins                       = 37,
    Scrublands                  = 78,
    Sewer                       = 23,
    Swamp                       = 15,
    Temple                      = 57,
    Tower                       = 79,
    transportation              = 48,
    Tundra                      = 16,
    Underworld                  = 28,
    Urban                       = 8,
    Valley                      = 13,
    Villa                       = 75,
    Village                     = 47,
    Village                     = 55,
    Volcano                     = 59,
    Warrens                     = 31,
  }

  mmp.waterenvs = {}
  local waterids = { "River", "Ocean", "Deep Ocean", "Vast Ocean", "Underground Lake", "Tainted Water", "Lake of Fire" }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Starmourn</name>
							<packageName></packageName>
							<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>Lifts</name>
								<packageName></packageName>
								<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
function mmp.liftFloor(roomname,floornum,currentfloor) --string,int,bool
	if not mmp.autowalking then
		return
	end

	--get room name of next in speedwalkpath
	if not mmp.speedWalkCounter then
    mmp.speedWalkCounter = 1
  end
	local destRoomName = getRoomName(mmp.speedWalkPath[mmp.speedWalkCounter])
	if roomname == nil then roomname = destRoomName end

	if roomname == destRoomName then
		if currentfloor then
			send("EXIT LIFT",false) --Lift is on correct floor, can EXIT LIFT
			if mmp.liftTimer then killTimer(mmp.liftTimer) end
		else
			mmp.customwalkdelay(2) --Lift is on incorrect floor arbitrary wait for next trigger line
			if mmp.liftTimer then killTimer(mmp.liftTimer) end
			mmp.liftTimer = tempTimer(1, function() send("KEY LIFT ".. floornum,false) end )	--wait one second before requesting the correct floor (allows other users to enter/exit)
		end
	end
end</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerStarmournsEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerStarmournsEnvData(_, game)
  if game ~= "Starmourn" then
    return
  end
  mmp.envids =
    {
      ["airlock"] = 55,
      ["alleyway"] = 47,
      ["armory"] = 82,
      ["badlands"] = 45,
      ["barracks"] = 77,
      ["bathroom"] = 71,
      ["beach"] = 51,
      ["bedroom"] = 66,
      ["bridge"] = 18,
      ["building"] = 5,
      ["campsite"] = 65,
      ["canal"] = 85,
      ["cantina"] = 62,
      ["canyon"] = 31,
      ["cargo bay"] = 13,
      ["catwalk"] = 23,
      ["cave"] = 37,
      ["commandpost"] = 80,
      ["corral"] = 34,
      ["deep space"] = 11,
      ["desert"] = 7,
      ["duct"] = 22,
      ["engine room"] = 44,
      ["factory"] = 32,
      ["farmland"] = 28,
      ["firingrange"] = 83,
      ["forest"] = 8,
      ["garden"] = 12,
      ["gym"] = 60,
      ["hallway"] = 58,
      ["hangar"] = 26,
      ["hangar"] = 79,
      ["hydroponics"] = 61,
      ["icyforest"] = 52,
      ["jungle"] = 19,
      ["junkyard"] = 48,
      ["lake"] = 49,
      ["lava fields"] = 56,
      ["lava"] = 57,
      ["meadow"] = 30,
      ["medical facility"] = 17,
      ["medical facility"] = 27,
      ["messhall"] = 78,
      ["militarybase"] = 76,
      ["militaryroad"] = 81,
      ["mine"] = 3,
      ["mountain"] = 1,
      ["obstaclecourse"] = 84,
      ["ocean"] = 6,
      ["office"] = 15,
      ["pier/dock"] = 38,
      ["pond"] = 64,
      ["pool"] = 14,
      ["prison"] = 59,
      ["residence"] = 63,
      ["river"] = 50,
      ["road"] = 29,
      ["ruin"] = 42,
      ["sewer"] = 40,
      ["shop"] = 67,
      ["slum"] = 69,
      ["slumbuilding"] = 73,
      ["slumstreet"] = 70,
      ["slumtoilet"] = 72,
      ["spacecraft"] = 9,
      ["spaceport"] = 39,
      ["stateroom"] = 43,
      ["stream"] = 35,
      ["street"] = 2,
      ["swamp"] = 20,
      ["temple"] = 54,
      ["transport"] = 16,
      ["treehouse"] = 36,
      ["treetops"] = 53,
      ["tundra"] = 10,
      ["underground"] = 86,
      ["underwater"] = 87,
      ["urban"] = 4,
      ["urbanunderground"] = 46,
      ["ventilation shaft"] = 21,
      ["verdantcliffs"] = 75,
    }
  mmp.waterenvs = {}
  mmp.envidsr = {}
  for name, id in pairs(mmp.envids) do
    mmp.envidsr[id] = name
  end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Lithmeria</name>
							<packageName></packageName>
							<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.registerLithmeriasEnvData</name>
								<packageName></packageName>
								<script>function mmp.registerLithmeriasEnvData(_, game)
  if game ~= "Lithmeria" then return end

  mmp.envids =
  {
    ["deep water"] = 4,
    beach          = 11,
    bridge         = 6,
    building       = 13,
    cliffs         = 1,
    desert         = 11,
    forest         = 2,
    highway        = 6,
    jungle         = 10,
    mountain       = 1,
    ocean          = 4,
    path           = 6,
    plains         = 3,
    river          = 4,
    road           = 6,
    shallowwater   = 4,
    swamp          = 2,
    tundra         = 7,
    underground    = 8,
    urban          = 8,
    water          = 4,
  }

  for name, number in pairs(mmp.envids) do
    mmp.envids[name] = number+256 -- adjust for in-built colors
  end

  mmp.waterenvs = {}
  local waterids = { "shallowwater", "river", "water", "deep water", "ocean" }
  for i = 1, #waterids do mmp.waterenvs[mmp.envids[waterids[i]]] = true end

  mmp.envidsr = {};
  for name, id in pairs(mmp.envids) do mmp.envidsr[id] = name end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>StickMUD</name>
							<packageName></packageName>
							<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external scripts --
-------------------------------------------------
</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.stickmudStopSpeedwalkForWrongDir</name>
								<packageName></packageName>
								<script>function mmp.stickmudStopSpeedwalkForWrongDir()
  if mmp.game and mmp.game ~= "stickmud" then
    return
  end
  if #mmp.speedWalkPath &gt; 0 then
    echo("The way \"" .. gmcp.Room.WrongDir .. "\" is blocked. Stopping speedwalk.")
    mmp.stop()
  end
end</script>
								<eventHandlerList>
									<string>gmcp.Room.WrongDir</string>
								</eventHandlerList>
							</Script>
						</Script>
					</ScriptGroup>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Test / one-time things</name>
						<packageName></packageName>
						<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
						<eventHandlerList />
						<Script isActive="no" isFolder="no">
							<name>mmp.grabEnvid</name>
							<packageName></packageName>
							<script>function mmp.grabEnvid()
  if not mmp.envids[gmcp.Room.Info.environment] then
    mmp.envids[gmcp.Room.Info.environment] = getRoomEnv(mmp.currentroom)
    mmp.echo(string.format("Remembered environment %s as %d", gmcp.Room.Info.environment, mmp.envids[gmcp.Room.Info.environment]))
  end
end

function mmp.getMaxID()
  local roomIDs = {}
  for area, _ in pairs(mmp.areatabler) do
    local ok, t = pcall(getAreaRooms, area)
    if ok then
      for _, id in pairs(t or {}) do
        roomIDs[id] = true
      end
    end
  end

  return table.maxn(roomIDs)
end

function mmp.getUnknownEnvs()
  local maxid, missing = mmp.getMaxID(), {}

  for i = 1, maxid do
    if mmp.roomexists(i) then
      if not table.contains(mmp.envids, getRoomEnv(i)) and not table.contains(missing, getRoomEnv(i)) then
        mmp.echo(string.format("Missing env %d from room %d ('%s' in '%s')",
          tostring(getRoomEnv(i)), i, tostring(getRoomName(i)), tostring(mmp.areatabler[getRoomArea(i)])))
        missing[i] = getRoomEnv(i)
      end
    end
  end
end</script>
							<eventHandlerList>
								<string>gmcp.Room.Info</string>
							</eventHandlerList>
						</Script>
					</ScriptGroup>
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Check for map updates</name>
						<packageName></packageName>
						<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------
</script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>mmp.downloadedFile</name>
							<packageName></packageName>
							<script>function mmp.downloadedFile(_, filename)
  if not io.exists(filename) then return end

  -- workaround for https://bugs.launchpad.net/mudlet/+bug/1092769
--  if mmp["downloaded_file_block_"..filename] then return end
--  mmp["downloaded_file_block_"..filename] = tempTimer(5, [[mmp["downloaded_file_block_]]..filename..[["] = nil]])

  if filename == tostring(mmp.mapperfile) then   -- mapper script version
	mmp.checkingupdates = false

    local f, s = io.open(filename)
    if f then s = f:read("*l"):trim(); io.close(f) end

    if s ~= tostring(mmp.version) then
      mmp.newmapperversion = s
      mmp.retrievechangelog()
    end

  elseif filename == tostring(mmp.changelogfile) then   -- changelog for the mapper script
	mmp.checkingupdates = false

    local f, s, changelog = io.open(filename)
    if f then changelog = f:read("*a"); io.close(f) end

    mmp.echon("")
    echoLink("The mapper script was updated! Would you like to install the update? Click here if so.", "mmp.downloadmapperscript()", "Changelog for the latest ("..tostring(mmp.version).." -&gt; "..tostring(mmp.newmapperversion)..") update:\n"..changelog, true)

  elseif filename == mmp.crowdchangelogfile then   -- changelog for the crowdmap
    local f, s = io.open(filename)
    if f then s = f:read("*a"); io.close(f) end

    -- make environment
    local env = {} -- add functions you know are safe here

    -- run code under environment [Lua 5.1]
    local function run(untrusted_code)
      if untrusted_code:byte(1) == 27 then return nil, "binary bytecode prohibited" end
      local untrusted_function, message = loadstring(untrusted_code)
      if not untrusted_function then return nil, message end
      setfenv(untrusted_function, env)
      return pcall(untrusted_function)
    end

    run(s)

	mmp.crowdchangelog = env.changelog

    mmp.echon("The crowdmap map was ")
    setUnderline(true)
    echoLink("updated", '', "New version: "..tostring(mmp.newversion)..", previous version: "..(mmp.oldversion or "(none)"), true)
    setUnderline(false)
    echo(" (")
    setUnderline(true)
    echoLink("see full changelog", "mmp.showcrowdchangelog()", 'View the full changelog for mappers', true)
    setUnderline(false)
    echo("). Latest improvement is: "..tostring(mmp.crowdchangelog and mmp.crowdchangelog[#mmp.crowdchangelog] or '?')..".\n")

    mmp.downloadcrowdmap(mmp.newversion)

  elseif filename == mmp.crowdmapfile then    -- crowdmap map
    mmp.echo("Map downloaded, loading it in...")

    local tmp = getRoomUserData(1, "gotoMapping")
    local oldmaptable = {}

    if tmp ~= "" then
      oldmaptable = yajl.to_value(tmp)
    end

    local ok = loadMap(filename)

    if ok then
      if mmp.game ~= "starmourn" then
        local wc = mmp.lockWormholes()
  	local ws = mmp.lockSewers()
        mmp.lockPebble()
        if mmp.game == "achaea" and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
          mmp.echo("Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/")
          return
        end
      end

      if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

      mmp.echo("Map loaded fine - enjoy!")

      tmp = getRoomUserData(1, "gotoMapping")
      local newmaptable = {}

      if tmp ~= "" then
        newmaptable = yajl.to_value(tmp)
      end

      for k,v in pairs(oldmaptable) do newmaptable[k] = v end
      setRoomUserData(1, "gotoMapping", yajl.to_string(newmaptable))
      mmp.echo("Marks from the old map migrated successfully.")

      raiseEvent("mmapper updated map")
    else
      mmp.echon("Map failed to load - you need to have the mapper open. Please open it, and then ")
      echoLink("click here", [[
        local tmp = getRoomUserData(1, "gotoMapping")
        local oldmaptable = {}
        if tmp ~= "" then
          oldmaptable = yajl.to_value(tmp)
        end

        local ok = loadMap(']]..filename..[[')
        if ok then
        local wc = mmp.lockWormholes()
	    local ws = mmp.lockSewers()
        mmp.lockPebble()
        if mmp.game == "achaea" and wc == 0 and ws == 0 then -- in achaea, using crowdmap, if we didn't get any special exits - it means Mudlet needs to be updated
          mmp.echo("Sorry, it seems your Mudlet isn't compatible with the new crowdmap format - and the map cannot be loaded fully. Please update your Mudlet:\n  http://www.mudlet.org/download/")
          return
        end

        if mmp.settings.waterwalk then mmp.enableWaterWalk() else mmp.disableWaterWalk() end

        mmp.echo("Map loaded successfully!")

          tmp = getRoomUserData(1, "gotoMapping")
          local newmaptable = {}
          if tmp ~= "" then
            newmaptable = yajl.to_value(tmp)
          end
          for k,v in pairs(oldmaptable) do newmaptable[k] = v end
          setRoomUserData(1, "gotoMapping", yajl.to_string(newmaptable))
          mmp.echo("Marks from the old map migrated successfully.")
          raiseEvent("mmapper updated map")
        else mmp.echo("Nope, didn't work. Open the map and try again?") end
      ]],
      "Click here to try loading the map again")
      echo(" to try loading it in again.\n")
    end

  elseif filename == tostring(mmp.downloadedscript) then   -- new mapper script xml downloaded
	  mmp.checkingupdates = false
    mmp.installMapperScript()
  elseif filename == tostring(mmp.mapfile) then   -- map version #, either IRE's or crowd
	mmp.checkingupdates = false

    local function needupdate(currentmd5, oldmd5)
      if not mmp.settings.crowdmap then
        mmp.echon("The games map was ")
        echoLink("updated", '', "New MD5: "..tostring(currentmd5)..", previous MD5: "..(oldmd5 or "(none)"), true)
        echo(" - you should update yours! Go to Settings -&gt; Mapper tab and click on the 'Download' button there. Once you've updated, ")
        echoLink("click here", "mmp.updatedmap('"..currentmd5.."')", "Click here to quiet the update reminder")
        echo(" to remove the reminder.")
      else
        mmp.newversion, mmp.oldversion = currentmd5, oldmd5
        mmp.retrievecrowdchangelog()
      end
    end

    local f, s = io.open(filename)
    if f then s = f:read("*a"); io.close(f) end
    local currentmd5 = string.match(s, "([a-z0-9]+)  map%.xml")

    -- using crowdsourced map
    if not currentmd5 then
      currentmd5 = s:trim()
    end

	os.remove(filename)

    -- never checked yet?
    if not io.exists(getMudletHomeDir().."/map downloads/current") then needupdate(currentmd5) return end

    -- otherwise read old file and check
    local f, s = io.open(getMudletHomeDir().."/map downloads/current")
    if f then s = f:read("*a"); io.close(f) end

    if s ~= currentmd5 then needupdate(currentmd5, s) end
  end
end</script>
							<eventHandlerList>
								<string>sysDownloadDone</string>
							</eventHandlerList>
						</Script>
						<Script isActive="yes" isFolder="no">
							<name>Check for updates</name>
							<packageName></packageName>
							<script>local downloadfolder = getMudletHomeDir() .. "/map downloads/"

-- this should get called at start and every hour after that

function mmp.checkforupdate()
  if not mmp.game or mmp.checkingupdates then
    return
  end
  local game = mmp.game
  mmp.mapfile = downloadfolder .. "MD5"
  mmp.mapperfile = downloadfolder .. "mapper"
  if not downloadFile then
    mmp.echo("Your version of Mudlet doesn't support downloading files - please upgrade to 2.0+")
  else
    if not lfs.attributes(downloadfolder) then
      if lfs and lfs.mkdir then
        local t, s = lfs.mkdir(downloadfolder)
        if not t and s ~= "File exists" then
          mmp.echo("Couldn't make the '" .. downloadfolder .. "' folder; " .. s)
          return
        end
      else
        mmp.echo(
          "Sorry, but you need LuaFileSystem (lfs) installed, or have the '" ..
          downloadfolder ..
          "' folder exist."
        )
        return
      end
    end
    if mmp.settings.crowdmap then
      if game == "achaea" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/AchaeaCrowdmap/Map/version.txt"
        )
      elseif game == "starmourn" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/StarmournCrowdmap/Map/version.txt"
        )
      elseif game == "lusternia" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/LusterniaCrowdmap/Map/version.txt"
        )
      elseif game == "imperian" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/ImperianCrowdmap/Map/version.txt"
        )
      elseif game == "aetolia" then
        downloadFile(
          mmp.mapfile, "http://ire-mudlet-mapping.github.io/AetoliaCrowdmap/Map/version.txt"
        )
      elseif game == "asteria" then
        downloadFile(
          mmp.mapfile, "http://asteria-ui.github.io/AsteriaCrowdmap/Map/version.txt"
        )
      elseif game == "stickmud" then
        downloadFile(
          mmp.mapfile, "http://stickmud.github.io/StickMUDCrowdmap/Map/version.txt"
        )
      end
    elseif mmp.settings.updatemap then
      downloadFile(mmp.mapfile, "http://www." .. game .. ".com/maps/MD5SUM")
    end
    downloadFile(
      mmp.mapperfile, "http://ire-mudlet-mapping.github.io/ire-mapping-script/downloads/version"
    )
    mmp.checkingupdates = true
  end
end

-- called by the user when the map is updated to register the fact that it was

function mmp.updatedmap(currentmd5)
  assert(currentmd5, "need md5 sum to write to file")
  local f, err = io.open(downloadfolder .. "current", "w")
  if not f then
    return mmp.echo("Couldn't write to the update file, because: " .. err)
  end
  f:write(currentmd5)
  f:close()
  local t = {"Go you for updating!", "Thanks for updating the map!", "Alright, map updated!"}
  mmp.echo(t[math.random(1, #t)])
end

-- downloads the latest changelog for the mapper if it was updated

function mmp.retrievechangelog()
  mmp.changelogfile = downloadfolder .. "changelog"
  downloadFile(
    mmp.changelogfile, "http://ire-mudlet-mapping.github.io/ire-mapping-script/downloads/changelog"
  )
end

function mmp.retrievecrowdchangelog()
  mmp.crowdchangelogfile = downloadfolder .. "crowdchangelogfile"
  if mmp.game == "achaea" then
    downloadFile(
      mmp.crowdchangelogfile, "http://ire-mudlet-mapping.github.io/AchaeaCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "starmourn" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://ire-mudlet-mapping.github.io/StarmournCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "lusternia" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://ire-mudlet-mapping.github.io/LusterniaCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "imperian" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://ire-mudlet-mapping.github.io/ImperianCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "aetolia" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://ire-mudlet-mapping.github.io/AetoliaCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "asteria" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://asteria-ui.github.io/AsteriaCrowdmap/Map/changelog.txt"
    )
  elseif mmp.game == "stickmud" then
    downloadFile(
      mmp.crowdchangelogfile,
      "http://stickmud.github.io/StickMUDCrowdmap/Map/changelog.txt"
    )
  end
end

-- downloads the public crowdsources map!

function mmp.downloadmapperscript()
	
  local file = getMudletHomeDir().."/map downloads/mudlet-mapper.xml"
  
  local exists = lfs.attributes
  
  if io.exists(file) then
    local s,m = os.remove(file)
	if not s then mmp.echo("Couldn't delete the old xml (located at %s), because of: %s. This might be a problem.", file, m) end
  end
  mmp.downloadedscript = file
  downloadFile(
    mmp.downloadedscript,
    "http://ire-mudlet-mapping.github.io/ire-mapping-script/downloads/mudlet-mapper.xml"
  )
  local f, err = io.open(downloadlocationfile, "w")
  if not f then
    return mmp.echo("Couldn't write to the location file, because: " .. err)
  end
  f:write(downloadlocation)
  f:close()
  mmp.echo("Okay, downloading the mapper script...")
end

function mmp.downloadcrowdmap(newversion)
  mmp.crowdmapfile = downloadfolder .. "crowdmap"
  local f, err = io.open(downloadfolder .. "current", "w")
  if not f then
    return mmp.echo("Couldn't write to the update file, because: " .. err)
  end
  f:write(newversion)
  f:close()
  if mmp.game == "achaea" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/AchaeaCrowdmap/Map/map")
  elseif mmp.game == "starmourn" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/StarmournCrowdmap/Map/map")
  elseif mmp.game == "lusternia" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/LusterniaCrowdmap/Map/map")
  elseif mmp.game == "imperian" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/ImperianCrowdmap/Map/map")
  elseif mmp.game == "aetolia" then
    downloadFile(mmp.crowdmapfile, "http://ire-mudlet-mapping.github.io/AetoliaCrowdmap/Map/map")
  elseif mmp.game == "asteria" then
    downloadFile(mmp.crowdmapfile, "http://asteria-ui.github.io/AsteriaCrowdmap/Map/map")
  elseif mmp.game == "stickmud" then
    downloadFile(mmp.crowdmapfile, "http://stickmud.github.io/StickMUDCrowdmap/Map/map")
  end
  mmp.echo("Downloading the latest crowdmap...")
end

function mmp.showcrowdchangelog()
  mmp.echo("Public map changelog:")
  if not mmp.crowdchangelog then
    mmp.echo("(none yet)")
    return
  end
  for k, v in ipairs(mmp.crowdchangelog) do
    cecho(string.format("  %s) %s\n", k, v:gsub("\t", "     ")))
  end
end

function mmp.installMapperScript()
  uninstallPackage("mudlet-mapper")
  installPackage(mmp.downloadedscript)		
end

</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>mmp.checkUpdateStart</name>
								<packageName></packageName>
								<script>function mmp.checkUpdateStart(...)
  if mmp.checkforupdatetimer then killTimer(mmp.checkforupdatetimer) end
  mmp.checkforupdatetimer = tempTimer(math.random(3, 10), mmp.checkforupdate)
end

function mmp.changeUpdateMap()
  if mmp.settings.updatemap then
    mmp.echo("Will check for new map updates from your MUD.")
    enableTimer"Check for updates periodically"
    mmp.checkUpdateStart()
  else
    mmp.echo("Won't check for new map updates from your MUD.")
    disableTimer"Check for updates periodically"
	if mmp.checkforupdatetimer then killTimer("mmp.checkforupdatetimer") end
  end
end</script>
								<eventHandlerList>
									<string>mmp logged in</string>
								</eventHandlerList>
							</Script>
						</Script>
						<Script isActive="no" isFolder="no">
							<name>mmp.seeDownloadErrors</name>
							<packageName></packageName>
							<script>-- this should be off by default
function mmp.seeDownloadErrors(...)
  display{...}
end</script>
							<eventHandlerList>
								<string>sysDownloadError</string>
							</eventHandlerList>
						</Script>
					</ScriptGroup>
					<Script isActive="yes" isFolder="no">
						<name>Initialize</name>
						<packageName></packageName>
						<script>mmp.startup()</script>
						<eventHandlerList />
						<Script isActive="yes" isFolder="no">
							<name>mmp.mapdata_changed</name>
							<packageName></packageName>
							<script>-- aggregates map load and such events into one
function mmp.mapdata_changed()
  raiseEvent("mmapper map reloaded")
end
					</script>
							<eventHandlerList>
								<string>sysMapLoad</string>
								<string>sys2DMapLoad</string>
								<string>sys3DMapLoad</string>
								<string>sysMapDownloadEvent</string>
								<string>mapOpenEvent</string>
							</eventHandlerList>
						</Script>
					</Script>
					<Script isActive="yes" isFolder="no">
						<name>map features</name>
						<packageName></packageName>
						<script>-------------------------------------------------
--         Put your Lua functions here.        --
--                                             --
-- Note that you can also use external Scripts --
-------------------------------------------------

local function loadMapFeatures()
  local mapFeaturesString = getMapUserData("mapFeatures")
  local mapFeatures
  if mapFeaturesString and mapFeaturesString ~= "" then
    mapFeatures = yajl.to_value(mapFeaturesString)
  else
    mapFeatures = {}
  end
  return mapFeatures
end

local function saveMapFeatures(mapFeaturesToSave)
  local mapFeaturesString = yajl.to_string(mapFeaturesToSave)
  setMapUserData("mapFeatures", mapFeaturesString)
end

function mmp.createMapFeature(featureName, roomCharacter)
  if not featureName or featureName == "" then
    mmp.echo("Can't create an empty map feature.")
    return
  end
  if featureName:find("%d") then
    mmp.echo("Map feature names must not contain numbers.")
    return
  end
  roomCharacter = roomCharacter or ""
  if type(roomCharacter) ~= "string" then
    mmp.echo(
      "The new room character must be either a string or nil. " ..
      type(roomCharacter) ..
      " is not allowed."
    )
    return
  end
  local lowerFeatureName = featureName:lower()
  local mapFeatures = loadMapFeatures()
  if not mapFeatures[lowerFeatureName] then
    mapFeatures[lowerFeatureName] = roomCharacter
    saveMapFeatures(mapFeatures)
    mmp.echo(
      "Created map feature '" ..
      featureName ..
      "' with the room character '" ..
      roomCharacter ..
      "'."
    )
  else
    mmp.echo("A map feature with the name '" .. featureName .. "' already exists.")
    return
  end
  return true
end

function mmp.listMapFeatures()
  local mapFeatures = loadMapFeatures()
  mmp.echo("This map has the following features:")
  echo(string.format("    %-25s | %s\n", "feature name", "room character"))
  echo(string.format("    %s\n", string.rep("-", 45)))
  for featureName, roomCharacter in pairs(mapFeatures) do
    echo(string.format("    %-25s | %s\n", featureName, roomCharacter))
  end
  return true
end

function mmp.roomCreateMapFeature(featureName, roomId)
  -- checks for the feature name
  if not featureName then
    mmp.echo("Which feature would you like to create?")
    return
  end
  local lowerFeatureName = featureName:lower()
  local mapFeatures = loadMapFeatures()
  if not mapFeatures[lowerFeatureName] then
    mmp.echo(
      "A feature with name '" ..
      featureName ..
      "' does not exist. You need to use 'feature create' first."
    )
    return
  end
  -- checks for the room ID
  if not roomId then
    if not mmp.currentroom then
      mmp.echo("Don't know where we are at the moment.")
      return
    end
    roomId = mmp.currentroom
  else
    if type(roomId) ~= "number" then
      mmp.echo("Need a room ID as number for creating a map feature on a room.")
      return
    end
  end
  if not getRoomName(roomId) then
    mmp.echo("Room number '" .. roomId .. "' does not exist.")
    return
  end
  -- check if feature already exists
  if table.contains(mmp.getRoomMapFeatures(roomId), lowerFeatureName) then
    mmp.echo("Room '" .. roomId .. "' has already map feature '" .. featureName .. "'.")
    return
  end
  -- create map feature in room
  setRoomUserData(roomId, "feature-" .. lowerFeatureName, "true")
  mmp.echo(string.format("Map feature '%s' created in room number '%d'.", featureName, roomId))
  local featureRoomChar = mapFeatures[lowerFeatureName]
  if featureRoomChar ~= "" then
    setRoomChar(roomId, featureRoomChar)
    mmp.echo("The room now carries the room char '" .. featureRoomChar .. "'.")
  end
  return true
end

function mmp.roomDeleteMapFeature(featureName, roomId)
  -- checks for the feature name
  if not featureName then
    mmp.echo("Which feature would you like to delete?")
    return
  end
  local lowerFeatureName = featureName:lower()
  -- checks for the room ID
  if not roomId then
    if not mmp.currentroom then
      mmp.echo("Don't know where we are at the moment.")
      return
    end
    roomId = mmp.currentroom
  else
    if type(roomId) ~= "number" then
      mmp.echo("Need a room ID as number for deleting a map feature from a room.")
      return
    end
  end
  if not getRoomName(roomId) then
    mmp.echo("Room number '" .. roomId .. "' does not exist.")
    return
  end
  -- check if feature exists
  local roomMapFeatures = mmp.getRoomMapFeatures(roomId)
  if not table.contains(roomMapFeatures, lowerFeatureName) then
    mmp.echo("Room '" .. roomId .. "' doesn't have map feature '" .. featureName .. "'.")
    return
  end
  -- delete map feature from room
  setRoomUserData(roomId, "feature-" .. lowerFeatureName, "")
  mmp.echo(string.format("Map feature '%s' deleted from room number '%d'.", featureName, roomId))
  -- now update room char if needed.
  -- first update current map features of this room
  roomMapFeatures = mmp.getRoomMapFeatures(roomId)
  local mapFeatures = loadMapFeatures()
  -- find out if we need to set a new room character
  if getRoomChar(roomId) == mapFeatures[lowerFeatureName] and getRoomChar(roomId) ~= "" then
    local index, otherRoomMapFeature
    -- find another usable room character
    repeat
      index, otherRoomMapFeature = next(roomMapFeatures, index)
    until not otherRoomMapFeature or mapFeatures[otherRoomMapFeature] ~= ""
    if otherRoomMapFeature then
      -- we found a usable room character, now set it
      local newRoomChar = mapFeatures[otherRoomMapFeature]
      setRoomChar(roomId, newRoomChar)
      mmp.echo("Using '" .. newRoomChar .. "' as new room character.")
    else
      -- we didn't find a usable room character, delete it.
      setRoomChar(roomId, "")
      mmp.echo("Deleted the current room character.")
    end
  end
  return true
end

function mmp.getRoomMapFeatures(roomId)
  -- checks for the room ID
  if not roomId then
    if not mmp.currentroom then
      mmp.echo("Don't know where we are at the moment.")
      return
    end
    roomId = mmp.currentroom
  else
    if type(roomId) ~= "number" then
      mmp.echo("Need a room ID as number for getting all map features of a room.")
      return
    end
  end
  if not getRoomName(roomId) then
    mmp.echo("Room number '" .. roomId .. "' does not exist.")
    return
  end
  local result = {}
  local mapFeatures = loadMapFeatures()
  for mapFeature in pairs(mapFeatures) do
    if getRoomUserData(roomId, "feature-" .. mapFeature) == "true" then
      result[#result + 1] = mapFeature
    end
  end
  return result
end

function mmp.deleteMapFeature(featureName)
  if not featureName or featureName == "" then
    mmp.echo("Which map feature would you like to delete?")
    return
  end
  local lowerFeatureName = featureName:lower()
  local mapFeatures = loadMapFeatures()
  if not mapFeatures[lowerFeatureName] then
    mmp.echo("Map feature '" .. featureName .. "' does not exist.")
    return
  end
  local roomsWithFeature = searchRoomUserData("feature-" .. lowerFeatureName, "true")
  for _, roomId in pairs(roomsWithFeature) do
    local deletionResult = mmp.roomDeleteMapFeature(lowerFeatureName, roomId)
    if not deletionResult then
      mmp.echo(
        "Something went wrong deleting the map feature '" ..
        featureName ..
        "' from all rooms. Deletion incomplete."
      )
      return
    end
  end
  mapFeatures[lowerFeatureName] = nil
  saveMapFeatures(mapFeatures)
  mmp.echo("Deleted map feature '" .. featureName .. "' from map.")
  return true
end

function mmp.getMapFeatures()
  return loadMapFeatures()
end</script>
						<eventHandlerList />
					</Script>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>send-text-to-all-games</name>
					<packageName>send-text-to-all-games</packageName>
					<script></script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>sysSendAllProfiles</name>
						<packageName></packageName>
						<script>function sysSendAllProfiles(_, text)
  expandAlias(text)
end</script>
						<eventHandlerList>
							<string>sysSendAllProfiles</string>
						</eventHandlerList>
					</Script>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>YATCO-23</name>
					<packageName>YATCO-23</packageName>
					<script></script>
					<eventHandlerList />
					<ScriptGroup isActive="yes" isFolder="yes">
						<name>Demonnic</name>
						<packageName></packageName>
						<script></script>
						<eventHandlerList />
						<ScriptGroup isActive="yes" isFolder="yes">
							<name>Shared</name>
							<packageName></packageName>
							<script>--Bootstrapping variables/etc. Don't touch this unless you really know what you're doing

--I mean it. I'll point. AND laugh. loudly. 
demonnic = demonnic or {}
demonnic.config = demonnic.config or {}
demonnic.balances = demonnic.balances or {}
demonnic.balances.balance = demonnic.balances.balance or 1
demonnic.balances.equilibrium = demonnic.balances.equilibrium or 1
demonnic.debug = demonnic.debug or {}
demonnic.debug.active = demonnic.debug.active or nil
demonnic.debug.categories = demonnic.debug.categories or { }


function demonnic:echo(msg)
 cecho(string.format("\n&lt;blue&gt;(&lt;green&gt;Demonnic&lt;blue&gt;):&lt;white&gt; %s", msg))
end</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>Debugging</name>
								<packageName></packageName>
								<script>--Adds debugging functionality 

function demonnic:Debug(category,debugData)
   if category then
      if table.contains(demonnic.debug.categories, category) then
         if type(debugData) == "table" then
            demonnic:echo("&lt;red&gt;DEBUG " .. category .. ":&lt;white&gt;")
            display(debugData)
         elseif type(debugData) == "string" or type(debugData) == "number" then
            demonnic:echo("&lt;red&gt;DEBUG " .. category .. ":&lt;white&gt; " .. debugData .. "\n" )
         else
            demonnic:echo("&lt;red&gt;DEBUG " .. category .. ":&lt;white&gt; " .. tostring(debugData) .. "\n" )
         end
      end
   else
      if type(debugData) == "table" then
         demonnic:echo("&lt;red&gt;DEBUG:&lt;white&gt;")
         display(debugData)
      elseif type(debugData) == "string" or type(debugData) == "number" then
         demonnic:echo("&lt;red&gt;DEBUG:&lt;white&gt; " .. debugData)
      else
         demonnic:echo("&lt;red&gt;DEBUG:&lt;white&gt; " .. tostring(debugData))
      end
   end
end

function demonnic:printDebug(category, debugData)
   if not demonnic.debug.active then return end
   demonnic:Debug(category, debugData)
end

function demonnic:toggleDebug()
   if demonnic.debug.active then demonnic.debug.active = nil
   else demonnic.debug.active = true
   end
   demonnic:echo("Debugging is currently " .. (( demonnic.debug.active and "&lt;green&gt;ON&lt;white&gt;") or "&lt;red&gt;OFF&lt;white&gt;"))
end

function demonnic:watchCategory( category )
   if table.contains(demonnic.debug.categories, category) then
      for i,v in ipairs(demonnic.debug.categories) do
         if v == category then
            table.remove(demonnic.debug.categories, i)
         end
      end
      demonnic:echo("No longer watching the '&lt;red&gt;"..category.."&lt;white&gt;' category.") 
   else
      table.insert(demonnic.debug.categories, category)
      demonnic:echo("Now watching the '&lt;red&gt;"..category.."&lt;white&gt;' category.")
   end
   demonnic:echo("Debugging is currently " .. (( demonnic.debug.active and "&lt;green&gt;ON&lt;white&gt;") or "&lt;red&gt;OFF&lt;white&gt;"))
end

function demonnic:listCategories()
   if #demonnic.debug.categories &gt; 0 then
      demonnic:echo("You are currently watching the following categories:\n" .. table.concat(demonnic.debug.categories,", ") )
   else
      demonnic:echo("You are not watching any debugs.")
   end
end
</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>demonnicVitals</name>
								<packageName></packageName>
								<script>--Set some vital statistics. Will work with both ATCP and GMCP. 

function demonnicVitals( msg, arg )
  demonnic.nextLevel = tonumber(gmcp.Char.Vitals.nl)
  demonnic.curHealth = tonumber(gmcp.Char.Vitals.hp)    
  demonnic.maxHealth = tonumber(gmcp.Char.Vitals.maxhp)
  demonnic.curMana = tonumber(gmcp.Char.Vitals.mp)
  demonnic.maxMana = tonumber(gmcp.Char.Vitals.maxmp)
  demonnic.curEgo = tonumber(gmcp.Char.Vitals.ego)
  demonnic.maxEgo = tonumber(gmcp.Char.Vitals.maxego)
  demonnic.curPower = tonumber(gmcp.Char.Vitals.pow)
  demonnic.maxPower = tonumber(gmcp.Char.Vitals.maxpow)
  demonnic.curWillpower = tonumber(gmcp.Char.Vitals.wp)
  demonnic.maxWillpower = tonumber(gmcp.Char.Vitals.maxwp)
  demonnic.curEndurance = tonumber(gmcp.Char.Vitals.ep)
  demonnic.maxEndurance = tonumber(gmcp.Char.Vitals.maxep)
end</script>
								<eventHandlerList>
									<string>gmcp.Char</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>Align</name>
								<packageName></packageName>
								<script>
function align(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful
info. But if they didn't send a second argument then that's ok, the defaults
will be enough to get by and just center the txt
]]--
  if (type(options) ~= "table") and (options ~= nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

 
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
   
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
   
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing.
 
  if options.inside then
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap====="
  --"=====endcap some text pacdne====="
  --"=================endcap some text"
  --"some text endcap================="
    return leftCap .. string.rep(options.spacer, (leftPadLen - capLen)) .. str ..string.rep(options.spacer, (rightPadLen - capLen)).. rightCap
  else
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne"
  -- "endcap================= some text"
  -- "some text =================endcap"
    return string.rep(options.spacer, (leftPadLen - capLen)) .. leftCap .. str .. rightCap .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end


function calign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == "table") and (not options == nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or "&lt;white&gt;"--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or "&lt;white&gt;"
  options.textColor = options.textColor or "&lt;white&gt;"--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
    
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap=====" 
  --"=====endcap some text pacdne====="
  --"=================endcap some text" 
  --"some text endcap================="
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne" 
  -- "endcap================= some text" 
  -- "some text =================endcap"
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end

function dalign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == "table") and (not options == nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or "&lt;255,255,255&gt;"--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or "&lt;255,255,255&gt;" 
  options.textColor = options.textColor or "&lt;255,255,255&gt;"--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
    
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap=====" 
  --"=====endcap some text pacdne====="
  --"=================endcap some text" 
  --"some text endcap================="
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne" 
  -- "endcap================= some text" 
  -- "some text =================endcap"
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end

function halign(str,options) --str is a string, options is a table
--[[ If they sent anything but a table as the second argument, return useful 
info. But if they didn't send a second argument then that's ok, the defaults 
will be enough to get by and just center the txt
]]--
  if (not type(options) == "table") and (not options == nil) then return "You call this with align(\"some text to format\", &lt;table of options&gt;. Pls check comments for what options and usage information" end 
  options = options or {} --if they sent options, don't overwrite them
  options.width = options.width or 80 --default line length of 80
  options.alignment = options.alignment or "center" --if we don't specify, it's centered
  options.cap = options.cap or "" --default endcap of nothing (an empty string, technically)
  options.spacer = options.spacer or " " --default spacer is.. well.. space
  options.inside = options.inside or false --by default, when centering, formation as spacers|cap|text|cap|spacers
  options.capColor = options.capColor or "|cFFFFFF"--by default, don't change the color of the caps
  options.spacerColor = options.spacerColor or "|cFFFFFF" 
  options.textColor = options.textColor or "|cFFFFFF"--or the text
  if not options.mirror == false then options.mirror = options.mirror or true end--by default, we do want to use mirroring for the caps
  local strLen = string.len(str)
  local leftCap = options.cap
  local rightCap = options.cap
  local leftPadLen = math.floor((options.width - strLen)/2,1) - 1
  local rightPadLen = leftPadLen + ((options.width - strLen)%2)
  local maxPad = 0
  local capLen = string.len(options.cap)
  if capLen &gt; leftPadLen then --if the cap is bigger than the left total padding
    options.cap = options.cap:sub(1, leftPadLen) -- trim it up right!
    capLen = string.len(options.cap)
  end --otherwise, don't mess with it

  
  if options.alignment == "center" then --we're going to center something
    leftPadLen = math.floor((options.width - strLen)/2,1) - 1 --get the padding needed on the left
    rightPadLen = leftPadLen + ((options.width - strLen)%2) --and on the right
    if options.mirror then --if we're reversing the left cap and the right cap (IE {{[[ turns into ]]}} )
      rightCap = string.gsub(rightCap, "&lt;", "&gt;")
      rightCap = string.gsub(rightCap, "%[", "%]")
      rightCap = string.gsub(rightCap, "{", "}")
      rightCap = string.gsub(rightCap, "%(", "%)")
      rightCap = string.reverse(rightCap)
    end --otherwise, they'll be the same, so don't do anything
    str = string.format(" %s ", str)
    
  elseif options.alignment == "right" then --we'll right-align the text
    leftPadLen = options.width - strLen - 1
    rightPadLen = 0
    rightCap = ""
    str = string.format(" %s", str)
    
  else --Ok, so if it's not center or right, we assume it's left. We don't do justified. Sorry.
    leftPadLen = 0
    rightPadLen = options.width - strLen -1
    leftCap = ""
    str = string.format("%s ", str)
  end--that's it, took care of both left, right, and center formattings, now to output the durn thing. 
  
  if options.inside then 
  --if we're placing the repated spacer inside
  --"=====endcap some text endcap=====" 
  --"=====endcap some text pacdne====="
  --"=================endcap some text" 
  --"some text endcap================="
    return options.capColor .. leftCap .. options.spacerColor.. string.rep(options.spacer, (leftPadLen - capLen)) .. options.textColor .. str .. options.spacerColor ..string.rep(options.spacer, (rightPadLen - capLen)) .. options.capColor .. rightCap
  else 
  --otherwise, it''s be the spaces on the 'inside'
  -- "endcap===== some text =====endcap"
  -- "endcap===== some text =====pacdne" 
  -- "endcap================= some text" 
  -- "some text =================endcap"
    return options.spacerColor .. string.rep(options.spacer, (leftPadLen - capLen)) .. options.capColor .. leftCap .. options.textColor .. str .. options.capColor .. rightCap .. options.spacerColor .. string.rep(options.spacer, (rightPadLen - capLen))
  end
end
 </script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>Geyser Additions</name>
								<packageName></packageName>
								<script>function Geyser.MiniConsole:clear()
   clearWindow(self.name)
end

function Geyser.MiniConsole:append()
  appendBuffer(self.name)
end</script>
								<eventHandlerList />
							</Script>
						</ScriptGroup>
						<ScriptGroup isActive="yes" isFolder="yes">
							<name>Tabbed Chat</name>
							<packageName></packageName>
							<script>--Do not remove the following lines. Or change them.
demonnic = demonnic or {}
demonnic.chat = demonnic.chat or {}
demonnic.chat.tabsToBlink = demonnic.chat.tabsToBlink or {}
demonnic.chat.config = demonnic.chat.config or {}
demonnic.chat.tabs = demonnic.chat.tabs or {}
demonnic.chat.windows = demonnic.chat.windows or {}
demonnic.chat.config.activeColors = demonnic.chat.config.activeColors or {}
demonnic.chat.config.inactiveColors = demonnic.chat.config.inactiveColors or {}</script>
							<eventHandlerList />
							<Script isActive="yes" isFolder="no">
								<name>Configuration Options</name>
								<packageName></packageName>
								<script>--[[
This is where all of the configuration options can be set. 
Anything I've put in this script object can be changed, but please do pay attention to what you're doing.
If you change one of the values to something it shouldn't be, you could break it. 
]]

--This is where you tell it to use tabbed chat.
demonnic.chat.use = true

--[[
The timestamp option is set here.
Set to false if you do not want any timestamps displayed for chat.
If you do want it displayed, set to the string for the format you wish. 
see http://wiki.mudlet.org/w/Manual:Lua_Functions#getTime for information
how to format the string "HH:mm:ss"
]]
demonnic.chat.config.timestamp = "HH:mm:ss"

--[[ Should we use our own colors for the timestamp?
Set to true if you want to specify foreground and background colors
for the timestamp.
Set to false if you want the timestamps background and foreground
colors to match that of the mud output.
]]
demonnic.chat.config.timestampCustomColor = false
--[[
and what foreground color? You can either use one of the 'named' colors
(see http://wiki.mudlet.org/images/c/c3/ShowColors.png for available colors)
demonnic.chat.config.timestampFG = "slate_grey"

Or you can use a table of R,G,B values. 
demonnic.chat.config.timestampFG = {
  255,
    0,
    0,
}
then the foreground for the timestamp would be 255 read, 100 green, and 0 blue
]]
demonnic.chat.config.timestampFG = "red"

--and background? Same rules as for the foreground above
demonnic.chat.config.timestampBG = "blue"

--[[
This is where you say what corner of the screen you want the tabbed chat on
Valid settings are "topright", "topleft", "bottomright", "bottomleft"
]]--
demonnic.chat.config.location = "topleft"

--[[
This is a table of channels you would like.
AKA the place you tell the script what tabs you want.
Each entry must be a string. The defaults should be a pretty effective guide.
]]

demonnic.chat.config.channels = {
  "All",
  "Circle",
  "Speech",
  "Shouts",
  "Ring",
  "Market",
  "Deaths",
  "Clans",
}


--Set this to the name of the channel you want to have everything sent to. 
--Per the default, this would be the "All" channel. If you have a different name for it:
--
--demonnic.chat.config.Alltab = "Bucket"  
--
--And if you don't want it turned on at all:
--
--demonnic.chat.config.Alltab = false

demonnic.chat.config.Alltab = "All"



---------------------------------------------------------------------------------
--                                                                             --
--The infamous blinking stuff!!!                                               --
--                                                                             --
---------------------------------------------------------------------------------

--[[
Do you want tabs to blink when you get new messages, until you click on the tab?
True if yes, false if no.
]]
demonnic.chat.config.blink = true

--How long (in seconds) between blinks? For example, 1 would mean a 1 second pause in between blinks.
demonnic.chat.config.blinkTime = 3

--Blink if the bucket tab ("All" by default, but configured above) is in focus?
demonnic.chat.config.blinkFromAll = false




--Font size for the chat messages

demonnic.chat.config.fontSize = calcFontSize(fontSize+ms.save["windows"]["chat"])

--[[
Should we preserve the formatting of the text. 
Or should we set the background of it to match the window color?
Set this to false if you want the background for all chat to match the background of the window.
Useful if you change the background from black, and don't like the way the pasted chat makes blocks in it
]]

demonnic.chat.config.preserveBackground = false

--[[
Gag the chat lines in the main window?
defaults to false, set to true if you want to gag.
]]

demonnic.chat.config.gag = false

--[[
Number of lines of chat visible at once. 
Will determine how tall the window for the chats is.
]]

demonnic.chat.config.lines = 20

--[[
Number of characters to wrap the chatlines at.
This will also determine how wide the chat windows are.
]]

demonnic.chat.config.width = 60

--[[
Set the color for the active tab. R,G,B format.
The default here is a brightish green
]]

demonnic.chat.config.activeColors = {
  r = 0,
  g = 180,
  b = 0,
}

--[[
Set the color for the inactive tab. R,G,B format.
The default here is a drab grey
]]

demonnic.chat.config.inactiveColors = {
  r = 60,
  g = 60,
  b = 60,
}

--[[
Set the color for the chat window itself. R,G,B format.
Defaulted to the black of my twisted hardened soul. Or something.
]]

demonnic.chat.config.windowColors = {
  r = 0,
  g = 0,
  b = 0,
}

--[[
Set the color for the text on the active tab. Uses color names.
Set the default to purple. So the tab you're looking at, by default will be purple on bright green. 
Did I mention I'm a bit colorblind?
]]

demonnic.chat.config.activeTabText = "purple"

--[[
Set the color for the text on the inactive tabs. Uses color names.
Defaulted this to white. So the tabs you're not looking at will be white text on boring grey background.
]]

demonnic.chat.config.inactiveTabText = "white"

--[[
have to make sure a currentTab is set... 
so we'll use the one for the bucket, or the first one in the channels table
Or, you know... what it's currently set to, if it's already set.
]]
demonnic.chat.currentTab = demonnic.chat.currentTab or demonnic.chat.config.Alltab or demonnic.chat.config.channels[1]
</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>Code</name>
								<packageName></packageName>
								<script>--[[
If the label callbacks ever decide to start taking a function which is part of a table, 0then this will change.
Or if it's modified to take actual functions. Anonymouse function clickcallback would be awfully nice.
]]

function demonnicChatSwitch(chat)
  local r = demonnic.chat.config.inactiveColors.r
  local g = demonnic.chat.config.inactiveColors.g
  local b = demonnic.chat.config.inactiveColors.b
  local newr = demonnic.chat.config.activeColors.r
  local newg = demonnic.chat.config.activeColors.g
  local newb = demonnic.chat.config.activeColors.b
  local oldchat = demonnic.chat.currentTab
  if demonnic.chat.currentTab ~= chat then
    demonnic.chat.windows[oldchat]:hide()
    demonnic.chat.tabs[oldchat]:setColor(r,g,b)
    demonnic.chat.tabs[oldchat]:echo(oldchat, demonnic.chat.config.inactiveTabText, "c")
    if demonnic.chat.config.blink and demonnic.chat.tabsToBlink[chat] then
      demonnic.chat.tabsToBlink[chat] = nil
    end
    if demonnic.chat.config.blink and chat == demonnic.chat.config.Alltab then
      demonnic.chat.tabsToBlink = {}
    end
  end
  demonnic.chat.tabs[chat]:setColor(newr,newg,newb)
  demonnic.chat.tabs[chat]:echo(chat, demonnic.chat.config.activeTabText, "c")
  demonnic.chat.windows[chat]:show()
  demonnic.chat.currentTab = chat  
end

function demonnic.chat:resetUI()
  demonnic.chat.container = Geyser.Container:new(demonnic.chat[demonnic.chat.config.location]())
  demonnic.chat.tabBox = Geyser.HBox:new({
    x=0,
    y=0,
    width = "100%",
    height = "25px",
    name = "DemonChatTabs",
  },demonnic.chat.container)

end

function demonnic.chat:create()
  --reset the UI
  demonnic.chat:resetUI()
  --Set some variables locally to increase readability
  local r = demonnic.chat.config.inactiveColors.r
  local g = demonnic.chat.config.inactiveColors.g
  local b = demonnic.chat.config.inactiveColors.b
  local winr = demonnic.chat.config.windowColors.r
  local wing = demonnic.chat.config.windowColors.g
  local winb = demonnic.chat.config.windowColors.b

  --iterate the table of channels and create some windows and tabs
  for i,tab in ipairs(demonnic.chat.config.channels) do
    demonnic.chat.tabs[tab] = Geyser.Label:new({
      name=string.format("tab%s", tab),
    }, demonnic.chat.tabBox)
    demonnic.chat.tabs[tab]:echo(tab, demonnic.chat.config.inactiveTabText, "c")
    demonnic.chat.tabs[tab]:setColor(r,g,b)
    demonnic.chat.tabs[tab]:setClickCallback("demonnicChatSwitch", tab)
    demonnic.chat.windows[tab] = Geyser.MiniConsole:new({
--      fontSize = demonnic.chat.config.fontSize,
      x = 0,
      y = 25,
      height = "100%",
      width = "100%",
      name = string.format("win%s", tab),
    }, demonnic.chat.container)
    demonnic.chat.windows[tab]:setFontSize(demonnic.chat.config.fontSize)
    demonnic.chat.windows[tab]:setColor(winr,wing,winb)
    demonnic.chat.windows[tab]:setWrap(demonnic.chat.config.width)
    demonnic.chat.windows[tab]:hide()
  end
  local showme = demonnic.chat.config.Alltab or demonnic.chat.config.channels[1]
  demonnicChatSwitch(showme)
  --start the blink timers, if enabled
  if demonnic.chat.config.blink and not demonnic.chat.blinkTimerOn then
    demonnic.chat:blink()
  end
end

function demonnic.chat:append(chat)
  local r = demonnic.chat.config.windowColors.r
  local g = demonnic.chat.config.windowColors.g
  local b = demonnic.chat.config.windowColors.b
  selectCurrentLine()
  local ofr,ofg,ofb = getFgColor()
  local obr,obg,obb = getBgColor()
  if demonnic.chat.config.preserveBackground then
    setBgColor(r,g,b)
  end
  copy()
  if demonnic.chat.config.timestamp then
    local timestamp = getTime(true, demonnic.chat.config.timestamp)
    local tsfg = {}
    local tsbg = {}
    local colorLeader = ""
    if demonnic.chat.config.timestampCustomColor then
      if type(demonnic.chat.config.timestampFG) == "string" then
        tsfg = color_table[demonnic.chat.config.timestampFG]
      else
        tsfg = demonnic.chat.config.timestampFG
      end
      if type(demonnic.chat.config.timestampBG) == "string" then
        tsbg = color_table[demonnic.chat.config.timestampBG]
      else
        tsbg = demonnic.chat.config.timestampBG
      end
      colorLeader = string.format("&lt;%s,%s,%s:%s,%s,%s&gt;",tsfg[1],tsfg[2],tsfg[3],tsbg[1],tsbg[2],tsbg[3])
    else
      colorLeader = string.format("&lt;%s,%s,%s:%s,%s,%s&gt;",ofr,ofg,ofb,obr,obg,obb)
    end
    local fullstamp = string.format("%s%s",colorLeader,timestamp)
      demonnic.chat.windows[chat]:decho(fullstamp)
      demonnic.chat.windows[chat]:echo(" ")
      if demonnic.chat.config.Alltab then 
        demonnic.chat.windows[demonnic.chat.config.Alltab]:decho(fullstamp)
        demonnic.chat.windows[demonnic.chat.config.Alltab]:echo(" ")
      end
  end
  demonnic.chat.windows[chat]:append()
  if demonnic.chat.config.gag then 
    deleteLine() 
    tempLineTrigger(1,1, [[if isPrompt() then deleteLine() end]])
  end
  if demonnic.chat.config.Alltab then appendBuffer(string.format("win%s", demonnic.chat.config.Alltab)) end
  if demonnic.chat.config.blink and chat ~= demonnic.chat.currentTab then 
    if (demonnic.chat.config.Alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end



function demonnic.chat:blink()
  if demonnic.chat.blinkID then killTimer(demonnic.chat.blinkID) end
  if not demonnic.chat.config.blink then 
    demonnic.chat.blinkTimerOn = false
    return 
  end
  for tab,_ in pairs(demonnic.chat.tabsToBlink) do
    demonnic.chat.tabs[tab]:flash()
  end
  demonnic.chat.blinkID = tempTimer(demonnic.chat.config.blinkTime, function () demonnic.chat:blink() end)
end

function demonnic.chat:topright()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=string.format("-%sc",demonnic.chat.config.width + 2),
    y=0,
    width="-15px",
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end

function demonnic.chat:topleft()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=0,
    y=0,
    width=string.format("%sc",demonnic.chat.config.width),
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end

function demonnic.chat:bottomright()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=string.format("-%sc",demonnic.chat.config.width + 2),
    y=string.format("-%sc",demonnic.chat.config.lines + 2),
    width="-15px",
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end

function demonnic.chat:bottomleft()
  return {
    fontSize = demonnic.chat.config.fontSize,
    x=0,
    y=string.format("-%sc",demonnic.chat.config.lines + 2),
    width=string.format("%sc",demonnic.chat.config.width),
    height=string.format("%ic", demonnic.chat.config.lines + 2),
  }
end</script>
								<eventHandlerList />
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>demonnicOnStart</name>
								<packageName></packageName>
								<script>function demonnicOnStart()
  if demonnic.chat.use then
    demonnic.chat:create()
  end
end</script>
								<eventHandlerList>
									<string>sysLoadEvent</string>
								</eventHandlerList>
							</Script>
							<Script isActive="yes" isFolder="no">
								<name>echo functions</name>
								<packageName></packageName>
								<script>
function demonnic.chat:cecho(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  cecho(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    cecho(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end

function demonnic.chat:decho(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  decho(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    decho(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end

function demonnic.chat:hecho(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  hecho(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    hecho(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end

function demonnic.chat:echo(chat, message)
  local alltab = demonnic.chat.config.Alltab
  local blink = demonnic.chat.config.blink
  echo(string.format("win%s",chat), message)
  if alltab and chat ~= alltab then 
    echo(string.format("win%s", alltab), message)
  end
  if blink and chat ~= demonnic.chat.currentTab then
    if (alltab == demonnic.chat.currentTab) and not demonnic.chat.config.blinkOnAll then
      return
    else
      demonnic.chat.tabsToBlink[chat] = true
    end
  end
end</script>
								<eventHandlerList />
							</Script>
						</ScriptGroup>
					</ScriptGroup>
				</ScriptGroup>
				<ScriptGroup isActive="yes" isFolder="yes">
					<name>deleteOldProfiles</name>
					<packageName>deleteOldProfiles</packageName>
					<script></script>
					<eventHandlerList />
					<Script isActive="yes" isFolder="no">
						<name>deleteOldProfiles</name>
						<packageName></packageName>
						<script>function deleteOldProfiles(keepdays_arg, delete_maps)

--[[
	Deletes old profiles/maps in the "current"/"map" folders of the Mudlet home directory.
	The following files are NOT deleted:
	- Files newer than the amount of days specified as an argument to deleteOldProfiles(), or 31 days if not specified.	
	- One file for every month before that. Specifically: The first available file of every month prior to this.
	Setting the second argument to true will delete maps instead of profiles. (e.g. deleteOldProfiles(10, true))
--]]

	local keepdays = tonumber(keepdays_arg) or 31
	local profile_table = {}
	local used_last_mod_months = {}
	local slash = (string.char(getMudletHomeDir():byte()) == "/") and "/" or "\\"
	local dirpath = getMudletHomeDir()..slash..(delete_maps and "map" or "current")
	local delnum = 0

	-- Traverse the profiles folder and create a table of files:
	for filename in lfs.dir(dirpath) do
		if filename~="." and filename~=".." then
			profile_table[#profile_table+1] = {name = filename, last_mod = lfs.attributes(dirpath..slash..filename, "modification")}
		end
	end

	-- Sort the table according to last modification date from old to new:
	table.sort(profile_table, function (a,b) return a.last_mod &lt; b.last_mod end)

	echo(string.format("\nDeleting old %s. Files newer than %d days and one profile for every month before that will be kept.", delete_maps and "maps" or "profiles", keepdays))
	for i,v in ipairs(profile_table) do
		local days = math.floor(os.difftime(os.time(), v.last_mod)/86400)
		local last_mod_month = os.date("%Y/%m", v.last_mod)
		if days &gt; keepdays then
			-- For profiles older than X days, check if we already kept a table for this month:
			if not table.contains(used_last_mod_months, last_mod_month) then
				-- If not, do nothing and mark this month as "kept".
				used_last_mod_months[#used_last_mod_months+1] = last_mod_month
			else
				-- Otherwise remove the file:
				local success, errorstring = os.remove(dirpath..slash..v.name)
				if success then
					delnum = delnum + 1
				else
					cecho("\n&lt;red&gt;ERROR: "..errorstring)
				end
			end
		end
	end
	echo(string.format("\nDeletion complete. %d/%d files were removed successfully.", delnum, #profile_table))
end
</script>
						<eventHandlerList />
					</Script>
				</ScriptGroup>
			</ScriptGroup>
		</ScriptGroup>
	</ScriptPackage>
	<KeyPackage>
		<KeyGroup isActive="yes" isFolder="yes">
			<name>MS</name>
			<packageName>MathiausUSB</packageName>
			<script></script>
			<command></command>
			<keyCode>0</keyCode>
			<keyModifier>0</keyModifier>
			<KeyGroup isActive="yes" isFolder="yes">
				<name>Key Bindings</name>
				<packageName>Mathiaus</packageName>
				<script></script>
				<command></command>
				<keyCode>16777220</keyCode>
				<keyModifier>0</keyModifier>
				<Key isActive="yes" isFolder="no">
					<name>F2 - Buff</name>
					<packageName></packageName>
					<script>expandAlias("tag")</script>
					<command></command>
					<keyCode>16777265</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F1 - Healing</name>
					<packageName></packageName>
					<script>if not healing then
	healing = true
	redosongs = true
	send("autocuring on", false)
	-- cph()
elseif healing then
	healing = false
	redosongs = false
	send("autocuring off", false)
	-- cpnh()
end</script>
					<command></command>
					<keyCode>16777264</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F3 - Kantae+Engage+Vivi</name>
					<packageName></packageName>
					<script>if ms.class["Deathknight"] then expandAlias("vivi") end
healing = false
redosongs = false
cpnh()
send("acof", false)
if ms.class["Bard"] then
send("sketchlink engage "..target..""..s.."hum chi yoth "..target..""..s.."queue eqbal hum kantae "..target)
kantae = true
elseif ms.class["Mage"] then send("queue eqbal cast decompose "..target)
elseif ms.class["Diabolist"] then
healing = false
redosongs = false
-- cpnh()
send("acof", false)
	send("queue eqbal trace wall ground")
	send("queue eqbal "..quickdraw("100445", ms.save["shield"])..""..s.."throw statue at ground")
	send("queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s.."demon catharsis "..target)
end
</script>
					<command></command>
					<keyCode>16777266</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F4 - Instant Kills</name>
					<packageName></packageName>
					<script>healing = false
redosongs = false
-- cpnh()
send("acof", false)
if ms.class["Bard"] then
	if not yothed then
	send("hum chi yoth "..target..""..s.."queue eqbal hum kantae "..target)
	kantae = true
	else
	send("queue eqbal hum kantae "..target)
	end
elseif ms.class["Mage"] then
	send("queue eqbal cast submersion at "..target)
elseif ms.class["Priest"] then
  send("queue eqbal "..quickdraw(ms.save["mace"], ms.save["shield"])..""..s.."judge "..target)
elseif ms.class["Shaman"] then
  send(f"queue eqbal brand {target} with grizzly swiftly{s}activate mark on {target}")
elseif ms.class["Summoner"] and marduk and ulb and marduk then
	send("queue eqbal unleash marduk at "..target)
elseif ms.class["Diabolist"] then
	send("queue eqbal "..quickdraw(ms.save["daegger"], ms.save["shield"])..""..s.."demon catharsis "..target)
elseif ms.class["Assassin"] or ms.class["Renegade"] then
	send("queue eqbal worm attach rashirmir"..s.."worm devour "..target)
elseif ms.class["Deathknight"] or ms.class["Runeguard"] or ms.class["Berserker"] or ms.class["Templar"] then
  send("queue eqbal "..quickdraw(ms.save["longsword"], ms.save["shield"])..""..s.."cleave "..target)
elseif ms.class["Defiler"] then
  send("queue eqbal torment "..target.." with arachnids")
  send("queue eqbal arachnids web "..target)
  send("queue eqbal "..quickdraw(ms.save["flail"], ms.save["shield"])..""..s.."behead "..target)
elseif ms.class["Hunter"] then
  if snare then
    send("queue eqbal bat invoke "..target)
    send("queue eqbal "..quickdraw("sword", ms.save["shield"])..""..s.."behead "..target)
  else
    send("queue eqbal bat snare")
    send("queue eqbal bat invoke "..target)
    send("queue eqbal "..quickdraw("sword", ms.save["shield"])..""..s.."behead "..target)
  end
end</script>
					<command></command>
					<keyCode>16777267</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F10 - Dmg/Water damage/Summoner damage/Infirmity</name>
					<packageName></packageName>
					<script>if ms.class["Bard"] then expandAlias("sd")
elseif ms.class["Mage"] then expandAlias("wdmg")
elseif ms.class["Summoner"] then expandAlias("sdmg")
elseif ms.class["Diabolist"] then 
	afHunt()
	checkDiabAf()
	affDiab()	
	if not cw then send("queue eqbal stare "..target.." infirmity") 
	else send("queue eqbal "..dht..""..s.."deadeyes "..target.." "..de1.." "..de2)
	end
end</script>
					<command></command>
					<keyCode>16777273</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F11 - Earth Damage/Group Damage/Shadowstrike</name>
					<packageName></packageName>
					<script>if ms.class["Bard"] then 
	expandAlias("gdmg") 
end

if ms.class["Mage"] then expandAlias("edmg") end

if ms.class["Summoner"] then expandAlias("ud") end

if ms.class["Diabolist"] then noheal() send("queue eqbal stand"..s.."strum lyre") end</script>
					<command></command>
					<keyCode>16777274</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F12 - Cruel Lament/Air Damage/Enlighten</name>
					<packageName></packageName>
					<script>if ms.class["Bard"] then expandAlias("cl")
elseif ms.class["Mage"] then expandAlias("admg")
elseif ms.class["Summoner"] then expandAlias("enlcmbo")
end

if ms.class["Diabolist"] and lich and not fiend then send("carve pentagram on body"..s.."queue eqbal summon nightmare")
elseif ms.class["Diabolist"] and ghast and not fiend then send("carve pentagram on body"..s.."queue eqbal summon daemonite")
elseif ms.class["Diabolist"] and (wight or ghoul) and not fiend then send("carve pentagram on body"..s.."queue eqbal summon daemonite")
elseif ms.class["Diabolist"] and not gravehands then send("gh")
elseif ms.class["Diabolist"] and not bloodworms then send("queue eqbal summon bloodworms")
end</script>
					<command></command>
					<keyCode>16777275</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F9 - Aff/Fire damage/Summoner afflictions</name>
					<packageName></packageName>
					<script>if ms.class["Bard"] then expandAlias("sf")
elseif ms.class["Mage"] then expandAlias("fdmg")
elseif ms.class["Summoner"] then expandAlias("taff")
elseif ms.class["Diabolist"] and (lich or ghoul) then expandAlias("eeaff")
elseif ms.class["Diabolist"] and ghast then expandAlias("eedmg")
elseif ms.class["Diabolist"] and wight then expandAlias("eemana")
end</script>
					<command></command>
					<keyCode>16777272</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>CTRL+B - Bash</name>
					<packageName></packageName>
					<script>if not bash then
bash = true
bashv = "true"
sys("Bash") cecho("&lt;green&gt;ON")
elseif bash then
bash = false
bashv = "false"
sys("Bash") cecho("&lt;red&gt;OFF")
end</script>
					<command></command>
					<keyCode>66</keyCode>
					<keyModifier>67108864</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>CTRL+R - Use Target</name>
					<packageName></packageName>
					<script>if not usetarget then
usetarget = true
usetargetv = "true"
sys("Use-Target") cecho("&lt;green&gt;ON")
else
usetarget = false
usetargetv = "false"
sys("Use-Target") cecho("&lt;red&gt;OFF")
end</script>
					<command></command>
					<keyCode>82</keyCode>
					<keyModifier>67108864</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>CTRL+T - Call Target</name>
					<packageName></packageName>
					<script>if not calltarget then
calltarget = true
calltargetv = "true"
sys("Call-Target") cecho("&lt;green&gt;ON")
else
calltarget = false
calltargetv = "false"
sys("Call-Target") cecho("&lt;red&gt;OFF")
end</script>
					<command></command>
					<keyCode>84</keyCode>
					<keyModifier>67108864</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F7 - Disharmony/Summon Demons</name>
					<packageName></packageName>
					<script>if ms.class["Bard"] then
if shield and slb and not rb then send("queue eqbal stand"..s.."sketchlink raze "..target..""..s.."sing disharmony "..target)
elseif shield then
	if not yothed then send("queue eqbal stand"..s.."hum chi yoth "..target.." daemos "..target)
	else send("queue eqbal stand"..s.."hum chi daemos "..target)
	end
elseif engage then send("queue eqbal stand"..s.."sketchlink engage "..target..""..s.."sing disharmony "..target)
else send("queue eqbal stand"..s.."sing disharmony "..target) end
end
--
if ms.class["Diabolist"] then
	expandAlias("sds")
end</script>
					<command></command>
					<keyCode>16777270</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>F8 - Throw Axe/Fire Damage/Enlighten/Sap</name>
					<packageName></packageName>
					<script></script>
					<command></command>
					<keyCode>0</keyCode>
					<keyModifier>0</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>CTRL+G - Guards</name>
					<packageName></packageName>
					<script>if not guard then
	guard = true
	enableAlias("Move Guard")
	sys("Guards") cecho("&lt;green&gt;ON")
else
	guard = false
	disableAlias("Move Guard")
	sys("Guards") cecho("&lt;red&gt;OFF")
end</script>
					<command></command>
					<keyCode>71</keyCode>
					<keyModifier>67108864</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>CTRL+L - Limb Breaker</name>
					<packageName></packageName>
					<script>if limbBreaker then
	limbBreaker = false
	sys("Limb Breaker") cecho("&lt;red&gt;Deactiviated")
else
	limbBreaker = true
	sys("Limb Breaker") cecho("&lt;green&gt;Activiated")
end</script>
					<command></command>
					<keyCode>76</keyCode>
					<keyModifier>67108864</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Report Damage</name>
					<packageName></packageName>
					<script>if rd == false or rd == nil then
rd = true
sys("Damage Report") cecho("&lt;green&gt;Reporting")
else
rd = false
sys("Damage Report") cecho("&lt;red&gt;Silenced")
end</script>
					<command></command>
					<keyCode>68</keyCode>
					<keyModifier>67108864</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>North</name>
					<packageName></packageName>
					<script></script>
					<command>n</command>
					<keyCode>56</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Northwest</name>
					<packageName></packageName>
					<script></script>
					<command>nw</command>
					<keyCode>55</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Northeast</name>
					<packageName></packageName>
					<script></script>
					<command>ne</command>
					<keyCode>57</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>West</name>
					<packageName></packageName>
					<script></script>
					<command>w</command>
					<keyCode>52</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>East</name>
					<packageName></packageName>
					<script></script>
					<command>e</command>
					<keyCode>54</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Southwest</name>
					<packageName></packageName>
					<script></script>
					<command>sw</command>
					<keyCode>49</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>South</name>
					<packageName></packageName>
					<script></script>
					<command>s</command>
					<keyCode>50</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Southeast</name>
					<packageName></packageName>
					<script></script>
					<command>se</command>
					<keyCode>51</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>In</name>
					<packageName></packageName>
					<script></script>
					<command>in</command>
					<keyCode>43</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Out</name>
					<packageName></packageName>
					<script></script>
					<command>out</command>
					<keyCode>45</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Up</name>
					<packageName></packageName>
					<script></script>
					<command>u</command>
					<keyCode>47</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
				<Key isActive="yes" isFolder="no">
					<name>Down</name>
					<packageName></packageName>
					<script></script>
					<command>d</command>
					<keyCode>42</keyCode>
					<keyModifier>536870912</keyModifier>
				</Key>
			</KeyGroup>
		</KeyGroup>
	</KeyPackage>
	<VariablePackage>
		<HiddenVariables />
	</VariablePackage>
</MudletPackage>
